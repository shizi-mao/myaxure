(function(){var kl={23128:function(ce,Z,c){"use strict";c.d(Z,{wx:function(){return I}});var a=c(9575),d=c(91520),b=c(95681),w=c.n(b),T=c(78646),y=c(13806),x=c(37890),A=c(26114),m=c(15066),L=c(27319),g;(function(ee){var oe=ee.Keys=["v","locked"],pe=ee.defaultProps={v:!0}})(g||(g={}));var E=function(ee){return ee[ee.Min=0]="Min",ee[ee.Center=1]="Center",ee[ee.Max=2]="Max",ee[ee.Stretch=3]="Stretch",ee[ee.Scale=4]="Scale",ee}({}),C=function(ee){return ee[ee.h=0]="h",ee[ee.v=1]="v",ee}({}),P;(function(ee){var oe=ee.defaultProps={h:E.Min,v:E.Min},pe=ee.defaultScaleProps={h:E.Scale,v:E.Scale}})(P||(P={}));var S;(function(ee){var oe=ee.defaultProps={locked:!1,exports:[],aspectRatio:!1}})(S||(S={}));var D;(function(ee){})(D||(D={}));var I;(function(ee){var oe=ee.Keys=["x","y","complex"];function pe(Ne,Be){var Ke=Ne.x,Ve=Ne.y,ht=Ne.complex;ht!==null?(Be.a=ht.a,Be.b=ht.b,Be.c=ht.c,Be.d=ht.d):(Be.a=1,Be.b=0,Be.c=0,Be.d=1),Be.x=Ke,Be.y=Ve}ee.parseInto=pe;function ve(Ne){var Be=Ne.x,Ke=Ne.y,Ve=new T.h,ht=Ne.complex;return ht!==null&&(Ve.a=ht.a,Ve.b=ht.b,Ve.c=ht.c,Ve.d=ht.d),Ve.x=Be,Ve.y=Ke,Ve}ee.parse=ve;function Pe(Ne){return{x:Ne.x,y:Ne.y,complex:Ne.complex}}ee.clone=Pe;function Re(Ne){return Ne.isTranslate()?{x:Ne.x,y:Ne.y,complex:null}:{x:Ne.x,y:Ne.y,complex:{a:Ne.a,b:Ne.b,c:Ne.c,d:Ne.d}}}ee.serialize=Re})(I||(I={}));var f=function(ee){return ee[ee.Alpha=1]="Alpha",ee[ee.Shape=2]="Shape",ee}({}),k;(function(ee){var oe=ee.Keys=["o","blend","shadows","blur","mask"],pe=ee.defaultProps={blend:x.b.PassThrough,blur:null,mask:null,o:1,shadows:[]}})(k||(k={}));var u=function(ee){return ee[ee.EvenOdd=0]="EvenOdd",ee[ee.NonZero=1]="NonZero",ee}({}),H;(function(ee){var oe=ee.emptyProps={fills:[],strokeFills:[],strokeShape:A.AZ.empty},pe=ee.defaultProps={strokeFills:[],fills:[y.wG.defaultGrey],strokeShape:A.AZ.empty}})(H||(H={}));var O;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)({},g.defaultProps),S.defaultProps),k.defaultProps)})(O||(O={}));var F;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({constraint:P.defaultProps},H.defaultProps),g.defaultProps),S.defaultProps),k.defaultProps),pe=ee.defaultStrokeFill={v:!0,type:y.Y_.Solid,color:L.I.gray255(151),blend:x.b.Normal}})(F||(F={}));var j;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({constraint:P.defaultProps},H.defaultProps),g.defaultProps),S.defaultProps),k.defaultProps),{},{strokeFills:[{type:y.Y_.Solid,color:L.I.gray255(151),v:!0,blend:x.b.Normal}],fills:[],strokeShape:A.AZ.default1Center})})(j||(j={}));var W;(function(ee){var oe=ee.defaultProps={start:0,sweep:1,ratio:0},pe=ee.Keys=["start","sweep","ratio"]})(W||(W={}));var V;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({constraint:P.defaultProps},H.defaultProps),{},{strokeShape:(0,d.Z)((0,d.Z)({},A.AZ.empty),{},{align:A.kl.Outside})},g.defaultProps),S.defaultProps),k.defaultProps),m.R3.defaultProps),{},{fills:[]})})(V||(V={}));var G;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)({constraint:P.defaultProps,clip:!1,layoutGrid:[],guides:[]},g.defaultProps),S.defaultProps),k.defaultProps)})(G||(G={}));var R;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)({},G.defaultProps),{},{previousParents:[]})})(R||(R={}));var z=function(ee){return ee[ee.text=0]="text",ee[ee.fills=1]="fills",ee[ee.shadows=2]="shadows",ee[ee.blur=3]="blur",ee[ee.grids=4]="grids",ee}({}),Y=function(ee){return ee[ee.local=0]="local",ee[ee.foreign=1]="foreign",ee[ee.published=2]="published",ee}({}),X;(function(ee){var oe=ee.ShapeKeysNotNeededByLeftPanel=["w","h","corner","x","y","complex"],pe=ee.ShapeKeys=["w","h","vector","corner"].concat((0,a.Z)(m.Ho.Keys),["combineType"],(0,a.Z)(W.Keys)),ve=ee.OtherKeys=["combinedType","clip"],Pe=ee.CanCopyProps=["strokeFills","fills","style","strokeShape"].concat((0,a.Z)(m.R3.Keys),["blend","blur","shadows","corner","o"])})(X||(X={}));var q={SIZE:["h","w"],NAME:["name"],STROKE:["strokeFills","strokeShape"],FILLS:["fills"],VISIBLE:["v"],TEXT:["paragraphs"],TEXT_STYLE:m.Ho.StyleKeys,SHADOWS:["shadows"],BLUR:["blur"],OTHER:["o","blend","locked","corner"]},_=w()(Object.values(q))},31588:function(ce,Z,c){"use strict";c.d(Z,{F8:function(){return w},WN:function(){return y},XW:function(){return T},_b:function(){return C},g6:function(){return E},je:function(){return g},nF:function(){return x}});var a=c(91520),d=c(9575),b=c(8159);function w(P,S,D,I){var f=D.current.getBoundingClientRect(),k=f.top,u=f.left,H=I.current.getBoundingClientRect(),O=H.top,F=H.left,j;if(u===F)S<Math.min(k,O)?j=k<O?0:100:S>Math.max(k,O)?j=k<O?100:0:j=Math.abs((S-k)/Math.abs(O-k)*100).toFixed(0);else if(k===O)P<Math.min(u,F)?j=u<F?0:100:P>Math.max(u,F)?j=u<F?100:0:j=Math.abs((P-u)/Math.abs(F-u)*100).toFixed(0);else{var W=(k-O)/(u-F),V=k-W*u,G=-1/W,R=S-G*P,z=(R-V)/(W-G),Y=Math.abs(u-F);z<Math.min(u,F)?j=u<F?0:100:z>Math.max(u,F)?j=u<F?100:0:j=Math.round(Math.abs(u-z)/Y*100)}return j}var T=function(S,D){var I=[];return S.map(function(f,k){var u=f[3],H=b.Il.toHexAndAlpha(f)[0],O={hex:H,alpha:u,point:D[k]};I.push(O)}),I},y=function(S,D,I){var f=[].concat((0,d.Z)(S),[I]).sort(function(R,z){return R-z}),k=f.findIndex(function(R){return R===I}),u=(0,d.Z)(D);if(k===0)u=[u[0]].concat((0,d.Z)(D));else if(k===u.length)u=[].concat((0,d.Z)(D),[u[u.length-1]]);else{u.splice(k,0,null);var H=Math.min(Math.max(k,f.length-1),0),O=Math.max(Math.min(k,0),f.length-1),F=u[H],j=u[O],W=f[H],V=f[O],G=(I-W)/(V-W||1);u[k]=[F[0]+(j[0]-F[0])*G,F[1]+(j[1]-F[1])*G,F[2]+(j[2]-F[2])*G,F[3]+(j[3]-F[3])*G]}return{nextColors:u,nextStops:f,index:k}},x=function(S){var D=(0,a.Z)((0,a.Z)({},S),{},{colors:(0,d.Z)(S.colors),stops:(0,d.Z)(S.stops)}),I=D.stops.map(function(f,k){return[f,D.colors[k]]});return I.sort(function(f,k){return f[0]-k[0]}),D.colors=I.map(function(f){return f[1]}),D.stops=I.map(function(f){return f[0]}),D},A=function(S,D){return Math.round(Number(S)*Math.pow(10,D))/Math.pow(10,D)},m=function(S,D,I,f){D===void 0&&(D=2),I===void 0&&(I=-1/0),f===void 0&&(f=1/0);var k=A(Math.min(Math.max(S,I),f),D);return isNaN(k)?0:k},L=function(S){return S.length===4?"rgba("+m(S[0]*255,0)+","+m(S[1]*255,0)+","+m(S[2]*255,0)+","+m(S[3])+")":"rgba(16,16,16,1)"},g=function(S){var D=S.colors,I=S.stops,f=S.complex,k=S.x,u=S.y,H=b.wx.parse({x:k,y:u,complex:f}),O=H.decompose().ro,F=O*180/Math.PI,j=H.apply(b.Sg.xy(0,0)),W=H.apply(b.Sg.xy(1,0)),V=b.Sg.xy(.5,.5),G=Math.abs(Math.sin(O))+Math.abs(Math.cos(O)),R=b.Sg.rotate(V,O,b.Sg.xy((1-G)/2,.5)),z=b.Sg.rotate(V,O,b.Sg.xy((1+G)/2,.5)),Y=b.x8.projectOnePoint2Line(j,[R,z]),X=b.Sg.dot(b.Sg.subtract(Y,R),b.Sg.subtract(z,R))>0?b.Sg.distance(Y,R)/G:-b.Sg.distance(Y,R)/G,q=b.x8.projectOnePoint2Line(W,[R,z]),_=b.Sg.dot(b.Sg.subtract(q,R),b.Sg.subtract(z,R))>0?b.Sg.distance(q,R)/G:-b.Sg.distance(q,R)/G,ee=I.map(function(oe,pe){var ve=(_-X)*oe+X;return L(D[pe])+" "+m(ve*100)+"%"});return"linear-gradient("+m(F+90)+"deg, "+ee.toString()+")"},E=function(S){var D=S.colors,I=S.stops,f=S.complex,k=S.x,u=S.y,H=f,O=H.a,F=H.b,j=H.c,W=H.d,V=new b.hB(O,F,j,W,0,0),G=V.apply(b.Sg.xy(1,1)),R=G.x,z=G.y,Y=I.map(function(X,q){return L(D[q])+" "+m(X*100)+"%"});return"radial-gradient("+Math.abs(R)+"% "+Math.abs(z)+"% at "+k*100+"% "+u*100+"%, "+Y.toString()+")"},C=function(S){return S===b.Y_.LinearGradient||S===b.Y_.RadialGradient||S===b.Y_.AngularGradient}},46486:function(ce,Z,c){"use strict";c.d(Z,{Sm:function(){return S},WX:function(){return I},XC:function(){return C},e7:function(){return P},k:function(){return D}});var a=c(61519),d=c(29442),b=c(21882),w=c(20018),T=c(85734),y=c.n(T),x=c(7485),A=c(26250),m=c.n(A),L=function(){return/(Macintosh)/i.test(navigator.userAgent)},g=new Map;function E(f){if(f){var k=g.get(f);if(k!==void 0)return k;var u=f.split("+");if(L()){var H=function(j){return j==="mod"?"\u2318":j==="alt"?"\u2325":j==="shift"?"\u21E7":j==="ctrl"?"\u2303":j==="backspace"?"\u232B":j==="del"?"Delete":j.charAt(0).toUpperCase()+j.slice(1)};k=u.map(H).join("")}else{var O=function(j){return j==="mod"?"Ctrl":j.toLowerCase()==="alt"?"Alt":j.toLowerCase()==="shift"?"Shift":j.toLowerCase()==="ctrl"?"Ctrl":j==="backspace"?"Backspace":j==="del"?"Delete":j.toLowerCase()==="return"?"Enter":j.charAt(0).toUpperCase()+j.slice(1)};k=u.map(O).join("+")}return g.set(f,k),k}}var C=(0,x.createContext)(void 0),P=function(f){return f[f.Normal=0]="Normal",f[f.Mode=100]="Mode",f[f.FloatingPanel=200]="FloatingPanel",f[f.Input=201]="Input",f[f.TextEditor=300]="TextEditor",f[f.BlockingPanel=400]="BlockingPanel",f}({}),S=function(){function f(){(0,d.Z)(this,f),(0,w.Z)(this,"keys",new Map),(0,w.Z)(this,"globalKeys",new Map),(0,w.Z)(this,"sheetsBound",new Set)}return(0,b.Z)(f,[{key:"createHandler",value:function(u,H){var O=this;return H===void 0&&(H=!1),function(F){return O.invoke(u,H)}}},{key:"invoke",value:function(u,H){H===void 0&&(H=!1);var O=H?this.globalKeys.get(u):this.keys.get(u);return O&&O.length>0?(O[0].keys[u](),!1):!0}},{key:"bind",value:function(u){if(u.isGlobal)for(var H=0,O=Object.entries(u.keys);H<O.length;H++){var F=(0,a.Z)(O[H],1),j=F[0],W=this.globalKeys.get(j);if(W)W.push(u),W.sort(function(_,ee){return ee.priority-_.priority});else{var V=this.createHandler(j,!0);m().bindGlobal(j,V),this.globalKeys.set(j,[u])}}else for(var G=0,R=Object.entries(u.keys);G<R.length;G++){var z=(0,a.Z)(R[G],1),Y=z[0],X=this.keys.get(Y);if(X)X.push(u),X.sort(function(_,ee){return ee.priority-_.priority});else{var q=this.createHandler(Y);m().bind(Y,q),this.keys.set(Y,[u])}}this.sheetsBound.add(u)}},{key:"unbind",value:function(u){u.isGlobal?this.globalKeys.forEach(function(H,O){y()(H,function(F){return F===u})}):this.keys.forEach(function(H,O){y()(H,function(F){return F===u})}),this.sheetsBound.delete(u)}},{key:"pause",value:function(){m().pause()}},{key:"unpause",value:function(){m().unpause()}}]),f}();function D(f){var k=(0,x.useContext)(C);return(0,x.useEffect)(function(){k.pause();var u=function(O){O.key==="Escape"&&!O.shiftKey&&!O.metaKey&&!O.ctrlKey&&!O.altKey&&(O.preventDefault(),f.dismiss())};return document.addEventListener("keydown",u),function(){k.unpause(),document.removeEventListener("keydown",u)}}),null}var I=(0,x.memo)(function(f){var k=(0,x.useContext)(C);return(0,x.useEffect)(function(){return k.bind(f.sheet),function(){k.unbind(f.sheet)}}),null})},56099:function(ce,Z,c){"use strict";c.d(Z,{w:function(){return V}});var a=c(91520),d=c(91452),b=c(53485),w=c(29442),T=c(21882),y=c(38899),x=c(68101),A=c(28535),m=c(20018),L=c(7485),g=c(89870),E=c(37771),C=c(34788),P=c.n(C),S=c(74934),D=c(90553),I=c(19130),f=c(9430),k=c(24455),u=c(70423),H=c(11685),O=c(98385),F=c(63748),j=c(83587),W=c(35269),V=function(q){(0,x.Z)(ee,q);var _=(0,A.Z)(ee);function ee(){var oe;(0,w.Z)(this,ee);for(var pe=arguments.length,ve=new Array(pe),Pe=0;Pe<pe;Pe++)ve[Pe]=arguments[Pe];return oe=_.call.apply(_,[this].concat(ve)),(0,m.Z)((0,y.Z)(oe),"handleHover",function(Re,Ne){var Be=oe.props.onHover;(0,u.tq)()||Be&&(Re.stopPropagation(),Re.preventDefault(),Be(Ne))}),(0,m.Z)((0,y.Z)(oe),"handlePointerDown",function(){if(!(0,u.tq)()){var Re=oe.props.onPointerDown;Re&&Re()}}),(0,m.Z)((0,y.Z)(oe),"createAnnotateRef",function(Re){return oe.$AnnotateRef=Re}),(0,m.Z)((0,y.Z)(oe),"handleClickOutSide",function(Re){var Ne=Re.target;if(oe.$AnnotateRef&&!oe.$AnnotateRef.contains(Ne)){var Be=oe.props.onClickOutSide;Be&&Be()}}),oe}return(0,T.Z)(ee,[{key:"render",value:function(){var pe=this,ve=this.props,Pe=ve.widget,Re=Pe.bind_widget_cid,Ne=Pe.order,Be=ve.isSelect,Ke=ve.isQuickAnnotate,Ve=ve.isDragCreateAnnotate,ht=ve.number,Ge=(0,F.zQ)(Ne);return(0,W.jsxs)(j.b,{className:P()(Be?"isSelect":"",{isQuickAnnotate:Ke}),ref:this.createAnnotateRef,onMouseEnter:function(St){return pe.handleHover(St,!0)},onMouseLeave:function(St){return pe.handleHover(St,!1)},onPointerDown:this.handlePointerDown,children:[(0,W.jsx)("span",{className:P()("annotate-number","digit-"+Ge),children:Ne||ht}),Re&&(0,W.jsx)(E.q,{name:"art_board/canvas/annotate/binding",className:"binding"}),Ve&&(0,W.jsx)("span",{className:"roundDot"}),(0,W.jsx)(E.q,{name:"art_board/canvas/annotate",className:"water-drop"}),(0,W.jsx)(f.Z,{target:document,onPointerDown:(0,f.Y)(this.handleClickOutSide,{capture:!0})})]})}}]),ee}(L.PureComponent),G=function(_,ee){var oe=(0,k.dAH)(_),pe=(0,k.gAr)(_),ve=ee.widget,Pe=oe.map(function(Be){var Ke=Be.cid;return Ke}),Re=Pe.includes(ve.cid),Ne=pe&&pe.name===H.l.Annotate;return{isSelect:Re,isQuickAnnotate:Ne}},R=(0,g.connect)(G)(V),z=function(q){(0,x.Z)(ee,q);var _=(0,A.Z)(ee);function ee(){return(0,w.Z)(this,ee),_.apply(this,arguments)}return(0,T.Z)(ee,[{key:"getTreeNodeStyle",value:function(pe){var ve=pe.props,Pe=ve.annotateShow,Re=ve.scale,Ne=pe.treeData.widget,Be=100/Re,Ke="scale("+Be+")",Ve=Pe?Ne.o/100:0,ht=Pe?"":"none";return(0,a.Z)((0,a.Z)({},(0,d.Z)((0,b.Z)(ee.prototype),"getTreeNodeStyle",this).call(this,pe)),{},{transform:Ke,opacity:Ve,pointerEvents:ht})}},{key:"renderWidgetContent",value:function(pe){var ve=pe.annotateShow;return ve?(0,W.jsx)(R,{widget:this.widget}):null}},{key:"renderLinkablePlaceHolder",value:function(){return null}}]),ee}(S.d),Y=function(q){(0,x.Z)(ee,q);var _=(0,A.Z)(ee);function ee(){return(0,w.Z)(this,ee),_.apply(this,arguments)}return(0,T.Z)(ee,[{key:"renderWidgetContent",value:function(){return null}}]),ee}(D.u),X=function(q){(0,x.Z)(ee,q);var _=(0,A.Z)(ee);function ee(){return(0,w.Z)(this,ee),_.apply(this,arguments)}return(0,T.Z)(ee,[{key:"renderWidgetContent",value:function(){var pe=this.widgetStore.widgetNode.cid===O.oT;return(0,W.jsx)(V,{widget:this.widget,isDragCreateAnnotate:pe})}}]),ee}(I.h);Z.Z=[z,Y,X]},79075:function(ce,Z,c){"use strict";c.d(Z,{Ex:function(){return H},bv:function(){return O}});var a=c(91520),d=c(38899),b=c(91452),w=c(53485),T=c(20018),y=c(29442),x=c(21882),A=c(68101),m=c(28535),L=c(7485),g=c(74934),E=c(90553),C=c(19130),P=c(24064),S=c(29048),D=c(79292),I=c(35565),f=c(70956),k=c(68517),u=c(35269),H=function(G){var R={};return G.fills&&(R.background=(0,k.iF)(G)),R},O=function(V){(0,A.Z)(R,V);var G=(0,m.Z)(R);function R(){return(0,y.Z)(this,R),G.apply(this,arguments)}return(0,x.Z)(R,[{key:"render",value:function(){var Y=this.props,X=Y.widget,q=Y.onMouseDown,_=Y.onCopy,ee=(0,P.NW)({widget:X}),oe=ee.minX,pe=ee.minY,ve=ee.maxX,Pe=ee.maxY,Re=(0,D.L3)(X),Ne=Re.lineColor,Be=Re.textPlaceHolder,Ke={lf:oe,lr:ve,lb:Pe,lt:pe},Ve=X.point?X.point:null,ht=!1;Ve&&Ve[0]&&Ve[0]>oe-20&&Ve[0]<ve+20&&(Ve[1]<pe||Ve[1]>Pe)&&(ht=!0);var Ge=!1,vt=!0;Ve&&(vt=oe>=Ve[0]),X.point||(vt=oe>160,ht=!1,Ge=!0);var St=!1;Ve&&Ve[0]>oe&&Ve[0]<ve&&Ve[1]>pe&&Ve[1]<Pe&&(St=!0);var wt,zt={},Wt=null,Lt={x:0,y:0},Nt={x:0,y:0},Gt=Ve&&(Ve[0]<oe||Ve[0]>ve)&&Ve[1]>pe+8&&Ve[1]<Pe-8,Kt=Ve&&(Ve[1]<pe||Ve[1]>Pe)&&Ve[0]>oe+8&&Ve[0]<ve-8,vr=Ve&&Ve[1]<pe,xt=Ve&&Ve[1]>Pe,Ee=Ve&&Ve[0]<oe,Le=Ve&&Ve[0]>ve;if(Ge){var Ae=(0,I.dv)({isLeftSticky:vt,side:Ke});wt=Ae.svgContainer,Wt=Ae.path,Lt=Ae.circleStart,Nt=Ae.circleEnd,zt=Ae.pointStyle}else if(St){var we=(0,I.hl)({originXY:Ve,side:Ke});wt=we.svgContainer,Wt=we.path,Lt=we.circleStart,Nt=we.circleEnd,zt=we.pointStyle}else if(Kt){var Ce=(0,I.Lr)({originXY:Ve,isLineTop:vr,isLineBottomn:xt,side:Ke});wt=Ce.svgContainer,Wt=Ce.path,Lt=Ce.circleStart,Nt=Ce.circleEnd,zt=Ce.pointStyle}else if(Gt){var Te=(0,I.OT)({originXY:Ve,isLineLeft:Ee,isLineRight:Le,side:Ke});wt=Te.svgContainer,Wt=Te.path,Lt=Te.circleStart,Nt=Te.circleEnd,zt=Te.pointStyle}else if(!St&&!ht&&!Kt&&!Gt){var Ie=(0,I.Al)({originXY:Ve,isLineLeft:Ee,side:Ke});wt=Ie.svgContainer,Wt=Ie.path,Lt=Ie.circleStart,Nt=Ie.circleEnd,zt=Ie.pointStyle}else if(!St&&ht&&!Kt&&!Gt){var Ue=(0,I.xk)({originXY:Ve,side:Ke});wt=Ue.svgContainer,Wt=Ue.path,Lt=Ue.circleStart,Nt=Ue.circleEnd,zt=Ue.pointStyle}var Oe=(0,f.VV)(X.text),ye=document.createElement("div");ye.innerHTML=Oe;var be=ye.innerText.trim()?Oe:'<p style="color: '+Be+'">'+I18N.SettingPanel.design.input_annotations+"</p>";return wt.pointerEvents="none",(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"text",dangerouslySetInnerHTML:{__html:be},onCopy:_}),(0,u.jsxs)("svg",{style:wt,xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:Wt,stroke:Ne,strokeWidth:"2",strokeLinecap:"round",fill:"transparent"}),(0,u.jsx)("circle",{cx:Lt.x,cy:Lt.y,r:"3",fill:Ne}),(0,u.jsx)("circle",{cx:Nt.x,cy:Nt.y,r:"3",fill:Ne,className:"stickyCircle"})]}),(0,u.jsx)("div",{style:zt,className:"point",onMouseDown:q})]})}}]),R}(L.PureComponent),F=function(V){(0,A.Z)(R,V);var G=(0,m.Z)(R);function R(){var z;(0,y.Z)(this,R);for(var Y=arguments.length,X=new Array(Y),q=0;q<Y;q++)X[q]=arguments[q];return z=G.call.apply(G,[this].concat(X)),(0,T.Z)((0,d.Z)(z),"handleMouseDown",function(_,ee){var oe=(0,d.Z)(z),pe=oe.widget,ve=ee||{scale:100},Pe=ve.scale;_.stopPropagation();var Re=_.clientX,Ne=_.clientY,Be=pe.point?pe.point:null;if(!pe.point){var Ke=(0,P.NW)({widget:pe}),Ve=Ke.minX,ht=Ke.minY,Ge=Ke.maxX,vt=Ve<160?Ge+35:Ve-35,St=ht+8;Be=[vt,St]}var wt=function(Lt){var Nt=Lt.clientX-Re,Gt=Lt.clientY-Ne,Kt=Nt/Pe*100,vr=Gt/Pe*100;pe.point=[Math.round(Be[0]+Kt),Math.round(Be[1]+vr)],MB.action("update:widgets",{widgets:[(0,a.Z)({},pe)],shouldBreakLeftUICache:!1})},zt=function Wt(){(0,S.v8)(pe,{screenMetaCid:pe.screen_cid,screenStateCid:pe.screenstate_cid}),document.removeEventListener("mousemove",wt),document.removeEventListener("mouseup",Wt)};document.addEventListener("mousemove",wt),document.addEventListener("mouseup",zt)}),z}return(0,x.Z)(R,[{key:"getTreeNodeStyle",value:function(Y){var X=Y.props.annotateShow,q=Y.treeData.widget,_=X&&q.v?q.o/100:0,ee=X&&q.v?"":"none";return(0,a.Z)((0,a.Z)({},(0,b.Z)((0,w.Z)(R.prototype),"getTreeNodeStyle",this).call(this,Y)),{},{opacity:_,pointerEvents:ee})}},{key:"style",get:function(){return Object.assign((0,b.Z)((0,w.Z)(R.prototype),"style",this),H(this.widget))}},{key:"renderWidgetContent",value:function(Y){var X=this,q=Y.annotateShow;return q?(0,u.jsx)(O,{widget:this.widget,onMouseDown:function(ee){return X.handleMouseDown(ee,Y)}}):null}},{key:"renderLinkablePlaceHolder",value:function(){return null}}]),R}(g.d),j=function(V){(0,A.Z)(R,V);var G=(0,m.Z)(R);function R(){return(0,y.Z)(this,R),G.apply(this,arguments)}return(0,x.Z)(R,[{key:"renderWidgetContent",value:function(){return null}}]),R}(E.u),W=function(V){(0,A.Z)(R,V);var G=(0,m.Z)(R);function R(){return(0,y.Z)(this,R),G.apply(this,arguments)}return(0,x.Z)(R,[{key:"style",get:function(){return Object.assign((0,b.Z)((0,w.Z)(R.prototype),"style",this),H(this.widget))}},{key:"renderWidgetContent",value:function(){return(0,u.jsx)(O,{widget:this.widget})}}]),R}(C.h);Z.ZP=[F,j,W]},27585:function(ce,Z,c){"use strict";c.d(Z,{A:function(){return ye},a:function(){return be}});var a=c(11685),d=c(12834),b=c(69586),w=c(6353),T=c(649),y=c(80891),x=c(854),A=c(75092),m=c(98363),L=c(40463),g=c(49073),E=c(18307),C=c(46888),P=c(35246),S=c(78661),D=c(32676),I=c(56757),f=c(54075),k=c(67812),u=c(96712),H=c(41235),O=c(37214),F=c(79075),j=c(73327),W=c(40702),V=c(79687),G=c(57814),R=c(60634),z=c(15693),Y=c(97103),X=c(16975),q=c(58753),_=c(16957),ee=c(45471),oe=c(78956),pe=c(43726),ve=c(27065),Pe=c(87958),Re=c(27894),Ne=c(27377),Be=c(3435),Ke=c(42181),Ve=c(95219),ht=c(38530),Ge=c(83117),vt=c(50580),St=c(91764),wt=c(47623),zt=c(5588),Wt=c(76194),Lt=c(37451),Nt=c(22749),Gt=c(87419),Kt=c(28521),vr=c(56642),xt=c(92056),Ee=c(95861),Le=c(53907),Ae=c(37446),we=c(19365),Ce=c(81915),Te=c(74744),Ie=c(22649),Ue=c(56099),Oe=c(84809),ye=function(ke){return ke[ke.design=0]="design",ke[ke.preview=1]="preview",ke[ke.snapshot=2]="snapshot",ke}({});function be(ke){var le=[ye.design,ye.preview,ye.snapshot].indexOf(ke),xe={[a.l.ScreenMeta]:d.ZP[le],[a.l.Group]:Lt.Z[le],[a.l.MTooltip]:b.Z[le],[a.l.TextField]:w.Z[le],[a.l.NavBar]:w.Z[le],[a.l.NavigationBar]:w.Z[le],[a.l.LegacyIphoneStatusBar]:T.Z[le],[a.l.LegacyIphoneXStatusBar]:T.Z[le],[a.l.LegacyIpadStatusBar]:T.Z[le],[a.l.Switch]:y.Z[le],[a.l.IOSSwitch]:y.Z[le],[a.l.CircleRect]:x.Z[le],[a.l.RoundedRect]:x.Z[le],[a.l.TextView]:x.Z[le],[a.l.LR]:A.Z[le],[a.l.TabBar]:A.Z[le],[a.l.Rectangle]:A.Z[le],[a.l.IOSStatusBar]:m.Z[le],[a.l.IPhoneXStatusBar]:L.Z[le],[a.l.AndroidStatusBar]:g.Z[le],[a.l.LegacyAndroidStatusBar]:E.Z[le],[a.l.MTextInput]:C.Z[le],[a.l.MTextArea]:P.Z[le],[a.l.MCheckBox]:S.Z[le],[a.l.MFileInput]:D.Z[le],[a.l.MRadioButton]:f.Z[le],[a.l.MSelect]:k.Z[le],[a.l.Button]:u.Z[le],[a.l.ButtonSolid]:u.Z[le],[a.l.HR]:H.Z[le],[a.l.Line]:O.Z[le],[a.l.AndroidSwitch]:j.Z[le],[a.l.TriangleB]:W.Z[le],[a.l.TriangleL]:W.Z[le],[a.l.Sticky]:F.ZP[le],[a.l.VideoView]:X.Z[le],[a.l.MapView]:pe.Z[le],[a.l.AndroidCheck]:q.Z[le],[a.l.AndroidRadio]:_.Z[le],[a.l.Webpage]:ee.Z[le],[a.l.TabItem]:ve.Z[le],[a.l.IconButton]:oe.Z[le],[a.l.SVGIconButton]:Pe.Z[le],[a.l.SVGIconPath]:Re.Z[le],[a.l.PG]:St.Z[le],[a.l.Arrow]:G.Z[le],[a.l.Audio]:ht.Z[le],[a.l.Video]:Ge.Z[le],[a.l.QRCode]:vt.Z[le],[a.l.Polygon]:wt.Z[le],[a.l.Star]:zt.Z[le],[a.l.Panel]:Wt.Z[le],[a.l.Chart]:Nt.Z[le],[a.l.Placeholder]:Ne.Z[le],[a.l.Carousel]:Be.Z[le],[a.l.Table]:Ve.Z[le],[a.l.ImageView]:Ke.Z[le],[a.l.VE]:R.Z[le],[a.l.UnifiedKeyboard]:z.Z[le],[a.l.IOSCheck]:Y.Z[le],[a.l.Label]:I.Z[le],[a.l.SearchBar]:V.Z[le],[a.l.RichText]:Gt.Z[le],[a.l.DigitalStepper]:Kt.Z[le],[a.l.PaginationMobile]:xt.Z[le],[a.l.PaginationWeb]:vr.Z[le],[a.l.Slider]:Ee.Z[le],[a.l.DropMenu]:Le.Z[le],[a.l.NavigationMenu]:Ae.Z[le],[a.l.NavigationMenuV]:Ae.Z[le],[a.l.NavigationMenuH]:Ae.Z[le],[a.l.Collapse]:we.Z[le],[a.l.SegmentedControl]:Ce.Z[le],[a.l.Tabs]:Ie.Z[le],[a.l.Annotate]:Ue.Z[le],[a.l.MobileTabBars]:Oe.Z[le],[a.l.SelectionControl]:Te.Z[le]};return function(je,We){return new xe[je](We)}}},43985:function(ce,Z,c){"use strict";c.d(Z,{Of:function(){return m},UC:function(){return g},o7:function(){return A}});var a=c(91520),d=c(64555),b=c(72005),w=c(35517),T=c(25797),y=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I){var f,k;return(0,d.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.prev=0,H.next=3,(0,T.EE)("/api/accesses/v4/project/"+I+"/permission_check?permission=P:update");case 3:return f=H.sent,k=f.result,H.abrupt("return",k);case 8:return H.prev=8,H.t0=H.catch(0),H.next=12,(0,w.Vz)(H.t0);case 12:case"end":return H.stop()}},D,null,[[0,8]])}));return function(I){return S.apply(this,arguments)}}(),x=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I){return(0,d.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,(0,T._Z)("/api/upper/web_v1/basics/"+I.cid,I);case 3:k.next=8;break;case 5:k.prev=5,k.t0=k.catch(0),console.warn(k.t0);case 8:case"end":return k.stop()}},D,null,[[0,5]])}));return function(I){return S.apply(this,arguments)}}(),A=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I,f){var k,u;return(0,d.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(O.prev=0,!f){O.next=7;break}return O.next=4,(0,T.EE)("/api/proto7/web_v1/project_share/"+I+"?access_token="+f);case 4:return k=O.sent,u=k.projectShare,O.abrupt("return",{projectShare:u});case 7:O.next=13;break;case 9:return O.prev=9,O.t0=O.catch(0),O.next=13,(0,w.Vz)(O.t0);case 13:case"end":return O.stop()}},D,null,[[0,9]])}));return function(I,f){return S.apply(this,arguments)}}(),m=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I){var f;return(0,d.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,T.IP)("/api/proto7/web_v1/project_share/"+I.cid,{project_share:I});case 3:return f=u.sent,u.abrupt("return",f);case 7:return u.prev=7,u.t0=u.catch(0),u.next=11,(0,w.Vz)(u.t0);case 11:case"end":return u.stop()}},D,null,[[0,7]])}));return function(I){return S.apply(this,arguments)}}(),L=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I){var f,k;return(0,d.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,T.EE)("/api/upper/web_v1/basics/dashboard/"+I);case 2:return f=H.sent,k=f.screen_metas,H.abrupt("return",{screenMetaList:k});case 5:case"end":return H.stop()}},D)}));return function(I){return S.apply(this,arguments)}}(),g=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I){var f;return(0,d.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return f=I.projectCid,u.prev=1,u.next=4,(0,T.EE)("/api/proto7/web_v1/project_share/"+f+"/all");case 4:return u.abrupt("return",u.sent);case 7:return u.prev=7,u.t0=u.catch(1),u.next=11,(0,w.Vz)(u.t0);case 11:case"end":return u.stop()}},D,null,[[1,7]])}));return function(I){return S.apply(this,arguments)}}(),E=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I){var f,k,u,H,O;return(0,d.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return f=I.projectCid,k=I.accessToken,j.prev=1,j.next=4,(0,T.EE)("/api/proto7/web_v1/project_share/"+f+"?access_token="+k);case 4:return u=j.sent,H=u.projectShare,O=u.projectBasicToken,j.abrupt("return",{sharings:H,projectBasicToken:O});case 10:return j.prev=10,j.t0=j.catch(1),j.next=14,(0,w.Vz)(j.t0);case 14:case"end":return j.stop()}},D,null,[[1,10]])}));return function(I){return S.apply(this,arguments)}}(),C=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I){var f,k;return(0,d.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return f=I.projectCid,k=I.sharing,H.prev=1,H.next=4,(0,T.Gf)("/api/proto7/web_v1/project_share/"+f,(0,a.Z)({},k));case 4:return H.abrupt("return",H.sent);case 7:return H.prev=7,H.t0=H.catch(1),H.next=11,(0,w.Vz)(H.t0);case 11:case"end":return H.stop()}},D,null,[[1,7]])}));return function(I){return S.apply(this,arguments)}}(),P=function(){var S=(0,b.Z)((0,d.Z)().mark(function D(I){var f,k;return(0,d.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return f=I.projectCid,k=I.projectShareCid,H.prev=1,H.next=4,(0,T.Bh)("/api/proto7/web_v1/project_share/"+k+"?project_cid="+f);case 4:return H.abrupt("return",H.sent);case 7:return H.prev=7,H.t0=H.catch(1),H.next=11,(0,w.Vz)(H.t0);case 11:case"end":return H.stop()}},D,null,[[1,7]])}));return function(I){return S.apply(this,arguments)}}();Z.ZP={checkSharingPermission:y,updateSharingProject:x,requestProjectShare:A,updateCurrentProjectShare:m,requestProjectBasicScreenMetaList:L,deleteSharing:P,addNewSharing:C,getAllSharings:g,getAllSharingsWithoutPermissionCheck:E}},41768:function(ce,Z,c){"use strict";c.d(Z,{AI:function(){return u},Fv:function(){return k},I3:function(){return D},Py:function(){return A},YE:function(){return T},_D:function(){return y},eF:function(){return g},gk:function(){return W},kj:function(){return m},ou:function(){return H},vL:function(){return f},yM:function(){return V},zt:function(){return I}});var a=c(61519),d=c(3954),b={iphone:0,android:1,ipad:2,web:3,apple_watch:4,smart_car:5,customize:6},w=Object.entries(d).map(function(z){var Y=(0,a.Z)(z,2),X=Y[0],q=Y[1];return{device:X,modalList:Object.entries(q).map(function(_){var ee=(0,a.Z)(_,2),oe=ee[0],pe=ee[1],ve=pe.name,Pe=pe.width,Re=pe.height,Ne=pe.hide;return{name:ve,width:Pe,height:Re,hide:Ne,key:oe}})}}).sort(function(z,Y){return b[z.device]-b[Y.device]}),T=Object.entries(d).reduce(function(z,Y){var X=(0,a.Z)(Y,2),q=X[0],_=X[1];return Object.assign(z,Object.entries(_).reduce(function(ee,oe){var pe=(0,a.Z)(oe,2),ve=pe[0],Pe=pe[1],Re=Pe.name,Ne=Pe.width,Be=Pe.height,Ke=Pe.hide;return Object.assign(ee,{[ve]:{name:Re,width:Ne,height:Be,device:q,hide:Ke}})},{Android:{name:"Android",width:360,height:640,device:"android"}}))},{}),y=["iphone_8","iphone_8_plus","google_pixel_2","mac_book_pro","imac","iphone_12_pro_max","iphone_12_pro","iphone_se"],x="light",A="dark",m={grid_size:10,theme:x},L="#ffffff",g={h:20,v:10},E={row:{count:0,gutter:20,size:144},col:{count:4,gutter:20,size:0}},C="rgba(41, 141, 248, 0.24)",P="screen-history-onLeave-project",S=!!Number(sessionStorage.getItem("inClowdz")),D={light:"rgba(245, 245, 245, 1)",dark:"rgba(21, 21, 21, 1)"},I=[20,30,50,75,80,90,100,120,150,200,300,400],f=I[0],k=I[I.length-1],u=300,H=300,O=16,F=111,j=98,W=380,V=36,G=250,R=230},88468:function(ce,Z,c){"use strict";c.d(Z,{C2:function(){return x},SW:function(){return A},Tk:function(){return y},To:function(){return m},WB:function(){return L},Zv:function(){return g},eB:function(){return w},n$:function(){return E},pY:function(){return C},rU:function(){return a},xm:function(){return S},yE:function(){return P},yv:function(){return T}});var a;(function(D){var I=D.TYPE={screen_link:1,state_link:2,panel_link:3,widget_link:4,hyperlink:5,scroll_link:6,visibility_link:7,screen_link_from_dynamic_panel:8,state_link_from_dynamic_panel:9},f=D.TRANSITION_TYPE={none_action_transition:0,default_action_transition:1},k=D.ANIMATION_DURATION={none_animation:"0s",default_animation:"0.2s"},u=function(H){return H[H.hide=0]="hide",H[H.show_mark=1]="show_mark",H[H.show_mark_and_line=2]="show_mark_and_line",H}({});D.displaySetting=u})(a||(a={}));var d=[a.TYPE.panel_link,a.TYPE.scroll_link,a.TYPE.visibility_link];function b(D){var I=a.TRANSITION_TYPE,f=I.none_action_transition,k=I.default_action_transition,u=a.ANIMATION_DURATION,H=u.none_animation,O=u.default_animation,F={[f]:H,[k]:O};return F[D]}var w="prev",T="KEEP_STATE",y="PREV_LINKED_STATE",x="FIRST_STATE",A="LAST_STATE",m="PREV_STATE",L="NEXT_STATE",g=[T,x,A],E=[x,A,m,L,y],C=[x,A,m,L],P=["inPage","newTab"],S="CURRENT_WIDGET"},37054:function(ce,Z,c){"use strict";c.d(Z,{G:function(){return E}});var a=c(91520),d=c(9575),b=c(29442),w=c(21882),T=c(20018),y=c(27444),x=c(65244),A=c(11685),m=c(77506),L=c(14730),g=c(63748),E=function(){function C(P,S){(0,b.Z)(this,C),(0,T.Z)(this,"panelCacheSet",new Set),this._itemSelector=P,this._nodeFactory=S,this.nodeMap=new Map,this.linkMap=new Map,this.linkDataMap=new Map,this.fontsInUse=new Set,this.linkList=[],this.annotateBindMap=new Map}return(0,w.Z)(C,[{key:"buildWidgetTree",value:function(S,D){this.cacheMap={},this.buildCache(S,D,!1);var I=this.cacheMap[S+"-"+D];this.widgetNode=this.build(S,null,I)}},{key:"buildLinkList",value:function(S){for(var D=this,I=[S],f=[],k=[];I.length;){var u=I.pop(),H=u.links.concat(u.innerLinks);H.length&&(k.push(u),f.push.apply(f,(0,d.Z)(H)),H.forEach(function(O){D.linkMap.set(O.cid,O)})),I.push.apply(I,(0,d.Z)(u.children))}return this.hasLinkNodeList=k,this.linkList=f,f}},{key:"getLinkData",value:function(S){return this.linkDataMap.get(S)}},{key:"getLinkNode",value:function(S){return this.linkMap.get(S)}},{key:"getLinkByWidgetCid",value:function(S){var D=[];return this.linkDataMap.forEach(function(I){I.widget_cids===S&&D.push(I)}),D}},{key:"getNode",value:function(S){if(typeof S=="string")return this.nodeMap.get(S);var D=S[0],I=this.nodeMap.get(D);return I.childrenByRef(S)}},{key:"getWidget",value:function(S){return this.nodeMap.get(S).widget}},{key:"applyChanges",value:function(S){var D=this,I=new Map;S.forEach(function(f){if(x.RI.willBreakLink(f)){var k=D.nodeMap.get(f==null?void 0:f.cid);k==null||k.collectUpdatedLinks(I)}}),I.size&&this.updateLinks(I)}},{key:"updateWidgets",value:function(S){var D=this,I=this.widgetNode.dup();S.forEach(function(k){var u=D.nodeMap.get(k.cid),H=u.dup();for(D.nodeMap.set(H.cid,H),H.widget=k;H.parent;){var O=H.parent.dup();D.nodeMap.set(O.cid,O),O.children=(0,y.Up)(O.children,function(F){return F.cid===H.cid},H).sort(function(F,j){return F.widget.z-j.widget.z}),H=O}I=H});var f=new Map;return I.children.forEach(function(k,u){k!==D.widgetNode[u]&&k.collectUpdatedLinks(f)}),f.size&&this.updateLinks(f),this.widgetNode=I}},{key:"replaceSymbolTree",value:function(S,D,I){this.buildCache(D,I,!1);var f=this.build(D,S,this.cacheMap[D+"-"+I],[S]),k=this.nodeMap.get(S).dup();for(k.children=[f],this.nodeMap.set(k.cid,k);k.parent;){var u=k.parent.dup();this.nodeMap.set(u.cid,u),u.children=(0,y.Up)(u.children,function(H){return H.cid===k.cid},k).sort(function(H,O){return H.widget.z-O.widget.z}),k=u}this.widgetNode=k}},{key:"updateLinks",value:function(S){var D=this,I=(0,d.Z)(this.linkList);I.forEach(function(f,k){S.has(f.ref)&&(I[k]=S.get(f.ref),D.linkMap.set(f.cid,f))}),this.linkList=I}},{key:"build",value:function(S,D,I,f){var k=this;f===void 0&&(f=[]);var u=I.widgetMap,H=I.childMap,O=u[S],F=this._nodeFactory(O.name,this),j=f.length===0?S:[].concat((0,d.Z)(f),[S]);if(F.cid=S,F.ref=j,F.parentRef=D,F.widget=O,F.type=O.name,F.type===m.Jq.panel){var W=this._itemSelector.getSymbolPathData(O),V=W.screenMetaCid,G=W.screenStateCid,R=this.cacheMap[V+"-"+G];if(R){var z=this.build(V,F.ref,R,[].concat((0,d.Z)(f),[F.cid]));F.children=[z]}else F.children=[]}else F.children=(H[S]||[]).map(function(Y){return k.build(Y,F.ref,I,f)}).filter(function(Y){return Y.valid}).sort(function(Y,X){return Y.widget.z-X.widget.z});return F.valid&&this.nodeMap.set(S,F),F.type in m.Bn&&(this.fontsInUse=new Set([].concat((0,d.Z)(this.fontsInUse),(0,d.Z)((0,L.QT)(F.widget))))),F}},{key:"buildCache",value:function(S,D,I,f){var k=this;I===void 0&&(I=!0),f===void 0&&(f=new Set);var u=function F(j,W,V,G){if(V===void 0&&(V=!0),G===void 0&&(G=new Set),!(V&&k.cacheMap[j+"-"+W])){var R=k._itemSelector.getScreenMetaByCid(j),z=k._itemSelector.queryItemList(j,W);if(z&&R){var Y={[j]:(0,a.Z)((0,a.Z)({},R),{},{screenStateCid:W,name:"screen_meta",display_name:R.name,left:0,top:0,ro:0,v:!0,o:100})},X={},q=[];z.forEach(function(ee){if(ee.name===A.l.RichText){var oe=ee,pe=oe.text;if(!Array.isArray(pe))return}if(ee.name===A.l.Link)q.push(ee);else{if(ee.name===A.l.Panel){if(k.panelCacheSet.has(ee.cid))return;var ve=k._itemSelector.getSymbolPathData(ee),Pe=ve.screenMetaCid,Re=ve.screenStateCid,Ne=Pe+"-"+Re;if(G.has(Ne))return;var Be=new Set(G);Be.add(Ne),q=q.concat(F(Pe,Re,!0,Be)),X[ee.cid]=ee}Y[ee.cid]=ee}});var _={[j]:[]};return Object.values(Y).forEach(function(ee){if(ee.cid!==j)if(Y[ee.gid]){var oe;_[oe=ee.gid]||(_[oe]=[]),_[ee.gid].push(ee.cid)}else _[j].push(ee.cid)}),Object.keys(X).forEach(function(ee){return k.panelCacheSet.add(ee)}),k.cacheMap[j+"-"+W]={widgetMap:Y,childMap:_,symbolMap:X},Object.values(X).forEach(function(ee){var oe=ee,pe=oe.screen_meta_cid,ve=oe.screen_state_cid;q=q.concat(F(pe,ve,!0,G))}),q}}},H=u(S,D,I,f).filter(function(F){return!!F}),O=function(j){var W=k.linkDataMap,V=k.cacheMap[S+"-"+D].symbolMap,G=[];Object.values(k.cacheMap).forEach(function(R){var z=R.widgetMap;G.push.apply(G,(0,d.Z)(Object.values(z)))}),j.forEach(function(R){k._itemSelector.checkIsValidLink(R,V,G)?W.set(R.cid,R):W.delete(R.cid)})};O(H)}},{key:"buildAnnotateList",value:function(S){for(var D=[S],I=new Map;D.length;){var f=D.pop();f.type===A.l.Annotate&&I.set(f.cid,f.widget),D.push.apply(D,(0,d.Z)(f.children))}var k=C.setAnnotateList(I),u=(0,g.Lx)(k);return this.updateAnnotateBindMap(k),{annotateSortList:k,annotateData:u}}},{key:"getAnnotateBindCids",value:function(S){return this.annotateBindMap.get(S)}},{key:"updateAnnotateBindMap",value:function(S){var D=new Map;S.forEach(function(I){if(I.bind_widget_cid){var f=D.get(I.bind_widget_cid);if(f)f.add(I.cid),D.set(I.bind_widget_cid,f);else{var k=new Set;k.add(I.cid),D.set(I.bind_widget_cid,k)}}}),this.annotateBindMap=D}}],[{key:"setAnnotateList",value:function(S){return(0,d.Z)(S.values()).sort(function(D,I){return D.ctime-I.ctime})}}]),C}()},98385:function(ce,Z,c){"use strict";c.d(Z,{i5:function(){return a},oT:function(){return d}});var a=function(y){return y.landscape="landscape",y.portrait="portrait",y.folder="folder",y}({}),d="dummy-screen-meta-cid",b="dummy-screen-state-cid",w="dummy-screen-glue-cid",T={cid:d,name:"screen_meta",screen_glue_cid:w,width:390,height:844,orientation:a.portrait}},72324:function(ce,Z,c){"use strict";c.d(Z,{_:function(){return d},s:function(){return a}});var a=function(b){return b.GUIDE_PAGE_STATE="pageState",b.GUIDE_WIDGET_STATE="widgetState",b.GUIDE_TRASH_TIP="trashTip",b.GUIDE_VIDEO_TIP="videoTip",b.GUIDE_TOURIST_MORE="touristMore",b.GUIDE_VERSIONS="versioins",b.GUIDE_DEGREE="GUIDE_DEGREE",b.GUIDE_TOOLBAR_TRASH="GUIDE_TOOLBAR_TRASH_6",b.GUIDE_TOOLBAR_CENTER_SAVE="GUIDE_TOOLBAR_CENTER_SAVE",b.GUIDE_TOOLBAR_EXPORT_TO_ABOARD="guide_toolbar_export_to_aboard",b.GUIDE_TOOLBAR_EXPORT_TO_ABOARD_CLOSE="guide_toolbar_export_to_aboard_close",b.GUIDE_RESOURCES_SHOW="GUIDE_RESOURCES_SHOW",b.GUIDE_RESOURCES_PANEL_V7="guide_resources_panel_v7",b.GUIDE_QUICK_GET_START="GUIDE_QUICK_GET_START",b.GUIDE_SHORT_CUT_PANEL="GUIDE_SHORT_CUT_PANEL",b.GUIDE_FIRST_CLOSE_DAILY_TIPS="GUIDE_FIRST_CLOSE_DAILY_TIPS",b.GUIDE_ANNOTATE_BIND="guide_annotate_bind",b.GUIDE_ANNOTATE_EDIT="guide_annotate_edit",b.GUIDE_PREVIEW_ADD_COMMENT="guide_preview_add_comment",b.GUIDE_GRID_ABTEST="guide_grid_abtest",b.GUIDE_POPUP_PANEL="guide_popup_panel",b.WIDGET_BUILTIN_PANEL="widget_builtin_panel",b.WIDGET_USER_PANEL="widget_user_panel",b.WIDGET_ORG_PANEL="widget_org_panel",b.IMAGE_PANEL="image_panel",b.PAGE_PANEL="page_panel",b.GUIDE_SEARCH_RESOURCES_DETAILS="guide_search_resources_details",b.GUIDE_PAGE_CHARACTERISTIC="guide_page_characteristic",b.GUIDE_IMAGE_SLICING="guide_image_slicing",b.GUIDE_AUTO_FILL="guide_auto_fill",b.GUIDE_IMAGE_RESOURCE="guide_image_resource",b.GUIDE_GRADIENT_FILL="guide_gradient_fill",b.GUIDE_RULER_V1="guide_ruler_v1",b.GUIDE_LINK_1="guide_link_1",b.GUIDE_LINK_2="guide_link_2",b.GUIDE_LINK_3="guide_link_3",b.GUIDE_LINK_4="guide_link_4",b.GUIDE_MARKET_SCREEN="guide_market_screen",b}({}),d;(function(b){var w=function(x){return x.GUIDE_SHOW_TASK_LIST="GUIDE_SHOW_TASK_LIST",x.GUIDE_CREATE_COMPONENT_TASK="GUIDE_CREATE_COMPONENT_TASK",x.GUIDE_INTERACTION_TASK="GUIDE_INTERACTION_TASK",x.GUIDE_PREVIEW_TASK="GUIDE_PREVIEW_TASK",x.GUIDE_SHARE_TASK="GUIDE_SHARE_TASK",x.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW="GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW",x}({});b.TaskListGuideKey=w;var T=function(x){return x.GUIDE_CREATE_COMPONENT_TASK_BIND="guide_create_component_task_bind",x.GUIDE_INTERACTION_TASK_BIND="guide_interaction_task_bind",x.GUIDE_PREVIEW_TASK_BIND="guide_preview_task_bind",x.GUIDE_SHARE_TASK_BIND="guide_share_task_bind",x.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW_BIND="guide_click_back_design_in_preview_bind",x}({});b.TaskListGuideBindClass=T;var y=function(x){return x.FLAG_SHOW_TASK_LIST="FLAG_SHOW_TASK_LIST",x.FLAG_HIDE_TASK_LIST="FLAG_HIDE_TASK_LIST",x.FLAG_TASK_LIST_COMPLETE="FLAG_TASK_LIST_COMPLETE",x.FLAG_OPEN_TASK_LIST_GUIDE_MODAL="FLAG_OPEN_TASK_LIST_GUIDE_MODAL",x.FLAG_CLOSE_TASK_LIST_GUIDE_MODAL="FLAG_CLOSE_TASK_LIST_GUIDE_MODAL",x.FLAG_CLOSE_HIDE_TASK_LIST_CONFIRM_MODAL="FLAG_CLOSE_HIDE_TASK_LIST_CONFIRM_MODAL",x.FLAG_OPEN_TASK_LIST_RECEIVED_COUPON_MODAL="FLAG_OPEN_TASK_LIST_RECEIVED_COUPON_MODAL",x.FLAG_CHECK_TASK_LIST_RECEIVED_COUPON="FLAG_CHECK_TASK_LIST_RECEIVED_COUPON",x.FLAG_CLOSE_TASK_LIST_RECEIVED_COUPON_MODAL="FLAG_CLOSE_TASK_LIST_RECEIVED_COUPON_MODAL",x.FLAG_DRAG_COMPONENT="FLAG_DRAG_COMPONENT",x.FLAG_DRAG_DESIGN_LINK="FLAG_DRAG_DESIGN_LINK",x.FLAG_CLICK_PREVIEW="FLAG_CLICK_PREVIEW",x.FLAG_CLICK_SHARE_IN_PREVIEW="FLAG_CLICK_SHARE_IN_PREVIEW",x.FLAG_CLICK_SHARE_IN_DESIGN="FLAG_CLICK_SHARE_IN_DESIGN",x.FLAG_GET_COUPON_SUCCESS="FLAG_GET_COUPON_SUCCESS",x.FLAG_GET_COUPON_FAIL="FLAG_GET_COUPON_FAIL",x}({});b.TaskListFlag=y})(d||(d={}))},14974:function(ce,Z,c){"use strict";c.d(Z,{B:function(){return b},I:function(){return w}});var a=c(45090),d=c(66636),b=(0,a.default)(d.Z).withConfig({displayName:"styles__StyledLoginModal",componentId:"sc-1gfow3q-0"})(["&.login-modal{width:424px;overflow:hidden;height:638px;border-radius:8px;header{display:none;}.content{height:100%;padding:0;iframe{width:100%;height:100%;border:0;}}}"]),w=(0,a.default)(d.Z).withConfig({displayName:"styles__StyledLoginModal4WS",componentId:"sc-1gfow3q-1"})(["&.login-modal{width:500px;overflow:hidden;height:633px;border-radius:10px;header{display:none;}.content{height:100%;padding:0;iframe{width:100%;height:100%;border:0;}}}"])},58057:function(ce,Z,c){"use strict";c.d(Z,{$s:function(){return u},D:function(){return E},Dm:function(){return k},FJ:function(){return f},Qu:function(){return D},Tf:function(){return P},bO:function(){return S},rt:function(){return m},yR:function(){return g}});var a=c(91520),d=c(21586),b=c(68951),w=function(F,j){var W=F.getLocalScreenRuntimeStateListByScreenGlueCid(j.cid),V=W.length>1,G=Object.keys(W[0].dataMap).length>1;return(0,a.Z)((0,a.Z)({},j),{},{multi_screens:V,multi_states:G,is_single_state:!(G||V)})},T=function(F){var j=ProjectExchange.getProjectStoreByUpperCid(F),W=C(F),V=[];return W.forEach(function(G){var R=G.cid,z=G.project_meta_cid,Y=H(z,R);if(Y.length!==0){var X=getHomeScreenFromScreenMetaList(Y);V.push(_objectSpread(_objectSpread({},w(j,G)),{},{home_screen_meta_cid:X.cid}))}}),V},y=function(F){var j=ProjectExchange.getProjectStore(F),W=j.getLocalScreenGlueList(),V=[];return W.forEach(function(G){var R=G.cid,z=G.project_meta_cid,Y=H(z,R);if(Y.length!==0){var X=getHomeScreenFromScreenMetaList(Y);V.push(_objectSpread(_objectSpread({},w(j,G)),{},{home_screen_meta_cid:X.cid}))}}),V},x=function(F){var j=[];return F.forEach(function(W){var V=W.cid,G=W.project_meta_cid,R=ProjectExchange.getProjectStore(G),z=H(G,V),Y=getHomeScreenFromScreenMetaList(z);j.push(_objectSpread(_objectSpread({},w(R,W)),{},{home_screen_meta_cid:Y.cid}))}),j},A=function(F){var j=ProjectExchange.getProjectStore(F),W=j.getLocalScreenGlueList(),V=[];return W.forEach(function(G){var R=G.cid,z=G.type,Y=G.project_meta_cid;if(z===GlueType.PROJECT_TEMPLATE){var X=H(Y,R);if(X.length!==0){var q=getHomeScreenFromScreenMetaList(X);V.push(_objectSpread(_objectSpread({},G),{},{home_screen_meta_cid:q.cid}))}}}),V},m=function(F){return ProjectExchange.getProjectStore(F).getLocalScreenGlueList()},L=function(F,j){var W=ProjectExchange.getProjectStore(F).getLocalScreenRuntimeStateByCid(j),V=W.dataMap,G=Object.values(V).sort(function(R,z){return R.position-z.position});return G[0]},g=function(F,j){var W=ProjectExchange.getProjectStore(F);if(W){var V=W.getLocalScreenRuntimeStateByCid(j);if(V&&V.dataMap){var G=V.dataMap,R=Object.values(G);if(R!=null&&R.length)return R[0]}}return{}},E=function(F){var j=ProjectExchange.getProjectStore(F),W=j.getLocalScreenGlueList().find(function(V){return V.type===b.O.PROJECT_MAIN});return j.getLocalScreenMetaListByScreenGlueCid(W.cid)},C=function(F){return ProjectExchange.getProjectStoreByUpperCid(F).getLocalScreenGlueList()},P=function(F,j){return ProjectExchange.getProjectStore(F).getLocalScreenMetaByCid(j)},S=function(F,j){return ProjectExchange.getProjectStore(F).getLocalScreenMetaListByScreenGlueCid(j)},D=function(F,j){var W=ProjectExchange.getProjectStore(F),V=W.getLocalScreenGlueByCid(j);return w(W,V)},I=function(F,j,W){var V=ProjectExchange.getProjectStore(F),G=V.getLocalScreenGlueByCid(j);return{projectMeta:V.getLocalProjectMeta(),screenGlue:w(V,G),screenMeta:V.getLocalScreenMetaByCid(W)}},f=function(F,j){return ProjectExchange.getProjectStore(F).getLocalScreenRuntimeStateByCid(j)},k=function(F,j,W){var V=ProjectExchange.getProjectStore(F).getLocalScreenRuntimeStateByCid(j);if(V){var G=V.itemListMap;return G[W]||[]}else return[]},u=function(F){return ProjectExchange.getLocalProjectMetaByUpperCid(F)},H=function(F,j){var W=ProjectExchange.getProjectStore(F).getLocalScreenMetaList();return W.filter(function(V){return V.screen_glue_cid===j})}},92408:function(ce,Z,c){"use strict";c.d(Z,{B7:function(){return C},Hf:function(){return P},X9:function(){return S},Zx:function(){return Y},gI:function(){return D},jz:function(){return z},wq:function(){return g}});var a=c(9575),d=c(91520),b=c(61519),w=c(68427),T=c(66302),y=c(81786),x=c(5207),A=c(88468),m=c(58057),L=[A.yv,A.C2],g=function(q){var _=q.screenRuntimeState;return Object.keys(_.dataMap)[0]},E=function(q,_){for(var ee=q.projectMetaCid,oe=q.getLocalScreenMetaByCid(_),pe=q.getLocalScreenRuntimeStateByCid(_),ve=(0,w.hV)(_),Pe=pe.dataMap,Re=pe.itemListMap,Ne=function(){var ht=(0,b.Z)(Ke[Be],2),Ge=ht[0],vt=ht[1];ve.dataMap[Ge]=vt,ve.itemListMap[Ge]=Re[Ge].filter(function(St){return St.name==="panel"?(0,y._s)(St,ee,_):!0}).map(function(St){return(0,x.W3)(St,oe.cid,Ge,ee)})},Be=0,Ke=Object.entries(Pe);Be<Ke.length;Be++)Ne();return{screenMeta:oe,screenRuntimeState:ve}},C=function(q,_,ee){ee===void 0&&(ee=A.C2);var oe=q.projectMetaCid,pe=ee;if(L.includes(pe)){var ve=(0,T.$l)(oe,_);pe=ve[0].cid}var Pe=E(q,_),Re=Pe.screenMeta,Ne=Pe.screenRuntimeState,Be={},Ke=Ne.itemListMap[pe].filter(function(Ve){return Ve.name==="panel"}).map(function(Ve){return(0,x.W3)(Ve,_,pe,oe)});return Ke.forEach(function(Ve){Be[Ve.cid]=P(q,Ve)}),{cid:_,stateCid:pe,panelInfoMap:Be,screenMeta:Re,screenRuntimeState:Ne}},P=function(q,_){var ee=_.screen_glue_cid,oe=_.screen_meta_cid,pe=_.screen_state_cid,ve=q.projectMetaCid,Pe=(0,m.Qu)(ve,ee),Re=(0,m.bO)(ve,ee),Ne={};return Re.forEach(function(Be){var Ke=Be.cid;Ne[Ke]=E(q,Ke)}),{cid:_.cid,panelScreens:[oe],currentScreenMetaCid:oe,currentScreenStateCid:pe,screenGlue:Pe,screenDataMap:Ne}},S=function(q,_){var ee=_.panelCid,oe=_.panelScreenCid,pe=_.transition,ve=q.panelInfoMap[ee],Pe=ve.panelScreens,Re=ve.screenDataMap,Ne=new Set(Pe);Ne.add(oe);var Be=(0,d.Z)((0,d.Z)({},ve),{},{transition:pe,panelScreens:Array.from(Ne),currentScreenMetaCid:oe,currentScreenStateCid:g(Re[oe])});return(0,d.Z)((0,d.Z)({},q),{},{panelInfoMap:(0,d.Z)((0,d.Z)({},q.panelInfoMap),{},{[ee]:Be})})},D=function(q,_){var ee=_.panelCid,oe=_.panelStateCid,pe=_.transition,ve=_.callback,Pe=q.panelInfoMap[ee],Re=(0,d.Z)((0,d.Z)({},Pe),{},{currentScreenStateCid:oe,transition:(0,d.Z)((0,d.Z)({},pe),{},{callback:ve})});return(0,d.Z)((0,d.Z)({},q),{},{panelInfoMap:(0,d.Z)((0,d.Z)({},q.panelInfoMap),{},{[ee]:Re})})},I=A.rU.TYPE,f=I.hyperlink,k=I.screen_link,u=I.state_link,H=I.widget_link,O=I.scroll_link,F=I.screen_link_from_dynamic_panel,j=I.visibility_link,W=I.panel_link,V=[f,k,u,F],G=[O],R=[H,j,W,u],z=function(q,_){var ee=q.reduce(function(oe,pe){return oe.find(function(ve){return ve===pe.gesture})?oe:[].concat((0,a.Z)(oe),[pe.gesture])},[]).reduce(function(oe,pe){var ve=new Map;R.forEach(function(Be){return ve.set(Be,[])});var Pe=[],Re=[],Ne=q.filter(function(Be){return Be.gesture===pe}).map(function(Be){return ve.has(Be.link_type)&&(ve.get(Be.link_type).find(function(Ke){return Ke===Be.target_cid})||Be.target_cid===A.xm&&ve.get(Be.link_type).find(function(Ke){return Ke===_}))||Pe.length>0&&V.includes(Be.link_type)&&Be.screen_target_cid===void 0||Re.length>0&&G.includes(Be.link_type)?(0,d.Z)((0,d.Z)({},Be),{},{ineffective:!0}):(V.includes(Be.link_type)&&Pe.push(Be.link_type),G.includes(Be.link_type)&&Be.screen_target_cid===void 0&&Re.push(Be.link_type),R.includes(Be.link_type)&&ve.set(Be.link_type,[].concat((0,a.Z)(ve.get(Be.link_type)),[Be.target_cid])),(0,d.Z)((0,d.Z)({},Be),{},{ineffective:!1}))});return[].concat((0,a.Z)(oe),(0,a.Z)(Ne))},[]);return ee},Y=function(q){var _=q.filter(function(pe){return pe.ineffective===!1}),ee=[],oe=[];return _.forEach(function(pe){V.includes(pe.link_type)?pe.link_type===u&&pe.screen_target_cid!==void 0?ee.push(pe):oe.push(pe):ee.push(pe)}),ee.concat(oe)}},29846:function(ce,Z,c){"use strict";c.d(Z,{a:function(){return b}});var a=c(88468);function d(w){return w&&typeof w=="number"||typeof w=="string"&&w.endsWith("s")?parseFloat(w)*1e3:w}function b(w){return!!w.screen_target_cid&&w.link_type===a.rU.TYPE.state_link}},68235:function(ce,Z,c){"use strict";c.d(Z,{Be:function(){return x},DW:function(){return T},Mb:function(){return y},_N:function(){return b},bT:function(){return d},ik:function(){return w},ow:function(){return A}});var a=c(45090),d=a.default.div.withConfig({displayName:"styles__StyledShareItem",componentId:"sc-s8lcmt-0"})(["padding:16px 14px;height:128px;background:",";border-radius:8px;display:flex;flex-direction:column;justify-content:center;.item-header{display:flex;align-items:center;height:24px;margin-bottom:10px;.name-input{height:24px;padding-top:2px;input{color:",";border-bottom:1px solid rgba(22,132,252,0.3);}}svg{cursor:pointer;}.title{color:",";flex-grow:1;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:600;.toggle-input{cursor:text;}}.right{width:150px;display:flex;flex-direction:row-reverse;.visible-button,.qr-button{pointer-events:",";}.svg-icon{color:",";}.page-size{line-height:16px;display:flex;align-items:center;color:",";margin-right:6px;}}.misc{flex-grow:0;width:48px;height:21px;}}.item-center{display:flex;align-itmes:center;margin-bottom:10px;.left{border-top:1px solid ",";border-left:1px solid ",";border-bottom:1px solid ",";}.permission-select{background:",";}.share-button{background:",";}}.item-bottom{display:flex;justify-content:center;align-items:center;height:24px;.visit-count{flex-grow:1;color:",";}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 6px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;&.self-transform{transition:all 0.4s;transform:rotate(360deg);}}}}.context-menu-mask{z-index:1024;}"],function(m){return m.theme.color_background},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_text_L1},function(m){return m.isExpired?"none":""},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_text_white},function(m){return m.theme.color_primary_proto01},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_text_L1}),b=a.default.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-s8lcmt-1"})(["display:flex;min-height:36px;width:100%;.left{flex-grow:1;background-color:",";border-radius:4px 0px 0px 4px;display:flex;align-items:center;&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-left:9px;color:",";}.view-access-select{margin-left:20px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.copy-button{flex-grow:0;background-color:",";width:116px;border-radius:0px 4px 4px 0px;span{color:",";}}"],function(m){return m.isViewActiveDropdown?m.theme.color_background_white_modal_hover:m.theme.color_background_white},function(m){return m.theme.color_background_white_modal_hover},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_L1},function(m){return m.isViewActiveDropdown?"rotate(-180deg)":""},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_primary_proto01},function(m){return m.theme.color_text_white}),w=(0,a.default)(d).withConfig({displayName:"styles__StyledDeletingItem",componentId:"sc-s8lcmt-2"})(["padding:14px 12px;border:",";cursor:pointer;.item-header{display:flex;align-items:center;span{color:",";}.title{display:flex;align-items:center;width:313px;font-weight:600;.sm-check{margin-right:5px;.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}}.text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#999;}}.right{display:flex;flex-direction:row-reverse;div{display:flex;align-items:center;justify-content:center;width:24px;height:24px;}.svg-icon{color:",";}.page-size{line-height:16px;display:flex;align-items:center;color:#999;margin-right:6px;}}}.item-bottom{.expiration-time{color:#999;.expire-text{color:#999;}.svg-icon{color:#999;}}}"],function(m){return m.isSelected?"2px solid "+m.theme.color_primary_proto01:"2px solid transparent"},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_disabled},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_text_L3}),T=a.default.div.withConfig({displayName:"styles__StyledDeletingItemCenter",componentId:"sc-s8lcmt-3"})(["display:flex;min-height:36px;width:100%;.left{flex-grow:1;background-color:",";border-radius:4px 0px 0px 4px;display:flex;align-items:center;.chore{margin-left:9px;color:",";}.view-access-select{margin-left:20px;display:flex;align-items:center;color:#999;.svg-icon{color:#999;}}}.copy-button{flex-grow:0;background:",";width:116px;border-radius:0 4px 4px 0;span{color:",";}}"],function(m){return m.theme.color_background_white},function(m){return m.theme.color_text_L3},function(m){return m.theme.btn_unselectable},function(m){return m.theme.text_unselectable}),y=a.default.div.withConfig({displayName:"styles__StyledPreviewItem",componentId:"sc-s8lcmt-4"})(["left:19px;top:111px;padding:17px 15px;margin:0 25px 10px 0;background:",";border-radius:8px;display:flex;flex-direction:column;justify-content:center;.item-header{display:flex;justify-content:center;height:21px;margin-bottom:10px;.svg-click{cursor:pointer;.qr-button{pointer-events:",";}}.title{color:",";flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:600;}.page-size{display:flex;align-items:center;margin-right:6px;}.misc{flex-grow:0;width:48px;height:21px;}}.item-center{display:flex;margin-bottom:10px;.left{border-top:1px solid ",";border-left:1px solid ",";border-bottom:1px solid ",";}.permission-select{background:",";}.share-button{background:",";}}.item-bottom{display:flex;justify-content:center;align-items:center;height:24px;.visit-count{display:flex;justify-content:center;color:",";}}"],function(m){return m.theme.color_background},function(m){return m.isExpired?"none":""},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_text_white},function(m){return m.theme.color_primary_proto01},function(m){return m.theme.color_text_L3}),x=(0,a.createGlobalStyle)([".context-menu-mask{z-index:1000;}"]),A=a.default.div.withConfig({displayName:"styles__StyledNormalPreviewItem",componentId:"sc-s8lcmt-5"})(["padding:16px 14px;height:128px;background:",";border-radius:8px;display:flex;flex-direction:column;justify-content:center;.item-header{display:flex;justify-content:center;align-items:center;height:21px;margin-bottom:10px;color:",";svg{width:21px;height:21px;cursor:",";color:",";}.page-size{display:flex;align-items:center;margin-right:6px;}.title{color:",";flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:600;}.misc{flex-grow:0;width:48px;height:21px;}}.item-center{display:flex;margin-bottom:10px;color:",";.left{border-top:1px solid ",";border-left:1px solid ",";border-bottom:1px solid ",";}.permission-select{background:",";}.share-button{background:",";}}.item-bottom{display:flex;justify-content:center;height:24px;color:",";svg{width:24px;height:24px;color:",";}.visit-count{flex-grow:1;}.expiration-time{display:flex;align-items:center;}}"],function(m){return m.theme.color_background},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1},function(m){return m.isExpired?"":"pointer"},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1},function(m){return m.theme.color_text_L1},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_text_white},function(m){return m.theme.color_primary_proto01},function(m){return m.theme.color_text_L3},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1})},17626:function(ce,Z,c){"use strict";c.d(Z,{CW:function(){return A},E2:function(){return b},K:function(){return L},M9:function(){return T},R7:function(){return m},_B:function(){return w},ls:function(){return x},tV:function(){return g},xG:function(){return y}});var a="sharing-simulatorDisplayType",d="sharing-is-stickyshow",b="local_sharing_copy_url",w=function(C){return[{value:1,label:C.allPages},{value:2,label:C.partPages}]},T=function(C){return[{value:"device",label:C.imockSharing.prd_device},{value:"long_page",label:C.imockSharing.prd_page},{value:"outside_artboard",label:C.imockSharing.prd_prd}]},y={device:"\u771F\u673A",long_page:"\u957F\u9875\u9762",outside_artboard:"\u9875\u9762\u5916\u5185\u5BB9"},x={device:"\u771F\u673A",long_page:"\u957F\u9875\u9762",outside_artboard:"PRD"},A=function(C){return{public:C.imockSharing.share_anyone_view,restricted:C.imockSharing.org_members_only}},m=function(C){return{"7d":C.imockSharing.days7,"15d":C.imockSharing.days15,forever:C.forever}},L=function(C){return{"7d":C.imockSharing.days7,"15d":C.imockSharing.days15,forever:C.forever}},g=function(C){return T(C).slice(0,2)}},20702:function(ce,Z,c){"use strict";c.d(Z,{Ez:function(){return I},F2:function(){return R},JF:function(){return O},QS:function(){return F},SG:function(){return G},SN:function(){return P},VN:function(){return V},VV:function(){return L},Xi:function(){return H},dL:function(){return j},hP:function(){return k},jH:function(){return W},kz:function(){return S},n7:function(){return f},rD:function(){return g},vS:function(){return E},wr:function(){return C}});var a=c(61519),d=c(25370),b=c.n(d),w=c(17626),T=c(72744),y=c(70423),x=c(70956),A=c(7108),m=c.n(A),L=function(Y){return b()([{value:"public",label:I18N.imockSharing.share_anyone_view},Y&&{value:"restricted",label:I18N.imockSharing.org_members_only}])},g=function(Y){var X=Y.accessToken,q=Y.screenMetaCidToStartOn;return location.origin+"/app/"+X+(q?"#screen="+q:"")},E=function(Y,X,q,_){return Y+" #"+(0,x.FQ)(X)+"-"+(0,x.FQ)(q)+"  "+_},C=function(Y){var X=["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin;return X+"/app/"+Y},P=function(Y,X,q){var _=S(Y,X);return q>=_},S=function(Y,X){var q=D(Y,X),_=q.maxSharingCount;return _},D=function(Y,X){if(X){var q=X.limitation,_=1;return q.max_project_share_count===null?_=1:_=q.max_project_share_count,{maxSharingCount:_}}if(Y&&Y.cid){var ee=Y.current_plan;return{maxSharingCount:ee==="solo"?3:1}}return{maxSharingCount:1}},I=function(Y,X){var q=/shareName\d+/g,_=0;return Y.filter(function(ee){var oe;return(oe=ee.link_name)==null?void 0:oe.match(q)}).forEach(function(ee){var oe=ee.link_name,pe=oe.match(q),ve=pe[0].length,Pe=oe.indexOf(X),Re=Pe+ve===oe.length;if(Re){var Ne=parseInt(oe.trim().slice(Pe+2));Ne>_&&(_=Ne)}}),_},f=function(Y){var X=Y.sharingList,q=k(window.location.href);return X.find(function(_){return _.access_token===q})},k=function(Y){var X="";if(Y.includes("/app/")){var q;Y.includes("/design/")?q=Y.split("design/").reverse()[0]:q=Y.split("app/").reverse()[0],X=u(q)}else if(Y.includes("/app_share/")){var _=Y.split("app_share/")[1];X=u(_)}return X},u=function(Y){if(Y.includes("?")&&Y.includes("#")){var X=Y.indexOf("?"),q=Y.indexOf("#");return X<q?Y.split("?")[0]:Y.split("#")[0]}else return Y.includes("?")?Y.split("?")[0]:Y.includes("#")?Y.split("#")[0]:Y},H=function(Y,X){return Y.created_at>X.created_at?-1:Y.created_at===X.created_at?0:1},O=function(Y,X,q){var _,ee;X.password!==""?X.view_access==="public"?ee="\u6240\u6709\u4EBA\u53EF\u89C1":ee="\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1":X.view_access==="public"?ee="\u6240\u6709\u4EBA\u53EF\u89C1-\u5BC6\u7801":ee="\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1-\u5BC6\u7801",T.xd.trackShareProjectSetting({project_type:"\u539F\u578B",source:(0,T.Wb)(),project_name:Y.name,project_cid:Y.cid,view_permission:ee,password_protection:X.password!=="",share_link_name:X.link_name,validity:w.K[X.expire_type],page_choice:((_=X.screen_visible_list)==null?void 0:_.length)===Object.keys(q).length,page_switch_all:!X.screen_visible_switch,notice_permission:X.sticky,comment_permission:X.comment_permission==="org_member",view_page_outside:X.view_prd,preview_mode:w.xG[X.simulator_type],comment_display:X.view_sticky,run_inside_wechatbrowser:X.wechat})},F=function(){var Y=(0,y.tq)()?(0,y.li)()?"\u79FB\u52A8\u7AEF\u67E5\u770B":"h5":(0,y.d)()?"PC\u5BA2\u6237\u7AEF":(0,y.V5)()||(0,y.ED)()?"PC\u6D4F\u89C8\u5668\u67E5\u770B":"";return Y},j=function(Y){var X=Y.project,q=Y.action,_=Y.linkName,ee=Y.isFromScreenList;T.xd.trackShareProjectAction({project_type:"\u539F\u578B",source:ee?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,T.Wb)(),project_name:X.name,project_cid:X.cid,share_link_action:q,share_link_name:_})},W=function(Y){if(!Y)return!1;var X=Y.created_at;return m()(X).isBetween(m()().subtract(3,"days"),m()())},V=function(Y){return Object.entries(Y).filter(function(X){var q=(0,a.Z)(X,2),_=q[0],ee=q[1];return ee.orientation!=="folder"}).map(function(X){return X[0]})},G=function(Y,X,q){if(Y)return q.length;var _=0;return X==null||X.forEach(function(ee){var oe=q.find(function(pe){return pe===ee});oe&&(_+=1)}),_},R=function(Y,X,q){var _=G(!X.screen_visible_switch,X.screen_visible_list,Y.pageCidList),ee=Y.pageCidList.length;return X.screen_visible_switch?_+"/"+ee:q.pComment.all}},54635:function(ce,Z,c){"use strict";c.d(Z,{$5:function(){return O},Kb:function(){return u},LL:function(){return x},Q7:function(){return z},Ts:function(){return F},Uo:function(){return C},Z7:function(){return k},_F:function(){return P},aF:function(){return Y},dD:function(){return S},hi:function(){return W},lM:function(){return V},m:function(){return f},ty:function(){return j},xi:function(){return R},z:function(){return H}});var a=c(69770),d=c(30733),b=c(77200),w=c(33038),T=c(72744);function y(X,q){if(!X||X.length!==q.length)return!1;for(var _=0,ee=X.length;_<ee;_++)if(X[_]!==q[_])return!1;return!0}function x(X){var q,_;return function(){return y(_,arguments)||(q=X.apply(null,arguments),_=arguments),q}}var A=["https://qiniu.modao.cc","https://qiniu-us.modao.cc","https://qiniu-test.modao.cc"],m=function(q){return A.some(function(_){return q.startsWith(_)})},L={"&amp;":"&","&lt;":"<","&gt;":">"},g=/(&amp;|&lt;|&gt;)/g,E=function(q){return L[q]||q},C=function(q){return q&&q.replace(g,E)},P=function(q,_,ee){return q===void 0&&(q=0),_===void 0&&(_=1),ee===void 0&&(ee=0),Number(parseFloat((1/_*q).toFixed(2)))+ee},S=function(q){var _=q.image,ee=q.adjust,oe=_.naturalWidth,pe=_.naturalHeight;oe>=pe?_.style.maxWidth=ee+"px":_.style.maxHeight=ee+"px"},D=/\s|<|>|||:|||\?|\\|\/|"||\||\./g,I=function(q){return q&&q.replace(D,"_")},f=function(q){var _=q.url,ee=q.name,oe=q.type,pe=document.createElement("a"),ve=I(ee)||"\u672A\u547D\u540D",Pe=m(_);if(Pe){var Ne=""+encodeURIComponent(ve);pe.href=_+"?attname="+Ne+"."+oe}else{var Re=ve;pe.setAttribute("download",Re),pe.href=""+_}pe.click()},k=function(q){return Number(q.toFixed(2))},u=function(q){return new Promise(function(_){return setTimeout(_,q)})},H=function(){return console.error("\u4E0B\u8F7D\u5931\u8D25")},O=function(){try{var q=(0,d.GQ)("user_pick_color");return JSON.parse(q||"[]")}catch(_){return[]}},F=function(q){var _=O();return _.includes(q)?{history:_,focusColor:q}:(_.unshift(q),_.length>40&&_.pop(),(0,d.A6)("user_pick_color",JSON.stringify(_)),{history:_,focusColor:null})},j=function(q){var _=O(),ee=_.indexOf(q);return _.splice(ee,1),(0,d.A6)("user_pick_color",JSON.stringify(_)),_},W=function(){if((0,w.xM)())return!0;var q;try{q=(window.parent===window?!0:/^\/app\/(design|preview)/.test(window.parent.location.pathname))&&(MB.isDashboard||!MB.f.inSharing&&window.location.protocol!=="file:")}catch(_){console.warn(_),q=!1}return q},V=function(q){var _=1/0,ee=1/0,oe=-1/0,pe=-1/0,ve=(0,a.Z)(q),Pe;try{for(ve.s();!(Pe=ve.n()).done;){var Re=Pe.value;isFinite(Re.top)&&isFinite(Re.left)&&isFinite(Re.width)&&isFinite(Re.height)&&(_=Math.min(_,Re.left),oe=Math.max(oe,Re.left+Re.width),ee=Math.min(ee,Re.top),pe=Math.max(pe,Re.top+Re.height))}}catch(Be){ve.e(Be)}finally{ve.f()}var Ne={minX:_,minY:ee,maxX:oe,maxY:pe};return Ne},G=function(){var q=new Map;return function(_,ee,oe){var pe=_+"-"+ee;if(q.get(pe))return q.get(pe);var ve=V(oe);return q.set(pe,ve),ve}},R=G(),z=function(q){var _,ee,oe,pe,ve,Pe;q===void 0&&(q=!0);var Re=(_=MB)==null||(ee=_.webpackInterface)==null?void 0:ee.store.getState(),Ne=(0,b.GP)(Re),Be=Ne.isHTMLZip,Ke=(0,b.CD)(Re),Ve=Ke.isOnPremises;return q?!!((oe=MB)!=null&&(pe=oe.user)!=null&&pe.id)||Be||Ve:!!((ve=MB)!=null&&(Pe=ve.user)!=null&&Pe.id)||Be},Y=function(q,_,ee,oe){_===void 0&&(_=!0);var pe=z(_);pe||(MB.global.popupHelper.loginAsync({onConfirm:function(){setTimeout(function(){return location.reload()},50)},type:"signin",source:q,entryTerm:ee,entry:oe}),T.xd.userSourceTrack(ee))}},31033:function(ce,Z,c){"use strict";c.d(Z,{$1:function(){return T},$k:function(){return x},AX:function(){return y},Ab:function(){return b},Pw:function(){return A},c6:function(){return a},nh:function(){return d},sK:function(){return w}});var a="preview",d="inspect",b="comment",w={iphone_14_pro:48,iphone_14_pro_max:48,iphone_13_pro:44,iphone_12_pro:44,iphone_x:44,iphone_11_pro:44,iphone_11_pro_max:44,iphone:20,ipad:24,ipad_3_4:20,ipad_pro:24,android:24},T=function(L){var g=L.model,E=L.device;return g==="iphone_14_pro"||g==="iphone_14_pro_max"?"iphone_14_pro":g==="iphone_12_pro"||g==="iphone_13_pro"||g==="iphone_x"||g==="iphone_xs_max"||g==="iphone_11_pro"||g==="iphone_11_pro_max"||g==="iphone_12_pro_max"||g==="iphone_13_pro_max"?"iphone_x":E==="iphone"?"iphone":g==="ipad_3_4"?"ipad_3_4":g==="ipad_pro"?"ipad_pro":g==="ipad_mini"||g==="ipad_pro_11"||g==="ipad_pro_12"?"ipad":E==="android"?"android":""},y=111,x=1e3,A=240},48164:function(ce,Z,c){"use strict";c.d(Z,{U:function(){return y}});var a=c(9575),d=c(91520),b=c(4082),w=c(68937),T=c(21540),y;(function(x){var A=x.empty=L(0,0,0,0);function m(R,z){return L(R.x*z,R.y*z,R.w*z,R.h*z)}x.mul=m;function L(R,z,Y,X){return(0,b.L)(Y>=0),(0,b.L)(X>=0),{x:R,y:z,w:Y,h:X}}x.xywh=L;function g(R,z,Y,X){return(0,b.L)(Y>=R),(0,b.L)(X>=z),{x:R,y:z,w:Y-R,h:X-z}}x.ltrb=g;function E(R,z){return{x:R.x+z.x,y:R.y+z.y,w:R.w,h:R.h}}x.translate=E;function C(R){return(0,d.Z)({w:R.w,h:R.h},w.S.zero)}x.fromSize=C;function P(R,z){return{x:R.x-z,y:R.y-z,w:R.w+z*2,h:R.h+z*2}}x.enlarge=P;function S(R,z){return{x:R.x-z.x,y:R.y-z.y,w:R.w+z.x*2,h:R.h+z.y*2}}x.enlargeVec=S;function D(R){return Number.isInteger(R.x)&&Number.isInteger(R.y)&&Number.isInteger(R.w)&&Number.isInteger(R.h)}x.isInteger=D;function I(R,z){var Y=T.H.fromRect(z);return f(R,Y.tl)&&f(R,Y.tr)&&f(R,Y.bl)&&f(R,Y.br)}x.containsRect=I;function f(R,z){var Y=z.x,X=z.y;return R.x<=Y&&Y<=R.x+R.w&&R.y<=X&&X<=R.y+R.h}x.contains=f;var k=x.intersect=function(R,z){var Y=W([R,z]);return Y.w<R.w+z.w&&Y.h<R.h+z.h};function u(R,z){return f(R,z)||k(R,z)}x.intersectOrContains=u;function H(R,z){return z.x<R.x&&z.y<R.y?"tl":z.x>R.x+R.w&&z.y<R.y?"tr":z.x>R.x+R.w&&z.y>R.y+R.h?"br":z.x<R.x&&z.y>R.y+R.h?"bl":z.x<R.x?"l":z.x>R.x+R.w?"r":null}x.inCorner=H;function O(R){var z=R.map(function(oe){return oe.x}),Y=R.map(function(oe){return oe.y}),X=Math.min.apply(Math,(0,a.Z)(z)),q=Math.min.apply(Math,(0,a.Z)(Y)),_=Math.max.apply(Math,(0,a.Z)(z)),ee=Math.max.apply(Math,(0,a.Z)(Y));return y.ltrb(X,q,_,ee)}x.enclosing=O;function F(R){return{x:R.x+R.w/2,y:R.y+R.h/2}}x.center=F;function j(R,z){return R===null?z:W([z,R])}x.enclosingBoth=j;function W(R){var z=1/0,Y=1/0,X=-1/0,q=-1/0;return R.forEach(function(_){Y=Math.min(_.x,Y),z=Math.min(_.y,z),X=Math.max(_.x+_.w,X),q=Math.max(_.y+_.h,q)}),y.ltrb(Y,z,X,q)}x.enclosingRects=W;var V=x.getAngleByDragIndex=function(R,z){switch(R){case"tl":return G({x:-1,y:-1},z);case"t":return G({x:0,y:-1},z);case"tr":return G({x:1,y:-1},z);case"r":return G({x:1,y:0},z);case"br":return G({x:1,y:1},z);case"b":return G({x:0,y:1},z);case"bl":return G({x:-1,y:1},z);case"l":return G({x:-1,y:0},z)}},G=function(z,Y){var X=Y.applyWithoutXY(z);return Math.atan2(X.y,X.x)/Math.PI*180+90}})(y||(y={}))},68937:function(ce,Z,c){"use strict";c.d(Z,{S:function(){return d}});var a=c(69770),d;(function(b){var w=b.zero={x:0,y:0},T=b.horizontal={x:1,y:0},y=b.vertical={x:0,y:1};function x(X,q){return{x:X,y:q}}b.xy=x;function A(X){return{x:X,y:X}}b.diagonal=A;function m(X){return{x:X.w,y:X.h}}b.fromSize=m;function L(X){return{x:-X.x,y:-X.y}}b.neg=L;function g(X,q){return{x:Math.min(X.x,q.x),y:Math.min(X.y,q.y)}}b.min=g;function E(X,q){return X.x*q.x+X.y*q.y}b.dot=E;function C(X,q){var _=X.x*q.y-X.y*q.x;return _}b.cross=C;function P(X,q){var _=X.x-q.x,ee=X.y-q.y;return Math.sqrt(_*_+ee*ee)}b.distance=P;function S(X){return Math.sqrt(X.x*X.x+X.y*X.y)}b.distance2zero=S;function D(X){return{x:Math.round(X.x),y:Math.round(X.y)}}b.round=D;function I(X){var q=(0,a.Z)(X),_;try{for(q.s();!(_=q.n()).done;){var ee=_.value;if(ee.x!==0||ee.y!==0)return ee}}catch(oe){q.e(oe)}finally{q.f()}return d.zero}b.firstNoneZero=I;function f(X,q){return d.mul(q,d.dot(X,q)/d.dot(q,q))}b.project=f;function k(X){return{x:Math.round(X.x*2)/2,y:Math.round(X.y*2)/2}}b.roundHalf=k;function u(X,q){return{x:X.x+q.x,y:X.y+q.y}}b.add=u;function H(X,q){return{x:X.x-q.x,y:X.y-q.y}}b.subtract=H;function O(X,q){return{x:X.x/q,y:X.y/q}}b.div=O;function F(X,q){return{x:X.x*q,y:X.y*q}}b.mul=F;function j(X,q){return X.x===q.x&&X.y===q.y}b.isEqual=j;function W(X,q){var _=X.x+q.x,ee=X.y+q.y;return{x:_/2,y:ee/2}}b.average=W;function V(X,q){var _=X.x,ee=X.y,oe=q.x,pe=q.y,ve=_*oe+ee*pe,Pe=_*pe-ee*oe;return Math.atan2(Pe,ve)}b.radian=V;function G(X,q){var _=X.x,ee=X.y,oe=q.x,pe=q.y,ve=_*oe+ee*pe,Pe=ee*oe-_*pe;return Math.atan2(Pe,ve)}b.radianClockWise=G;function R(X,q,_){var ee={x:_.x-X.x,y:_.y-X.y},oe=ee.x,pe=ee.y,ve=oe*Math.cos(q)-pe*Math.sin(q),Pe=pe*Math.cos(q)+oe*Math.sin(q);return{x:ve+X.x,y:Pe+X.y}}b.rotate=R;function z(X,q,_){var ee=X.x,oe=X.y,pe=q.x,ve=q.y,Pe=_.x,Re=_.y;return(pe-ee)*(Re-oe)-(ve-oe)*(Pe-ee)}b.sideOfLine=z;function Y(X){var q=d.distance(w,X);return{x:X.x/q,y:X.y/q}}b.unitization=Y})(d||(d={}))},35517:function(ce,Z,c){"use strict";c.d(Z,{KT:function(){return w},Vz:function(){return b},hW:function(){return T},v5:function(){return y}});var a=c(64555),d=c(72005),b=function(){var x=(0,d.Z)((0,a.Z)().mark(function A(m,L){var g,E,C,P,S;return(0,a.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(m.status===403||/403/.test(m.message))){I.next=6;break}return(g=MB)==null||(E=g.messageBucket)==null||E.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),I.next=4,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(function(){return L?L():MB.global.onBackButtonClick()});case 4:I.next=16;break;case 6:if(!(m.status===401||/401/.test(m.message))){I.next=12;break}return y(),I.next=10,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(function(){return L?L():MB.global.onBackButtonClick()});case 10:I.next=16;break;case 12:return S=String(m.status||m.message||"UNKNOWN").replace(/\s/g,"").slice(0,16),(C=MB)==null||(P=C.messageBucket)==null||P.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,S)}),I.next=16,MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,S),isHTML:!0});case 16:case"end":return I.stop()}},A)}));return function(m,L){return x.apply(this,arguments)}}(),w=function(A){A.status===404&&A.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},T=function(){var x=(0,d.Z)((0,a.Z)().mark(function A(m,L){return(0,a.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!(m.status===403||/403/.test(m.message))){E.next=4;break}L(),E.next=7;break;case 4:if(!(m.status===401||/401/.test(m.message))){E.next=7;break}return E.next=7,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(function(){return MB.global.onBackButtonClick()});case 7:case"end":return E.stop()}},A)}));return function(m,L){return x.apply(this,arguments)}}(),y=function(){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")}},50501:function(ce,Z,c){"use strict";c.d(Z,{Hs:function(){return Be},W4:function(){return Ee},cR:function(){return xt},gS:function(){return Ve}});var a=c(9575),d=c(61519),b=c(69770),w=c(64555),T=c(72005),y=c(33433),x=c.n(y),A=c(75751),m=c(47098),L=c.n(m),g=c(73117),E=c.n(g),C=c(60978),P=c(47273),S=c(88468),D=c(42416),I=c(92599),f=c(45294),k=c(32638),u=c(2111),H=c(21800),O=c(75886),F=c(37054),j=c(76760),W=c(79292),V=c(27135),G=c(58057),R=c(27585),z=c(81786),Y=c(77506),X=c(14730),q=c(512),_=c(60217),ee=c(67173),oe=c(68517),pe=c(13806),ve=c(27319),Pe=c(33258),Re=function(we,Ce,Te){return Ce=Ce===S.C2?Object.keys(we.dataMap)[0]:Ce,{cid:we.screenMetaCid,stateList:[{cid:Ce,data:we.dataMap[Ce],itemList:we.itemListMap[Ce].filter(function(Ie){return Ie.name==="panel"?(0,z._s)(Ie,Te,we.screenMetaCid):!0})}]}},Ne=function(we){var Ce=we.projectStore,Te=we.screenMeta,Ie=we.stateCid,Ue=Te.cid,Oe=Te.project_meta_cid,ye=Ce.getLocalScreenRuntimeStateByCid(Ue),be=Re(ye,Ie,Oe),ke=[Te],le=[be];return be.stateList[0].itemList.forEach(function(xe){var je=xe.screen_meta_cid,We=xe.screen_state_cid,he=xe.name;if(he==="panel"){var de=(0,G.Tf)(Oe,je);if(de){var _e=Ce.getLocalScreenRuntimeStateByCid(de.cid);if(_e.itemListMap[We]){var Qe=Re(_e,We,Oe);ke.push(de),le.push(Qe)}}}}),{screenMetaList:ke,projectScreenObjectList:le}};function Be(Ae){var we=Ae.projectStore,Ce=Ae.currentProject,Te=Ae.screenMeta,Ie=Ae.screenStateCid,Ue=Ie===void 0?S.C2:Ie,Oe=Ae.isClip,ye=Ae.isSticky,be=Ae.hasWaterMark,ke=Ae.canvasBg,le=Ae.scale,xe=Ae.isShowShell,je=Ae.isShowAnnotate,We=Te.cid,he=Te.name,de=Ne({projectStore:we,screenMeta:Te,stateCid:Ue}),_e=de.screenMetaList,Qe=de.projectScreenObjectList,et=(0,D.u)({screenMetaList:_e,projectScreenObjectList:Qe},ye,je),qe=et.renderHtmlSourceString,at=qe("other",We,Ue,Oe,xe,Ce),Je=at.htmlSourceString,rt=at.boundingRect,Et=at.fontsInUse,ft=Qe[0].stateList[0].data.name,lt=Ue!==S.C2?"_"+ft:"",Ot=""+he+lt,kt="/mb-workspace/images/water_mark_new.png",Jt='<div style="position: absolute;top:0; bottom:0;left:0; right:0;z-index:9999;background: repeat url('+kt+') "></div>',lr=rt.x,qt=rt.y,mr=rt.w,cr=rt.h,ur=(0,Pe.Wi)(Te,Ce.device);(ur.includes("android")||ur.includes("others"))&&Et.add("Roboto|normal|400");var jr='\n  <div style="display: block; transform:scale('+le+"); transform-origin:top left; width:"+mr+"px; height:"+cr+"px; padding-top: "+-qt+"px; padding-left: "+-lr+"px; background-color:"+(Oe?"transparent":ke)+'" class="'+ur+'">\n    '+Je+"\n    "+(be?Jt:"")+"\n  </div>";return{htmlString:jr,width:mr*le,height:cr*le,fileName:Ot,fontsInUse:Et}}var Ke=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce,Te){var Ie;return(0,w.Z)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Ie={libURL:location.origin+"/mb-workspace/browser-image-compression@2.0.2/browser-image-compression.js",maxSizeMB:10,onProgress:Te?function(ye){return Te(ye)}:void 0},Oe.abrupt("return",(0,C.Z)(Ce,Ie));case 2:case"end":return Oe.stop()}},we)}));return function(Ce,Te){return Ae.apply(this,arguments)}}(),Ve=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce,Te,Ie){var Ue,Oe,ye,be,ke,le,xe,je;return(0,w.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return Te===void 0&&(Te=!0),Ue=Ce.fileName,Oe=Ce.htmlString,ye=Ce.width,be=Ce.height,ke=Ce.fontsInUse,he.next=4,(0,I.X)({width:ye,height:be,htmlSource:Oe,fileName:Ue,fontsInUse:ke});case 4:if(le=he.sent,xe=le.pngDataUrl,!Te){he.next=12;break}return he.next=9,ht(xe,Ue,Ie);case 9:he.t0=he.sent,he.next=13;break;case 12:he.t0=xe;case 13:return je=he.t0,he.abrupt("return",{snapShotDataURL:je,snapShotName:Ue});case 15:case"end":return he.stop()}},we)}));return function(Ce,Te,Ie){return Ae.apply(this,arguments)}}(),ht=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce,Te,Ie){var Ue;return(0,w.Z)().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,C.Z.getFilefromDataUrl(Ce,Te);case 2:return Ue=ye.sent,ye.abrupt("return",Ke(Ue,Ie));case 4:case"end":return ye.stop()}},we)}));return function(Ce,Te,Ie){return Ae.apply(this,arguments)}}(),Ge=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce){var Te,Ie,Ue,Oe,ye,be,ke,le,xe,je,We,he,de,_e,Qe,et,qe,at,Je,rt;return(0,w.Z)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(Te=Ce.snapShotList,Ie=Ce.fileName,Ue=Ce.onProgress,!(Te.length>1)){ft.next=36;break}be=x()(),ke=be.folder(Ie),le=(0,b.Z)(Te.entries()),ft.prev=5,le.s();case 7:if((xe=le.n()).done){ft.next=22;break}return je=(0,d.Z)(xe.value,2),We=je[0],he=je[1],ft.next=11,Ve(he,!1);case 11:return de=ft.sent,_e=de.snapShotDataURL,Qe=de.snapShotName,ft.next=16,C.Z.getFilefromDataUrl(_e,Qe);case 16:et=ft.sent,ke.file(Qe+".png",et),qe=(We+1)*100/Te.length,Ue(qe);case 20:ft.next=7;break;case 22:ft.next=27;break;case 24:ft.prev=24,ft.t0=ft.catch(5),le.e(ft.t0);case 27:return ft.prev=27,le.f(),ft.finish(27);case 30:return ft.next=32,be.generateAsync({type:"blob"});case 32:Oe=ft.sent,ye=Ie+".zip",ft.next=43;break;case 36:return ft.next=38,Ve(Te[0],!1,Ue);case 38:at=ft.sent,Je=at.snapShotDataURL,rt=at.snapShotName,Oe=Je,ye=rt+".png";case 43:return ft.abrupt("return",{downloadable:Oe,downloadFileName:ye});case 44:case"end":return ft.stop()}},we,null,[[5,24,27,30]])}));return function(Ce){return Ae.apply(this,arguments)}}(),vt=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce){var Te,Ie,Ue,Oe,ye,be,ke,le,xe,je,We,he,de,_e,Qe,et,qe;return(0,w.Z)().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:Te=Ce.snapShotList,Ie=Ce.fileName,Ue=Ce.onProgress,Oe=Te[0],ye=Oe.width,be=Oe.height,ke=new A.kH(ye>be?"l":"p","px",[ye,be]),le=(0,b.Z)(Te.entries()),Je.prev=4,le.s();case 6:if((xe=le.n()).done){Je.next=25;break}return je=(0,d.Z)(xe.value,2),We=je[0],he=je[1],de=he.width,_e=he.height,Je.next=11,Ve(he,!0);case 11:return Qe=Je.sent,et=Qe.snapShotDataURL,Je.t0=ke,Je.next=16,(0,f.w)(et);case 16:Je.t1=Je.sent,Je.t2=de,Je.t3=_e,Je.t0.addImage.call(Je.t0,Je.t1,"png",0,0,Je.t2,Je.t3),We!==Te.length-1&&ke.addPage(),qe=(We+1)*100/Te.length,Ue(qe);case 23:Je.next=6;break;case 25:Je.next=30;break;case 27:Je.prev=27,Je.t4=Je.catch(4),le.e(Je.t4);case 30:return Je.prev=30,le.f(),Je.finish(30);case 33:return Je.abrupt("return",{downloadable:ke,downloadFileName:Ie+".pdf"});case 34:case"end":return Je.stop()}},we,null,[[4,27,30,33]])}));return function(Ce){return Ae.apply(this,arguments)}}(),St=function(we,Ce){saveAs(we,Ce)},wt=function(we){var Ce=we.tc,Te=we.fills,Ie=we.view_box,Ue=we.display_name,Oe=we.path,ye=we.text_shadow,be=we.width,ke=we.height,le=ye?(0,P.oA)(ye):null,xe=le?"drop-shadow("+le+")":"none",je="",We=(0,W.ub)(we);We&&(je+="border-color: "+We.borderColor+";border-width: "+We.borderWidth+";border-style: "+We.borderStyle);var he=Te[0],de=(0,oe.qb)(he,{w:be,h:ke}),_e=null,Qe=Ce==="unset"?"unset":null,et=de.type===pe.Y_.RadialGradient||de.type===pe.Y_.LinearGradient;et?_e=he:de.type===pe.Y_.Solid&&(Qe=ve.I.toRGBAStr(de.color));var qe=(0,_.EJ)(Oe,Qe,_e,Ce==="unset"),at=Ie.split(" ").map(function(Et){return Number(Et)}),Je='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="'+Ie+'" width="'+be+'" height="'+ke+'" style="'+je+'" filter="'+xe+'">\n    '+(et?(0,ee.K3)(de,_e,{minX:at[0],minY:at[1],width:at[2],height:at[3]}):"")+"\n    <g>\n    "+qe+"\n    </g>\n  </svg>",rt=new Blob([Je],{type:"image/svg"});return new File([rt],Ue+".svg",{type:"image/svg"})},zt=function(we){var Ce=j.Rect.enclosing(j.TransformAndRect.points(we.worldBoundingBoxWithShadow)),Te=-Ce.x,Ie=-Ce.y,Ue=Ce.w,Oe=Ce.h;return{marginLeft:Te,marginTop:Ie,width:Ue,height:Oe}},Wt=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce){var Te,Ie,Ue,Oe,ye,be,ke,le,xe,je,We,he,de;return(0,w.Z)().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return Te=Ce.snapShotFileName,Ie=Ce.marginLeft,Ue=Ce.marginTop,Oe=Ce.width,ye=Ce.height,be=Ce.scale,ke=Ce.widgetTreeData,le=Ce.fontsInUse,xe=Ce.screenClassName,je=E().renderToString(ke.render()),We='<div style="display:block;margin-left:'+Ie*be+"px;margin-top:"+Ue*be+'px;">\n      <div style="position:relative;transform:scale('+be+');transform-origin:top left;" class="'+xe+'">\n        '+je+"\n     </div>\n    </div>",Qe.next=5,(0,I.X)({width:Oe*be,height:ye*be,htmlSource:We,fileName:Te,fontsInUse:le});case 5:return he=Qe.sent,de=he.pngDataUrl,Qe.t0=Ke,Qe.next=10,C.Z.getFilefromDataUrl(de,Te+".png");case 10:return Qe.t1=Qe.sent,Qe.abrupt("return",(0,Qe.t0)(Qe.t1));case 12:case"end":return Qe.stop()}},we)}));return function(Ce){return Ae.apply(this,arguments)}}(),Lt=function(we){var Ce=we.affix,Te=we.scale,Ie=we.widgetTreeData,Ue=we.stateName,Oe=we.screenClassName,ye="@"+Te+"x",be=Ce==="prefix"?ye:"",ke=Ce==="suffix"?ye:"",le=Ie.widget.name==="rich_text"?(0,k.gh)(Ie.widget):Ie.widget.display_name,xe=""+be+le+(Ue?"_"+Ue:"")+ke,je=zt(Ie),We=je.marginLeft,he=je.marginTop,de=je.width,_e=je.height,Qe=new Set;return(Oe.includes("android")||Oe.includes("others"))&&Qe.add("Roboto|normal|400"),(0,q.tX)(Ie,function(et){et.type in Y.Bn&&(Qe=new Set([].concat((0,a.Z)(Qe),(0,a.Z)((0,X.QT)(et.widget)))))}),{snapShotFileName:xe,marginLeft:We,marginTop:he,width:de,height:_e,scale:Te,widgetTreeData:Ie,fontsInUse:Qe,screenClassName:Oe}},Nt=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce,Te){var Ie,Ue,Oe,ye,be,ke,le,xe,je,We,he;return(0,w.Z)().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:for(Ie=x()(),Ue=0,Oe=Object.entries(Te);Ue<Oe.length;Ue++){ye=(0,d.Z)(Oe[Ue],2),be=ye[0],ke=ye[1],le=Ie.folder(be),xe=(0,b.Z)(ke);try{for(xe.s();!(je=xe.n()).done;)We=je.value,le.file(We.name,We)}catch(Qe){xe.e(Qe)}finally{xe.f()}}return _e.next=4,Ie.generateAsync({type:"blob"});case 4:he=_e.sent,(0,m.saveAs)(he,Ce+".zip");case 6:case"end":return _e.stop()}},we)}));return function(Ce,Te){return Ae.apply(this,arguments)}}(),Gt=function(we,Ce,Te,Ie){var Ue,Oe;return we<=0||Ce<=0?(Ue=!1,Oe=I18N.WidgetExport.errorMessage.data_exception_error):(Ue=(0,u.Rp)({width:we,height:Ce,scale:Te}),Oe=Ie?I18N.WidgetExport.errorMessage.multiple_widget:I18N.WidgetExport.errorMessage.single_widget),{exportable:Ue,errorMessage:Oe}},Kt=function(we){var Ce=!0,Te="",Ie=(0,b.Z)(we),Ue;try{for(Ie.s();!(Ue=Ie.n()).done;){var Oe=Ue.value,ye=Oe.width,be=Oe.height,ke=Oe.scale,le=Gt(ye,be,ke,we.length>1);if(Ce=le.exportable,Te=le.errorMessage,!Ce){MB.global.popupHelper.alertAsync({desc:Te,isHTML:!0,title:I18N.ExportManager.popup.title,confirmText:I18N.ExportManager.popup.confirmText});break}}}catch(xe){Ie.e(xe)}finally{Ie.f()}return Ce},vr=function Ae(we){return we.children.length?we.children.some(function(Ce){return Ae(Ce)}):we.widget.name==="rich_text"&&we.widget.text.some(function(Ce){return Ce.children.some(function(Te){return H.SP.map(function(Ie){return Ie.value}).includes(Te.fontFamily)})})},xt=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce,Te,Ie,Ue,Oe,ye,be,ke){var le,xe,je,We,he,de,_e,Qe,et,qe,at,Je,rt,Et,ft,lt,Ot,kt,Jt,lr,qt,mr,cr,ur,jr,Zt,me;return(0,w.Z)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:le=be.onStartExport,xe=be.onEndExport,je=ke===void 0?{}:ke,We=je.isInspectInPanel,he=je.selectedPanel,de=je.panelStateCid,_e=[],Qe=!1,et=(0,b.Z)(Te);try{for(et.s();!(qe=et.n()).done;)at=qe.value,Je=at.widgetTree,rt=at.affix,Et=at.scale,ft=at.panelStateName,lt=(0,V.z)(Ce.cid,ProjectExchange),Ot=(0,R.a)(R.A.snapshot),kt=new F.G(lt,Ot),kt.buildWidgetTree(Oe.cid,Ie),We&&kt.replaceSymbolTree(he.cid,he.screen_meta_cid,de),Jt=void 0,Je.type==="table"?Jt=kt.getNode(((lr=Je.widget)==null?void 0:lr.source_cid)||Je.widget.cid):Jt=kt.getNode(Je.widget.cid),Qe||(Qe=vr(Jt),!ye&&Qe&&MB.notice({text:I18N.ExportManager.export_downloading_tips+'<a class="question-action" href="'+I18N.link.link_article_business_font_state+'" target="_blank" rel="noopener noreferrer">'+O.$s+"</a>",type:"export-downloading",duration:5e3,showClose:!0})),qt=(0,Pe.Wi)(Oe,Ue),_e.push(Lt({affix:rt,scale:Et,widgetTreeData:Jt,stateName:ft,screenClassName:qt}))}catch(tt){et.e(tt)}finally{et.f()}if(Kt(_e)){Ze.next=8;break}return Ze.abrupt("return");case 8:if(le(),Ze.prev=9,_e.length!==1){Ze.next=18;break}return Ze.t0=m.saveAs,Ze.next=14,Wt(_e[0]);case 14:Ze.t1=Ze.sent,(0,Ze.t0)(Ze.t1),Ze.next=44;break;case 18:mr=Oe.name,cr=[],ur=(0,b.Z)(_e),Ze.prev=21,ur.s();case 23:if((jr=ur.n()).done){Ze.next=32;break}return Zt=jr.value,Ze.t2=cr,Ze.next=28,Wt(Zt);case 28:Ze.t3=Ze.sent,Ze.t2.push.call(Ze.t2,Ze.t3);case 30:Ze.next=23;break;case 32:Ze.next=37;break;case 34:Ze.prev=34,Ze.t4=Ze.catch(21),ur.e(Ze.t4);case 37:return Ze.prev=37,ur.f(),Ze.finish(37);case 40:return me={},me[mr]=cr,Ze.next=44,Nt(mr,me);case 44:Ze.next=49;break;case 46:Ze.prev=46,Ze.t5=Ze.catch(9),console.error(Ze.t5);case 49:xe();case 50:case"end":return Ze.stop()}},we,null,[[9,46],[21,34,37,40]])}));return function(Ce,Te,Ie,Ue,Oe,ye,be,ke){return Ae.apply(this,arguments)}}(),Ee=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce,Te,Ie,Ue,Oe,ye,be){var ke,le,xe,je,We,he,de,_e,Qe,et,qe,at,Je,rt,Et;return(0,w.Z)().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(ke=ye.onStartExport,le=ye.onEndExport,xe=be===void 0?{}:be,je=xe.isInspectInPanel,We=xe.selectedPanel,he=xe.panelStateCid,de=Te[0].widgetTree.widget.display_name,_e=Te.filter(function(Ot){return Ot.format==="png"}).map(function(Ot){var kt=Ot.widgetTree,Jt=Ot.affix,lr=Ot.scale,qt=(0,V.z)(Ce.cid,ProjectExchange),mr=(0,R.a)(R.A.snapshot),cr=new F.G(qt,mr);cr.buildWidgetTree(Oe.cid,Ie),je&&cr.replaceSymbolTree(We.cid,We.screen_meta_cid,he);var ur=cr.getNode(kt.widget.cid),jr=(0,Pe.Wi)(Oe,Ue);return Lt({affix:Jt,scale:lr,widgetTreeData:ur,stateName:"",screenClassName:jr})}),Kt(_e)){lt.next=6;break}return lt.abrupt("return");case 6:ke(),lt.prev=7,Qe=Te.filter(function(Ot){return Ot.format==="svg"}).map(function(Ot){return wt(Ot.widgetTree.widget)}),et=[].concat(Qe),qe=(0,b.Z)(_e),lt.prev=11,qe.s();case 13:if((at=qe.n()).done){lt.next=22;break}return Je=at.value,lt.t0=et,lt.next=18,Wt(Je);case 18:lt.t1=lt.sent,lt.t0.push.call(lt.t0,lt.t1);case 20:lt.next=13;break;case 22:lt.next=27;break;case 24:lt.prev=24,lt.t2=lt.catch(11),qe.e(lt.t2);case 27:return lt.prev=27,qe.f(),lt.finish(27);case 30:if(et.length!==1){lt.next=34;break}(0,m.saveAs)(et[0]),lt.next=39;break;case 34:return rt=de,Et={},Et[rt]=et,lt.next=39,Nt(rt,Et);case 39:lt.next=44;break;case 41:lt.prev=41,lt.t3=lt.catch(7),console.error(lt.t3);case 44:le();case 45:case"end":return lt.stop()}},we,null,[[7,41],[11,24,27,30]])}));return function(Ce,Te,Ie,Ue,Oe,ye,be){return Ae.apply(this,arguments)}}(),Le=function(){var Ae=(0,T.Z)((0,w.Z)().mark(function we(Ce,Te,Ie,Ue,Oe,ye,be,ke){var le,xe,je,We,he,de,_e,Qe,et,qe,at,Je,rt,Et,ft,lt,Ot,kt,Jt,lr,qt,mr,cr,ur;return(0,w.Z)().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:le=ke.onStartExport,xe=ke.onEndExport,je=Ie[0].widgetTree.widget.display_name,We=!1,he=[],de=(0,b.Z)(Ie);try{for(de.s();!(_e=de.n()).done;)Qe=_e.value,et=Qe.panelStateName,qe=Qe.panelStateCid,at=Qe.widgetTree,Je=Qe.affix,rt=Qe.scale,Et=(0,V.p)(Ce.cid,ProjectExchange,Te,qe),ft=(0,R.a)(R.A.snapshot),lt=new F.G(Et,ft),lt.buildWidgetTree(ye.cid,Ue),Ot=lt.getNode(at.widget.cid),We||(We=vr(Ot),!be&&We&&MB.notice({text:I18N.ExportManager.export_downloading_tips+'<a class="question-action" href="'+I18N.link.link_article_business_font_state+'" target="_blank" rel="noopener noreferrer">'+O.$s+"</a>",type:"export-downloading",duration:5e3,showClose:!0})),kt=(0,Pe.Wi)(ye,Oe),he.push(Lt({affix:Je,scale:rt,widgetTreeData:Ot,stateName:et,screenClassName:kt}))}catch(me){de.e(me)}finally{de.f()}if(Kt(he)){Zt.next=8;break}return Zt.abrupt("return");case 8:if(le(),Zt.prev=9,he.length!==1){Zt.next=18;break}return Zt.t0=m.saveAs,Zt.next=14,Wt(he[0]);case 14:Zt.t1=Zt.sent,(0,Zt.t0)(Zt.t1),Zt.next=44;break;case 18:Jt=je,lr=[],qt=(0,b.Z)(he),Zt.prev=21,qt.s();case 23:if((mr=qt.n()).done){Zt.next=32;break}return cr=mr.value,Zt.t2=lr,Zt.next=28,Wt(cr);case 28:Zt.t3=Zt.sent,Zt.t2.push.call(Zt.t2,Zt.t3);case 30:Zt.next=23;break;case 32:Zt.next=37;break;case 34:Zt.prev=34,Zt.t4=Zt.catch(21),qt.e(Zt.t4);case 37:return Zt.prev=37,qt.f(),Zt.finish(37);case 40:return ur={},ur[Jt]=lr,Zt.next=44,Nt(Jt,ur);case 44:Zt.next=49;break;case 46:Zt.prev=46,Zt.t5=Zt.catch(9),console.error(Zt.t5);case 49:xe();case 50:case"end":return Zt.stop()}},we,null,[[9,46],[21,34,37,40]])}));return function(Ce,Te,Ie,Ue,Oe,ye,be,ke){return Ae.apply(this,arguments)}}()},44911:function(ce,Z,c){"use strict";c.d(Z,{EX:function(){return w},KU:function(){return A},iV:function(){return T},pq:function(){return x},tD:function(){return L}});var a=c(7108),d=c.n(a),b=c(40159),w=function(E,C,P){var S=E||{},D=S.is_trial_enabled;if(D)return!1;var I=T(C==null?void 0:C.plan,C==null?void 0:C.trial);if(!I)return!1;var f=C.trial_end_on;if(f)return!1;var k=P.some(function(u){var H=y(u),O=u.value_in_cents;return["paid"].includes(H)||O>10});return!k},T=function(E,C){return E==="org_free"&&!C},y=function(E){if(T(E==null?void 0:E.plan,E==null?void 0:E.trial))return"free";var C=E||{},P=C.paid,S=C.trial,D=C.value_in_cents,I=C.next_billing_on,f=C.plan,k=d()(I).startOf("day"),u=d()().startOf("day"),H=k.isSameOrBefore(u),O;return H?(O=D>10?"paidExpire":"trialExpire",f||(O="defaultExpire")):(P&&(O="paid"),S&&(O="trial")),O},x=function(E,C){return E==="org_free"&&!C?I18N.Common.free_plan:E==="org_lite"?I18N.Common.team_plan:E==="org_full"?I18N.Common.business_plan:E==="org_free"&&C?I18N.Common.business_trial_plan:I18N.Common.business_plan},A=function(E,C){if(C){var P=C.plan,S=C.trial;return x(P,S)}else return(E==null?void 0:E.current_plan)==="solo"?I18N.Common.personal_plan:I18N.Common.free_plan},m=function(E){return(E==null?void 0:E.current_project_version)||(E==null?void 0:E.currentProjectVersion)||"v4.0"},L=function(E,C){if(C&&C.cid){var P=C.limitation,S=C.plan,D=C.trial,I=C.paid,f=C.next_billing_on,k=C.value_in_cents;return{storage:P.storage,isExportWatermark:P.is_export_watermark,maxPicBytes:P.max_pic_bytes,maxScreenCount:P.max_screen_count,maxScreenCount2:P.max_p2page_count||3,maxProjectVersionCount:P.max_project_version_count,maxMktCount:P.max_mkt_count,plan:S,trial:D,paid:I,next_billing_on:f,value_in_cents:k,maxSharingCount:P.max_project_share_count,maxProjectCount:P.max_project_count}}if(E&&E.cid){var u=E.limitation,H=E.current_plan,O=E.trial,F=E.paid,j=E.next_billing_on,W=E.free_projects_count;return{storage:u.storage,current_plan:H,trial:O,paid:F,next_billing_on:j,isExportWatermark:!1,maxPicBytes:H==="solo"?b.uP:b.JT,maxScreenCount:(u==null?void 0:u.screens)||20,maxScreenCount2:(u==null?void 0:u.max_p2page_count)||3,maxProjectVersionCount:0,maxMktCount:0,value_in_cents:0,maxSharingCount:H==="solo"?3:1,maxProjectCount:W}}return{storage:0,isExportWatermark:!1,maxPicBytes:0,maxScreenCount:0,maxScreenCount2:0,maxProjectVersionCount:0,maxMktCount:0,plan:"",trial:!1,paid:!1,next_billing_on:"",value_in_cents:0,maxSharingCount:1,maxProjectCount:3}}},60747:function(ce,Z,c){"use strict";c.d(Z,{LE:function(){return I},Zl:function(){return P},sD:function(){return C},uL:function(){return g},wQ:function(){return E}});var a=c(91520),d=c(9575),b=c(61519),w=c(75844),T=c(3954),y=c(2909),x=c(98385),A=c(41768),m=Object.fromEntries(Object.entries(A.YE).filter(function(f){var k=(0,b.Z)(f,1),u=k[0];return!["Android"].concat((0,d.Z)(A._D)).includes(u)})),L=function(k){return!!w[k.model]},g=function(k){return L(k)?"device":"none"},E=function(k,u,H){var O=P(k,u),F=H==="landscape",j,W;if(u==="device"&&O.bg){var V=F?[O.height,O.width]:[O.width,O.height],G=(0,b.Z)(V,2);j=G[0],W=G[1]}else{var R=F?[k.height,k.width]:[k.width,k.height],z=(0,b.Z)(R,2);j=z[0],W=z[1]}return{width:j,height:W}},C=function(k,u,H,O){var F=P(k,u),j=H?[F.height,F.width]:[F.width,F.height],W=(0,b.Z)(j,2),V=W[0],G=W[1],R=O&&k.platform!=="web"?60:0;return{width:V,height:G+R}},P=function(k,u){return S(k,u)||D(k,u)},S=function(k,u){var H=k.model;return u!=="device"?null:w[H]?(0,a.Z)({},w[H]):null},D=function(k,u){var H=u==="none"?0:12,O=k.width+H*2,F=k.height+H*2,j=(0,y.CB)(k)?[Math.min(O,F),Math.max(O,F)]:[O,F],W=(0,b.Z)(j,2),V=W[0],G=W[1];return{device:"default",top:H,left:H,width:V,height:G}},I=function(k,u,H,O,F){var j,W=F===x.i5.landscape,V=w[u],G=(j=T[k])==null?void 0:j[u];if(!G||G&&(W?O:H)!==G.width){var R=Object.keys(m).filter(function(z){return!A._D.includes(z)}).find(function(z){return m[z].width===(W?O:H)});if(!R)return null;G=m[R],V=w[R]}return!V||!G?null:W?(0,a.Z)((0,a.Z)({},V),{},{bg:V.bg+"_land",screenWidth:G.height,screenHeight:G.width,width:V.height,height:V.width,top:V.left,left:V.top}):(0,a.Z)((0,a.Z)({},V),{},{screenWidth:G.width,screenHeight:G.height})}},59729:function(ce,Z,c){"use strict";c.d(Z,{gn:function(){return x},ll:function(){return y}});var a=c(70956),d="jsid",b=function(){try{var m=new URLSearchParams(location.search),L=m.get(d);L?window.localStorage.setItem(d,L):window.localStorage.removeItem(d)}catch(g){window.localStorage.removeItem(d)}},w=function(m){m===void 0&&(m=!1);try{if(ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return"";var L=window.localStorage.getItem(d);return L?m?"&jsid="+L:"?jsid="+L:""}catch(g){return""}};function T(A){var m=/^[^?#]+\?([^#]+)/.test(A),L=w(m),g=L&&(A==null?void 0:A.includes(L==null?void 0:L.slice(1)));return""+A+(g?"":L)}var y=function(m){var L=T(m);location.href=L},x=function(m,L,g){var E=T(m);(0,a.MI)(E,L,g)}},46506:function(ce,Z,c){"use strict";c.d(Z,{yI:function(){return a}});function a(w){return w.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}var d=function(T){return T.replace(/_(\w)/g,function(y,x){return x.toUpperCase()})},b=function(T){return T.replace(/([A-Z])/g,"_$1").toLowerCase()}},14730:function(ce,Z,c){"use strict";c.d(Z,{QT:function(){return S},T_:function(){return A},Tj:function(){return g},qH:function(){return L},tX:function(){return m}});var a=c(9575),d=c(18582),b=c(14914),w=c(13228),T=c(59234),y=Object.fromEntries(d.map(function(D){return[D.family,D.typeList.map(function(I){return(0,b.a7)(I,0)})]})),x=Object.fromEntries(d.map(function(D){return[D.family,["normal"].concat((0,a.Z)(D.typeList.find(function(I){return I.toLowerCase().includes("italic")})?["italic"]:[]))]})),A=function(){for(var I=(0,w.e)(),f=$(I).find(".ah"),k=12,u=12;u>=1;u--)f.css("font-size",u+"px"),f.css("line-height","100%"),f.text("a").height()===u&&(k=u);return k},m=function(I){return I.name==="rich_text"?{width:(0,T.bZ)(I),height:(0,T.xz)(I)}:{width:I.width,height:I.height}},L=function(I){return I.name==="rich_text"?E(I):I.height},g=function(I){return I.name==="rich_text"?C(I):I.height},E=function(I){if(I.name!=="rich_text")return null;var f=(0,w.e)(),k=f.getElementsByClassName("auto-width")[0];k.classList.add(I.font_direction),k.style.height=I.height+"px",k.innerHTML=(0,b.Hp)(I.text);var u=k.getBoundingClientRect();return k.classList.remove(I.font_direction),Math.ceil(u.width)},C=function(I){if(I.name!=="rich_text")return null;var f=(0,w.e)(),k=f.getElementsByClassName("auto-height")[0];k.classList.add(I.font_direction),k.style.width=I.width+"px",k.innerHTML=(0,b.Hp)(I.text);var u=k.getBoundingClientRect();return k.classList.remove(I.font_direction),Math.ceil(u.height)},P=function(I,f){var k=_objectSpread(_objectSpread({},I[0]),{},{children:void 0}),u=_objectSpread(_objectSpread({},I[0].children[0]),{},{text:void 0});return f.map(function(H){return _objectSpread(_objectSpread({},k),{},{children:[_objectSpread(_objectSpread({},u),{},{text:H})]})})},S=function(I){var f=new Set;return I.text.forEach(function(k){k.children.forEach(function(u){var H,O,F=(0,b.a7)(u.fontWeight,u.boldType);F=(H=y[u.fontFamily])!=null&&H.includes(F)?F:400;var j=(O=x[u.fontFamily])!=null&&O.includes(u.fontStyle)?u.fontStyle:"normal",W=u.fontFamily+"|"+j+"|"+F;f.add(W)})}),f}},29661:function(ce,Z,c){"use strict";c.d(Z,{Ep:function(){return m},pb:function(){return A}});var a=c(69770),d=c(58057),b=c(512),w=c(82418),T=6,y=function g(E,C,P){var S=C[E]||[];return{cid:E,data:P[E],children:S.map(function(D){var I=D.cid;return g(I,C,P)})}},x=function(E){var C=0,P=(0,b.Vx)(E);return""+(P?w.SU:w.qX)+w.UD+C};function A(g,E){E===void 0&&(E=!0);var C={},P=Object.fromEntries(g.map(function(D){return[D.cid,D]}));g.forEach(function(D){var I=P[D.parent_cid],f=I&&I.cid!==D.cid?I.cid:"root";if(E){var k=(0,d.yR)(D.project_meta_cid,D.cid);k.icon||(k.icon=x(D)),D.firstState=k}for(var u=f,H=0;H<T&&u!=="root";H++){var O;u=((O=P[u])==null?void 0:O.parent_cid)||"root"}u!=="root"?(D.parent_cid="",C.root=(C.root||[]).concat([D])):(D.parent_cid=f==="root"?"":f,C[f]=(C[f]||[]).concat([D]))}),Object.values(C).forEach(function(D){return D.sort(function(I,f){return I.position-f.position})});var S=y("root",C,P);return{screenTreeData:S,treeMap:C,dataMap:P}}function m(g,E,C,P){E===void 0&&(E=!0);var S={},D=Object.fromEntries(g.map(function(R){return[R.cid,R]})),I=Object.fromEntries(P.map(function(R){return[R.cid,R]})),f=g;f=[];var k=(0,a.Z)(C.screen_visible_list),u;try{var H=function(){var z=u.value,Y=g.find(function(X){return X.cid===z});Y&&f.push(Y)};for(k.s();!(u=k.n()).done;)H()}catch(R){k.e(R)}finally{k.f()}f.forEach(function(R){var z=D[R.parent_cid],Y=z&&z.cid!==R.cid?z.cid:"root";if(E){var X=(0,d.yR)(R.project_meta_cid,R.cid);X.icon||(X.icon=x(R)),R.firstState=X}for(var q=Y,_=0;_<T&&q!=="root";_++){var ee;q=((ee=D[q])==null?void 0:ee.parent_cid)||"root"}q!=="root"?(R.parent_cid="",S.root=(S.root||[]).concat([R])):(R.parent_cid=Y==="root"?"":Y,S[Y]=(S[Y]||[]).concat([R]))});var O=(0,a.Z)(S.root),F;try{for(O.s();!(F=O.n()).done;){var j=F.value;if(I[j.cid].parent_cid){var W=j.cid,V=L(I,W);D[W].position=V}}}catch(R){O.e(R)}finally{O.f()}Object.values(S).forEach(function(R){return R.sort(function(z,Y){return z.position-Y.position})});var G=y("root",S,D);return{screenTreeData:G,treeMap:S,dataMap:D}}var L=function(E,C){var P=0,S=function f(k){var u=E[k];if(!u)return 1;var H=String(u.position||1);return u.parent_cid?(P+=H.length,f(u.parent_cid)+H):H},D=S(C),I=parseInt(D)/Math.pow(10,P);return I}},27952:function(ce,Z,c){"use strict";c.d(Z,{rg:function(){return w}});var a=c(7108),d=c.n(a),b=function(x){if(!x)return"\u514D\u8D39\u7248";var A=x.plan;if(A==="free")return"\u514D\u8D39\u7248";if(A==="solo")return"\u6807\u51C6\u7248";if(A==="life_time")return"\u7EC8\u8EAB\u7248"},w=function(x){if(!x)return"free";var A=x.plan,m=x.paid,L=x.trial,g=x.next_billing_on,E=d()(g).startOf("day"),C=d()().startOf("day"),P=E.isSameOrBefore(C),S;return P?S="free":(m&&(S="paid"),A==="solo"&&L&&(S="trial"),A==="free"&&(S="free")),S},T=function(x){return(x==null?void 0:x.current_project_version)||(x==null?void 0:x.currentProjectVersion)||"v4.0"}},79292:function(ce,Z,c){"use strict";c.d(Z,{L3:function(){return O},Vu:function(){return H},_3:function(){return f},aq:function(){return D},ov:function(){return u},qQ:function(){return k},ub:function(){return F},vV:function(){return W},wY:function(){return S}});var a=c(61519),d=c(5207),b=c(17119),w=c(49548),T=c(55806),y=c(47273),x=c(1372),A=c(27783),m=c(35576),L=c(11685),g=c(38130),E=c(97358),C=c(68517),P=c(27319),S=function(G){return G.border_radius.split(",").map(function(R){return(parseInt(R)||0)+"px"}).join(" ")},D=function(G){var R;G.border?R=G.border:R=(0,b.DA)(G,"border");var z=(0,T.f8)(R);return z.isEnable?z.width:0},I=function(G){var R=(G.fs||0).toFixed(1);return R>0&&R<MB.config.minFS&&(MB.action?MB.action("entry:min:fontsize:issue"):MB.webpackInterface&&MB.webpackInterface.store.dispatch({type:"entry:min:fontsize:issue"})),R},f=function(G){var R=(0,d.xh)(G),z={};if(G.zoomable!==" "&&(z.width=G.width,z.height=G.height),G.background&&R.indexOf("background")!==-1&&!E.g5.includes(G.name)&&(z.backgroundColor=H(G)),R.indexOf("border")!==-1){var Y=F(G);if(Y){var X=Y.borderColor,q=Y.borderWidth,_=Y.borderStyle;z.borderColor=X,A.v8.indexOf(G.name)!==-1&&(z.borderWidth=q),A.u1.indexOf(G.name)!==-1&&(z.borderStyle=_)}else z.borderWidth=0,z.borderStyle="none",z.borderColor="unset"}G.box_shadow&&R.indexOf("box_shadow")!==-1&&(z.boxShadow=(0,y.mm)(G.box_shadow)),G.tc&&R.indexOf("tc")!==-1&&(z.color=typeof G.tc=="number"?(0,x.LW)(G.tc):G.tc),R.indexOf("text_shadow")!==-1&&G.text_shadow?z.textShadow=(0,y.oA)(G.text_shadow):G.ts>0&&(z.textShadow="0 0 "+G.ts+" "+G.tsc),R.indexOf("border_radius")!==-1&&(G.border_radius&&(z.borderRadius=S(G)),G.name===L.l.ImageView&&G.clip_type===g.eE.circular&&(z.borderRadius="100%")),G.clip&&R.indexOf("clip")!==-1&&(z.clipPath=G.clip,z.WebkitClipPath=G.clip);var ee=I(G);return R.indexOf("fs")!==-1&&ee>0&&(z.fontSize=ee+"px"),R.indexOf("padding")!==-1&&(z.padding=G.padding),R.indexOf("ha")!==-1&&(z.textAlign=G.ha),R.indexOf("lh")!==-1&&(z.lineHeight=G.lh+"px"),z.fontWeight=G.bo?"bold":"normal",z.fontStyle=G.i?"italic":"normal",z},k=function(G,R){var z=R===void 0?{}:R,Y=z.isPreview,X=Y===void 0?!1:Y,q=z.isSnapshot,_=q===void 0?!1:q,ee=f(G),oe=(0,d.xh)(G);ee.zIndex=G.z,ee.left=G.left,ee.top=G.top,oe.indexOf("ro")!==-1&&G.ro&&(ee.transform="rotate("+G.ro+"deg)",ee.WebkitTransform="rotate("+G.ro+"deg)"),X&&!_&&G.ani_name!=="none"&&(G.ani_delay&&G.ani_delay!=="0"&&(ee.animationDelay=G.ani_delay),ee.animationIterationCount=G.ani_count,G.ani_duration&&G.ani_duration!=="0"&&(ee.animationDuration=G.ani_duration));var pe;G.v?pe=oe.indexOf("o")!==-1?G.o/100:"":pe=0;var ve;return!G.v&&X&&(ve="none"),pe!==""&&(ee.opacity=pe),ve&&(ee.pointerEvents=ve),G.transition&&(ee.transition=G.transition),ee},u=function(G,R){var z=R===void 0?{}:R,Y=z.links,X=Y===void 0?null:Y,q=z.isPreview,_=q===void 0?!1:q,ee=z.isSnapshot,oe=ee===void 0?!1:ee,pe="widget "+G.name;return(0,d.xh)(G).indexOf("ha")!==-1&&(pe+=" h"+G.ha),(0,d.xh)(G).indexOf("va")!==-1&&(pe+=" v"+G.va),G.td!=="normal"&&(pe+=" td"+G.td),G.name==="pg"&&(pe+=" s"+G.icon),G.name==="switch"&&G.checked&&(pe+=" checked"),_&&!oe&&(X&&X.length&&G.v&&G.link_cids&&(pe+=(0,m.a0)(X)),G.ani_name!=="none"&&G.v&&(pe+=" animated "+G.ani_name)),G.name==="rich_text"&&G.size_type===0&&(pe+=" auto"),pe},H=function(G){var R;return G.background?R=G.background:R=(0,b.DA)(G,"background"),(0,w.mg)(R)||"transparent"},O=function(G){var R=(0,C.qb)(G.fills[0],{w:G.width,h:G.height}),z=P.I.toRGBAStr(R.color||R.colors[0]),Y=j(z,-20);(z==="transparent"||!R.v)&&(Y="#ccc"),z||(Y="#c1b97e");var X=G.tc?j(G.tc,20):"#7D8694";return{lineColor:Y,textPlaceHolder:X}},F=function(G){var R;return G.border?R=G.border:R=(0,b.DA)(G,"border"),(0,T.zf)(R)};function j(V,G){var R=0,z=0,Y=0,X=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,q=/^rgb/i;if(X.test(V))R=parseInt(V.substring(1,3),16),z=parseInt(V.substring(3,5),16),Y=parseInt(V.substring(5,7),16);else if(q.test(V)){var _,ee=((_=V.split("rgba("))==null?void 0:_.length)===1?V.split("rgb("):V.split("rgba("),oe=ee[1].split(")")[0].split(",");R=oe[0],z=oe[1],Y=oe[2]}else return V;R=parseInt(R*(100+G)/100),z=parseInt(z*(100+G)/100),Y=parseInt(Y*(100+G)/100),R=R<255?R:255,z=z<255?z:255,Y=Y<255?Y:255;var pe=R.toString(16).length===1?"0"+R.toString(16):R.toString(16),ve=z.toString(16).length===1?"0"+z.toString(16):z.toString(16),Pe=Y.toString(16).length===1?"0"+Y.toString(16):Y.toString(16);return"#"+pe+ve+Pe}var W=function(G){var R=(0,a.Z)(G,7),z=R[0],Y=R[1],X=R[2],q=R[3],_=R[4];return z?"drop-shadow("+X+"px "+q+"px "+_+"px "+(0,x.LW)(Y)+")":null}},54977:function(ce,Z,c){"use strict";c.d(Z,{$E:function(){return vt},$V:function(){return ee},JC:function(){return P},JS:function(){return x},L6:function(){return C},LJ:function(){return ht},SI:function(){return Ke},TG:function(){return G},TX:function(){return oe},X2:function(){return Kt},XZ:function(){return R},Yr:function(){return Re},ZF:function(){return ve},ZW:function(){return _},_W:function(){return zt},_z:function(){return Gt},aK:function(){return S},bf:function(){return k},br:function(){return X},ep:function(){return Ge},h5:function(){return V},iE:function(){return vr},iK:function(){return Lt},in:function(){return St},nI:function(){return wt},tG:function(){return Ne},vz:function(){return Pe},xF:function(){return Y},yd:function(){return pe},zQ:function(){return D}});var a=c(91520),d=c(9575),b=c(69770),w=c(61519),T=c(12107),y=c(95349),x=1,A={middle:"center",top:"flex-start",bottom:"flex-end"},m={center:"middle","flex-start":"top","flex-end":"bottom"},L={ha:["text-align","left"],va:["align-items","center"],fontSize:["font-size",14],color:["color","#101010"],boldType:["font-weight","normal"],fontStyle:["font-style","normal"],textDecoration:["text-decoration","normal"],lineHeight:["line-height",20],padding:["padding",4]},g=function(Ee){var Le=new Map;return Object.entries(Ee).forEach(function(Ae){var we=(0,w.Z)(Ae,2),Ce=we[0],Te=we[1],Ie=Ce.split("-"),Ue=(0,w.Z)(Ie,2),Oe=Ue[0],ye=Ue[1],be=(0,w.Z)(Te,2),ke=be[0],le=be[1];Oe=Number(Oe),ye=Number(ye);for(var xe=Oe;xe<=Oe+ke-1;xe++)for(var je=ye;je<=ye+le-1;je++)Le.set(xe+"-"+je,Ce)}),Le},E=function(Ee,Le,Ae,we,Ce,Te,Ie){var Ue=Ee.tableData.mergeCells;if(Object.keys(Ue).length===0)return{};var Oe=new Map,ye=g(Ue);(Te==="row"||Te==="deleterow")&&Object.entries(Ue).forEach(function(he){var de=(0,w.Z)(he,2),_e=de[0],Qe=de[1],et=_e.split("-"),qe=(0,w.Z)(et,2),at=qe[0],Je=qe[1],rt=(0,w.Z)(Qe,2),Et=rt[0],ft=rt[1];if(at=Number(at),Je=Number(Je),Te==="row"?Je>=Ae:Je+Ie>=Ae)Oe.set(at+"-"+(Je+Ie),Qe);else if(Je+ft-1<Ae)Oe.set(_e,Qe);else for(var lt=Le;lt<=we;lt++)for(var Ot=Ae;Ot<=Ce;Ot++){var kt=lt+"-"+Ot;ye.has(kt)&&!Oe.has(ye.get(kt))&&(Et===1&&ft+Ie===1||ft+Ie!==0&&Oe.set(_e,[Et,ft+Ie]))}}),(Te==="column"||Te==="deletecolumn")&&Object.entries(Ue).forEach(function(he){var de=(0,w.Z)(he,2),_e=de[0],Qe=de[1],et=_e.split("-"),qe=(0,w.Z)(et,2),at=qe[0],Je=qe[1],rt=(0,w.Z)(Qe,2),Et=rt[0],ft=rt[1];if(at=Number(at),Je=Number(Je),Te==="column"?at>=Le:at+Ie>=Le)Oe.set(at+Ie+"-"+Je,Qe);else if(at+Et-1<Le)Oe.set(_e,Qe);else for(var lt=Le;lt<=we;lt++)for(var Ot=Ae;Ot<=Ce;Ot++){var kt=lt+"-"+Ot;ye.has(kt)&&!Oe.has(ye.get(kt))&&(Et+Ie===1&&ft===1||Et+Ie!==0&&Oe.set(_e,[Et+Ie,ft]))}});var be={},ke=(0,b.Z)(Oe),le;try{for(ke.s();!(le=ke.n()).done;){var xe=(0,w.Z)(le.value,2),je=xe[0],We=xe[1];be[je]=We}}catch(he){ke.e(he)}finally{ke.f()}return be},C=function(Ee,Le,Ae,we){var Ce=Ee.tableData,Te=Ce.rows,Ie=Ce.data,Ue=Ce.cellStyles,Oe=Ce.columns,ye=Be(Ee.tableData),be=(0,d.Z)(Te),ke=(0,d.Z)(Ie),le=(0,d.Z)(Ue),xe=(0,d.Z)(ye),je=Ae+1;we&&(je=Ae);var We=E(Ee,0,je,Oe.length-1,je+Le-1,"row",Le);be.splice.apply(be,[je,0].concat((0,d.Z)(Array(Le).fill(be[Ae]))));var he=Array(Le).fill(Array(Oe.length).fill(""));xe.splice.apply(xe,[je,0].concat((0,d.Z)(he))),ke.splice.apply(ke,[je,0].concat((0,d.Z)(he))),le.splice.apply(le,[je,0].concat((0,d.Z)(he)));var de=I(be),_e=k({height:de,width:Ee.width,columns:Ee.tableData.columns,rows:be}),Qe=_e.widthProportion,et=_e.heightProportion,qe=(0,a.Z)((0,a.Z)({},Ee),{},{height:de,widthProportion:Qe,heightProportion:et,tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{data:ke,links:xe,rows:be,cellStyles:le,mergeCells:We})});return qe},P=function(Ee,Le,Ae){var we=Ee.tableData,Ce=we.rows,Te=we.data,Ie=we.cellStyles,Ue=we.columns;if(Ae===Ce.length)return T.R.externalFunc.limitOneRowOrCoulumAlert(),{};var Oe=Be(Ee.tableData),ye=(0,d.Z)(Ce),be=(0,d.Z)(Te),ke=(0,d.Z)(Ie),le=(0,d.Z)(Oe),xe=[],je=E(Ee,0,Le,Ue.length-1,Le+Ae-1,"deleterow",-Ae);ye.splice(Le,Ae),le.splice(Le,Ae),be.splice(Le,Ae),ke.splice(Le,Ae);for(var We=Le;We<Le+Ae;We++){var he=Oe[We];he.forEach(function(at){xe=[].concat((0,d.Z)(xe),(0,d.Z)(T.R.externalFunc.getLinkCidArr(at)))})}var de=I(ye),_e=k({height:de,width:Ee.width,columns:Ee.tableData.columns,rows:ye}),Qe=_e.widthProportion,et=_e.heightProportion,qe=(0,a.Z)((0,a.Z)({},Ee),{},{widthProportion:Qe,heightProportion:et,height:de,tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{data:be,links:le,rows:ye,cellStyles:ke,mergeCells:je})});return{newWidget:qe,linkCidArr:xe}},S=function(Ee,Le,Ae,we){var Ce=Ee.tableData,Te=Ce.columns,Ie=Ce.data,Ue=Ce.cellStyles,Oe=Ce.rows,ye=Be(Ee.tableData),be=(0,d.Z)(Te),ke=Ae+1;we&&(ke=Ae);var le=E(Ee,ke,0,Oe.length-1,ke+Le-1,"column",Le),xe=ye.map(function(qe){var at=(0,d.Z)(qe);return at.splice.apply(at,[ke,0].concat((0,d.Z)(Array(Le).fill("")))),at}),je=Ie.map(function(qe){var at=(0,d.Z)(qe);return at.splice.apply(at,[ke,0].concat((0,d.Z)(Array(Le).fill("")))),at}),We=Ue.map(function(qe){var at=(0,d.Z)(qe);return at.splice.apply(at,[ke,0].concat((0,d.Z)(Array(Le).fill("")))),at});be.splice.apply(be,[ke,0].concat((0,d.Z)(Array(Le).fill(be[Ae]))));var he=f(be),de=k({height:Ee.height,width:he,columns:be,rows:Ee.tableData.rows}),_e=de.widthProportion,Qe=de.heightProportion,et=(0,a.Z)((0,a.Z)({},Ee),{},{widthProportion:_e,heightProportion:Qe,width:he,tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{data:je,links:xe,columns:be,cellStyles:We,mergeCells:le})});return et},D=function(Ee,Le,Ae){var we=Ee.tableData,Ce=we.columns,Te=we.data,Ie=we.cellStyles,Ue=we.rows;if(Ae===Ce.length)return T.R.externalFunc.limitOneRowOrCoulumAlert(),{};var Oe=Be(Ee.tableData),ye=(0,d.Z)(Ce),be=[],ke=E(Ee,Le,0,Ue.length-1,Le+Ae-1,"deletecolumn",-Ae),le=Oe.map(function(et){var qe=(0,d.Z)(et);return qe.splice(Le,Ae),qe}),xe=Te.map(function(et){var qe=(0,d.Z)(et);return qe.splice(Le,Ae),qe}),je=Ie.map(function(et){var qe=(0,d.Z)(et);return qe.splice(Le,Ae),qe});ye.splice(Le,Ae);var We=f(ye),he=k({height:Ee.height,width:We,columns:ye,rows:Ee.tableData.rows}),de=he.widthProportion,_e=he.heightProportion,Qe=(0,a.Z)((0,a.Z)({},Ee),{},{width:We,widthProportion:de,heightProportion:_e,tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{data:xe,links:le,columns:ye,cellStyles:je,mergeCells:ke})});return Oe.forEach(function(et){for(var qe=Le;qe<Le+Ae;qe++)be=[].concat((0,d.Z)(be),(0,d.Z)(T.R.externalFunc.getLinkCidArr(et[qe])))}),{newWidget:Qe,linkCidArr:be}},I=function(Ee){return Ee.reduce(function(Le,Ae){return Le+Number.parseFloat(Ae.height)},0)},f=function(Ee){return Ee.reduce(function(Le,Ae){return Le+Number.parseFloat(Ae.width)},0)},k=function(Ee){var Le=Ee.height,Ae=Ee.width,we=Ee.columns,Ce=Ee.rows,Te=[],Ie=[];return we.forEach(function(Ue){return Ie.push(Ue.width/Ae)}),Object.values(Ce).forEach(function(Ue){return Te.push(Number.parseFloat(Ue.height)/Le)}),{widthProportion:Ie,heightProportion:Te}},u=function(Ee){var Le=Ee.tableData.columns;return x*Le.length},H=function(Ee){var Le=Ee.tableData.rows;return x*Le.length},O=function(Ee,Le){for(var Ae=Ee.reduce(function(we,Ce){return we+Ce},0);Le&&Ae;)Ee=Ee.map(function(we){return we&&Le?(Le=Le-1,Ae=Ae-1,we-1):0});return Ee},F=function(Ee){var Le=Ee.width,Ae=Ee.height,we=Ee.widthProportion,Ce=Ee.heightProportion,Te=Ee.tableData,Ie=Te.rows,Ue=Te.columns,Oe=Ee;Oe=j(Oe,we,Le),Oe=W(Oe,Ce,Ae);var ye=!1,be=!1,ke=Oe,le=ke.tableData,xe=le.rows,je=le.columns;if(xe.some(function(lt){return lt.height<x})&&(be=!0),je.some(function(lt){return lt.width<x})&&(ye=!0),ye){var We=f(Ue),he=We-Le,de=Ue.map(function(lt){return lt.width-x}),_e=_toConsumableArray(de);de=O(de,he);var Qe=Ue.map(function(lt,Ot){return{type:"text",width:lt.width-(_e[Ot]-de[Ot])}}),et=[];Qe.forEach(function(lt){return et.push(lt.width/Le)}),Oe.tableData.columns=Qe,Oe.widthProportion=et}if(be){var qe=I(Ie),at=qe-Ae,Je=Ie.map(function(lt){return lt.height-x}),rt=_toConsumableArray(Je);Je=O(Je,at);var Et=Ie.map(function(lt,Ot){return{height:lt.height-(rt[Ot]-Je[Ot])}}),ft=[];Object.values(Et).forEach(function(lt){return ft.push(Number.parseFloat(lt.height)/Ae)}),Oe.tableData.rows=Et,Oe.heightProportion=ft}return Oe},j=function(Ee,Le,Ae){var we=Le.length-1,Ce=Le.map(function(Te){return{type:"text",width:Math.floor(Ae*Te)}});return Ce[we]={type:"text",width:Ae-Ce.reduce(function(Te,Ie,Ue){return Ue===we&&(Ie={width:0}),Te=Te+Ie.width,Te},0)},_objectSpread(_objectSpread({},Ee),{},{tableData:_objectSpread(_objectSpread({},Ee.tableData),{},{columns:Ce})})},W=function(Ee,Le,Ae){var we=Le.length-1,Ce=Le.map(function(Te){return{height:Math.floor(Ae*Te)}});return Ce[we]={height:Ae-Ce.reduce(function(Te,Ie,Ue){return Ue===we&&(Ie={height:0}),Te=Te+Number(Ie.height),Te},0)},_objectSpread(_objectSpread({},Ee),{},{tableData:_objectSpread(_objectSpread({},Ee.tableData),{},{rows:Ce})})},V=function(Ee,Le,Ae){var we=Ee.tableData.rows,Ce=we.map(function(ye,be){return Le===be?(0,a.Z)((0,a.Z)({},ye),{},{height:Ae}):(0,a.Z)({},ye)}),Te=I(Ce),Ie=k({height:Te,width:Ee.width,columns:Ee.tableData.columns,rows:Ce}),Ue=Ie.widthProportion,Oe=Ie.heightProportion;return(0,a.Z)((0,a.Z)({},Ee),{},{height:Te,widthProportion:Ue,heightProportion:Oe,tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{rows:Ce})})},G=function(Ee,Le,Ae){var we=Ee.tableData.columns,Ce=we.map(function(ye,be){return Le===be?(0,a.Z)((0,a.Z)({},ye),{},{width:Ae}):(0,a.Z)({},ye)}),Te=f(Ce),Ie=k({height:Ee.height,width:Te,columns:Ce,rows:Ee.tableData.rows}),Ue=Ie.widthProportion,Oe=Ie.heightProportion;return(0,a.Z)((0,a.Z)({},Ee),{},{width:Te,widthProportion:Ue,heightProportion:Oe,tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{columns:Ce})})},R=function(Ee,Le){var Ae=Ee.selectionLeftTopInfo,we=Ae.x,Ce=Ae.y,Te=(0,y.mb)(Le.tableData.cellStyles[Ce][we]);return z(Te)},z=function(Ee){var Le={newOverOld:!1,showContentBox:!1,ha:"center",va:"middle",fontSize:14,color:"rgba(91, 107, 115, 1)",boldType:0,fontStyle:"normal",textDecoration:"normal",lineHeight:20,padding:0,haDisabled:!1,vaDisabled:!1,canShowParagraph:!0,isDisabledFontDropdown:!1,isDisabledFontRadioLine:!1,isEditing:!1};return Object.keys(Le).forEach(function(Ae){L[Ae]&&(Le[Ae]=Ee.get(L[Ae][0])||L[Ae][1])}),Le.va=m[Le.va],Le.padding=Number.parseInt(Le.padding),Le.fontSize=Number.parseInt(Le.fontSize),Le.lineHeight=Number.parseInt(Le.lineHeight),Le.boldType=+(Le.boldType==="bold"),Le},Y=function(Ee,Le,Ae,we){var Ce=Le.selectionLeftTopInfo,Te=Ce.x,Ie=Ce.y,Ue=Le.selectionRightBottomInfo,Oe=Ue.x,ye=Ue.y,be=Ee.tableData,ke=be.rows,le=be.columns,xe=be.mergeCells,je=ke,We=le,he=!(Te===Oe&&Ie===ye),de=new Set([Te+"-"+Ie]);if(he)for(var _e=g(xe),Qe=Te;Qe<=Oe;Qe++)for(var et=Ie;et<=ye;et++){var qe=Qe+"-"+et;de.has(qe)||(_e.has(qe)?xe[qe]&&de.add(qe):de.add(qe))}var at=new Map,Je=new Map;Array.from(de).forEach(function(kt){var Jt=kt.split("-"),lr=(0,w.Z)(Jt,2),qt=lr[0],mr=lr[1],cr=Number(qt),ur=Number(mr);if(xe[kt]){var jr=(0,w.Z)(xe[kt],2),Zt=jr[0],me=jr[1];if(we==="rows"){var He=Math.max(Math.round(Ae/me),x);Array(me).fill(0).forEach(function(tt,gt){gt===me-1?at.set(ur+gt,Math.max(Ae-(me-1)*He,x)):at.set(ur+gt,He)})}else if(we==="columns"){var Ze=Math.max(Math.round(Ae/Zt),x);Array(Zt).fill(0).forEach(function(tt,gt){gt===Zt-1?Je.set(cr+gt,Math.max(Ae-(Zt-1)*Ze,x)):Je.set(cr+gt,Ze)})}}else we==="rows"?at.set(ur,Ae):we==="columns"&&Je.set(cr,Ae)}),we==="rows"&&(je=ke.map(function(kt,Jt){return at.has(Jt)?{height:at.get(Jt)}:kt})),we==="columns"&&(We=le.map(function(kt,Jt){return Je.has(Jt)?(0,a.Z)((0,a.Z)({},kt),{},{width:Je.get(Jt)}):kt}));var rt=f(We),Et=I(je),ft=k({height:Et,width:rt,columns:We,rows:je}),lt=ft.widthProportion,Ot=ft.heightProportion;return(0,a.Z)((0,a.Z)({},Ee),{},{width:rt,height:Et,widthProportion:lt,heightProportion:Ot,tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{rows:je,columns:We})})},X=function(Ee,Le,Ae,we){switch(we==="cellBackground"&&(we="background"),we){case"va":we="align-items",Ae=A[Ae];break;case"ha":we="text-align";break;case"fontSize":we="font-size",Ae=Ae+"px";break;case"boldType":we="font-weight",Ae=Ae?"bold":"normal";break;case"fontStyle":we="font-style";break;case"textDecoration":we="text-decoration",Ae=Ae==="normal"?"none":Ae;break;case"padding":Ae=Ae+"px";break;case"lineHeight":we="line-height",Ae=Ae+"px";break}for(var Ce=Le.selectionLeftTopInfo,Te=Ce.x,Ie=Ce.y,Ue=Le.selectionRightBottomInfo,Oe=Ue.x,ye=Ue.y,be=Ee.tableData.cellStyles,ke=JSON.parse(JSON.stringify(be)),le=Te;le<=Oe;le++)for(var xe=Ie;xe<=ye;xe++)ke[xe][le]=q(we,Ae,be[xe][le]);return(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{cellStyles:ke})})},q=function(Ee,Le,Ae,we){we===void 0&&(we="change");var Ce=(0,y.mb)(Ae);Ce.set(Ee,Le);var Te="";return Ce.forEach(function(Ie,Ue){we==="delete"&&Ue===Ee||(Te=Te+(Ue+": "+Ie+";"))}),Te},_=function(Ee,Le,Ae,we){var Ce=Ee.tableData.data,Te=Ce.map(function(Ie,Ue){return Ie.map(function(Oe,ye){return Number(Le)===ye&&Number(Ae)===Ue?we:Oe})});return(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{data:Te})})},ee=function(Ee,Le,Ae,we,Ce,Te){var Ie=Ee.tableData,Ue=Ie.data,Oe=Ie.mergeCells,ye=g(Oe),be=Ue.map(function(ke,le){return ke.map(function(xe,je){return Te.has(je+"-"+le)&&!(!Oe[je+"-"+le]&&ye.has(je+"-"+le))?Te.get(je+"-"+le)||"":xe})});return(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{data:be})})},oe=function(Ee,Le,Ae,we,Ce,Te,Ie){var Ue=Ee.tableData,Oe=Ue.data,ye=Ue.links,be=Ue.cellStyles,ke=Ue.mergeCells,le=T.R.externalFunc.getCurrentScreen().cid,xe=T.R.externalFunc.getCurrentScreenStateCid(),je=g(ke),We=function(et,qe){return et.map(function(at,Je){return at.map(function(rt,Et){if(Te.has(Et+"-"+Je)&&!(!ke[Et+"-"+Je]&&je.has(Et+"-"+Je))){var ft=Te.get(Et+"-"+Je);if(qe==="link"&&ft&&ft[qe]){var lt=T.R.externalFunc.getLinkCidArr(ft[qe]),Ot=[];return lt.forEach(function(kt){var Jt=T.R.externalFunc.getRandomItemCid();Ot.push(Jt);var lr=T.R.externalFunc.createLink((0,a.Z)((0,a.Z)({},Ie[kt]),{},{cid:Jt}));T.R.externalFunc.updateItemState(lr,{screenMetaCid:le,screenStateCid:xe})}),Ot.join(",")}else return ft&&ft[qe]||""}else return rt})})},he=We(Oe,"data"),de=We(ye,"link"),_e=We(be,"cellStyle");return T.R.externalFunc.renderLinks(),(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{data:he,links:de,cellStyles:_e})})},pe=function(Ee,Le,Ae,we,Ce,Te){var Ie=Ee.tableData,Ue=Ie.cellStyles,Oe=Ie.mergeCells,ye=g(Oe),be=Ue.map(function(ke,le){return ke.map(function(xe,je){return Te.has(je+"-"+le)&&!(!Oe[je+"-"+le]&&ye.has(je+"-"+le))?Te.get(je+"-"+le)||"":xe})});return(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{cellStyles:be})})},ve=function(Ee,Le,Ae,we,Ce,Te,Ie,Ue){var Oe=Ee.tableData,ye=Oe.links,be=Oe.mergeCells,ke=new Map,le=T.R.externalFunc.getCurrentScreen().cid,xe=T.R.externalFunc.getCurrentScreenStateCid(),je=T.R.externalFunc.getCurrentProjectMeta().cid,We=Ue!==je,he=g(be),de=ye.map(function(_e,Qe){return _e.map(function(et,qe){if(Te.has(qe+"-"+Qe)&&!(!be[qe+"-"+Qe]&&he.has(qe+"-"+Qe))){var at=Te.get(qe+"-"+Qe),Je=[];return at&&(Je=T.R.externalFunc.getLinkCidArr(at).map(function(rt){if(!Ie[rt])return"";var Et=T.R.externalFunc.filterCopyItem(Ie[rt],We,new Set(le),new Set(xe));if(!Et)return"";var ft=T.R.externalFunc.getRandomItemCid();return ke.set(rt,ft),ft}).filter(function(rt){return rt})),Je.join(",")}else return et})});return T.R.externalFunc.renderLinks(),ke.forEach(function(_e,Qe){var et=T.R.externalFunc.createLink((0,a.Z)((0,a.Z)({},Ie[Qe]),{},{cid:_e}));T.R.externalFunc.updateItemState(et,{screenMetaCid:le,screenStateCid:xe})}),(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{links:de})})},Pe=function(Ee,Le){var Ae=Ee.tableData,we=Ae.data,Ce=Ae.links,Te=Ae.cellStyles,Ie=Le.selectionLeftTopInfo,Ue=Ie.x,Oe=Ie.y,ye=Le.selectionRightBottomInfo,be=ye.x,ke=ye.y,le=new Map;return we.forEach(function(xe,je){return xe.forEach(function(We,he){Ue<=he&&he<=be&&je>=Oe&&je<=ke&&le.set(he+"-"+je,{data:We,link:Ce[je][he],cellStyle:Te[je][he]})})}),le},Re=function(Ee,Le,Ae){for(var we=Le.selectionLeftTopInfo,Ce=we.x,Te=we.y,Ie=Le.selectionRightBottomInfo,Ue=Ie.x,Oe=Ie.y,ye=Ae.start,be=Ae.end,ke=Ae.isV,le=ye.x,xe=ye.y,je=be.x,We=be.y,he=new Map,de=Math.abs(Ue-Ce+1),_e=Math.abs(Oe-Te+1),Qe=[],et=xe;et<=We;et++){for(var qe=[],at=le;at<=je;at++)qe.push([at,et]);Qe.push(qe)}return Qe.forEach(function(Je){Je.forEach(function(rt){var Et=(0,w.Z)(rt,2),ft=Et[0],lt=Et[1],Ot,kt;ke?(Ot=ft,kt=_e===0?Te:Te+(lt-xe)%_e):(Ot=de===0?Ce:Ce+(ft-le)%de,kt=lt),he.set(ft+"-"+lt,Ee.get(Ot+"-"+kt))})}),he},Ne=function(Ee,Le,Ae,we,Ce){for(var Te=new Map,Ie=Ee;Ie<=Ae;Ie++)for(var Ue=Le;Ue<=we;Ue++)Te.set(Ie+"-"+Ue,Ce);return Te},Be=function(Ee){if(Ee.links&&Ee.links.length&&Ee.links[0].length)return JSON.parse(JSON.stringify(Ee.links));var Le=Ee.rows.length,Ae=Ee.columns.length,we=Array(Le).fill("");return we.map(function(){return Array(Ae).fill("")})},Ke=function(Ee,Le){var Ae=Ee.selectionLeftTopInfo,we=Ae.x,Ce=Ae.y,Te=Ee.selectionRightBottomInfo,Ie=Te.x,Ue=Te.y,Oe=Le.endX,ye=Le.endY,be=Math.abs(Oe-Ie),ke=Math.abs(ye-Ue),le=ke>be,xe=!1,je={x:0,y:0},We={x:0,y:0};if(le){if(ye>=Ce&&ye<=Ue)return null;Ce>ye?(xe=!0,je={x:we,y:ye},We={x:Ie,y:Ce-1}):(je={x:we,y:Ue+1},We={x:Ie,y:ye})}else{if(Oe>=we&&Oe<=Ie)return null;we>Oe?(xe=!0,je={x:Oe,y:Ce},We={x:we-1,y:Ue}):(je={x:Ie+1,y:Ce},We={x:Oe,y:Ue})}return{start:je,end:We,isV:le,isToTopOrLeft:xe}},Ve=function(Ee){return Ee.map(function(Le){return Le.map(function(Ae){return Ae})})},ht=function(Ee,Le,Ae){for(var we=Ee.tableData,Ce=we.data,Te=we.links,Ie=we.cellStyles,Ue=Le.selectionLeftTopInfo,Oe=Ue.x,ye=Ue.y,be=Le.selectionRightBottomInfo,ke=be.x,le=be.y,xe=[],je=[],We=[],he={},de=Ve(Te),_e=Ve(Ie),Qe=Ve(Ce),et=ye;et<=le;et++){for(var qe=[],at=[],Je=[],rt=Oe;rt<=ke;rt++){qe.push(Ce[et][rt].replace(/(\r\n|\r|\n)/g,"<br/>")),at.push(Te[et][rt]),Je.push(Ie[et][rt]),de[et][rt]="",_e[et][rt]="",Qe[et][rt]="";var Et=T.R.externalFunc.getLinkCidArr(Te[et][rt]);Et.forEach(function(kt){he[kt]=Ae[kt]})}je.push(at),We.push(Je),xe.push(qe.join("	"))}var ft=xe.join("\n"),lt={copyStr:ft,copyLinkCids:je,copyStyles:We,copyLinkMap:he,olProjectMetaCid:T.R.externalFunc.getCurrentProjectMeta().cid};T.R.externalFunc.saveTableInfoToClipboard(lt);var Ot=T.R.tableHandle.el.querySelector(".jexcel_textarea");return Ot.value=ft,Ot.select(),document.execCommand("copy"),{widget:(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{links:de,data:Qe,cellStyles:_e})}),str:ft}},Ge=function(Ee,Le,Ae,we){var Ce=Ee.tableData,Te=Ce.rows,Ie=Ce.columns,Ue=Ie.length-1,Oe=Te.length-1,ye=Le.split("\n").filter(Boolean).map(function(Qe){return Qe.split("	").filter(Boolean).map(function(et){return et.replace("\r","")})}),be=T.R.externalFunc.readTableInfoFromClipboard(),ke=!1,le,xe,je,We;be&&be.copyStr===Le.replace(/\r/g,"")&&(ke=!0,le=be.copyLinkCids,xe=be.copyStyles,je=be.copyLinkMap,We=be.olProjectMetaCid);var he=new Map,de=new Map;ke||(he=null,de=null);var _e=new Map;return ye.forEach(function(Qe,et){Qe.forEach(function(qe,at){var Je=Ae+at,rt=we+et;Je>Ue||rt>Oe||(_e.set(Je+"-"+rt,qe),ke&&(he.set(Je+"-"+rt,le[et][at]),de.set(Je+"-"+rt,xe[et][at])))})}),{willCopyLinks:he,willCopyStyles:de,copyLinkMap:je,map:_e,olProjectMetaCid:We,endX:Math.min(Ae+ye[0].length-1,Ue),endY:Math.min(we+ye.length-1,Oe)}},vt=function(Ee,Le){var Ae=Ee.tableData.mergeCells,we=Le.selectionLeftTopInfo,Ce=we.x,Te=we.y,Ie=(0,a.Z)({},Ae);return Ie[Ce+"-"+Te]&&delete Ie[Ce+"-"+Te],(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{mergeCells:Ie})})},St=function(Ee,Le){for(var Ae=Ee.tableData,we=Ae.mergeCells,Ce=Ae.data,Te=Ae.links,Ie=Ae.cellStyles,Ue=(0,a.Z)({},we),Oe=Le.selectionLeftTopInfo,ye=Oe.x,be=Oe.y,ke=Le.selectionRightBottomInfo,le=ke.x,xe=ke.y,je=xe-be+1,We=le-ye+1,he=ye;he<=le;he++)for(var de=be;de<=xe;de++)Ue[he+"-"+de]&&delete Ue[he+"-"+de];var _e=function(Jt){var lr=[],qt=Jt.map(function(mr,cr){return mr.map(function(ur,jr){return ye<=jr&&jr<=le&&cr>=be&&cr<=xe?(jr===ye&&cr===be||lr.push(ur),""):ur})});return{deleteValues:lr,newArr:qt}},Qe=[],et=_e(Ce),qe=et.newArr,at=_e(Te),Je=at.newArr,rt=at.deleteValues;rt.forEach(function(kt){Qe=[].concat((0,d.Z)(Qe),(0,d.Z)(T.R.externalFunc.getLinkCidArr(kt)))});var Et=_e(Ie),ft=Et.newArr;qe[be][ye]=Ce[be][ye],Je[be][ye]=Te[be][ye];for(var lt=ye;lt<=le;lt++)for(var Ot=be;Ot<=xe;Ot++)ft[Ot][lt]=Ie[be][ye];return Ue[ye+"-"+be]=[We,je],{linkCidArr:Qe,newWidget:(0,a.Z)((0,a.Z)({},Ee),{},{tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{mergeCells:Ue,data:qe,links:Je,cellStyles:ft})})}};function wt(xt){var Ee=xt.keyCode;return Ee===229||Ee>47&&Ee<58||Ee===32||Ee>64&&Ee<91||Ee>95&&Ee<112||Ee>185&&Ee<193||Ee>218&&Ee<223}var zt=function(Ee,Le,Ae){var we=Ee.tableData,Ce=we.mergeCells,Te=we.rows,Ie=we.columns,Ue=Ie.length-1,Oe=Te.length-1,ye=g(Ce),be=Le,ke=be.x1,le=be.y1,xe=ke+"-"+le;if(!Ce[xe]&&ye.has(xe)){var je=ye.get(xe).split("-").map(function(ft){return Number(ft)}),We=(0,w.Z)(je,2),he=We[0],de=We[1],_e=(0,w.Z)(Ce[he+"-"+de],2),Qe=_e[0],et=_e[1];Ae==="up"?Le=(0,a.Z)((0,a.Z)({},Le),{},{y1:de,y2:de}):Ae==="down"?Le=(0,a.Z)((0,a.Z)({},Le),{},{y1:de+et,y2:de+et}):Ae==="left"?Le=(0,a.Z)((0,a.Z)({},Le),{},{x1:he,x2:he}):Ae==="right"?Le=(0,a.Z)((0,a.Z)({},Le),{},{x1:he+Qe,x2:he+Qe}):Ae==="tab"&&(Le=(0,a.Z)((0,a.Z)({},Le),{},{x1:he+Qe}),Le.x1>Ue&&(le+1>Oe?Le=null:Le={y1:le+1,x1:0}))}var qe=Le.x1+"-"+Le.y1;if(Le.x1>Ue||Le.y1>Oe)return!1;if(!Ce[qe]&&ye.has(qe)||Le.x1>Ue||Le.y1>Oe){var at=ye.get(qe).split("-").map(function(ft){return Number(ft)}),Je=(0,w.Z)(at,2),rt=Je[0],Et=Je[1];Le=(0,a.Z)((0,a.Z)({},Le),{},{x1:rt,x2:rt,y1:Et,y2:Et})}return Le},Wt=function(Ee){var Le=Ee.key,Ae=Ee.mergeCells,we=Ee.columns,Ce=Ee.rows,Te=Le.split("-"),Ie=(0,w.Z)(Te,2),Ue=Ie[0],Oe=Ie[1],ye=Number(Ue),be=Number(Oe),ke=we[ye].width,le=Ce[be].height;if(Ae[Le]){for(var xe=(0,w.Z)(Ae[ye+"-"+be],2),je=xe[0],We=xe[1],he=ye+1;he<=ye+je-1;he++)ke+=we[he].width;for(var de=be+1;de<=be+We-1;de++)le+=Ce[de].height}return{width:ke,height:le}},Lt=function(Ee,Le){if(!(!Le||!Ee)){var Ae=Ee.selectionLeftTopInfo,we=Ae.x,Ce=Ae.y,Te=Ee.selectionRightBottomInfo,Ie=Te.x,Ue=Te.y,Oe=!(we===Ie&&Ce===Ue),ye=Le.tableData,be=ye.columns,ke=ye.rows,le=ye.cellStyles,xe=ye.mergeCells,je=(0,y.mb)(le[Ce][we]),We=new Set([we+"-"+Ce]);if(Oe)for(var he=g(xe),de=we;de<=Ie;de++)for(var _e=Ce;_e<=Ue;_e++){var Qe=de+"-"+_e;We.has(Qe)||(he.has(Qe)?xe[Qe]&&We.add(Qe):We.add(Qe))}var et=new Set,qe=new Set;Array.from(We).forEach(function(Ot){var kt=Wt({key:Ot,mergeCells:xe,columns:be,rows:ke}),Jt=kt.width,lr=kt.height;et.add(Jt),qe.add(lr)});var at=et.size>1,Je=qe.size>1,rt=(0,w.Z)(et,1),Et=rt[0],ft=(0,w.Z)(qe,1),lt=ft[0];return{isShowMultipleWidth:at,isShowMultipleHeight:Je,width:Et,height:lt,color:je.get("color")||"#101010",background:je.get("background")||Nt(T.R.tableHandle.el.querySelector('[data-xy="'+we+"-"+Ce+'"] .tdDiv')),placeholder:Oe?I18N.SettingPanel.multiple_value:""}}},Nt=function(Ee){if(!Ee)return"#fff";var Le=window.getComputedStyle(Ee,null);return Le.getPropertyValue("background-color")},Gt=function(Ee,Le){var Ae=Ee.tableData.cellStyles,we=y.xK[Le],Ce=Ae.map(function(ye){return ye.map(function(be){return q("background","#ffffffff",be,"delete")})}),Te=[1,3688619007,1,0],Ie=[1,3688619007,1,0],Ue=[1,3688619007,1,0];we==="noBorderInterlacing"&&(Te=[0,3688619007,1,0],Ie=[0,3688619007,1,0]);var Oe=(0,a.Z)((0,a.Z)({},Ee),{},{innerBorderV:Te,innerBorderH:Ie,outerBorder:Ue,styleType:Le,tableData:(0,a.Z)((0,a.Z)({},Ee.tableData),{},{cellStyles:Ce})});return Oe},Kt=function(Ee,Le){for(var Ae=Ee.selectionLeftTopInfo,we=Ae.x,Ce=Ae.y,Te=Ee.selectionRightBottomInfo,Ie=Te.x,Ue=Te.y,Oe=Le.tableData,ye=Oe.data,be=Oe.links,ke=!1,le=we;le<=Ie;le++)for(var xe=Ce;xe<=Ue;xe++)le===we&&xe===Ce||(ye[xe][le]||be[xe][le])&&(ke=!0);return ke},vr=function(Ee){var Le=Ee.tableData,Ae=Le.data,we=Le.columns,Ce=Le.rows,Te=Le.cellStyles,Ie=Le.mergeCells,Ue=function(ke,le){var xe=we.reduce(function(We,he,de){return We+(de<=le?he.width:0)},0),je=Ce.reduce(function(We,he,de){return We+(de<=ke?he.height:0)},0);return{left:xe,top:je}},Oe=g(Ie),ye=[];return Ae.forEach(function(be,ke){be.forEach(function(le,xe){if(!(Oe.has(xe+"-"+ke)&&!Ie[xe+"-"+ke])){var je=we[xe].width,We=Ce[ke].height;if(Ie[xe+"-"+ke]){for(var he=(0,w.Z)(Ie[xe+"-"+ke],2),de=he[0],_e=he[1],Qe=xe+1;Qe<=xe+de-1;Qe++)je+=we[Qe].width;for(var et=ke+1;et<=ke+_e-1;et++)We+=Ce[et].height}var qe=Ue(ke,xe),at=qe.left,Je=qe.top,rt=(0,y.mb)(Te[ke][xe]),Et=z(rt);ye.push((0,a.Z)((0,a.Z)({},Ee),{},{cid:""+Ee.cid+ke+xe,source_cid:Ee.cid,table_cell_text:le,id:""+Ee.cid+ke+xe,src_top:Ee.src_top+Je-Ce[ke].height,src_left:Ee.src_left+at-we[xe].width,src_width:je,src_height:We,width:je,height:We,left:Ee.left+at-we[xe].width,top:Ee.top+Je-Ce[ke].height,ha:Et.ha,va:Et.va,color:Et.color,fontStyle:Et.fontStyle,lineHeight:Et.lineHeight,lh:Et.lineHeight,fs:Et.fontSize,table_cell_background:rt.get("background")||"#ffffff"}))}})}),ye}},96106:function(){(function(ce){if(ce){var Z={},c=ce.prototype.stopCallback;ce.prototype.stopCallback=function(a,d,b,w){var T=this;return T.paused||MB.f.isDragging||MB.f.isSelecting||MB.f.isEditTable||MB.f.isEditingAnnotate||MB.f.editing||d.getAttribute("contenteditable")==="true"&&!d.closest(".editorContent")?!0:Z[b]||Z[w]?!1:c.call(T,a,d,b)},ce.prototype.bindGlobal=function(a,d,b){var w=this;if(w.bind(a,d,b),a instanceof Array){for(var T=0;T<a.length;T++)Z[a[T]]=!0;return}Z[a]=!0},ce.init()}})(typeof Mousetrap<"u"?Mousetrap:void 0)},72969:function(){(function(ce){var Z=ce.prototype.stopCallback;ce.prototype.stopCallback=function(c,a,d){var b=this;return b.paused?!0:Z.call(b,c,a,d)},ce.prototype.pause=function(){var c=this;c.paused=!0},ce.prototype.unpause=function(){var c=this;c.paused=!1},ce.init()})(Mousetrap)},37775:function(ce,Z,c){"use strict";c.d(Z,{D:function(){return w},w:function(){return b}});var a=c(91520),d=c(61519),b=function(S,D,I){I===void 0&&(I=100);var f=y(S,D),k=(0,d.Z)(f,2),u=k[0],H=k[1],O=A(S),F=(0,d.Z)(O,2),j=F[0],W=F[1],V=E(S,D),G=(0,d.Z)(V,2),R=G[0],z=G[1],Y=C(S,D,I),X=(0,d.Z)(Y,2),q=X[0],_=X[1];return[(0,a.Z)((0,a.Z)({display:u},R),{},{zIndex:j,transform:q}),(0,a.Z)((0,a.Z)({display:H},z),{},{zIndex:W,transform:_})]},w=function(S){switch(S){case"none":return"none";case"leftmenu":return"leftmenu-reverse";case"rightmenu":return"rightmenu-reverse";case"leftdrawer":return"leftdrawer-reverse";case"rightdrawer":return"rightdrawer-reverse";case"slideright":return"slideleft";case"slideleft":return"slideright";case"slidetop":return"slidebottom";case"slidebottom":return"slidetop";case"slideleft2":return"leftout";case"slideright2":return"rightout";case"topin":return"topout";case"popin":return"popout";case"leftout":return"slideleft2";case"rightout":return"slideright2";case"topout":return"topin";case"popout":return"popin"}},T=["leftmenu","rightmenu","leftdrawer","rightdrawer"],y=function(S,D){if(S==="none")return D<1?["","none"]:["none",""];if(D<1)return["",""];var I=T.includes(S)?"":"none";return[I,""]},x=["leftout","rightout","topout","popout","slideleft2-reverse","slideright2-reverse","topin-reverse","popin-reverse","leftmenu","rightmenu","leftdrawer-reverse","rightdrawer-reverse"],A=function(S){return x.includes(S)?[3,2]:[2,3]},m={boxShadow:"0 0 8px #aaa",borderLeft:"1px solid #bbb"},L={boxShadow:"0 0 8px #aaa",borderRight:"1px solid #bbb"},g={boxShadow:"0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22), 0 0 10px 1000px rgba(0, 0, 0, 0.2)"},E=function(S,D){switch(S){case"leftmenu":return[m,null];case"leftmenu-reverse":return D<1?[null,m]:[null,null];case"rightmenu":return[L,null];case"rightmenu-reverse":return D<1?[null,L]:[null,null];case"leftdrawer":case"rightdrawer":return[null,g];case"leftdrawer-reverse":case"rightdrawer-reverse":return D<1?[g,null]:[null,null];default:return[null,null]}},C=function(S,D,I){var f=D*I;switch(S){case"none":return["none","none"];case"leftmenu":return["translateX("+(0+f)+"%)","translateX("+(-100+f)+"%)"];case"leftmenu-reverse":return["translateX("+(-100+I-f)+"%)","translateX("+(0+I-f)+"%)"];case"rightmenu":return["translateX("+(0-f)+"%)","translateX("+(100-f)+"%)"];case"rightmenu-reverse":return["translateX("+(100-I+f)+"%)","translateX("+(0-I+f)+"%)"];case"leftdrawer":return["none","translateX("+(-100+f)+"%)"];case"leftdrawer-reverse":return["translateX("+(-100+I-f)+"%)","none"];case"rightdrawer":return["none","translateX("+(100-f)+"%)"];case"rightdrawer-reverse":return["translateX("+(100-I+f)+"%)","none"];case"slideright":return["translateX("+f+"%)","translateX("+(-100+f)+"%)"];case"slideleft":return["translateX("+(0-f)+"%)","translateX("+(100-f)+"%)"];case"slidetop":return["translateY("+f+"%)","translateY("+(-100+f)+"%)"];case"slidebottom":return["translateY("+(0-f)+"%)","translateY("+(100-f)+"%)"];case"slideleft2":return["none","translateX("+(-100+f)+"%)"];case"slideright2":return["none","translateX("+(100-f)+"%)"];case"topin":return["none","translateY("+(-100+f)+"%)"];case"popin":return["none","translateY("+(100-f)+"%)"];case"leftout":return["translateX("+(0-f)+"%)","none"];case"rightout":return["translateX("+f+"%)","none"];case"topout":return["translateY("+(0-f)+"%)","none"];case"popout":return["translateY("+f+"%)","none"];default:return console.error("\u53D1\u73B0\u672A\u77E5\u52A8\u753B\u540D\u79F0: "+S),["none","none"]}}},9795:function(ce,Z,c){"use strict";c.d(Z,{F:function(){return m},f:function(){return L}});var a=c(67041),d=c(18030),b=c(2568),w=c(76188),T=c(57237),y=c(99284),x=c(47416),A=[{key:"md",data:b},{key:"mb",data:w},{key:"ci",data:T},{key:"fa5",data:d},{key:"antFill",data:y},{key:"antOutline",data:x}],m={};A.forEach(function(g){var E=g.key,C=g.data;return C.forEach(function(P){P.type=E,E==="fa5"?m[E+"-"+P.id+"-"+P.lib]=P:m[E+"-"+P.id]=P})});var L={};a.forEach(function(g){g.type="fa",L["fa-"+g.id]=g})},61134:function(ce,Z,c){"use strict";c.d(Z,{$h:function(){return w},Ec:function(){return d},N_:function(){return y},eq:function(){return x}});var a=null,d=["mp4","webm","ogg"],b=null,w=["https:"],T={isOnPremises:!1,isWonderShare:!1},y=function(m,L){return T[m]=L},x=function(m){return T[m]}},33038:function(ce,Z,c){"use strict";c.d(Z,{Kk:function(){return a},gB:function(){return x},u0:function(){return y},xM:function(){return w}});var a={projectExit:"projectExit",enterPreview:"enterPreview",enterEdit:"enterEdit",projectNameChange:"projectNameChange",loadSuccess:"loadSuccess",workspaceUploadRightBtn:"workspaceUploadRightBtn",currentTheme:"currentTheme"},d=function(m){return new URLSearchParams(location.search.slice(1)).get(m)},b=function(){var m,L=MB.getRootProject&&((m=MB)==null?void 0:m.getRootProject())||MB.currentProject;return!!(L&&L.is_sub_project)},w=function(){return d("from")==="zboard"},T=function(){return d("isPreview")==="1"},y=function(){try{x(JSON.stringify({type:a.loadSuccess,payload:{from:"prototype"}}))}catch(m){console.log("### error:",m)}},x=function(m){w()&&window.top&&window.top.postMessage(m)}},77200:function(ce,Z,c){"use strict";c.d(Z,{Bi:function(){return Be},CD:function(){return S},CL:function(){return _},Ci:function(){return Ke},Ds:function(){return Pe},Dx:function(){return St},EK:function(){return Y},EZ:function(){return Re},Eg:function(){return Te},Ei:function(){return ht},GP:function(){return P},H9:function(){return be},HR:function(){return oe},IR:function(){return ve},JH:function(){return We},Kv:function(){return Ce},N7:function(){return z},NK:function(){return Ne},Ny:function(){return Ee},P8:function(){return X},Rp:function(){return R},T4:function(){return Nt},Uq:function(){return xt},V2:function(){return vr},W9:function(){return k},Wf:function(){return xe},XA:function(){return u},XL:function(){return Kt},_L:function(){return f},aO:function(){return Ue},aS:function(){return wt},cM:function(){return G},d9:function(){return Ge},e4:function(){return W},gh:function(){return H},gi:function(){return we},gz:function(){return Le},it:function(){return ke},jQ:function(){return vt},k6:function(){return je},kc:function(){return C},ki:function(){return pe},ku:function(){return V},nB:function(){return Gt},oD:function(){return zt},os:function(){return ye},pt:function(){return D},px:function(){return Ie},rJ:function(){return I},tF:function(){return E},ts:function(){return L},uX:function(){return Ve},v8:function(){return q},vo:function(){return j},yB:function(){return Lt},yT:function(){return ee},yZ:function(){return Oe},yh:function(){return Ae},z7:function(){return g},zI:function(){return Wt}});var a=c(77646),d=c(31033),b=c(512),w=c(29661),T=c(54635),y=c(61994),x=c(41768),A=c(11685),m=c(63748),L=function(de){return de.model.user},g=function(de){return de.container.common.scale},E=function(de){return de.container.common.screenCommentThreadCountMap},C=function(de){return de.container.previewSetting},P=function(de){return de.container.common.previewOptions},S=function(de){return de.container.common.designOptions},D=function(de){return de.container.common.guideOptions},I=function(de){return de.container.common.experienceSnapshotUrlMap},f=function(de){return de.container.common.offset},k=function(de){return de.container.common.keyFlags.isSpaceDown},u=function(de){return de.container.common.previewOptions.isVersionEmbedded},H=function(de){return de.container.common.preference.theme},O=function(de){return de.model.screens},F=function(de){return de.container.current.originalScreenMetaList},j=function(de){return de.container.current.rootProject},W=function(de){return de.container.current.projectMeta},V=function(de){return de.container.current.screenGlue},G=function(de){return de.container.current.projectShare},R=function(de){return de.container.current.previewCommonGuidesHasShown},z=function(de){return de.container.current.previewCommonGuidesToBeShown},Y=function(de){return de.container.current.screenMetaList},X=function(de){return de.container.current.refreshCount},q=function(de){return de.container.current.screenGlue.type==="project-main"},_=function(de){return de.container.current.screenMeta},ee=function(de){return de.container.current.isPanelPreviewMode},oe=function(de){return de.container.previewSetting.simulatorType},pe=function(de){return de.container.previewSetting.isShowShell},ve=function(de){return de.container.previewSetting.isDummyApk},Pe=function(de){return de.container.previewSetting.toolbarActiveItem},Re=function(de){return de.container.previewSetting.isStickyShow},Ne=function(de){return de.container.previewSetting.isStickyAvailable},Be=function(de){return de.container.previewSetting.isHighlight},Ke=function(de){return de.container.previewSetting.isShowOfflineModal},Ve=function(de){return de.container.previewSetting.isAppOffline},ht=function(de){return de.container.previewSetting.isAppCacheNeedUpToDate},Ge=function(de){return de.container.previewSetting.isStatePanelShow},vt=function(de){return de.container.previewSetting.isMinimized},St=function(de){return de.container.annotatePanel.annotatePanelShow},wt=function(de){return de.container.annotatePanel.annotateSelectWidgetCid},zt=function(de){return de.container.annotatePanel.annotatePanelWidth},Wt=function(de){return de.container.comment.commentThreads},Lt=function(de){return de.container.comment.comments},Nt=function(de){return de.container.sharingManager.isShowSharingManager},Gt=(0,a.P1)([Pe],function(he){return{isPreview:he==="preview",isInspect:he==="inspect",isComment:he==="comment"}}),Kt=function(de){return de.container.previewSetting.isFullScreenMode},vr=function(de){return de.container.previewSetting.isShowColorPicker},xt=function(de){return de.container.runner},Ee=function(de){return de.container.runner.activeCid},Le=(0,a.P1)([Pe],function(he){return he===d.nh||he===d.Ab}),Ae=(0,a.P1)([Pe,oe],function(he,de){return[d.nh,d.Ab].includes(he)||de!=="device"}),we=(0,a.P1)([O],function(he){var de={};return he.forEach(function(_e){return de[_e.cid]=_e}),de}),Ce=(0,a.P1)([O,W,V,G,F],function(he,de,_e,Qe,et){var qe=he.filter(function(Ot){return Ot.screen_glue_cid===_e.cid}),at=!!Qe,Je=!!et;if(at&&Je&&Qe.screen_visible_switch){var rt=(0,w.Ep)(qe,!0,Qe,et),Et=rt.screenTreeData;return Et}else{var ft=(0,w.pb)(qe),lt=ft.screenTreeData;return lt}}),Te=(0,a.P1)([Ce],function(he){return(0,b.qv)(he)}),Ie=(0,a.P1)([Ce],function(he){return(0,b.qv)(he).filter(function(de){return!(0,b.Vx)(de)})}),Ue=function(de){return de.container.common.viewport},Oe=function(de){return de.container.common.scale},ye=function(de){return de.container.common.offset},be=function(de){return de.container.common.currentScreenOriginOffset},ke=(0,a.P1)([xt,Ue,Oe,V],function(he,de,_e,Qe){var et=he.activeCid,qe=he.screenInfoMap,at=qe[et];if(!at)return{x:0,y:0};var Je=at.screenMeta,rt=at.stateCid,Et=at.screenRuntimeState.itemListMap,ft=Et[rt],lt=Je.width,Ot=Je.height,kt=(0,y.G)(location.pathname)?(0,T.xi)(et,rt,ft):(0,T.lM)(ft),Jt=kt.minX,lr=kt.minY,qt=kt.maxX,mr=kt.maxY;Jt=Math.min(Jt*_e/100,-de.width*3/2),qt=Math.max(qt*_e/100,de.width*3/2),lr=Math.min(lr*_e/100,-de.height*3/2),mr=Math.max(mr*_e/100,de.height*3/2);var cr=Qe.height>Ot?Qe.height:Ot,ur=Qe.width>lt?Qe.width:lt,jr=Math.max(-Jt,qt,ur),Zt=Math.max(-lr,mr,cr),me=de.height*100/cr,He=de.width*100/ur;return _e>He&&(jr+=(_e-He)*5),_e>me&&(Zt+=(_e-me)*10),le(jr*2,Zt*2)}),le=(0,T.LL)(function(he,de){return{x:he,y:de}}),xe=(0,a.P1)([H,j],function(he,de){var _e=de.attr instanceof Object&&de.attr.bgcolor||x.I3[he];return _e}),je=(0,a.P1)([_,Ue,Oe,ye,V],function(he,de,_e,Qe,et){if(!de)return{canvasTop:0,canvasLeft:0};var qe=[he.width,he.orientation==="portrait"?et.height:et.width],at=qe[0],Je=qe[1],rt=Math.round(Qe.x),Et=Math.round(Qe.y);return{canvasTop:de.top+Math.floor((de.height-Je*_e/100)/2)+Et,canvasLeft:Math.floor((window.innerWidth-at*_e/100)/2)+rt}}),We=(0,a.P1)([_,xt,Pe,wt,St,Re],function(he,de,_e,Qe,et,qe){var at=de.screenInfoMap,Je=[],rt=at[he.cid];if(rt){var Et=rt.stateCid,ft=rt.screenRuntimeState.itemListMap[Et];Je=(0,m.H$)(ft.filter(function(Ot){return Ot.name===A.l.Annotate}))}var lt=_e===d.c6&&Je.length>0&&et&&qe;return{annotateSortList:Je,show:lt}})},72413:function(ce,Z,c){"use strict";var a=c(64555),d=c(72005),b=c(46198),w=c(43980),T=c(63077),y=c(7485),x=c(39110),A=c(21202),m={};window.$=window.jQuery=c(8435),c(82888),c(34268),c(87645),c(22020),c(11460);var L=c(14730),g=c(21586),E=c(21772),C=c(1e3),P=c(29442),S=c(21882),D=c(68101),I=c(28535),f=c(20018),k=c(7627),u=c.n(k),H=c(89870),O=c(91520),F=c(61519),j=c(61994),W="icon_group",V="combo_group",G="screen_list",R="asset",z="asset_group_folder",Y="combo_group_folder",X={0:"bar_chart",1:"horizontal_bar_chart",2:"line_chart",3:"line_area_chart",4:"pie_chart",5:"ring_chart",6:"progress_chart",7:"radar_chart",8:"mixed_bar_line_chart"},q={bar_chart:0,horizontal_bar_chart:1,line_chart:2,line_area_chart:3,pie_chart:4,ring_chart:5,progress_chart:6,radar_chart:7,mixed_bar_line_chart:8},_=c(11685),ee=c(7108),oe=c.n(ee),pe=c(98674),ve=c(27783),Pe=c(8465),Re=c(69770),Ne=c(68633),Be=function(n){var t=(0,F.Z)(n,8),r=t[0],e=t[1],o=t[2],s=t[3],l=t[4],p=t[5],h=t[6],M=t[7];return{id:r,cat:e,view_box:o,path:s,keywords:l,lib:p,fill:h,stroke:M}},Ke=function(n,t){var r={},e={},o=[];r.All=o;var s=(0,Re.Z)(n),l;try{for(s.s();!(l=s.n()).done;){var p=l.value,h=Be(p);h.cid=(0,Ne._G)(),h.icongroup=!0,h.type=t,o.push(h);var M=h.cat;if(e[h.cid]=h,M){var N=(0,Re.Z)(M.split(",")),B;try{for(N.s();!(B=N.n()).done;){var U=B.value,K=r[U]||(r[U]=[]);K.push(h)}}catch(Q){N.e(Q)}finally{N.f()}}}}catch(Q){s.e(Q)}finally{s.f()}return{iconGroupData:r,iconData:e}},Ve={"Font Awesome":"fa","Font Awesome 5":"fa5","Material Design":"md",MockingBot:"mb",Mockitt:"mb","Custom Icons":"ci","Ant Icon OutLine":"antOutline","Ant Icon Fill":"antFill",Zenticons:"ze","Hawcons Stroke":"haStroke","Hawcons Fill":"haFill","RemixIcon Line":"riLine","RemixIcon Fill":"riFill","Icon Font":"if","Strawberry Line":"stLine",Strawberry:"st",Icofont:"if",iconfont:"if",IconPark:"iconPark","Semi Design":"semiDesign","Arco Design":"arcoDesign"},ht={fa:"Font Awesome",md:"Material Design",mb:"Mockitt",ci:"Custom Icons",fa5:"Font Awesome 5",antOutline:"Ant Icon OutLine",antFill:"Ant Icon Fill",ze:"Zenticons",haStroke:"Hawcons Stroke",haFill:"Hawcons Fill",riLine:"RemixIcon Line",riFill:"RemixIcon Fill",if:"Icon Font",stLine:"Strawberry Line",st:"Strawberry",iconPark:"IconPark",semiDesign:"Semi Design\u56FE\u6807\u5E93",arcoDesign:"Arco Design"},Ge=null,vt=function(i){return i.Widget="search_widget",i.MarketTemplate="search_template",i.Group="search_group",i.SelfMakeCombo="search_make_combo",i.Resources="search_resources",i.IconList="search_icon_list",i.Icon="search_icon",i.Asset="search_asset",i.FindPicture="search_find_picture",i}({}),St=(0,Pe.V)(function(){return(0,pe.ZO)(window.MBLocale,window.I18N)}),wt=(0,Pe.V)(function(i){return(0,pe.sA)(window.MBLocale,window.I18N,i)}),zt=[_.l.RichText,_.l.RoundedRect,_.l.CircleRect,_.l.Line,_.l.ImageView,_.l.LR],Wt=[_.l.MTextInput,_.l.MTextArea,_.l.MSelect,_.l.MFileInput,_.l.SelectionControlRadio,_.l.SelectionControlCheckbox,_.l.AndroidSwitch,_.l.IOSSwitch,_.l.Slider,_.l.DigitalStepper],Lt=[_.l.DropMenu,_.l.NavigationMenu,_.l.NavigationMenuV,_.l.NavigationMenuH,_.l.MobileTabBars,_.l.SegmentedControl,_.l.Collapse,_.l.Tabs,_.l.PaginationMobile,_.l.PaginationWeb],Nt=[_.l.BarChart,_.l.HorizontalBarChart,_.l.LineChart,_.l.LineAreaChart,_.l.MixedBarLineChart,_.l.PieChart,_.l.RingChart,_.l.ProgressChart,_.l.RadarChart],Gt=[_.l.ImageView,_.l.Carousel,_.l.Webpage,_.l.Video,_.l.Audio,_.l.QRCode,_.l.MapView,_.l.MTooltip],Kt=[_.l.RichText,_.l.RoundedRect,_.l.CircleRect,_.l.Line,_.l.ImageView,_.l.LR,_.l.Button,_.l.ButtonSolid,_.l.Placeholder,_.l.Table,_.l.Sticky,_.l.Arrow,_.l.MTextInput,_.l.MTextArea,_.l.MSelect,_.l.Polygon,_.l.Star,_.l.TriangleB,_.l.TriangleL,_.l.PG,_.l.DropMenu],vr=[_.l.Annotate].map(function(i){return ve.qw[i]}),xt=[_.l.Button,_.l.ButtonSolid,_.l.Placeholder,_.l.Table,_.l.Sticky,_.l.Annotate,_.l.Arrow,_.l.MTextInput,_.l.MTextArea,_.l.MSelect,_.l.Polygon,_.l.Star,_.l.TriangleB,_.l.TriangleL,_.l.Carousel,_.l.Webpage,_.l.Video,_.l.Audio,_.l.QRCode,_.l.PG,_.l.MFileInput,_.l.MTooltip,_.l.MapView],Ee=[_.l.RichText,_.l.RoundedRect,_.l.CircleRect,_.l.Line,_.l.LR,_.l.ImageView],Le=function(n){return n?[[WidgetType.Annotate,WidgetType.Sticky]]:WidgetType.Sticky},Ae=function(n){var t=Ee.concat(Le(n));return t.map(function(r){return Array.isArray(r)?{name:"shape",svg_icon:"shape-svg",shapeList:r.map(function(e){return itemDisplayMap[e]})}:itemDisplayMap[r]})},we=[_.l.DropMenu,_.l.NavigationMenu,_.l.NavigationMenuV,_.l.NavigationMenuH,_.l.Collapse,_.l.SegmentedControl,_.l.Tabs,_.l.PaginationMobile,_.l.PaginationWeb,_.l.Slider,_.l.DigitalStepper,"ios_switch","android_switch","mobile_tab_bars","selection_control_radio","selection_control_checkbox"],Ce=Kt.map(function(i){return ve.qw[i]}),Te=Wt.map(function(i){return ve.qw[i]}),Ie=Lt.map(function(i){return ve.qw[i]}),Ue=function(){return Nt.map(function(n){return itemDisplayMap[n]})},Oe=Gt.map(function(i){return ve.qw[i]}),ye=[].concat(we).map(function(i){return ve.qw[i]}),be=[].concat(zt,xt).map(function(i){return ve.qw[i]}),ke=[].concat(zt,xt).filter(function(i){return![_.l.PG,_.l.Annotate].includes(i)}).map(function(i){return ve.qw[i]}),le=function(n){var t=n.mode,r=t===void 0?"":t,e=n.withDynamicWidget,o=n.marketTemplateList,s=n.builtinListInvisibleSet,l=s===void 0?new Set:s;if(r==="library"){if(!e)return{comboGroupList:[],screenList:[]};var p=[],h=[],M=_createForOfIteratorHelper(o),N;try{for(M.s();!(N=M.n()).done;){var B=N.value;B.category==="combo_group"?p.push(B):B.category==="screen_list"&&h.push(B)}}catch(ie){M.e(ie)}finally{M.f()}return{comboGroupList:p,screenList:h}}else{if(!e)return{comboGroupList:[],screenList:[]};var U=[],K=[],Q=_createForOfIteratorHelper(o),J;try{for(Q.s();!(J=Q.n()).done;){var te=J.value,re=te.cid;l.has(re)||(te.category==="combo_group"?U.push(te):te.category==="screen_list"&&K.push(te))}}catch(ie){Q.e(ie)}finally{Q.f()}return{comboGroupList:U,screenList:K}}},xe=function(n){var t=_slicedToArray(n,8),r=t[0],e=t[1],o=t[2],s=t[3],l=t[4],p=t[5],h=t[6],M=t[7];return{groupCid:r,title:e,id:o,cat:s,view_box:l,path:p,keywords:h,lib:M}},je=function(n){var t=n.combo_groups,r=n.icon_groups,e=n.project_uppers,o=n.screen_lists,s=n.user_combo_groups,l=new Map,p=[],h=_createForOfIteratorHelper(t),M;try{var N=function(){var De=M.value,Me=De.item_cid,Fe=De.upper_cid,nt=e[Fe],ot=nt.market_template,dt=nt.screen_glues,fe=nt.screen_metas,ue=dt.find(function($e){var Ye=$e.cid;return Ye===Me}),Se=fe.find(function($e){var Ye=$e.screen_glue_cid;return Ye===Me});Se&&ue&&(l.set(Me,ot),p.push({cid:Me,name:ue.name,projectBasicCid:ot.cid,projectMetaCid:ue.project_meta_cid,screenGlue:ue,screenMetaCid:Se.cid,type:"combo_group",policy:ot.policy,title:ot.title}))};for(h.s();!(M=h.n()).done;)N()}catch(ge){h.e(ge)}finally{h.f()}var B=[],U=_createForOfIteratorHelper(o),K;try{var Q=function(){var De=K.value,Me=De.item_cid,Fe=De.upper_cid,nt=e[Fe],ot=nt.market_template,dt=nt.screen_glues,fe=nt.screen_metas,ue=fe.find(function($e){var Ye=$e.cid;return Ye===Me}),Se=dt.find(function($e){var Ye=$e.cid;return Ye===(ue==null?void 0:ue.screen_glue_cid)});ue&&Se&&(l.set(Me,ot),B.push({cid:Me,name:ue.name,projectBasicCid:ot.cid,projectMetaCid:ue.project_meta_cid,screenGlue:Se,screenMetaCid:Me,type:"screen_list",policy:ot.policy}))};for(U.s();!(K=U.n()).done;)Q()}catch(ge){U.e(ge)}finally{U.f()}var J=We(r),te=new Map,re=_createForOfIteratorHelper(s),ie;try{var se=function(){var De=ie.value,Me=De.item_cid,Fe=De.upper_cid,nt=e[Fe],ot=nt.user_combo_group,dt=nt.screen_glues,fe=nt.screen_metas,ue=dt.find(function($e){var Ye=$e.cid;return Ye===Me});if(ue){var Se=getHomeScreenFromScreenMetaList(fe);p.push(_objectSpread(_objectSpread({},ue),{},{home_screen_meta_cid:Se.cid})),te.set(ot.project_meta_cid,ot)}};for(re.s();!(ie=re.n()).done;)se()}catch(ge){re.e(ge)}finally{re.f()}return{comboItems:p,screenItems:B,iconItems:J,userComboGroupMap:te,marketTemplateListMap:l}},We=function(n){var t=[],r=_createForOfIteratorHelper(n),e;try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o){var s=xe(o);s.type=ICON_LIBRARY_TYPE_MAP[s.title]||"svg",t.push(s)}}}catch(l){r.e(l)}finally{r.f()}return t},he=function(n){var t=function(p){var h=Ce;if(p){var M=Ce.map(function(B){return B});M.splice(11,0,vr[0]);var N=St();M.splice(21,0,N[1]),M.splice(23,0,N[0]),h=M}return{cid:BUILTIN_COMMON_COLLAPSE,groupName:I18N.dConst.library.highCommon,items:h}},r=t(n),e=Ie;if(n){var o=Ie.map(function(l){return l});o.splice(1,0,wt(!1)),e=o}var s=[_objectSpread({},r),{cid:BUILTIN_FORM_COLLAPSE,groupName:I18N.Resources.form_widget,items:Te},{cid:BUILTIN_NAV_COLLAPSE,groupName:I18N.Resources.nav_widget,items:e},{cid:BUILTIN_CHART_COLLAPSE,groupName:I18N.Resources.chart_widget,items:Ue()},{cid:BUILTIN_MULTIMEDIA_COLLAPSE,groupName:I18N.Resources.multimedia_widget,items:Oe}];return s},de=function(){return he(!1).map(function(n){var t=n.cid,r=n.groupName;return{cid:t,groupName:r}})},_e=function(n,t){var r=n?be.concat(St()):ke,e=r.concat(ye).concat(Ue()),o=e.filter(function(s){var l=s.name;return I18N.w[l]?I18N.w[l].includes(t):l.includes(t)});return o.length>0?{cid:SEARCH_COMBO_BUILT_COLLAPSE,groupName:I18N.LeftSidePanel.builtin,type:SearchResultType.Widget,items:o}:null},Qe="2022-04-13 00:00:00",et=function(n){if(n){var t=moment(n).isBefore(Qe);return t?!0:moment().isAfter(moment(n).add(1,"days"))}return!1},qe="user-combo-collapse",at="org-combo-collapse",Je="user-asset-collapse",rt="org-asset-collapse",Et="icon_used_collapse",ft="icon_library_collapse",lt="builtin_common_collapse",Ot="builtin_basic_collapse",kt="builtin_high_collapse",Jt="builtin_sticky_collapse",lr="builtin_form_collapse",qt="builtin_nav_collapse",mr="builtin_chart_collapse",cr="builtin_multi_media_collapse",ur="search_combo_built_collapse",jr="search_combo_user_collapse",Zt="search_combo_org_collapse",me="search_combo_find_collapse",He="search_page_star_collapse",Ze="search_page_find_collapse",tt="search_asset_user_collapse",gt="search_asset_org_collapse",Mt="search_asset_find_collapse",Rt=function(i){return i.State="state",i.Builtin="builtin",i.Icon="icon",i.Page="page",i.Template="template",i.Asset="asset",i.History="history",i.Search="search",i.Library="library",i.Dashboard="dashboard",i.Detail="detail",i.SearchDetail="searchDetail",i}({}),or=[Rt.Builtin,Rt.Icon,Rt.Asset,Rt.Page,Rt.Template],bt={[Rt.Builtin]:V,[Rt.Icon]:W,[Rt.Asset]:R,[Rt.Page]:G,[Rt.Template]:""},Ut=function(i){return i.ToolBar="toolbar",i.shortCut="shortcut",i}({}),Yt={[lt]:"\u5E38\u7528",[lr]:"\u8868\u5355",[qt]:"\u5BFC\u822A",[mr]:"\u56FE\u8868",[cr]:"\u591A\u5A92\u4F53",group:"\u7EC4\u5408",builtin:"\u5185\u7F6E"},$t=function(i){return i.Copy="\u590D\u5236\u521B\u5EFA",i.ToolBar="\u9876\u90E8\u680F",i.ShortCut="\u5FEB\u6377\u952E",i.BuiltPanel="\u7EC4\u4EF6\u9762\u677F",i.SearchPanel="\u641C\u7D22\u9762\u677F",i}({}),br=function(i){return i.Drag="\u62D6\u62FD",i.DoubleClick="\u53CC\u51FB",i.Click="\u5355\u51FB",i.Import="\u7F6E\u5165",i}({}),dr=function(n){var t;return(t=I18N.w[n])==null?void 0:t.replace("Chart","")},ha=function(n){var t=n.source,r=n.widgetName,e=n.groupCid,o=e===void 0?BUILTIN_COMMON_COLLAPSE:e,s=n.rootProject;if(Yt[o]){var l=s.cid,p=s.name;saTrack("add_widget",{source:t,widget_name:r,widget_type:Yt[o],project_id:l,project_name:p})}},fn={[W]:"\u56FE\u6807",[V]:"\u7EC4\u4EF6",[G]:"\u9875\u9762",[R]:"\u56FE\u7247"},Ao={user_made:"\u7528\u6237\u4E0A\u4F20",official_sort:"\u5B98\u65B9\u6574\u7406",official_made:"\u5B98\u65B9\u81EA\u5236"},bi=function(i){return i.User="\u6211\u7684",i.Star="\u6536\u85CF",i.Org="\u4F01\u4E1A",i.Find="\u53D1\u73B0",i.Square="\u7D20\u6750\u5E7F\u573A",i}({}),_a={[Rt.Builtin]:"\u7EC4\u4EF6\u9762\u677F",[Rt.Icon]:"\u56FE\u6807\u9762\u677F",[Rt.Asset]:"\u56FE\u7247\u9762\u677F",[Rt.Page]:"\u9875\u9762\u9762\u677F",[Rt.Search]:"\u641C\u7D22\u9762\u677F",[Rt.History]:"\u5386\u53F2\u9762\u677F",[Rt.Template]:"\u6BCD\u7248\u9762\u677F",[Rt.Library]:"\u7D20\u6750\u5E93\u9762\u677F",[Rt.Dashboard]:"\u9879\u76EE\u7BA1\u7406\u9875",[Rt.Detail]:"\u8BE6\u60C5",[Rt.SearchDetail]:"\u641C\u7D22\u8BE6\u60C5"},Fl=function(n){var t=n.popupsName,r=n.addType,e=n.source,o=n.category,s=n.vipTemplate,l=s===void 0?0:s,p=n.templateGroupName,h=p===void 0?"":p,M=n.copyright,N=M===void 0?"":M,B=n.name,U=B===void 0?"":B,K=n.classify,Q=K===void 0?"":K,J=n.rootProject,te=_a[t];if(te){var re=te+"-"+e;if(fn[o]){var ie=J.cid,se=J.name;saTrack("add_template",{source:re,add_type:r,widget_type:fn[o],vip_template:l,template_group_name:h,template_source_type:Ao[N]||"",project_id:ie,project_name:se,template_name:U,classify:Q})}}},Ul=function(n){var t=n.tab,r=t===void 0?bi.User:t,e=n.popupsName,o=n.addType,s=n.category,l=n.name,p=n.rootProject,h=n.currentOrg,M=h===void 0?null:h,N=n.currentUser,B=p.cid,U=p.name,K=_a[e];if(K){var Q=K+"-"+r,J=r===bi.Org?M==null?void 0:M.cid:N==null?void 0:N.cid,te=fn[s];te&&(e===PopupsName.Search?Q=K+"-"+te+"-"+r:e===PopupsName.History&&(Q=K+"-"+te),saTrack("add_template",{source:Q,add_type:o,widget_type:te,project_id:B,project_name:U,template_name:l,template_group_name:J}))}},Ja=function(n,t){var r,e=n.name,o=n.chartType,s="",l=getDesignWidgetGroupList(!1),p=(r=l.find(function(M){var N=M.items;return N.find(function(B){return B.name===e})}))==null?void 0:r.cid;if(e===WidgetType.Chart){var h=CHART_TYPE_LIST[o];p=BUILTIN_CHART_COLLAPSE,s=I18N.w[h]}else[].concat(_toConsumableArray(BASIC_WIDGET_NAMES),_toConsumableArray(OTHER_WIDGET_NAMES),_toConsumableArray(COMMON_HIGH_WIDGET_NAMES),[WidgetType.Group]).includes(e)&&(s=I18N.w[e]);s&&p&&ha({source:$t.Copy,widgetName:s,groupCid:p,rootProject:t})},Hl=function(n){saTrack("add_component_status",{source:n})},Wl=function(n){var t=n.category,r=n.key_word,e=n.length,o=n.fromPanel,s=o===void 0?PopupsName.Search:o,l=n.isHistoryWord,p=l===void 0?!1:l,h=n.isHotKeyWord,M=h===void 0?!1:h,N=n.templateGroupName,B=N===void 0?"":N,U=fn[t],K=_a[s];U&&K&&saTrack("search_template",{key_word:r,search_type:U,source:K,search_result:e,isHotKeyWord:M,isHistoryWord:p,template_group_name:B})},$l=function(i){return i.Search="\u641C\u7D22\u9875",i.SearchDetail="\u641C\u7D22\u8BE6\u60C5\u9875",i.Star="\u6536\u85CF",i.Recent="\u5386\u53F2",i.FindDetails="\u53D1\u73B0\u8BE6\u60C5\u9875",i.PaidModal="\u652F\u4ED8\u5F39\u7A97",i.Library="\u7D20\u6750\u5E93",i}({}),xi=function(i){return i.Separately="\u5355\u72EC\u8D2D\u4E70",i.Discount="\u4F1A\u5458\u6298\u6263\u8D2D\u4E70",i.FreeForMember="\u4F1A\u5458\u514D\u8D39\u4F7F\u7528",i.Drag="\u62D6\u62FD",i.DoubleClick="\u53CC\u51FB",i.CreateNewPage="\u65B0\u5EFA\u9875\u9762\u7F6E\u5165",i.InsertPage="\u9875\u9762\u7F6E\u5165",i}({}),Mo=function(n){var t=n.operation,r=n.source,e=n.title,o=n.name,s=o===void 0?"":o,l=n.category,p=fn[l];p&&saTrack("vip_template_buy",{operation:t,source:r,type:p,template_group_name:e,template_name:s||""})},nr=c(9575),sr=c(77646),ne=c(77200),Po=c(14914),oa=c(1372),Cn=c(47273),Ci=c(21800),qa=c(56416),To=c(2909),Wn=c(79292),hn=function i(n,t){if(n===-1||!t)return null;if(t.cid===n)return t;if(t.children.length)for(var r=0;r<t.children.length;r++){var e=i(n,t.children[r]);if(e)return e}return null},Io=function(n,t,r,e,o){var s=Oo(n,t,r,e,o),l=s.map(function(U){return U[0]}),p=s.map(function(U){return U[1]}),h=Math.min.apply(null,l),M=Math.min.apply(null,p),N=Math.max.apply(null,l),B=Math.max.apply(null,p);return{top:M,left:h,width:N-h,height:B-M}},Oo=function(n,t,r,e,o){var s=o*Math.PI/180,l=Math.sin(s),p=Math.cos(s),h=-r/2,M=-e/2,N=+r/2,B=-e/2,U=+r/2,K=+e/2,Q=-r/2,J=+e/2;return[[h*p-M*l,h*l+M*p],[N*p-B*l,N*l+B*p],[Q*p-J*l,Q*l+J*p],[U*p-K*l,U*l+K*p]].map(function(te){var re=(0,F.Z)(te,2),ie=re[0],se=re[1];return[n+ie,t+se]})},Ta=c(95770),ct=c(54977),Ct=c(61537),Bt=c(13806),ar=c(55827),Sr=c(27319),Rn=c(68517),un=/\\\w+/ig,tn=function(n){return n?typeof n=="number"?(0,oa.LW)(n):n.replace(un,"").trim():Ta.Z},sa=function(n){return(0,Wn.Vu)(n)},vn=function(n){var t=(0,Wn.ub)(n);return t?t.borderColor:"transparent"},$n=function(n){var t=(0,Cn.N3)(n);return t.isEnable?{offset_x:t.offsetX,offset_y:t.offsetY,blur_radius:t.blurRadius,spread:t.spreadRadius,color:(0,oa.LW)((0,oa.SF)(t.color))}:null},Do=function(n){var t=(0,Cn.Pg)(n);return t.isEnable?{offset_x:t.offsetX,offset_y:t.offsetY,blur_radius:t.blurRadius,color:(0,oa.LW)((0,oa.SF)(t.color))}:null},Ia=function(n){return Number.isInteger(n)||n==="artboard-base"},Lo=function(n,t,r){var e=[],o=r.width,s=r.height;return n.forEach(function(l){var p=l.id,h=l.rotation,M=l.name,N=l.left,B=l.top,U=l.width,K=l.height;if(M==="group"){e.push(l);return}if(h&&h!==0){var Q={x:N+U/2,y:B+K/2},J=[h].map(function(ue){return ue%180}).map(function(ue){return ue<90?ue:180-ue}),te=(0,F.Z)(J,1),re=te[0],ie=Io(Q.x,Q.y,U,K,re);N=ie.left,B=ie.top,U=ie.width,K=ie.height}var se=Ia(p)?o/t.width:1,ge=B*se,De=N*se,Me=U*se,Fe=K*se,nt=Math.min(Math.max(De,0),o),ot=Math.min(Math.max(De+Me,0),o),dt=Math.min(Math.max(ge,0),s),fe=Math.min(Math.max(ge+Fe,0),s);ot-nt!==0&&fe-dt!==0&&e.push((0,O.Z)((0,O.Z)({},l),{},{id:p,left:nt,top:dt,width:ot-nt,height:fe-dt,src_top:Number(parseFloat(Math.max(B,0)).toFixed(2)),src_left:Number(parseFloat(Math.max(N,0)).toFixed(2)),src_width:Number(parseFloat(Math.min(N+U,t.width)-Math.max(N,0)).toFixed(2)),src_height:Number(parseFloat(Math.min(B+K,t.height)-Math.max(B,0)).toFixed(2)),rect_height:l.height,rect_width:l.width}))}),e},la=function(n,t,r){var e=!!r.artboard_id,o=n.filter(function(s){return!["link","pg","lr","sticky","annotate"].includes(s.name)&&!(e&&s.name==="image_view"&&s.width===r.width&&s.height===r.height)}).sort(function(s,l){return s.z-l.z||s.timestamp-l.timestamp});return wi(o,t.device)},wi=function(n,t){var r=[],e=(0,Re.Z)(n),o;try{for(e.s();!(o=e.n()).done;){var s=o.value,l=zn(s,t),p=(0,O.Z)((0,O.Z)({},l),{},{id:s.cid,src_top:s.top,src_left:s.left,src_width:s.width,src_height:s.height});p.name!=="table"?r.push(p):(0,ct.iE)(p).map(function(h){r.push(zn(h,t))})}}catch(h){e.e(h)}finally{e.f()}return r},zn=function(n,t){var r={},e=n.name,o=n.ro,s=n.border_radius,l=(0,Wn.aq)(n),p=n.ha,h=n.va,M=n.lh,N=n.box_shadow,B=n.text_shadow,U=n.sc,K=n.ds;e==="group"&&(r.left=0,r.top=0);var Q=["video","audio","qrcode","webpage"].includes(e)?"":typeof n.text=="string"?n.text:JSON.stringify(n.text),J;if(Q&&(J=ei(Q.replace(/<p>/g,"").replace(/<\/p>/g,"\n")),r.text_styles=(0,qa.E)(n)?[Ei(n.text)]:[{font_size:n.fs,color:tn(n.tc||Xt(e,"tc")),length:J.length,font_face:Hr(Q,t)}],r.inspectText=J),n.table_cell_text&&(r.inspectText=n.table_cell_text,r.text_styles=[{fontStyle:n.fontStyle,letterSpacing:0,lineHeight:n.lineHeight,paraSpacing:5,font_size:n.fs,color:n.color,length:n.table_cell_text.length,font_face:Hr(n.table_cell_text,t)}]),p&&(r.alignment=p),h&&(r.vertical_alignment=h),M&&(r.line_height=M),s&&s!=="0"&&(r.bd_radius=s),o&&(r.rotation=o),r.border=vn(n),ve.v8.includes(e)&&l&&(r.borders=[{thickness:l,color:vn(n)}]),n.background&&(r.bg_colors=[{value:sa(n)}]),n.table_cell_background&&(r.bg_colors=[{value:n.table_cell_background}]),(e==="triangleb"||e==="triangletl")&&(r.bg_colors=[{value:sa(n)}]),(0,Ct.yb)(e)&&(r.bg_colors=[{value:tn(n.tc||Xt(e,"tc"))}]),N){var te=N[0],re=$n(te);re&&(r.shadows=[re])}else U&&K&&(r.shadows=[{color:tn(U.replace(un,"")),blur_radius:K}]);if(B){var ie=B[0],se=Do(ie);se&&(r.textShadows=[se])}else n.ts&&(r.textShadows=[{color:tn(n.tsc.replace(un,"")),blur_radius:n.ts}]);if((e==="label"||e==="text_view")&&(r.hiddSpacing=!0),n.fills){var ge=n.fills[0].split(","),De=Number(ge[3]);De=De===Bt.Y_.Solid?"color":De===Bt.Y_.LinearGradient?"linear":De===Bt.Y_.RadialGradient?"radial":"";var Me={w:n.width,h:n.height};r.bg_colors=[(0,O.Z)({type:De,opacity:"1",value:De==="color"&&Sr.I.toRGBAStr(Object.values((0,ar.A$)(ge[4]))),gradient:{color_stops:De!=="color"?ge.slice(7).map(function(Fe){return{color:Sr.I.toRGBAStr(Object.values((0,ar.A$)(Fe.slice(2))))}}):[],type:De}},De!=="color"?{sigmaPaint:(0,Rn.qb)(n.fills[0],Me)}:{})]}return Object.assign({},n,r)},No=/<[^>]+>/ig,ei=function(n){return n?n.replace(No,""):!1},Xt=function(n,t){var r=Ta.Z[n];return r&&r[t]?r[t]:Ta.Z[t]},Ei=function(n){var t=(0,Po.xP)(n),r=t.fontFamily,e=t.fontWeight,o=t.fontSize,s=t.color,l=t.fontStyle,p=t.letterSpacing,h=t.lineHeight,M=t.paraSpacing;return{font_face:""+(0,Ci.$e)(r,e),font_size:o,color:s,fontStyle:l,letterSpacing:p,lineHeight:h,paraSpacing:M}},Hr=function(n,t){var r=Er(n)?"chinese":"english",e=Oa()?"mac":"windows",o=(0,To.No)(t);return ca[e][o][r]},Er=function(n){var t=n.charCodeAt(0);return t>=19968&&t<=40869},Oa=function(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)},ca={mac:{ios:{chinese:"PingFang SC",english:"-apple-system"},android:{chinese:"PingFang SC",english:"Roboto"},others:{chinese:"PingFang SC",english:"Roboto"}},windows:{ios:{chinese:"Microsoft Yahei",english:"Arial"},android:{chinese:"Microsoft Yahei",english:"Roboto"},others:{chinese:"Microsoft Yahei",english:"Roboto"}}},wn={SKETCH_ARTBOARD:"sketch-artboard",SKETCH_LAYER:"sketch-layer",MB_SCREEN:"screen",MB_WIDGET:"widget",MB_GROUP:"group",MB_PANEL:"panel"},ti=function(n,t){return t.filter(function(r){var e=r.parent;return e===n||!e&&!n})},Da=function(n){var t=null;return n.forEach(function(r){if(t==null){if(r.mask){t=r.object_id;return}return}if(r.mask){if(r.ignore_underlying_mask)return;r.maskedID=t,t=r.object_id;return}if(r.ignore_underlying_mask){t=null;return}r.maskedID=t}),n},jo=function(n){return n.sort(function(t,r){return r.level-t.level})},Ai=function(n){var t=n.id,r=n.name,e=n.object_id,o=n.parent,s=n.type,l=n.mask,p=n.ignore_underlying_mask,h=n.level,M=n.maskedID,N=n.image_set;return{id:t,name:r,object_id:e,parent:o,type:s,mask:l,ignore_underlying_mask:p,level:h,maskedID:M,imageSet:N}},jt=function(n){var t=function r(e,o,s){s===void 0&&(s=[ti.bind(null,e),Da,jo]);var l=s.reduce(function(p,h){return h(p)},n);return l.reduce(function(p,h){return Qt(h.type)?[].concat((0,nr.Z)(p),[{type:"compound",value:Ai(h),depth:o,children:r(h.object_id,o+1)}]):[].concat((0,nr.Z)(p),[{type:"basic",value:Ai(h),depth:o}])},[])};return Ft(n)?t(null,1):[]},Ft=function(n){return n&&Array.isArray(n)&&n.every(function(t){return!!t.level})},Qt=function(n){return["group","shapeGroup"].includes(n)},Ar=function i(n,t,r,e){var o=r[n];if(o.name==="group"){var s=t[n]||{children:[]};return{cid:o.cid,type:LAYER_TYPE.MB_GROUP,widget:o,children:s.children.map(function(p){return i(p,t,r,e)})}}else if(o.name==="panel"){var l=o.cid;return{cid:o.cid,type:LAYER_TYPE.MB_PANEL,widget:o,children:e[l].widgetTreeData.children}}else return{cid:o.cid,type:LAYER_TYPE.MB_WIDGET,widget:o,children:[]}},Wr=function(n,t){return{cid:n.id,type:wn.SKETCH_ARTBOARD,widget:n,children:t.map(function(r){return{cid:r.cid,type:wn.SKETCH_LAYER,widget:r,children:[]}})}},Yr=function(n){return n.container.layers.activeLayerID},Xr=function(n){return n.container.layers.resourceByScreen},La=function(n){return n.container.layers.isWidgetBeingExported},Mn=function(n){return n.container.layers.selectedPanel},Na=function(n){return n.container.layers.isInspectInPanel},zl=function(n){return n.container.layers.inspectedPanelStateCid},ev=function(n){return n.container.layers.widgetLayersData},Ro=function(n){return n.container.layers.widgetStore},tv=function(n){return n.container.layers.panelWidgetData},Gl=(0,sr.P1)([ne.Ny,Xr],function(i,n){return n[i]||{}}),rv=(0,sr.P1)([ne.vo,ne.Uq],function(i,n){var t=n.activeCid,r=n.screenInfoMap;if(!r[t])return[];var e=r[t],o=e.screenMeta,s=e.stateCid,l=e.screenRuntimeState,p=l.itemListMap[s];return la(p,i,o)}),nv=(0,sr.P1)([ne.Ny,Xr,rv],function(i,n,t){var r=n[i];if(!r)return[];var e=r.artboardLayer,o=r.sketchLayers;return e?[e].concat((0,nr.Z)(t),(0,nr.Z)(o)):t}),ja=(0,sr.P1)([ne.Uq,Xr,ev],function(i,n,t){var r=i.activeCid,e=i.screenInfoMap;if(!t)return null;if(!e[r])return{cid:r,type:"screen",widget:{},children:[]};var o=e[r].screenMeta,s=n[r]||{artboardLayer:{id:-1},sketchLayers:[]},l=s.artboardLayer,p=s.sketchLayers,h=Wr(l,p);return{cid:o.cid,type:wn.MB_SCREEN,widget:l,children:[].concat((0,nr.Z)(p.length?[h]:[]),[t])}}),av=(0,sr.P1)([ne.Ny,Xr],function(i,n){var t=n[i];if(!t)return[];var r=t.sketchLayers,e=jt(r);return e}),iv=(0,sr.P1)([Mn,ne.Uq],function(i,n){var t=n.activeCid,r=n.screenInfoMap;if(!t||!i)return null;var e=r[t].screenMeta,o=r[e.cid].panelInfoMap;if(!o[i.cid])return null;var s=o[i.cid]||{},l=s.screenDataMap,p=s.currentScreenMetaCid,h=l[p].screenRuntimeState.dataMap;return Object.values(h)}),Pt=c(54635),rr=function(n){var t,r,e,o,s,l,p=(t=MB)==null||(r=t.user)==null?void 0:r.id,h=(((e=MB)==null||(o=e.currentProject)==null?void 0:o.permissions)||[]).find(function(B){return B.user_id===p}),M=h&&h.role,N=p?M?"\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u975E\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55";typeof C.U1=="function"&&(0,j.G)(location.pathname)&&(0,C.U1)("share_links_function_click",{operation_type:n,project_id:(s=MB.currentProject)==null?void 0:s.cid,project_name:(l=MB.currentProject)==null?void 0:l.name,user_rights:MB.canEditByCurrentUser?"\u53EF\u7F16\u8F91":"\u4EC5\u67E5\u770B",user_type:N})},Vl=function(n){typeof C.U1=="function"&&(0,C.U1)("share_links_no_access",{no_access_reason:n})},Gn=function(n){var t,r,e=(t=MB)!=null&&(r=t.currentProject)!=null&&r.is_org_project?"\u4F01\u4E1A\u9879\u76EE":"\u4E2A\u4EBA\u9879\u76EE";(0,C.U1)("comment_function_click",{event_type:n,operation_type:e})},ov=function(n,t,r,e){var o=Ia(t.id),s=o?t.type:dr(t.name)||"";(0,C.U1)("tag_selected_element",{is_sketch:o,widget_name:s,in_master:r,in_dynamic_component:e})},Mi=function(n){var t,r,e,o=(t=MB)==null||(r=t.webpackInterface)==null?void 0:r.store.getState(),s=ja(o),l=Yr(o),p=hn(l,s),h=Ia(p==null||(e=p.widget)==null?void 0:e.id),M=(0,Pt.Q7)();(0,C.U1)("tag_copy_tag_content",{is_sketch:h,is_sign_in:M,type:n})},sv=function(n,t,r){(0,C.U1)("tag_export_content",{is_sketch:t,is_sign_in:n,widget_name:r})},pr=c(88468),Kl=c(5207),er=c(56165),lv=c(55639),mn=c.n(lv),Vn=c(66302),ri=c(35576),Yl=function(){return new Date().getTime()},cv=["mouseIn","mouseOut","left","right","up","down"],ko=function(n){return n.some(function(t){return cv.includes(t)})},uv=function(){function i(){(0,P.Z)(this,i),this.coolDownTime=Yl(),this.coolDownInterval=200}return(0,S.Z)(i,[{key:"isCoolDown",value:function(t){if(t===void 0&&(t=[]),ko(t))return!0;var r=Yl()-this.coolDownTime;return this.coolDownTime+=r,r>this.coolDownInterval}},{key:"resetCoolDown",value:function(){this.coolDownTime-=this.coolDownInterval}}]),i}(),gr=c(70423),rn=c(92408),Xl=c(29846),Ql=window,nn=Ql.$,dv=Ql.Shake,pv=function(){function i(n,t,r){(0,P.Z)(this,i),(0,f.Z)(this,"hightTimer",null),(0,f.Z)(this,"swipeDownTarget",null),(0,f.Z)(this,"swipeDownTargetCanvas",null),this.store=n,this.timerHandler=t,this.runnerController=r,this.store=n,this.timerHandler=t,this.eventBucket=new uv,this.runnerController=r}return(0,S.Z)(i,[{key:"init",value:function(t,r){var e=this,o=r||{},s=o.isImmersive,l=o.isMobile,p=new(mn()).Manager(t);p.set({touchAction:"auto",inputClass:(0,gr.tq)()?mn().TouchInput:null});var h=new(mn()).Tap({event:"singletap"}),M=new(mn()).Tap({event:"doubletap",taps:2}),N=new(mn()).Swipe({event:"swipe",direction:mn().DIRECTION_ALL,velocity:.05,threshold:10}),B=new(mn()).Pan({event:"pan",direction:mn().DIRECTION_ALL,threshold:10}),U=new(mn()).Press({event:"press"});p.add([M,h]),p.add([B,N]),p.add(U),M.recognizeWith(h),h.requireFailure(M),B.recognizeWith(N),p.on("panstart",function(Q){e.prepareJump(Q,["panstart"])}),p.on("panend",function(Q){e.prepareJump(Q,["panend"])}),p.on("swipeleft",function(Q){e.prepareJump(Q,["left"])}),p.on("swiperight",function(Q){e.prepareJump(Q,["right"])}),p.on("swipeup",function(Q){e.prepareJump(Q,["up"])}),p.on("swipedown",function(Q){e.prepareJump(Q,["down"])}),p.on("press",function(Q){e.prepareJump(Q,["hold","longpress"])}),p.on("doubletap",function(Q){e.eventBucket.resetCoolDown(),e.prepareJump(Q,["dtap","dbclick"])}),p.on("singletap",function(Q){e.prepareJump(Q,["tap","click"])});var K=new dv({threshold:15});K.start(),window.addEventListener("shake",function(Q){e.prepareJump(Q,["shake"])},!1),nn(t).on("mousedown",function(Q){e.dragPanelEventHandler(Q,{isImmersive:s,isMobile:l}),Q.button===2&&e.prepareJump(Q,["rightClick"])}),nn(t).on("mouseenter",".mouseAble",function(Q){e.prepareJump(Q,["mouseIn"])}),nn(t).on("mouseleave",".mouseAble",function(Q){e.prepareJump(Q,["mouseOut"])}),this.hammertime=p}},{key:"prepareJump",value:function(t,r,e){var o=this;e===void 0&&(e=!0);var s=(0,ne.gz)(this.store.getState());if(!s&&!this.runnerController.isPreventEvent){var l=this.timerHandler.getIsPageTimerFired();if(this.eventBucket.isCoolDown(r)&&!l){var p=t.target.closest(".clickable");if(r.includes("left")||r.includes("right")||r.includes("up")||r.includes("down"))if(p){if(!this.swipeDownTarget||this.swipeDownTarget&&this.swipeDownTarget!==p)return}else this.swipeDownTarget&&(p=this.swipeDownTarget);var h=t.target.closest(".panel"),M;if(r.includes("shake")?this.runnerController.currentMenu?M=document.querySelector("#pscreen"+this.runnerController.currentMenu):M=document.querySelector(".pcanvas.active"):M=t.target.closest(".pcanvas"),r.includes("panstart")&&(p&&(this.swipeDownTarget=p),M&&(this.swipeDownTargetCanvas=M)),r.includes("panend")&&(this.swipeDownTarget=null,this.swipeDownTargetCanvas=null),!M)if(r.includes("left")||r.includes("right")||r.includes("up")||r.includes("down"))this.swipeDownTargetCanvas&&(M=this.swipeDownTargetCanvas);else return;var N=M.attributes["data-cid"].value;if(N){var B=er.Z.getRunnerStateByScreenCid(this.store,N),U=B.stateCid;if(this.runnerController.currentMenu&&N!==this.runnerController.currentMenu&&!ko(r))return this.runnerController.closeMenu();if(h){if(this.panelEventHandler(t,r,{screenCid:N,stateCid:U}))return}else if(p){var K,Q=p.attributes["data-link_cid"].value,J=(K=p.attributes["data-panel_cid"])==null?void 0:K.value,te;J?te=er.Z.findLinkInPanel(this.store,Q,J,N):te=er.Z.findLink(this.store,Q,N);var re=(0,rn.Zx)((0,rn.jz)((0,ri.H9)(te).filter(function(ot){return ot&&r.includes(ot.gesture)}),Q));if(re)if(J){var ie=this.runnerController.projectMeta,se=(0,Vn.DV)(ie.cid,N,U),ge=se.find(function(ot){var dt=ot.cid;return dt===J});re.forEach(function(ot){o.clickInPanelWidget({link:ot,panel:ge})});return}else(0,rn.Zx)(re).forEach(function(ot){o.runnerController.j(er.Z.getLinkTargetDomIfNeeded(ot,p))});return}var De=(0,Vn.QP)(this.runnerController.projectMeta.cid,N,U),Me=(0,rn.Zx)((0,rn.jz)((0,ri.H9)(De).filter(function(ot){return r.includes(ot.gesture)}),""));if(Me.length>0){var Fe=er.Z.getScreenMetaListSet(this.store);Me.forEach(function(ot){(0,ne.yT)(o.store.getState())&&!er.Z.getIsLinkInCurrentScreebGlueInside(ot,Fe)||o.runnerController.j(er.Z.getLinkTargetDomIfNeeded(ot,p))});return}if(e&&(0,ne.Bi)(this.store.getState())&&!ko(r)&&!nn(t.target).closest(".play-pause").length&&!nn(t.target).closest(".audio-progress").length&&!nn(t.target).closest(".video").length&&!nn(t.target).closest(".annotate").length){var nt=er.Z.getScreenStateValidLinkListForPreview(this.store,N,U);this.highlightClickables(nt,t)}}}}}},{key:"panelEventHandler",value:function(t,r,e){var o=this,s=e.screenCid,l=e.stateCid,p=t.target.closest(".clickable"),h=t.target.closest(".panel").closest(".tree-node"),M=h.attributes["data-cid"].value,N=this.runnerController.projectMeta,B=(0,Vn.DV)(N.cid,s,l),U=B.find(function(fe){var ue=fe.cid;return ue===M});if(p){var K=p.attributes["data-link_cid"].value,Q,J=er.Z.findLink(this.store,K,s),te=er.Z.findLinkInPanel(this.store,K,M,s);if(J&&J.length?Q=J:Q=te,!Q||Q.length===0)return!1;var re=(0,rn.Zx)((0,rn.jz)((0,ri.H9)(Q).filter(function(fe){return fe&&r.includes(fe.gesture)}),K));if(re.length===0)return!1;if(re[0].target_cid===pr.eB)return this.runnerController.j(er.Z.getLinkTargetDomIfNeeded(re[0],p)),!0;var ie=!1;if(re.forEach(function(fe){r.includes(fe.gesture)&&(h===p?o.runnerController.j(er.Z.getLinkTargetDomIfNeeded(fe,p)):o.clickInPanelWidget({link:fe,panel:U,target:p}),ie=!0)}),ie)return!0}if(this.runnerController.getIsPanelTimerFired(U==null?void 0:U.cid))return!1;var se=er.Z.getRunnerStateByScreenCid(this.store,s),ge=se.panelInfoMap,De=ge[U.cid],Me=De.currentScreenMetaCid,Fe=De.currentScreenStateCid,nt=(0,Vn.QP)(this.runnerController.projectMeta.cid,Me,Fe),ot=(0,rn.Zx)((0,rn.jz)((0,ri.H9)(nt).filter(function(fe){return r.includes(fe.gesture)}),""));if(ot.length>0){var dt=er.Z.getScreenMetaListSet(this.store);return ot.forEach(function(fe,ue){if(er.Z.getIsScreenLinkJumpToMainGlue(fe,dt)||fe.link_type===pr.rU.TYPE.hyperlink)o.runnerController.j(er.Z.getLinkTargetDomIfNeeded(fe,p));else if(fe.targetstate_cid){var Se=B.filter(function(Ye){return Ye.name==="panel"}).find(function(Ye){var Xe=Ye.screen_meta_cid;return Xe===void 0?!1:Xe===fe.target_cid});Se?(o.runnerController.resetPanelTimerFlag(Se.cid),o.runnerController.jumpPanelState({panel:Se,targetStateCid:fe.targetstate_cid,delay:parseFloat(fe.ani_delay)*1e3,duration:parseFloat(fe.ani_duration)*1e3})):ue===0&&fe.targetstate_cid&&(o.runnerController.resetPanelTimerFlag(U.cid),o.runnerController.jumpPanelState({panel:U,targetStateCid:fe.targetstate_cid,delay:parseFloat(fe.ani_delay)*1e3,duration:parseFloat(fe.ani_duration)*1e3}))}else{var $e=B.filter(function(Ye){return Ye.name==="panel"}).find(function(Ye){var Xe=Ye.screen_meta_cid;return Xe===void 0?!1:Xe===fe.target_cid});$e?o.runnerController.jumpPanelScreen({panel:$e,delay:parseFloat(fe.ani_delay)*1e3,duration:parseFloat(fe.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(fe.transition)?"none":fe.transition,offset:/drawer|menu/.test(fe.transition)?fe.menu_offset:100,targetCid:fe.target_cid}):ue===0&&o.runnerController.jumpPanelScreen({panel:U,delay:parseFloat(fe.ani_delay)*1e3,duration:parseFloat(fe.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(fe.transition)?"none":fe.transition,offset:/drawer|menu/.test(fe.transition)?fe.menu_offset:100,targetCid:fe.target_cid})}}),!0}return!1}},{key:"highlightClickables",value:function(t,r){var e=nn(r.target).closest(".canClickableHighWidget");if(!(e.length>0)){var o=(0,Re.Z)(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,p=nn('.pcanvas.active [data-link_cid*="'+l.cid+'"] .region');p.show()}}catch(M){o.e(M)}finally{o.f()}nn(".pcanvas.active .pg").css({display:"flex",opacity:.8});var h=nn(".pcanvas.active .region");this.hightTimer=setTimeout(function(){h.hide(),nn(".pcanvas.active .pg").css("opacity","0").hide()},400)}}},{key:"setupPageGesture",value:function(t){var r=er.Z.getRunnerStateByScreenCid(this.store,t.cid),e=r.stateCid,o=r.screenRuntimeState,s=o.itemListMap[e].filter(function(h){return h.name==="link"}),l=[];s.forEach(function(h){(h.gesture==="left"||h.gesture==="right")&&l.indexOf("pan-y")===-1&&l.push("pan-y"),(h.gesture==="up"||h.gesture==="down")&&l.indexOf("pan-x")===-1&&l.push("pan-x")});var p=l.length?l.join(" "):"auto";this.hammertime.touchAction.actions=p,nn(".pcanvas.active .widgets").css("touch-action",p)}},{key:"dragPanelEventHandler",value:function(t,r){var e=this,o=r.isImmersive,s=r.isMobile;if(!(s||o)){var l=nn(t.target).closest(".map_view .image"),p=nn(t.target).closest(".panel"),h=l[0]||p[0];if(h&&!(h.clientWidth===h.scrollWidth&&h.clientHeight===h.scrollHeight)){var M=t.clientX,N=t.clientY,B=h.scrollTop,U=h.scrollLeft,K=0,Q=function(re){re.preventDefault(),K++,h.scrollTop=B-(re.clientY-N),h.scrollLeft=U-(re.clientX-M)},J=function te(){K>5&&e.eventBucket.isCoolDown(),document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",Q),document.addEventListener("mouseup",J)}}}},{key:"clickInPanelWidget",value:function(t){var r=t.link,e=t.panel,o=t.target,s=(0,ne.gi)(this.store.getState()),l=s[r.target_cid];if(l&&r.link_type===pr.rU.TYPE.screen_link&&l.screen_glue_cid!==e.screen_glue_cid||r.link_type===pr.rU.TYPE.hyperlink)this.runnerController.j(er.Z.getLinkTargetDomIfNeeded(r,o));else{if(this.runnerController.getIsPanelTimerFired(e==null?void 0:e.cid))return!1;(0,Xl.a)(r)||[pr.rU.TYPE.screen_link_from_dynamic_panel,pr.rU.TYPE.scroll_link,pr.rU.TYPE.visibility_link].includes(r.link_type)?this.runnerController.switchLink(er.Z.getLinkTargetDomIfNeeded(r,o)):r.link_type===pr.rU.TYPE.state_link?(this.runnerController.resetPanelTimerFlag(e.cid),this.runnerController.jumpPanelState({panel:e,targetStateCid:r.targetstate_cid,delay:parseFloat(r.ani_delay)*1e3,duration:parseFloat(r.ani_duration)*1e3})):this.runnerController.jumpPanelScreen({panel:e,delay:parseFloat(r.ani_delay)*1e3,duration:parseFloat(r.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(r.transition)?"none":r.transition,offset:/drawer|menu/.test(r.transition)?r.menu_offset:100,targetCid:r.target_cid})}}}]),i}(),fv=function(){function i(){(0,P.Z)(this,i),this.timeoutMap=new Map}return(0,S.Z)(i,[{key:"setTimeout",value:function(n){function t(r,e,o){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}(function(n,t,r){var e=this,o=setTimeout(function(){t(),e.clearTimeout(n,t)},r);return this.setToken(n,t,o),o})},{key:"clearTimeout",value:function(n){function t(r,e){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}(function(n,t){var r=this.getToken(n,t);r!==void 0&&(clearTimeout(r),this.clearToken(n,t))})},{key:"clearTimeoutByKey",value:function(t){var r=this,e=this.timeoutMap.get(t);e!==void 0&&(e.forEach(function(o,s){return r.clearTimeout(t,s)}),this.timeoutMap.delete(t))}},{key:"clear",value:function(){var t=this;this.timeoutMap.forEach(function(r,e){return t.clearTimeoutByKey(e)})}},{key:"setToken",value:function(t,r,e){var o=this.timeoutMap.get(t);o===void 0&&(o=new Map,this.timeoutMap.set(t,o)),o.set(r,e)}},{key:"getToken",value:function(t,r){var e=this.timeoutMap.get(t);if(e)return e.get(r)}},{key:"clearToken",value:function(t,r){var e=this.timeoutMap.get(t);e&&e.delete(r)}}]),i}(),hv=function(){function i(n,t){(0,P.Z)(this,i),(0,f.Z)(this,"timerFired",!1),(0,f.Z)(this,"panelTimerMap",{}),this.store=n,this.runnerController=t,this.timeoutBucket=new fv,this.runnerController=t,this.store=n,this.runnerController=t}return(0,S.Z)(i,[{key:"resetPageTimerFlag",value:function(){this.timerFired=!1}},{key:"getIsPageTimerFired",value:function(){return this.timerFired}},{key:"getIsPanelTimerFired",value:function(t){return this.panelTimerMap[t]}},{key:"resetPanelTimerFlag",value:function(t){this.panelTimerMap[t]=!1}},{key:"clear",value:function(){this.timerFired=!1,this.panelTimerMap={},this.timeoutBucket.clear()}},{key:"setupPageTimers",value:function(t,r){var e=this;if(!(0,ne.gz)(this.store.getState())){this.timeoutBucket.clear();var o=this.runnerController.projectMeta.cid,s=(0,Vn.BK)(o,t.cid,r);if((0,ne.yT)(this.store.getState())){var l=er.Z.getScreenMetaListSet(this.store);s.forEach(function(h){er.Z.getIsLinkInCurrentScreebGlueInside(h,l)&&e._pageTimer(h)})}else s.forEach(function(h){return e._pageTimer(h)});var p=(0,Vn.dG)(o,t.cid,r);p.forEach(function(h){var M=h._mainScreenMetaCid,N=h._mainScreenStateCid;e.setupPanelTimers(h,M,N)})}}},{key:"setupPanelTimers",value:function(t,r,e){var o=this;this.timeoutBucket.clearTimeoutByKey(t.cid),this.panelTimerMap[t.cid]=!1;var s=er.Z.getScreenMetaListSet(this.store),l=(0,Vn.BK)(this.runnerController.projectMeta.cid,r,e);l.forEach(function(p){pr.rU.TYPE.screen_link===p.link_type&&s.has(p.target_cid)?o._pageTimer(p):o._panelTimer(p,t)})}},{key:"_pageTimer",value:function(t){var r=this;this.timeoutBucket.setTimeout(t.cid,function(){if(!r.timerFired&&!er.Z.getCheckCurrentLinkCannotJump(r.store,t)&&(r.timerFired=!0,!(0,ne.gz)(r.store.getState())))if([pr.rU.TYPE.visibility_link,pr.rU.TYPE.scroll_link].includes(t.link_type)){var e=document.querySelector('.scontainer [data-cid="'+t.target_cid+'"]');r.runnerController.j(er.Z.getLinkTargetDomIfNeeded(t,e))}else r.runnerController.j(t)},parseFloat(t.timer)*1e3)}},{key:"_panelTimer",value:function(t,r){var e=this;this.timeoutBucket.setTimeout(r.cid,function(){if(!(e.timerFired||e.panelTimerMap[r.cid])&&(e.panelTimerMap[r.cid]=!0,!(0,ne.gz)(e.store.getState())))if(t.targetstate_cid)e.runnerController.jumpPanelState({panel:r,targetStateCid:t.targetstate_cid,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3});else if([pr.rU.TYPE.visibility_link,pr.rU.TYPE.scroll_link].includes(t.link_type)){var o=document.querySelector('.scontainer [data-cid="'+t.target_cid+'"]');e.runnerController.j(er.Z.getLinkTargetDomIfNeeded(t,o))}else e.runnerController.jumpPanelScreen({panel:r,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(t.transition)?"none":t.transition,offset:/drawer|menu/.test(t.transition)?t.menu_offset:100,targetCid:t.target_cid})},parseFloat(t.timer)*1e3)}}]),i}(),vv=function(){function i(n){(0,P.Z)(this,i),this.store=n,this.store=n}return(0,S.Z)(i,[{key:"getRunnerScreenDataMap",value:function(){return(0,ne.gi)(this.store.getState())}},{key:"setCurrentScreen",value:function(t){this.store.dispatch({type:"entry:current:set-screen",payload:{screen:t}})}},{key:"reloadScreen",value:function(t){this.store.dispatch({type:"entry:runner:reload:screen",payload:{activeCid:t}})}},{key:"reloadScreens",value:function(){this.store.dispatch({type:"entry:runner:reload-screens"})}},{key:"backToPrevPage",value:function(t){var r=t.callback,e=t.noDuration,o=t.transition;this.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{callback:r,noDuration:e,transition:o}})}},{key:"updateScrollTop",value:function(t,r){this.store.dispatch({type:"runner:update:scroll-top",payload:{screenMetaCid:t,scrollTop:r}})}},{key:"resetScreenScrollTopMap",value:function(){this.store.dispatch({type:"runner:update:state",payload:{screenScrollTopMap:{}}})}},{key:"clear",value:function(){this.store.dispatch({type:"entry:runner:cleanup:audio"}),this.store.dispatch({type:"runner:reset:state"}),this.store.dispatch({type:"container:comment:reset:state"}),this.store.dispatch({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}})}},{key:"jumpPanelScreen",value:function(t){var r=t.targetCid,e=t.panel,o=t.delay,s=t.duration,l=t.transition,p=t.offset,h=p===void 0?100:p,M={name:l,delay:o,duration:s,offset:h};this.store.dispatch({type:"entry:runner:activate:panel-screen",payload:{panel:e,panelScreenCid:r,transition:M}})}},{key:"jumpPanelState",value:function(t){var r=t.panel,e=t.targetStateCid,o=t.delay,s=t.duration,l={delay:o,duration:s};this.store.dispatch({type:"entry:runner:activate:panel-state",payload:{panel:r,targetStateCid:e,transition:l}})}},{key:"jumpState",value:function(t){var r=t.delay,e=t.duration,o=t.screenCid,s=t.targetStateCid,l={delay:r,duration:e};this.store.dispatch({type:"entry:runner:activate:screen-state",payload:{screenCid:o,stateCid:s,transition:l}})}},{key:"jumpScreen",value:function(t){var r=t.transition,e=t.reset,o=t.delay,s=t.duration,l=t.offset,p=l===void 0?100:l,h=t.targetCid,M=t.targetStateCid,N={name:r,delay:o,duration:s,offset:p};if(h===pr.eB)this.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{transition:N}});else{var B=this.getRunnerScreenDataMap(),U=B[h];if(!U)return;U.orientation!==er.Z.getCurrentScreen(this.store).orientation?this.store.dispatch({type:"entry:runner:activate:screen",payload:{screenCid:h,screenStateCid:M,resetTargetScreen:e}}):this.store.dispatch({type:"entry:runner:activate:screen",payload:{screenCid:h,screenStateCid:M,resetTargetScreen:e,transition:N}}),this.store.dispatch({type:"entry:sync-runner:set-screen",payload:{cid:h}}),this.store.dispatch({type:"entry:preview:reset:canvas:offset"})}}},{key:"jumpHyperLink",value:function(t){var r=t.hyperlink,e=t.transition;this.store.dispatch({type:"entry:runner:open:hyperlink",payload:{hyperlink:r,transition:e}})}}]),i}(),_l={useTransform:!1,disableTouch:!1,disablePointer:!0,preventDefault:!0,probeType:3,ignoreEventException:function(n){if(n.metaKey||n.ctrlKey||n.buttons===4)return!0;var t=$(n.target).closest(".widget");if(t.length&&(t.hasClass("webpage")||t.hasClass("map_view")||t.find("input").length||t.hasClass("navigation_menu")||t.hasClass("collapse")))return!0;var r=$(n.target).closest(".panel");return!!(r.length&&(r[0].offsetWidth<r[0].scrollWidth||r[0].offsetHeight<r[0].scrollHeight)||n.touches&&n.touches.length===2)}},mv=(0,O.Z)((0,O.Z)({},_l),{},{scrollbars:!0,mouseWheel:!0,disableMouse:!1,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0,HWCompositing:!1}),gv=function(){function i(n,t){(0,P.Z)(this,i),this.store=n,this.runner=t,this.store=n,this.iScrollMap={}}return(0,S.Z)(i,[{key:"toggleScrollBar",value:function(t){Object.values(this.iScrollMap).forEach(function(r){t?r.enable():r.disable()})}},{key:"renderScrollbar",value:function(t){this.iScrollMap[t]?this.refreshScrollBar(t):this.initScrollBar(t)}},{key:"clear",value:function(){this.destroyScrollBar()}},{key:"refreshScrollBar",value:function(t){this.iScrollMap[t]&&this.iScrollMap[t].refresh()}},{key:"initScrollBar",value:function(t){var r=this;if(!this.iScrollMap[t]){var e=document.querySelector("#pscreen"+t+" .screen-content");if(e&&e.offsetParent){var o=(0,gr.tq)()?_l:mv,s=er.Z.getScreenScrollTop(this.store,t);o.startY=s||0;var l=new window.IScroll(e,o);(0,gr.tq)()||$(e).on("wheel",function(p){p.metaKey||p.ctrlKey||e.offsetHeight!==e.scrollHeight&&p.stopPropagation()}),l.on("scroll",function(){r.runner.updateScrollTop(t,l.y)}),this.iScrollMap[t]=l}}}},{key:"resetScreenScrollState",value:function(t){this.runner.updateScrollTop(t,0)}},{key:"destroyScrollBar",value:function(){Object.values(this.iScrollMap).forEach(function(t){$(t.wrapper).off("wheel"),t.destroy()}),this.iScrollMap={}}},{key:"destroyScrollBarByCid",value:function(t){var r=this.iScrollMap[t];r&&($(r.wrapper).off("wheel"),r.destroy(),delete this.iScrollMap[t])}},{key:"resetCurrentScreenScrollState",value:function(t){var r=this.iScrollMap[t];r&&r.scrollTo(0,0)}},{key:"resetScrollState",value:function(){Object.values(this.iScrollMap).forEach(function(t){return t.scrollTo(0,0)}),this.runner.resetScreenScrollTopMap()}},{key:"scrollToElement",value:function(t,r,e){var o=this,s;e===void 0&&(e={delay:0,duration:0,scrollOffset:0});var l=document.querySelector(".screen-content [data-cid='"+r+"']"),p=1/0,h=function U(K){Array.from(K.children).forEach(function(Q){if(Q.className&&typeof Q.className=="string"&&Q.className.includes("group"))U(Q);else{var J,te,re=(J=Q.attributes["data-cid"])==null?void 0:J.value,ie=(te=er.Z.getPanelFormRunState(o.store,re))==null?void 0:te.panel;p=Math.min(p,parseInt((ie==null?void 0:ie.top)||0))}})};if(l.classList.contains("group"))h(l);else{var M,N=(M=er.Z.getPanelFormRunState(this.store,r))==null?void 0:M.panel;p=parseInt((N==null?void 0:N.top)||0)}var B=this.iScrollMap[t];B&&(p+=(s=e.scrollOffset)!=null?s:0,p=Math.max(-p,B.maxScrollY),setTimeout(function(){p!==1/0&&B&&B.scrollTo(0,p,e.duration)},e.delay))}}]),i}(),yv=function(){function i(n,t,r){(0,P.Z)(this,i),(0,f.Z)(this,"linkQueryMap",null),this.runner=new vv(n.store),this.timerHandler=new hv(n.store,this),this.eventHandler=new pv(n.store,this.timerHandler,this),this.scrollHandler=new gv(n.store,this.runner),this.clearCallbackBucket={},this.currentScreen=this.currentMenu=null,this.requestScreenCidSet=new Set,this.webpackInterface=n,this.messageBucket=t,this.f=r,this.isPreventEvent=!1,this.visibilityToggledMap=new Map,this.runtimeVisibilityMap=new Map;var e=(0,ne.GP)(this.webpackInterface.store.getState()),o=e.isMobile;o&&this._bindMobileGlobalEvent()}return(0,S.Z)(i,[{key:"setIsPreventEvent",value:function(t){this.isPreventEvent=t}},{key:"currentScreen",get:function(){return this._currentScreen},set:function(t){this.setCurrentScreen(t)}},{key:"setCurrentScreen",value:function(t){this._currentScreen=t}},{key:"currentMenu",get:function(){return this._currentMenu},set:function(t){this.setCurrentMenu(t)}},{key:"setCurrentMenu",value:function(t){this._currentMenu=t}},{key:"getLinkQueryMap",value:function(){if(!this.linkQueryMap){var t=ProjectExchange.getProjectStore(this.projectMeta.cid),r=t.screenRuntimeStateStore.generateLocalDump(),e={};r.forEach(function(o){var s=o.screenMetaCid,l=o.itemListMap;Object.entries(l).forEach(function(p){var h=(0,F.Z)(p,2),M=h[0],N=h[1];N.forEach(function(B){B.name==="link"&&(e[B.cid]=(0,O.Z)((0,O.Z)({},B),{},{screen_cid:s,screenstate_cid:M}))})})}),this.linkQueryMap=e}return this.linkQueryMap}},{key:"_bindMobileGlobalEvent",value:function(){var t=this;window.addEventListener("message",function(r){try{var e=JSON.parse(r.data);if(e.event==="back"){var o=t.webpackInterface.store.getState().container.runner.history;o.length===1&&t.messageBucket?t.messageBucket.send("exit"):t.runner.backToPrevPage({transition:{name:"none",duration:0,delay:0}})}}catch(s){}},!1),window.onorientationchange&&window.addEventListener("orientationchange",function(){t.reload()}),window.addEventListener("resize",function(){document.activeElement.tagName!=="INPUT"&&t.reload()})}},{key:"init",value:function(t,r,e){var o=this,s=t.projectAlike,l=t.projectMeta,p=t.screenGlue,h=t.screenMeta,M=t.rootProject;e===void 0&&(e=!1),this.setCurrentScreen(h),this.projectMeta=l,this.currentProject=M||s,this.webpackInterface.store.dispatch({type:"entry:init:preview:related:data",payload:{previewMode:r,rootProject:M||s,projectMeta:l,screenGlue:p,screenMeta:h,isPanelPreviewMode:e}});var N=setTimeout(function(){if(o.webpackInterface.store.dispatch({type:"reducer:artboards:toggle:splash",payload:{isShowSplash:!1}}),o.webpackInterface.store.dispatch({type:"entry:runner:init:home-screen",payload:{activeCid:h.cid}}),o.webpackInterface.store.dispatch({type:"entry:preview:check:location-hash"}),o.messageBucket){o.messageBucket.request({type:"message:set:record",payload:{key:"preview-ready",value:!0}}),o.messageBucket.send("ready");var B=setTimeout(function(){o.messageBucket.send("ready")},5e3);o.clearCallbackBucket.redundantReady=function(){return clearTimeout(B)}}},1e3);this.clearCallbackBucket.init=function(){return clearTimeout(N)}}},{key:"jumpPanelScreen",value:function(t){this.runner.jumpPanelScreen(t)}},{key:"jumpPanelState",value:function(t){this.runner.jumpPanelState(t)}},{key:"setupPageTimers",value:function(t,r){this.timerHandler.setupPageTimers(t,r)}},{key:"getIsPanelTimerFired",value:function(t){return this.timerHandler.getIsPanelTimerFired(t)}},{key:"clearTimerHandler",value:function(){this.timerHandler.clear()}},{key:"resetPanelTimerFlag",value:function(t){this.timerHandler.resetPanelTimerFlag(t)}},{key:"setupPanelTimers",value:function(t,r,e){this.timerHandler.setupPanelTimers(t,r,e)}},{key:"initEventHandler",value:function(t,r){this.eventHandler.init(t,r)}},{key:"prepareJump",value:function(t,r,e){e===void 0&&(e=!0),this.eventHandler.prepareJump(t,r,e)}},{key:"clear",value:function(){Object.values(this.clearCallbackBucket).forEach(function(t){return t()}),this.currentScreen=this.currentMenu=null,this.linkQueryMap=null,this.scrollHandler.clear(),this.timerHandler.clear(),this.requestScreenCidSet.clear(),this.runner.clear()}},{key:"closeMenu",value:function(t,r){r===void 0&&(r=!1),this.runner.backToPrevPage({callback:t,noDuration:r})}},{key:"j",value:function(t){var r=this;if(t&&!er.Z.getCheckCurrentLinkCannotJump(this.webpackInterface.store,t)){this.timerHandler.clear();var e=t.target_cid;if(this.currentMenu){e===this.currentScreen?this.closeMenu():pr.rU.TYPE.screen_link!==t.link_type&&t.targetstate_cid?(this.switchLink(t),rr("\u70B9\u51FB\u5143\u7D20\u89E6\u53D1\u4EA4\u4E92\u4E8B\u4EF6")):this.closeMenu(function(){r.j(t)},!0);return}this.switchLink(t),rr("\u70B9\u51FB\u5143\u7D20\u89E6\u53D1\u4EA4\u4E92\u4E8B\u4EF6")}}},{key:"switchLink",value:function(t){var r=this;switch(t.link_type){case pr.rU.TYPE.screen_link:{this.runner.jumpScreen({transition:t.transition,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,offset:/drawer|menu/.test(t.transition)?t.menu_offset:100,targetCid:t.target_cid,targetStateCid:t.targetstate_cid,reset:t.reset});break}case pr.rU.TYPE.screen_link_from_dynamic_panel:{this.runner.jumpState({delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,screenCid:t.screen_target_cid,targetStateCid:t.targetstate_cid});break}case pr.rU.TYPE.panel_link:{var e=er.Z.getPanelFormRunState(this.webpackInterface.store,t.target_cid),o=e.panel,s=e.screenCid,l=e.screenStateCid,p=this.projectMeta.cid;if(o){var h=(0,Kl.W3)(o,s,l,p);h.multi_states?this.runner.jumpPanelState({panel:h,targetStateCid:t.targetstate_cid,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3}):this.runner.jumpPanelScreen({panel:h,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(t.transition)?"none":t.transition,offset:/drawer|menu/.test(t.transition)?t.menu_offset:100,targetCid:t.target_cid})}else this.runner.jumpState({delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,screenCid:t.screen_target_cid,targetStateCid:t.targetstate_cid});break}case pr.rU.TYPE.state_link:{if((0,Xl.a)(t)){var M=er.Z.getPanelFormRunStateByScreenMetaCid(this.webpackInterface.store,t.target_cid),N=M.panel,B=M.screenCid,U=M.screenStateCid,K=this.projectMeta.cid;if(N){var Q=(0,Kl.W3)(N,B,U,K);Q.multi_states?this.runner.jumpPanelState({panel:Q,targetStateCid:t.targetstate_cid,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3}):this.runner.jumpPanelScreen({panel:Q,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(t.transition)?"none":t.transition,offset:/drawer|menu/.test(t.transition)?t.menu_offset:100,targetCid:t.target_cid})}else this.runner.jumpState({delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,screenCid:t.target_cid,targetStateCid:t.targetstate_cid});break}this.runner.jumpState({delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,screenCid:t.screen_cid,targetStateCid:t.targetstate_cid});break}case pr.rU.TYPE.hyperlink:{this.runner.jumpHyperLink({hyperlink:t.target_cid,transition:t.transition});break}case pr.rU.TYPE.scroll_link:{var J=parseFloat(t.ani_delay)*1e3,te=parseFloat(t.ani_duration)*1e3;if(!t.target)break;var re=t.target.attributes["data-cid"].value;this.scrollHandler.scrollToElement((0,ne.Ny)(this.webpackInterface.store.getState()),re,{delay:J,duration:te,scrollOffset:t.scroll_offset});break}case pr.rU.TYPE.visibility_link:{var ie=parseInt(t.ani_delay)*1e3;if(!t.target)break;var se=t.target.dataset.cid;this.visibilityToggledMap.has(se)||this.visibilityToggledMap.set(se,{target:t.target,firstOpacity:t.target.style.opacity});var ge=function(){t.target.style.transition="all "+t.ani_duration,t.target.style.opacity=1,t.target.classList.add("clickable"),t.target.classList.remove("invisible"),r.runtimeVisibilityMap.set(se,"show")},De=function(){t.target.style.transition="all "+t.ani_hide_duration,t.target.style.opacity=0,t.target.classList.remove("clickable"),t.target.classList.add("invisible"),r.runtimeVisibilityMap.set(se,"hide")};t.transition==="show"?setTimeout(function(){r.visibilityToggledMap.size!==0&&(ge(),r.webpackInterface.store.dispatch({type:"preview:refreshCount:udpate"}))},ie):t.transition==="hide"?setTimeout(function(){r.visibilityToggledMap.size!==0&&(De(),r.webpackInterface.store.dispatch({type:"preview:refreshCount:udpate"}))},ie):t.target.style.opacity>0?setTimeout(function(){r.visibilityToggledMap.size!==0&&(De(),r.webpackInterface.store.dispatch({type:"preview:refreshCount:udpate"}))},ie):setTimeout(function(){r.visibilityToggledMap.size!==0&&(ge(),r.webpackInterface.store.dispatch({type:"preview:refreshCount:udpate"}))},ie);break}default:console.error("Unknown Link Type",t)}}},{key:"doneTransition",value:function(t,r){var e=this;this.timerHandler.setupPageTimers(t,r);var o=(0,ne.GP)(this.webpackInterface.store.getState()),s=o.isStandAlone,l=o.isAndroid;s&&er.Z.setupStatusBar(t,this.currentProject),l&&this.eventHandler.setupPageGesture(t),this.timerHandler.resetPageTimerFlag(),this.currentScreen=t,this.runner.setCurrentScreen(t),this.f.inSharing&&window.history.replaceState(null,null,"#screen="+t.cid);var p=(0,ne.GP)(this.webpackInterface.store.getState()),h=p.isMobile,M=p.isEmbedV1,N=h||M||!(0,ne.yh)(this.webpackInterface.store.getState());this.toggleScrollBar(N),setTimeout(function(){e.runner.reloadScreens()},10)}},{key:"reload",value:function(){var t=er.Z.getCurrentScreen(this.webpackInterface.store);t&&(this.runner.reloadScreen(t.cid),this.scrollHandler.resetScrollState())}},{key:"destroyScrollBarByCid",value:function(t){this.scrollHandler.destroyScrollBarByCid(t)}},{key:"renderScrollbar",value:function(t){this.scrollHandler.renderScrollbar(t)}},{key:"resetScreenScrollState",value:function(t){this.scrollHandler.resetScreenScrollState(t)}},{key:"toggleScrollBar",value:function(t){this.scrollHandler.toggleScrollBar(t)}},{key:"resetCurrentScreenScrollState",value:function(t){this.scrollHandler.resetCurrentScreenScrollState(t)}},{key:"removeToggledVisibility",value:function(){var t=function(o){o.style.opacity=1,o.classList.add("clickable"),o.classList.remove("invisible")},r=function(o){o.style.opacity=0,o.classList.remove("clickable"),o.classList.add("invisible")};this.visibilityToggledMap.forEach(function(e,o){parseInt(e.firstOpacity)===1?t(e.target):r(e.target)}),this.visibilityToggledMap.clear(),this.runtimeVisibilityMap.clear()}}]),i}(),Sv=c(29661),Ir=c(512),bv=function(n){var t=(0,Sv.pb)(n),r=t.screenTreeData,e=t.dataMap,o=[];(0,Ir.tX)(r,function(Q){var J=Q.data;J&&!(0,Ir.Vx)(J)&&o.push(J),J&&J.parent_cid&&e[J.parent_cid]&&(0,Ir.Vx)(e[J.parent_cid])&&(J.parent_cid=e[J.parent_cid].parent_cid)});for(var s={},l=0,p=o;l<p.length;l++){var h=p[l],M=e[h.parent_cid],N=M&&M.cid!==h.cid?M.cid:"root";s[N]=s[N]||[],s[N].push(h)}for(var B=0,U=Object.values(s);B<U.length;B++){var K=U[B];K.forEach(function(Q,J){Q&&Q.position!==0+J&&(Q.position=0+J)})}return o},xv=function(){var n=function(s){var l=s.type,p=s.payload;try{return ql[l]&&ql[l]({type:l,payload:p})}catch(h){console.warn("[request] error message data",h,l,p)}},t=function(s,l,p){l===void 0&&(l={}),p===void 0&&(p="*"),s&&window.ReactNativeWebView?window.ReactNativeWebView.postMessage(JSON.stringify({event:s,payload:l})):s&&window.parent.postMessage(JSON.stringify({event:s,payload:l}),p)},r=function(s){if(!(s.source===window||s.origin.includes("qiyukf")||!s.data||typeof s.data!="string"))try{var l=JSON.parse(s.data),p=l.event,h=l.type,M=h===void 0?p:h,N=l.payload,B=N===void 0?{}:N,U=n({type:M,payload:B});U&&t(U.type,U.payload)}catch(K){console.warn("[receive] error message data",K,s)}},e=function(){return window.removeEventListener("message",r)};return(0,gr.Dt)()?document.addEventListener("message",r):window.addEventListener("message",r),{request:n,send:t,clear:e}},Jl={"preview-ready":!1},ql={"message:get:record":function(){return{type:"message:data:record",payload:Jl}},"message:set:record":function(n){var t=n.payload,r=t.key,e=t.value;Jl[r]=e},"message:get:preview-state":function(){var n=ec(),t=n.state,r=n.isHighlight;return{type:"message:data:preview-state",payload:{screenCid:t.container.current.screenMeta.cid,isHighlight:r}}},"message:set:preview-state":function(n){var t=n.payload,r=t.isHighlight,e=t.screenCid,o=ec(),s=o.state,l=s.model.screens,p=s.container.current.screenMeta,h=o.dispatch;if(r!==void 0&&h({type:"reducer:preview-toolbar:update:highlight",payload:{isHighlight:r}}),p.cid&&e!==void 0&&e!==p.cid){if(!l.find(function(M){return M.cid===e}))return console.warn("[message:set:preview-state] invalid screenCid");h({type:"entry:sync-runner:set-screen",payload:{cid:e}})}},"message:get:screen-list":function(){var n=MB.webpackInterface.store.getState(),t=(0,ne.vo)(n).cid,r=(0,ne.Eg)(n),e=bv(r.concat()),o=e.map(function(s){var l=s.cid,p=s.name,h=s.position,M=s.parent_cid;return{cid:l,name:p,position:h,parent_cid:M,project_cid:t}});return{type:"message:data:screen-list",payload:o}},"message:get:notification-state":function(){var n=MB.notification&&MB.notification.store&&MB.notification.store.getState()||{},t=n.notifications;return{type:"message:data:notification-state",payload:{unreadCount:t?t.notifications.unreadNum:0}}},"message:get:notification-list":function(){var n=MB.notification&&MB.notification.store&&MB.notification.store.getState()||{},t=n.notifications;return{type:"message:data:notification-list",payload:t?t.notifications.notifications:[]}},"message:set:offlineModal:show":function(){MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowOfflineModal:!0}})},"message:set:offlineModal:close":function(){MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowOfflineModal:!1}})},"message:get:app:state":function(n){var t=n.payload,r=t.isOffline,e=t.isUpToDate;MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isAppOffline:r,isAppCacheNeedUpToDate:!e}})},"message:get:app:init:status":function(n){var t=n.payload,r=t.version,e=t.isHighlight,o=t.isDummyApk,s=o===void 0?!1:o;MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{appVeresion:r,isDummyApk:s}}),MB.webpackInterface.store.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:e}})}},ec=function(){var n=MB.webpackInterface.store,t=n.getState,r=n.dispatch,e=t(),o=(0,ne.Bi)(e);return{dispatch:r,state:e,isHighlight:o}},Ra=c(70103),Pi=c(24978),Cv=c(16193),wv={"entry:preview:escape:key":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.v8)(e),s=(0,ne.XL)(e),l=(0,ne.V2)(e);o&&(s||(l?r({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}}):MB.f.inPreview&&(MB.action&&MB.action("entry:activate:screen",{screenCid:e.container.current.screenMeta.cid}),MB.backDesign())))}},ka=c(60747),Tt=c(30733),Or=c(41768),tc=c(17119),Ti=function(i){return i[i.previewOrShare=0]="previewOrShare",i[i.version=1]="version",i[i.isEmbed=2]="isEmbed",i}({}),va=Or.zt,Ev=function(n){return Number((0,Tt.GQ)("preview_scale_"+n))},rc=function(n,t){return(0,Tt.A6)("preview_scale_"+n,t)},Av={"entry:init:preview:scale":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.vo)(e),s=(0,ne.GP)(e),l=s.isUIChina,p=s.isForum,h=s.isSquare;if(l&&o.model==="car_play")r({type:"preview:set:scale",payload:{scale:40}});else if(p||h)r({type:"entry:auto-fit:preview:scale"});else{var M=Ev(o.cid);r(M?{type:"preview:set:scale",payload:{scale:M}}:{type:"entry:auto-fit:preview:scale"})}},"entry:auto-fit:preview:scale":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.XL)(e),s=(0,ne.GP)(e),l=s.isForum,p=s.isSquare,h=(0,ne.vo)(e),M=(0,ne.CL)(e),N=(0,ne.HR)(e),B=N==="device"?(0,ka.uL)(h):"none",U;if(h.category==="combo_group"&&!h.model){var K=(0,ne.ku)(e);U={width:K.width,height:K.height}}else{var Q=M.orientation==="landscape";U=(0,ka.sD)(h,B,Q,p)}var J,te,re;o||l?J=te=re=0:p?(J=0,te=184,re=80*2):(J=44+40,te=260+20,re=240+20);var ie=window.innerWidth-(te+re),se=window.innerHeight-J,ge=Math.min(se/U.height,ie/U.width)*100,De=Math.min(Math.max(ge,20),100);!p&&!o&&rc(h.cid,De),r({type:"preview:set:scale",payload:{scale:De}})},"entry:preview:set:scale":function(n,t){var r=n.dispatch,e=n.getState,o=t.payload.scale,s=e(),l=(0,ne.vo)(s);o=Math.min(Math.max(o,20),400);var p=s.container.previewSetting.isFullScreenMode;!p&&rc(l.cid,o),r({type:"preview:set:scale",payload:{scale:o}}),rr("\u7F29\u653E")},"entry:preview:zoom-in":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.z7)(e),s=va.findIndex(function(p){return p>o}),l=va[s]||va[va.length-1];r({type:"entry:preview:set:scale",payload:{scale:l}})},"entry:preview:zoom-out":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.z7)(e),s=va.findIndex(function(p){return p>=o}),l=va[s-1]||va[0];r({type:"entry:preview:set:scale",payload:{scale:l}})},"entry:preview:zoom:annotate":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.widget,l=o.mode,p=r(),h=!0,M=(0,ne.oD)(p),N=document.querySelector("#widget"+s.cid+"p"),B=document.querySelector("#simulator-container"),U=document.querySelector("#mb-preview-leftpane");if(N){var K=N.getBoundingClientRect();if(l===Ti.isEmbed&&(B=document.querySelector("#workspace")),B){var Q=B.getBoundingClientRect(),J=Q.left+(U==null?void 0:U.getBoundingClientRect().width),te=Q.top,re=Q.width-(U==null?void 0:U.getBoundingClientRect().width)-M,ie=Q.height,se=K.left>=J&&K.right<=J+re,ge=K.top>=te&&K.bottom<=te+ie;h=se&&ge}}if(!h){var De=(0,tc.mi)([s]),Me=De.width,Fe=De.height,nt=De.left,ot=De.top,dt=(0,ne.ku)(p),fe=(0,ne.CL)(p),ue=(0,ne.z7)(p),Se=ue/100,$e=fe.width,Ye=fe.orientation,Xe=$e,ut=Ye==="portrait"?dt.height:dt.width,mt=(Xe-Me)/2-nt,pt=(ut-Fe)/2-ot,It=mt*Se,Ht=pt*Se;e({type:"preview:set:canvas:currentScreenOriginOffset",payload:{currentScreenOriginOffset:{x:It,y:Ht}}}),e({type:"preview:set:canvas:offset",payload:{offset:{x:It,y:Ht}}})}}},ma=c(67741),Mv=c(47345),Pv=c.n(Mv),Tv=c(37775),Zo=c(23340),nc=c(72210),Iv=c(93075),xr=c(31033),gn=c(59729),Ov=void 0,Dv=["screenCid"],Lv=["cid"],Bo={name:"none",delay:0,duration:0,offset:100},Nv={"entry:runner:init:home-screen":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U,K;return(0,a.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return o=r.getState,s=r.dispatch,l=e.payload.activeCid,p=o(),h=(0,ne.Ds)(p),M=Bo,N=MB.currentProjectMeta.cid,B=ProjectExchange.getProjectStore(N),U={[l]:(0,rn.B7)(B,l)},K=U[l].stateCid,J.next=11,s({type:"runner:update:state",payload:{activeCid:l,transition:M,screenInfoMap:U,history:[l],currentScreenStateHistory:[K]}});case 11:h===xr.nh&&s({type:"entry:inspect:init:data"});case 12:case"end":return J.stop()}},t)}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:runner:reload:screen":function(n,t){var r=n.dispatch,e=t.payload.activeCid;r({type:"entry:runner:init:home-screen",payload:{activeCid:e}}),r({type:"entry:runner:activate:screen",payload:{screenCid:e}})},"entry:runner:activate:screen":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.screenCid,l=o.transition,p=o.resetTargetScreen,h=p===void 0?!0:p,M=o.screenStateCid,N=r(),B=(0,ne.Uq)(N),U=B.activeCid,K=B.screenInfoMap,Q=B.history,J=B.audioList,te=B.videoList;l=l||Bo,/drawer|menu/.test(l.name)?(MB.runnerController.setCurrentScreen(U),MB.runnerController.setCurrentMenu(s)):(MB.runnerController.setCurrentScreen(null),MB.runnerController.setCurrentMenu(null));var re=function(){typeof l.callback=="function"&&l.callback(),MB.runnerController.removeToggledVisibility();for(var $e=r(),Ye=(0,ne.Uq)($e),Xe=Ye.widgetStatusMap,ut=(0,O.Z)({},Xe),mt=0,pt=Object.entries(Xe);mt<pt.length;mt++){var It=(0,F.Z)(pt[mt],2),Ht=It[0],Vt=It[1],Vr=Ht.split("-"),$r=(0,F.Z)(Vr,1),sn=$r[0];sn!==U&&Object.assign(ut,{[Ht]:Object.assign(Vt,{optionData:Vt.defaultOptionData})})}e({type:"runner:update:state",payload:{widgetStatusMap:ut}})},ie=(0,O.Z)((0,O.Z)({},l),{},{callback:re}),se=[s].concat((0,nr.Z)(Q.filter(function(Se){return Se!==s}))),ge=K[s],De=ge?ge.stateCid:pr.C2,Me=(0,Zo.u)(s,M,De),Fe=Me===pr.yv,nt=MB.currentProjectMeta.cid,ot=ProjectExchange.getProjectStore(nt),dt=ge&&Fe?ge:(0,rn.B7)(ot,s,Me),fe=[dt.stateCid];h&&MB.runnerController.resetScreenScrollState(s);var ue=(0,O.Z)((0,O.Z)({},K),{},{[s]:dt});e({type:"entry:runner:playOrPauseAudioAndVideo",payload:{audioList:J,videoList:te,activeCid:U,screenCid:s}}),e({type:"runner:update:state",payload:{transition:ie,screenInfoMap:ue,activeCid:s,history:se,currentScreenStateHistory:fe}})},"entry:runner:activate:screen-state":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.screenCid,l=o.stateCid,p=o.transition,h=r(),M=(0,ne.gi)(h),N=(0,ne.Ds)(h),B=(0,ne.Uq)(h),U=B.activeCid,K=B.screenInfoMap,Q=B.currentScreenStateHistory;if(U===s){var J=K[U],te=J.stateCid,re=J.panelInfoMap,ie=J.screenRuntimeState,se=l===pr.Tk?Q[0]:(0,Zo.u)(s,l,te);if(te!==se){var ge=ie.dataMap[se];if(ge){var De=M[U],Me=function(){MB.runnerController.setupPageTimers(De,se);for(var Se=r(),$e=(0,ne.Uq)(Se),Ye=$e.widgetStatusMap,Xe=(0,O.Z)({},Ye),ut=0,mt=Object.entries(Ye);ut<mt.length;ut++){var pt=(0,F.Z)(mt[ut],2),It=pt[0],Ht=pt[1],Vt=It.split("-")[1];Vt!==l&&Object.assign(Xe,{[It]:Object.assign(Ht,{optionData:Pv()(Ht.defaultOptionData)})})}e({type:"runner:update:state",payload:{widgetStatusMap:Xe}})},Fe=(0,O.Z)((0,O.Z)({},p),{},{callback:Me}),nt=(0,O.Z)({},re),ot=MB.currentProjectMeta.cid,dt=ProjectExchange.getProjectStore(ot),fe=(0,Vn.dG)(ot,s,se);fe.forEach(function(ue){nt[ue.cid]=(0,rn.Hf)(dt,ue)}),e({type:"entry:runner:update:screen",payload:{screenCid:s,stateCid:se,panelInfoMap:nt,transition:Fe}}),N==="inspect"&&e({type:"entry:inspect:init:data"})}}}},"entry:runner:back-to-prev-page":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o===void 0?{}:o,l=r(),p=(0,ne.gi)(l),h=(0,ne.Uq)(l),M=h.history,N=h.transition,B=N.name,U=N.duration,K=N.offset,Q=h.activeCid,J=h.audioList,te=h.videoList;if(M.length!==1){var re,ie=p[M[0]],se=p[M[1]];ie.orientation!==se.orientation?re=Bo:s.transition?re=s.transition:re={name:(0,Tv.D)(B),delay:0,duration:s.noDuration?0:U,offset:K,callback:s.callback};var ge=M.slice(1),De=ge[0];e({type:"entry:runner:playOrPauseAudioAndVideo",payload:{audioList:J,videoList:te,activeCid:Q,screenCid:De}}),e({type:"runner:update:state",payload:{activeCid:ge[0],transition:re,history:ge}})}},"entry:runner:update:screen":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.screenCid,l=(0,ma.Z)(o,Dv),p=r(),h=(0,ne.Uq)(p),M=h.screenInfoMap,N=h.currentScreenStateHistory,B=M[s];if(!B)throw new Error("\u66F4\u65B0\u4E86\u5C1A\u672A\u52A0\u8F7D\u7684\u9875\u9762!!");var U=(0,O.Z)((0,O.Z)({},B),l),K=(0,O.Z)((0,O.Z)({},M),{},{[s]:U}),Q=[B.stateCid,N[0]];e({type:"runner:update:state",payload:{screenInfoMap:K,currentScreenStateHistory:Q}})},"entry:runner:preload:screens":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.ku)(e),s=(0,ne.gi)(e),l=(0,ne.Uq)(e),p=l.activeCid,h=l.screenInfoMap,M=l.history,N=M.slice(0,2);if(h[p]){var B=h[p].stateCid,U=er.Z.getScreenStateValidLinkListForPreview(Ov.store,p,B);U.forEach(function(te){if(te.link_type===pr.rU.TYPE.screen_link&&te.transition!=="none"&&te.target_cid!==pr.eB){var re=s[te.target_cid];re&&re.screen_glue_cid===o.cid&&N.push(te.target_cid)}})}var K=MB.currentProjectMeta.cid,Q=ProjectExchange.getProjectStore(K),J={};N.forEach(function(te){J[te]=h[te]||(0,rn.B7)(Q,te)}),r({type:"runner:update:state",payload:{screenInfoMap:J}})},"entry:runner:activate:panel-screen":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.panel,l=o.panelScreenCid,p=o.transition,h=r(),M=(0,ne.Uq)(h),N=M.screenInfoMap,B=s.cid,U=s.screen_cid,K=N[U],Q=K==null?void 0:K.panelInfoMap[B],J=Q.screenDataMap;if(J[l]){var te=(0,rn.X9)(N[U],{panelCid:B,panelScreenCid:l,transition:p}),re=(0,O.Z)((0,O.Z)({},N),{},{[U]:te});e({type:"runner:update:state",payload:{screenInfoMap:re}})}},"entry:runner:activate:panel-state":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.panel,l=o.targetStateCid,p=o.transition,h=r(),M=(0,ne.Uq)(h),N=M.screenInfoMap,B=(0,ne.CL)(h),U=B.cid,K=s.cid,Q=s.screen_cid,J=Q||s.gid||U,te=N[J],re=te==null?void 0:te.panelInfoMap[K];if(re){var ie=re.currentScreenMetaCid,se=re.screenDataMap,ge=re.currentScreenStateCid,De=se[ie].screenRuntimeState.dataMap,Me=(0,Zo.u)(ie,l,ge);if(ge!==Me&&De[Me]){var Fe=function(){MB.runnerController.setupPanelTimers(s,ie,Me);for(var fe=r(),ue=(0,ne.Uq)(fe),Se=ue.widgetStatusMap,$e=(0,O.Z)({},Se),Ye=0,Xe=Object.entries(Se);Ye<Xe.length;Ye++){var ut=(0,F.Z)(Xe[Ye],2),mt=ut[0],pt=ut[1],It=mt.split("-"),Ht=(0,F.Z)(It,2),Vt=Ht[0],Vr=Ht[1];Vt===s.screen_meta_cid&&Vr!==l&&Object.assign($e,{[mt]:Object.assign(pt,{optionData:pt.defaultOptionData})})}e({type:"runner:update:state",payload:{widgetStatusMap:$e}})},nt=(0,rn.gI)(N[J],{panelCid:K,panelStateCid:Me,transition:p,callback:Fe}),ot=(0,O.Z)((0,O.Z)({},N),{},{[J]:nt});e({type:"runner:update:state",payload:{screenInfoMap:ot}})}}},"entry:runner:open:hyperlink":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.hyperlink,l=o.transition,p=r(),h=(0,ne.GP)(p),M=h.isMobile,N=(0,gr.CL)(),B,U;try{var K=new URL(s);B=K.href,U=K.hostname.split(".").slice(-2).join(".")}catch(J){B="https://"+s,U=""}var Q=function(){switch(l){case"inPage":(0,gn.gn)(B,"_self");break;case"newTab":window.ReactNativeWebView?MB.messageBucket.send("openLinkByBrowser",{link:s}):(0,gn.gn)(B,"_blank","noreferrer");break}};["wondershare.com","modao.cc"].includes(U)?N&&l==="newTab"?e({type:"previewModal:update:state",payload:{preOpenHyperlinkModal:{isOpen:!0,hyperlink:s,isMobile:M,displayWeChatNewTabInternalUrlTip:!0,confirmText:I18N.Common.confirm,onConfirm:Q}}}):Q():e({type:"previewModal:update:state",payload:{preOpenHyperlinkModal:{isOpen:!0,hyperlink:s,isMobile:M,displayWeChatNewTabExternalUrlTip:N&&l==="newTab",confirmText:I18N.SettingPanel.continue,onConfirm:Q}}})},"entry:runner:update:audio:audioState":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.cid,l=o.audioState,p=(0,ne.Uq)(r()),h=p.audioList,M=h.find(function(N){return N.cid===s});M.audioState=l,e({type:"runner:update:state",payload:{audioList:[].concat((0,nr.Z)(h.filter(function(N){return N.cid!==M.cid})),[M])}})},"entry:runner:append:audio":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.widget,s=(0,ne.Uq)(r()),l=s.activeCid,p=s.audioList,h=o.is_autoplay,M=o.is_loop,N=o.is_keep_alive,B=new Audio(o.text),U=o.cid+"-"+o.text;B.preload="meta",B.autoplay=h,B.loop=M;var K={cid:U,currentTime:0,duration:0,audioState:h?"play":"pause",audioObj:B,keepAlive:N,previewAudioLoaded:!1,screenCid:l};B.onloadedmetadata=function(Q){e({type:"entry:runner:update:audio",payload:{cid:U,duration:Q.target.duration}}),e({type:"entry:runner:update:audio",payload:{cid:U,previewAudioLoaded:!0}})},B.ontimeupdate=function(Q){e({type:"entry:runner:update:audio",payload:{cid:U,currentTime:Q.target.currentTime}})},B.onplay=function(){e({type:"entry:runner:update:audio",payload:{cid:U,audioState:"play"}})},B.onpause=function(){e({type:"entry:runner:update:audio",payload:{cid:U,audioState:"pause"}})},e({type:"runner:update:state",payload:{audioList:[].concat((0,nr.Z)(p),[K])}})},"entry:runner:tryRemove:audio":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.widget,s=(0,ne.Uq)(r()),l=o.cid,p=o.is_keep_alive,h=o.text,M=l+"-"+h,N=s.audioList;if(!p){var B=N.find(function(U){return U.cid===M});if(!B)return;B.audioObj.src=null,e({type:"runner:update:state",payload:{audioList:(0,nr.Z)(N.filter(function(U){return U.cid!==M}))}})}},"entry:runner:cleanup:audio":function(n){var t=n.getState,r=(0,ne.Uq)(t()),e=r.audioList;e.forEach(function(o){o.audioObj.src=null})},"entry:runner:update:audio":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.cid,l=(0,ma.Z)(o,Lv),p=(0,ne.Uq)(r()),h=p.audioList,M=h.find(function(N){return N.cid===s});M&&(Object.assign(M,l),e({type:"runner:update:state",payload:{audioList:[].concat((0,nr.Z)(h.filter(function(N){return N.cid!==s})),[M])}}))},"entry:runner:append:video":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.widget,s=(0,ne.Uq)(r()),l=s.videoList,p=o.cid,h=o.text,M=o.is_autoplay,N=o.is_loop,B=o.is_muted,U=o.is_hide_controls,K=o.screen_cid,Q=(0,nc.Dc)(h)&&(0,nc.dT)(new URL(h))?(0,Iv.q)(new URL(h),p,M,N,B,U).iframeSrc:h,J={cid:o.cid,src:Q,isAutoplay:o.is_autoplay,screenCid:K};e({type:"runner:update:state",payload:{videoList:[].concat((0,nr.Z)(l),[J])}})},"entry:runner:tryRemove:video":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.widget,s=(0,ne.Uq)(r()),l=o.cid,p=s.videoList;e({type:"runner:update:state",payload:{videoList:(0,nr.Z)(p.filter(function(h){return h.cid!==l}))}})},"entry:runner:append:widgetStatus":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.widget,l=o.optionData,p=(0,ne.Uq)(r()),h=s.cid,M=s.screen_cid,N=s.screenstate_cid,B=p.widgetStatusMap,U={defaultOptionData:s.optionData,optionData:l};e({type:"runner:update:state",payload:{widgetStatusMap:(0,O.Z)((0,O.Z)({},B),{},{[M+"-"+N+"-"+h]:U})}})},"entry:runner:update:widgetStatus":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.optionData,l=o.cid,p=o.screenCid,h=o.screenStateCid,M=(0,ne.Uq)(r()),N=M.widgetStatusMap,B=N[p+"-"+h+"-"+l];e({type:"runner:update:state",payload:{widgetStatusMap:(0,O.Z)((0,O.Z)({},N),{},{[p+"-"+h+"-"+l]:Object.assign(B,{optionData:s})})}})},"entry:runner:updateOrAppend:widgetStatus":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.cid,l=o.screenCid,p=o.screenStateCid,h=o.defaultOptionData,M=o.optionData,N=(0,ne.Uq)(r()),B=N.widgetStatusMap,U=B[l+"-"+p+"-"+s];e(U?{type:"runner:update:state",payload:{widgetStatusMap:(0,O.Z)((0,O.Z)({},B),{},{[l+"-"+p+"-"+s]:Object.assign(U,{optionData:M})})}}:{type:"runner:update:state",payload:{widgetStatusMap:(0,O.Z)((0,O.Z)({},B),{},{[l+"-"+p+"-"+s]:{defaultOptionData:h,optionData:M}})}})},"entry:runner:tryRemove:widgetStatus":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.cid,l=o.screenCid,p=o.screenStateCid,h=(0,ne.Uq)(r()),M=h.widgetStatusMap;delete M[l+"-"+p+"-"+s];var N=Object.assign(M);e({type:"runner:update:state",payload:{widgetStatusMap:N}})},"entry:runner:playOrPauseAudioAndVideo":function(n,t){var r=n.dispatch,e=t.payload,o=e.audioList,s=e.videoList,l=e.activeCid,p=e.screenCid,h=(0,Re.Z)(o),M;try{for(h.s();!(M=h.n()).done;){var N=M.value;!N.keepAlive&&N.screenCid!==p&&(N.audioObj.pause(),N.audioObj.currentTime=0,r({type:"entry:update:audio",payload:{currentTime:0}})),N.screenCid===p&&N.audioObj.autoplay&&l!==p&&(N.audioObj.currentTime===0||N.audioObj.paused||N.audioObj.ended)&&N.audioObj.play()}}catch(J){h.e(J)}finally{h.f()}var B=(0,Re.Z)(s),U;try{for(B.s();!(U=B.n()).done;){var K=U.value,Q=document.getElementById(K.cid);K.screenCid===p&&Q.src!==K.src?(Q.src=K.src,Q.tagName==="VIDEO"&&K.isAutoplay&&Q.play()):Q.src=""}}catch(J){B.e(J)}finally{B.f()}}},jv=c(51514),Fo=c.n(jv),Br={api:{}},Rv=function(n){Object.assign(Br,n)},kv=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s;return(0,a.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!t.artboard_id){p.next=10;break}return p.next=3,Br.api.requestSketchArtboardById(t.artboard_id);case 3:return r=p.sent,e=r.artboard,o=r.layers,s=Zv(o),p.abrupt("return",{artboard:e,layers:s,document:{document_colors:[],text_styles:[],global_colors:[]}});case 10:return p.abrupt("return",{artboard:{top:0,left:0,width:t.width,height:t.height},layers:[],document:{document_colors:[],text_styles:[],global_colors:[]}});case 11:case"end":return p.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),Zv=function(n){Ft(n)||(n=n.filter(function(e){return e.kind!=="group"||e.kind==="group"&&e.image_set}));var t=n.map(function(e){return(0,O.Z)((0,O.Z)({},e),{},{inspectText:e.text,cid:e.id})}),r=t.some(function(e){var o=e.z;return o});return r?t.sort(function(e,o){return e.z-o.z}):t.sort(function(e,o){return parseInt(o.width)*parseInt(o.height)-parseInt(e.width)*parseInt(e.height)}),t},ac="RECEIVE_RESOURCE_SUCCESS",Bv=function(n,t){return{type:ac,payload:{screenID:n,data:t}}},ic="RECEIVE_RESOURCE_ERROR",Fv=function(n,t){return{type:ic,payload:{screenID:n,error:t}}},oc="REQUEST_INDIRECT_ENTER_LAYER",sc="REQUEST_INDIRECT_SELECTION_LAYER",lc="REQUEST_SELECT_LAYER",cc="REQUEST_ENTER_LAYER",Ii=function(n){return{type:lc,payload:{layerID:n}}},Uv=function(n){return{type:sc,payload:{layerID:n}}},uc="SELECT_LAYER",dc=function(n){return{type:uc,payload:{layerID:n}}},pc="ACTIVATE_LAYER",Uo=function(n){return{type:pc,payload:{layerID:n}}},Hv=function(n){return{type:cc,payload:{layerID:n}}},Wv=function(n){return{type:oc,payload:{layerID:n}}},fc="ENTER_LAYER",Ho=function(n){return{type:fc,payload:{layerID:n}}},Oi=c(27585),hc=c(37054),$v={"entry:inspect:request:screen-data":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U,K,Q,J,te,re;return(0,a.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(o=r.getState,s=r.dispatch,l=e.payload.screenMetaCid,p=o(),h=Xr(p),M=(0,ne.CL)(p),N=h[l],!(N&&!N.error)){se.next=8;break}return se.abrupt("return");case 8:if(!MB.runnerController.requestScreenCidSet.has(l)){se.next=10;break}return se.abrupt("return");case 10:return MB.runnerController.requestScreenCidSet.add(l),se.prev=11,se.next=14,kv(M);case 14:K=se.sent,Q=K.artboard,J=K.layers,te=K.document,B={cid:M.cid,display_name:M.name,top:0,left:0,width:M.width,height:M.height,src_top:0,src_left:0,src_width:Q.width,src_height:Q.height,bg_colors:[{value:tn(M.bgcolor)}]},U=Lo(J,Q,M),re={artboard:Q,artboardLayer:B,sketchLayers:U,globalText:te.text_styles,globalColor:te.global_colors,documentColor:te.document_colors},MB.runnerController.requestScreenCidSet.delete(l),s(Bv(l,re)),se.next=30;break;case 25:se.prev=25,se.t0=se.catch(11),console.log(se.t0.stack),MB.runnerController.requestScreenCidSet.delete(l),s(Fv(l,se.t0.message));case 30:case"end":return se.stop()}},t,null,[[11,25]])}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:inspect:init:widgetLayersData":function(n){var t=n.getState,r=n.dispatch,e=t(),o=e.container.runner,s=o.activeCid,l=o.screenInfoMap;if(s){var p=l[s],h=p.screenMeta,M=p.stateCid,N=(0,ne.vo)(e),B=l[h.cid],U=B.panelInfoMap,K=B.screenRuntimeState;if(!l[s]){r({type:"container:layer:set-widgetLayersData",payload:{widgetLayersData:[]}});return}var Q={[h.cid]:h},J={[h.cid+"-"+M]:la(K.itemListMap[M],N,h)};U&&Object.values(U).forEach(function(ge){var De=ge.screenDataMap,Me=ge.currentScreenMetaCid;if(De[Me]){var Fe=De[Me],nt=Fe.screenMeta,ot=Fe.screenRuntimeState;Q[Me]=nt;for(var dt=0,fe=Object.entries(ot.itemListMap);dt<fe.length;dt++){var ue=(0,F.Z)(fe[dt],2),Se=ue[0],$e=ue[1];J[Me+"-"+Se]=la($e,N,nt)}}});var te={getScreenMetaByCid:function(De){return Q[De]},getSymbolPathData:function(De){return{screenMetaCid:De.screen_meta_cid,screenStateCid:De.screen_state_cid}},queryItemList:function(De,Me){return J[De+"-"+Me]},checkIsValidLink:function(){return!1}},re=(0,Oi.a)(Oi.A.preview),ie=new hc.G(te,re);ie.buildWidgetTree(h.cid,M);var se=ie.widgetNode;r({type:"container:layer:set-widgetStore",payload:{widgetStore:ie}}),r({type:"container:layer:set-widgetLayersData",payload:{widgetLayersData:se}})}},"entry:inspect:init:data":function(n){var t=n.dispatch;t({type:"entry:inspect:clear:panel:action"}),t(Ho(-1)),t(Uo(-1)),t({type:"entry:inspect:init:widgetLayersData"})},"entry:inspect:get:selectedPanel:widgetData":function(n,t){var r=n.dispatch,e=n.getState,o=t.payload.panelStateCid,s=e(),l=Mn(s),p=l.screen_meta_cid,h=l.cid,M=s.container.runner,N=M.activeCid,B=M.screenInfoMap;if(N){var U=B[N].screenMeta,K=B[U.cid].panelInfoMap,Q=K[h],J=Q.screenDataMap,te=Q.currentScreenMetaCid,re=J[te],ie=re.screenMeta,se=re.screenRuntimeState,ge={[p]:ie},De=se.itemListMap[o],Me={[p+"-"+o]:De.filter(function(fe){return!["link","pg","lr","sticky"].includes(fe.name)})},Fe={getScreenMetaByCid:function(ue){return ge[ue]},getSymbolPathData:function(ue){return{screenMetaCid:ue.screen_meta_cid,screenStateCid:ue.screen_state_cid}},queryItemList:function(ue,Se){return Me[ue+"-"+Se]},checkIsValidLink:function(){return!1}},nt=(0,Oi.a)(Oi.A.preview),ot=new hc.G(Fe,nt);ot.buildWidgetTree(p,o);var dt=ot.widgetNode;r({type:"container:layer:set-panelWidgetData",payload:{panelWidgetData:dt}})}},"entry:inspect:active:panelstate":function(n,t){var r=n.dispatch,e=n.getState,o=t.payload.panelStateCid,s=e(),l=Mn(s),p=Ro(s);p.replaceSymbolTree(l.cid,l.screen_meta_cid,o),r({type:"container:layer:set-widgetLayersData",payload:{widgetLayersData:p.widgetNode}}),r(Ii(-1)),r({type:"container:layer:set-inspected-panel-state-cid",payload:{inspectedPanelStateCid:o}})},"entry:inspect:exit:panel":function(n){var t=n.dispatch,r=n.getState,e=r(),o=Mn(e);if(o){var s=Ro(e),l=o.screen_state_cid;s.replaceSymbolTree(o.cid,o.screen_meta_cid,l),t({type:"container:layer:set-widgetLayersData",payload:{widgetLayersData:s.widgetNode}}),t({type:"entry:runner:activate:panel-state",payload:{panel:o,targetStateCid:l}})}t(Ii(-1)),t({type:"entry:inspect:clear:panel:action"})},"entry:inspect:clear:panel:action":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r){var e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=r.dispatch,e({type:"container:layer:set-isInspectInPanel",payload:{isInspectInPanel:!1}}),e({type:"container:layer:set-selectedPanel",payload:{selectedPanel:null}});case 3:case"end":return s.stop()}},t)}));function n(t){return i.apply(this,arguments)}return n}(),[lc]:function(i,n){var t=i.getState,r=i.dispatch,e=n.payload.layerID,o=t(),s=(0,ne.CL)(o),l=Xr(o),p=vc(l[s.cid].sketchLayers,e);r(dc(p)),r(Uo(p))},[sc]:function(i,n){var t=i.getState,r=i.dispatch,e=n.payload.layerID,o=t(),s=(0,ne.CL)(o),l=Xr(o),p=mc(l[s.cid].sketchLayers,e);r(dc(p)),r(Uo(p))},[cc]:function(i,n){var t=i.getState,r=i.dispatch,e=n.payload.layerID,o=t(),s=(0,ne.CL)(o),l=Xr(o),p=vc(l[s.cid].sketchLayers,e);r(Ho(p))},[oc]:function(i,n){var t=i.getState,r=i.dispatch,e=n.payload.layerID,o=t(),s=(0,ne.CL)(o),l=Xr(o),p=mc(l[s.cid].sketchLayers,e);r(Ho(p))}},vc=function(n,t){var r=Fo()(n,{id:t});return t},mc=function(n,t){var r=Fo()(n,{id:t});if(!r||!r.parent||r.image_set_zip||!r.maskedID)return t;if(r.maskedID&&r.parent){var e=Fo()(n,{object_id:r.parent});if(e)return e.id}return t},zv={"entry:artboards:init":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r){var e,o,s,l,p,h,M,N;return(0,a.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(e=r.getState,o=r.dispatch,s=e(),l=s.model.screens,p=(0,ne.vo)(s).cid,U.prev=4,h={},l.forEach(function(K){var Q=K.width,J=K.height,te=K.cid;h[te]={width:Q,height:J}}),!p){U.next=14;break}return U.next=10,Br.api.requestSketchArtboardList(p);case 10:M=U.sent,N=M.artboards,N.length>0&&N.forEach(function(K){var Q=K.width,J=K.height,te=K.screen_cid;h[te]={width:Q,height:J}}),N.length>0&&!(0,Tt.RD)("new_version_artboard_guide_has_shown",!1,Tt.cM.Boolean)&&o({type:"preview:update:guideOptions",payload:{isShowNewVersionArtboardGuide:!0}});case 14:h={artboards:h},o({type:"reducer:artboards:success",payload:(0,O.Z)({},h)}),U.next=22;break;case 18:U.prev=18,U.t0=U.catch(4),console.log(U.t0.stack),o({type:"reducer:artboards:fail"});case 22:case"end":return U.stop()}},t,null,[[4,18]])}));function n(t){return i.apply(this,arguments)}return n}()},Gv=function(n){var t=n.width,r=t===void 0?1:t,e=n.height,o=e===void 0?1:e;return r>0&&o>0},Vv={"entry:image-slice:init":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r){var e,o,s,l,p,h;return(0,a.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(e=r.getState,o=r.dispatch,s=e(),l=(0,ne.CL)(s),l){N.next=5;break}return N.abrupt("return");case 5:return N.prev=5,N.next=8,Br.api.requestSliceByArtboardId(l.artboard_id);case 8:p=N.sent,h=p.slices.filter(Gv),o({type:"reducer:slice:success",payload:{slices:h}}),N.next=17;break;case 13:N.prev=13,N.t0=N.catch(5),console.log(N.t0.stack),o({type:"reducer:slice:fail"});case 17:case"end":return N.stop()}},t,null,[[5,13]])}));function n(t){return i.apply(this,arguments)}return n}()},lP="preview-is-scrollable",Wo="preview-is-stickyshow",gc="preview-is-highlight",cP="preview-shell-type",yc="preview-is-statePanel",uP="preview-is-outsideVisible",Kv="preview-is-shell-type",Sc="preview-is-Minimized",bc=function(n){return"preview-simulator-type-"+n},xc=function(n,t){return n+"_"+t},Yv=function(n,t,r){var e=t.isSquare,o=t.isMobile,s=t.isEmbedV1,l=t.isEmbedV2,p=t.isHTMLZip,h=t.isVersionEmbedded;if(e)return{simulatorType:n.device==="web"||n.category==="combo_group"?"long_page":"device",isStickyShow:!1,isStickyAvailable:!0,isHighlight:!0,isShowOutsideArtboardNav:!1};var M=(0,Tt.RD)(Wo,!0,Tt.cM.Boolean),N=(0,Tt.RD)(gc,!0,Tt.cM.Boolean);if(h)return{simulatorType:"outside_artboard",isStickyShow:!0,isHighlight:N,isStickyAvailable:!0,isShowOutsideArtboardNav:!0};if(o||s){var B=r.highlight;return{simulatorType:"device",isStickyShow:M,isHighlight:B,isShowOutsideArtboardNav:!1}}if(l)return{simulatorType:r.simulator_type||"device",isStickyShow:r.sticky,isStickyAvailable:r.view_sticky,isHighlight:r.highlight,isShowOutsideArtboardNav:r.view_prd};var U=(0,j.A)(location.pathname);if(U||p){var K=(0,Tt.RD)(bc(n.cid),"device",Tt.cM.String);return{simulatorType:K,isStickyShow:M,isHighlight:N,isShowOutsideArtboardNav:p?r.view_prd:!0,isStickyAvailable:!0}}var Q=(0,j.G)(location.pathname);if(Q){var J=Object.fromEntries(new URLSearchParams(location.search).entries()),te=J.simulator_type,re=J.sticky,ie=re===""?!0:(0,Tt.RD)(Wo,!1,Tt.cM.Boolean),se=r.highlight,ge=MB.canEditByCurrentUser||r.view_prd;if(te){var De=!ge&&te==="outside_artboard"?"device":te;return{simulatorType:De,isStickyShow:ie,isHighlight:se,isShowOutsideArtboardNav:ge,isStickyAvailable:!0}}else return{simulatorType:r.simulator_type||"device",isStickyShow:r.sticky,isStickyAvailable:MB.canEditByCurrentUser||r.view_sticky,isHighlight:se,isShowOutsideArtboardNav:ge}}else return{simulatorType:n.device==="web"?"long_page":"device",isStickyShow:!1,isHighlight:!0,isStickyAvailable:!0,isShowOutsideArtboardNav:!1}},Xv={"entry:init:preview-setting":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.vo)(e),s=(0,ne.GP)(e),l=(0,ne.cM)(e),p=Yv(o,s,l),h=p.simulatorType,M=p.isStickyShow,N=p.isHighlight,B=p.isStickyAvailable,U=p.isShowOutsideArtboardNav,K=s.isUIChina,Q=s.isForum,J=s.isEmbedV2,te=K||Q||J,re={simulatorType:h,isStickyShow:M,isShowOutsideArtboardNav:U,isStickyAvailable:B,isStatePanelShow:(0,Tt.RD)(yc,!1,Tt.cM.Boolean),isHighlight:N,isMinimized:(0,Tt.RD)(xc(Sc,o.cid),te,Tt.cM.Boolean)};r({type:"reducer:preview-toolbar:update",payload:re}),r({type:"reducer:set:update:preview:annotate",payload:{annotatePanelShow:M}})},"entry:preview-setting:update:is-highlight":function(n,t){var r=n.dispatch,e=t.payload,o=e.isHighlight;(0,Tt.iO)(gc,o,Tt.cM.Boolean),r({type:"reducer:preview-toolbar:update",payload:{isHighlight:o}})},"entry:preview-setting:update:show:shell":function(n,t){var r=n.dispatch,e=t.payload,o=e.isShowShell;(0,Tt.iO)(Kv,o,Tt.cM.Boolean),r({type:"reducer:preview-toolbar:update",payload:{isShowShell:o}}),setTimeout(function(){MB.runnerController.reload()})},"entry:preview-setting:update:simulatorType":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.simulatorType,l=r(),p=(0,ne.CL)(l),h=(0,ne.vo)(l);(0,Tt.iO)(bc(h.cid),s,Tt.cM.String),MB.runnerController.resetCurrentScreenScrollState(p.cid),e({type:"reducer:preview-toolbar:update",payload:{simulatorType:s}}),setTimeout(function(){MB.runnerController.reload()})},"entry:preview-setting:update:is-sticky-show":function(n,t){var r=n.dispatch,e=t.payload,o=e.isStickyShow;(0,Tt.iO)(Wo,o,Tt.cM.Boolean),r({type:"reducer:preview-toolbar:update",payload:{isStickyShow:o}})},"entry:preview-setting:update:is-statePanel-show":function(n,t){var r=n.dispatch,e=t.payload,o=e.isStatePanelShow;(0,Tt.iO)(yc,o,Tt.cM.Boolean),r({type:"reducer:preview-toolbar:update",payload:{isStatePanelShow:o}})},"entry:preview-setting:toggle:isMinimized":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.vo)(e),s=(0,ne.jQ)(e),l=!s;(0,Tt.iO)(xc(Sc,o.cid),l,Tt.cM.Boolean),r({type:"reducer:preview-toolbar:update",payload:{isMinimized:l}})},"entry:preview-setting:update:show-menu-list":function(n,t){var r=n.dispatch,e=t.payload,o=e.showMenuList;r({type:"reducer:preview-toolbar:update",payload:{showMenuList:o}})}},it=c(25797),Di=function(n){if(n.status===401||/401/.test(n.message))MB.global.popupHelper.alertAsync({title:I18N.dApis.err_info_modal.INVALID_COOKIE.title,desc:I18N.dApis.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dApis.confirm}).then(function(){(0,gn.ll)(location.origin+"/signin")});else throw n},Qv=function(n){return(0,it.EE)("/api/upper/web_v1/version/"+n+"/all")},_v=function(n){var t=n.projectCid,r=n.versionName,e=n.versionDesc;try{return(0,it.Gf)("/project-buffer/prototype/check-duplicate/project-upper?upperCid="+t+"&upperAction=create-project-version",{railsExtra:{title:r,description:e}})}catch(o){Di(o)}},Jv=function(n){var t=n.projectCid,r=n.versionCid,e=n.newTitle,o=n.newDesc;try{return(0,it.IP)("/api/upper/web_v1/version/"+t+"/"+r,{title:e,description:o})}catch(s){Di(s)}},qv=function(n){var t=n.versionCid;return(0,it.Gf)("/project-buffer/prototype/check-duplicate/project-upper?upperCid="+t+"&upperAction=reset-project-version",{})},em=function(n){var t=n.projectCid,r=n.versionCid;try{return(0,it.Bh)("/api/upper/web_v1/version/"+t+"/"+r)}catch(e){Di(e)}},tm=function(n){var t=n.orgCid,r=n.projectCid;return(0,it.EE)("/api/upper/web_v1/design/online_partner?project_cid="+r+"&org_cid="+t)},Li=c(20702),Za=function(n){if(n.status===401||/401/.test(n.message))Di(n);else if(n.status===403||/403/.test(n.message))MB.global.popupHelper.alertAsync({title:I18N.dApis.err_info_modal.INVALID_COOKIE.title,desc:I18N.dApis.err_info_modal.access_error,confirmText:I18N.dApis.confirm}).then(function(){location.reload()});else throw n},rm={"entry:comment_thread_count_map:init":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r){var e,o,s,l,p;return(0,a.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return e=r.getState,o=r.dispatch,M.prev=1,s=(0,Li.hP)(window.location.href),M.next=5,Br.api.fetchProjectScreenCommentThreadCountMap({projectAccessToken:s,projectEncryptedPassword:(0,Tt.GQ)(s+"_pwd")||""});case 5:l=M.sent,p=l.screenCommentThreadCountMap,o({type:"preview:comment:update:screen_count_map",payload:{screenCommentThreadCountMap:p}}),M.next=14;break;case 10:M.prev=10,M.t0=M.catch(1),console.log(M.t0.stack),M.t0.status===404&&MB.global.popupHelper.alertAsync({title:I18N.pEntry.err_info_modal.COMMENT_NOT_FOUNT.title,desc:I18N.pEntry.err_info_modal.COMMENT_NOT_FOUNT.desc,confirmText:I18N.pEntry.confirm}).then(function(){location.reload()});case 14:case"end":return M.stop()}},t,null,[[1,10]])}));function n(t){return i.apply(this,arguments)}return n}(),"entry:comment:comment-threads:add":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U,K,Q,J,te,re,ie,se,ge;return(0,a.Z)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return o=r.getState,s=r.dispatch,l=e.payload,p=l.top,h=l.left,M=l.message,N=o(),B=(0,ne.CL)(N),U=B.cid,K=(0,ne.zI)(N),Q=(0,ne.ts)(N),J=Date.now()*.001,te=(0,Ne.dM)("cmth"),re=(0,ne.cM)(N),ie={cid:te,top:p,left:h,screen_cid:U,user_id:Q.id,created_at:J,updated_at:J},se=[].concat((0,nr.Z)(K),[(0,O.Z)({},ie)]),s({type:"container:comment:commentThreads",payload:{threads:se}}),s({type:"container:comment:focus",payload:{focusCommentThreadCid:te}}),ge=(0,Tt.GQ)(re.access_token+"_pwd")||"",Me.next=16,Br.api.fetchCreateCommentThread((0,O.Z)((0,O.Z)({},ie),{},{password:ge,access_token:re.access_token})).then(function(){M&&s({type:"entry:comment:comments:add",payload:{thread_cid:te,message:M,user_id:Q.id,created_at:J,updated_at:J,user:Q}})}).catch(function(Fe){Za(Fe)});case 16:case"end":return Me.stop()}},t)}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:comment:comment-threads:delete":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M;return(0,a.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return o=r.getState,s=r.dispatch,l=e.payload.cid,p=o(),h=(0,ne.zI)(p),M=h.filter(function(U){return U.cid!==l}),s({type:"container:comment:commentThreads",payload:{threads:M}}),B.prev=6,B.next=9,Br.api.fetchDeleteCommentThread(l);case 9:B.next=14;break;case 11:B.prev=11,B.t0=B.catch(6),Za(B.t0);case 14:case"end":return B.stop()}},t,null,[[6,11]])}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:comment:comment-threads:update":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U;return(0,a.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(o=r.getState,s=r.dispatch,l=e.payload,p=o(),h=(0,ne.zI)(p),M=(0,ne.cM)(p),N=h.find(function(J){return J.cid===l.cid}),!N){Q.next=18;break}return B=h.map(function(J){return J.cid===l.cid?(0,O.Z)((0,O.Z)({},J),l):J}),U=(0,Tt.GQ)(M.access_token+"_pwd")||"",s({type:"container:comment:commentThreads",payload:{threads:B}}),Q.prev=10,Q.next=13,Br.api.fetchCreateCommentThread((0,O.Z)((0,O.Z)((0,O.Z)({},N),l),{},{password:U,access_token:M.access_token}));case 13:Q.next=18;break;case 15:Q.prev=15,Q.t0=Q.catch(10),Za(Q.t0);case 18:case"end":return Q.stop()}},t,null,[[10,15]])}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:comment:comment-threads:update-local":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.data,s=r(),l=(0,ne.zI)(s),p=l.find(function(M){return M.cid===o.cid}),h=l;p?h=l.map(function(M){return M.cid===o.cid?(0,O.Z)((0,O.Z)({},M),o):M}):h=[].concat((0,nr.Z)(l),[(0,O.Z)({},o)]),e({type:"container:comment:commentThreads",payload:{threads:h}})},"entry:comment:comment-threads:destroy-local":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.cid,s=r(),l=(0,ne.zI)(s),p=l.filter(function(h){return h.cid!==o});e({type:"container:comment:commentThreads",payload:{threads:p}})},"entry:comment:comments:add":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U,K;return(0,a.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return o=r.getState,s=r.dispatch,l=e.payload,p=o(),h=(0,ne.yB)(p),M=(0,ne.cM)(p),N=(0,Ne.dM)("cm"),B=(0,O.Z)((0,O.Z)({},l),{},{cid:N}),U=[].concat((0,nr.Z)(h),[B]),s({type:"container:comment:comments",payload:{comments:U}}),K=(0,Tt.GQ)(M.access_token+"_pwd")||"",J.prev=10,J.next=13,Br.api.fetchCreateComment((0,O.Z)((0,O.Z)({},B),{},{password:K,access_token:M.access_token}));case 13:J.next=18;break;case 15:J.prev=15,J.t0=J.catch(10),Za(J.t0);case 18:case"end":return J.stop()}},t,null,[[10,15]])}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:comment:comments:delete":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M;return(0,a.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return o=r.getState,s=r.dispatch,l=e.payload.cid,p=o(),h=(0,ne.yB)(p),M=h.filter(function(U){return U.cid!==l}),s({type:"container:comment:comments",payload:{comments:M}}),B.prev=6,B.next=9,Br.api.fetchDeleteComment(l);case 9:B.next=14;break;case 11:B.prev=11,B.t0=B.catch(6),Za(B.t0);case 14:case"end":return B.stop()}},t,null,[[6,11]])}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:comment:comments:update":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U,K,Q,J,te;return(0,a.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(o=r.getState,s=r.dispatch,l=e.payload,p=Date.now()*.001,h=o(),M=(0,ne.yB)(h),N=(0,ne.cM)(h),B=l.cid,U=l.message,K=M.find(function(se){return se.cid===B}),!K){ie.next=21;break}return Q=M.map(function(se){return se.cid===B?(0,O.Z)((0,O.Z)({},se),{},{message:U,updated_at:p}):se}),s({type:"container:comment:comments",payload:{comments:Q}}),J=(0,O.Z)((0,O.Z)({},K),{},{message:U,updated_at:p}),te=(0,Tt.GQ)(N.access_token+"_pwd")||"",ie.prev=13,ie.next=16,Br.api.fetchCreateComment((0,O.Z)((0,O.Z)({},J),{},{password:te,access_token:N.access_token}));case 16:ie.next=21;break;case 18:ie.prev=18,ie.t0=ie.catch(13),Za(ie.t0);case 21:case"end":return ie.stop()}},t,null,[[13,18]])}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:comment:comments:update-local":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.data,s=r(),l=(0,ne.yB)(s),p=l.find(function(M){return M.cid===o.cid}),h=l;p?h=l.map(function(M){return M.cid===o.cid?(0,O.Z)((0,O.Z)({},M),o):M}):h=[].concat((0,nr.Z)(l),[(0,O.Z)({},o)]),e({type:"container:comment:comments",payload:{comments:h}})},"entry:comment:comments:destroy-local":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.cid,s=r(),l=(0,ne.yB)(s),p=l.filter(function(h){return h.cid!==o});e({type:"container:comment:comments",payload:{comments:p}})}},Cc=c(50501),wc=function(n){return function(){return n({type:"container:layer:update",payload:{isWidgetBeingExported:!0}})}},Ec=function(n){return function(){return n({type:"container:layer:update",payload:{isWidgetBeingExported:!1}})}},nm={"preview:download:selection":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U,K,Q,J,te,re,ie,se,ge;return(0,a.Z)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return o=r.getState,s=r.dispatch,l=e.payload.downloadData,p=o(),h=(0,ne.CL)(p),M=(0,ne.Uq)(p),N=M.activeCid,B=M.screenInfoMap,U=B[N].stateCid,K=(0,ne.vo)(p),Q=K.device,J=(0,ne.CD)(p),te=J.isWonderShare,re=Na(p),ie=Mn(p),se=zl(p),ge=(0,ne.e4)(p),Me.next=14,(0,Cc.cR)(ge,l,U,Q,h,te,{onStartExport:wc(s),onEndExport:Ec(s)},{isInspectInPanel:re,selectedPanel:ie,panelStateCid:se});case 14:case"end":return Me.stop()}},t)}));function n(t,r){return i.apply(this,arguments)}return n}(),"preview:download:selectedSvgIcon":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U,K,Q,J,te,re,ie;return(0,a.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return o=r.getState,s=r.dispatch,l=e.payload.downloadData,p=o(),h=(0,ne.CL)(p),M=(0,ne.Uq)(p),N=M.activeCid,B=M.screenInfoMap,U=B[N].stateCid,K=(0,ne.vo)(p),Q=K.device,J=Na(p),te=Mn(p),re=zl(p),ie=(0,ne.e4)(p),ge.next=13,(0,Cc.W4)(ie,l,U,Q,h,{onStartExport:wc(s),onEndExport:Ec(s)},{isInspectInPanel:J,selectedPanel:te,panelStateCid:re});case 13:case"end":return ge.stop()}},t)}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:preview:export":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h,M,N,B,U;return(0,a.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:o=r.getState,s=r.dispatch,l=e.payload.configs,p=o(),h=Yr(p),M=ja(p),N=h!==-1?[hn(h,M)]:[],B=N.length>0&&N[0].widget.name==="svg_icon_path",U=N.flatMap(function(J){return l.map(function(te){var re=te.affix,ie=te.format,se=te.scale;return{widgetTree:J,format:ie,affix:re,scale:se}})}),s(B?{type:"preview:download:selectedSvgIcon",payload:{downloadData:U}}:{type:"preview:download:selection",payload:{downloadData:U}});case 9:case"end":return Q.stop()}},t)}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:preview:update:root-project:exportSettings":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=r(),l=(0,ne.vo)(s),p=o.exportSettings;l.attr?l.attr.export_settings=p:l.attr={export_settings:p},l=(0,E.K)(l),Br.api.updateProjectBasicsInfo(l.cid,{cid:l.cid,attr:{export_settings:p}}),e({type:"preview:set:root-project",payload:{rootProject:l}})}},am=c(91045),Ac=c.n(am),Ni=function(){},im=Ac().isEnabled?Ac():{isFullscreen:!1,on:Ni,off:Ni,request:Ni,exit:Ni},ga=im,om=(0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)({},wv),Av),Nv),$v),zv),Vv),Xv),rm),nm),{},{"entry:init:preview:options":function(n,t){var r=n.dispatch,e=t.payload.previewOptions;r({type:"preview:update:state",payload:{previewOptions:e}})},"entry:preview:check:location-hash":function(n){var t=n.getState,r=n.dispatch,e=window.location.hash||"";if(e.startsWith("#thread=")){var o=e.substr(8),s=t().model.commentThreads.find(function(l){return l.cid===o});if(!s)return console.warn("[checkLocationHash] missing commentThread: "+o);r({type:"entry:sync-runner:set-screen",payload:{cid:s.screen_cid}}),r({type:"entry:comment:set:active",payload:{isActive:!0}}),r({type:"container:comment:focus",payload:{focusCommentThreadCid:s.cid}})}},"entry:init:preview:preference":function(n,t){var r=n.dispatch,e=t.payload.preference,o=!e.theme||e.theme==="grey"?Or.kj.theme:e.theme,s=(0,O.Z)((0,O.Z)({},e),{},{theme:o,grid_size:e.grid_size||Or.kj.grid_size});r({type:"preview:update:state",payload:{preference:s}})},"entry:init:preview:related:data":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload,s=o.rootProject,l=o.projectMeta,p=o.screenGlue,h=o.screenMeta,M=o.previewMode,N=o.isPanelPreviewMode,B=r(),U=(0,ne.GP)(B);e({type:"screens:refresh"}),e({type:"preview:current:update:state",payload:{rootProject:s,projectMeta:l,screenGlue:p,screenMeta:h,isPanelPreviewMode:N}}),e({type:"entry:comment:init:projectShare"}),e({type:"entry:init:preview:scale"});var K=MB.global.designOptions||{isDesign:!0};K.isDesign&&e({type:"entry:artboards:init"}),e({type:"entry:preview:reset:canvas:offset"}),e({type:"entry:init:preview-setting"});var Q=K.isDesign?new Map:MB.experienceData.experienceSnapshotUrlMap;e({type:"preview:update:state",payload:{designOptions:K,experienceSnapshotUrlMap:Q}}),e({type:"entry:preview:update-mode",payload:{toolbarActiveItem:M}});var J=U.isDesktop,te=U.isSquare,re=U.isHTMLZip,ie=U.isVersionEmbedded,se=U.isEmbedV2;J&&!te&&!re&&!ie&&!se&&e({type:"entry:comment_thread_count_map:init"})},"entry:current:set-screen":function(n,t){var r=n.dispatch,e=t.payload.screen;r({type:"preview:current:update:state",payload:{screenMeta:e}})},"entry:preview:select":function(n,t){var r=n.dispatch,e=n.getState,o=t.payload.toolbarActiveItem,s=e(),l=(0,ne.Ds)(s);o!==l&&r({type:"entry:preview:update-mode",payload:{toolbarActiveItem:o}})},"entry:preview:update-mode":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r,e){var o,s,l,p,h;return(0,a.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(o=r.dispatch,s=r.getState,l=e.payload.toolbarActiveItem,p=s(),h=(0,ne.CL)(p),l!==xr.nh){N.next=8;break}return N.next=7,o({type:"entry:inspect:request:screen-data",payload:{screenMetaCid:h.cid}});case 7:o({type:"entry:inspect:init:data"});case 8:o({type:"reducer:preview-toolbar:update",payload:{toolbarActiveItem:l}}),o({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}}),o({type:"entry:inspect:clear:panel:action"}),setTimeout(function(){var B=(0,ne.Ny)(s());B&&MB.runnerController.reload()});case 12:case"end":return N.stop()}},t)}));function n(t,r){return i.apply(this,arguments)}return n}(),"entry:preview:set:canvas:offset":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.offset,s=r(),l=(0,ne.it)(s),p=o.x,h=o.y;p=-Math.max(Math.min(-p,l.x/2),-l.x/2),h=-Math.max(Math.min(-h,l.y/2),-l.y/2),e({type:"preview:set:canvas:offset",payload:{offset:{x:p,y:h}}})},"entry:preview:reset:canvas:offset":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.ku)(e),s=(0,ne.CL)(e),l=(0,ne.yZ)(e),p=0,h=0,M=s.orientation==="landscape";M&&s.height<o.width&&(h=(o.width-s.height)/2),!M&&s.height<o.height&&(h=(o.height-s.height)/2),h=h*(l/100),r({type:"preview:set:canvas:currentScreenOriginOffset",payload:{currentScreenOriginOffset:{x:p,y:h}}}),r({type:"preview:set:canvas:offset",payload:{offset:{x:p,y:h}}})},"entry:enter:full-screen-mode":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r){var e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=r.dispatch,s.next=3,ga.request();case 3:e({type:"entry:preview:select",payload:{toolbarActiveItem:"preview"}}),e({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!0}}),e({type:"entry:auto-fit:preview:scale"}),e({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}});case 7:case"end":return s.stop()}},t)}));function n(t){return i.apply(this,arguments)}return n}(),"entry:exit:fill-screen-mode":function(n){var t=n.dispatch;t({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!1}}),t({type:"entry:init:preview:scale"}),t({type:"entry:preview:reset:canvas:offset"})}}),sm=(0,O.Z)((0,O.Z)({},om),{},{"entry:state:init":function(n){var t=n.dispatch;t({type:"user:set",payload:MB.user||void 0}),t({type:"teams:refresh"})},"entry:state:clear":function(n){var t=n.dispatch},"entry:sync-runner:set-screen":function(n,t){var r=n.dispatch,e=n.getState,o=t.payload.cid,s=e(),l=(0,ne.Uq)(s),p=l.activeCid,h=(0,ne.e4)(s),M=ProjectExchange.getProjectStore(h.cid),N=M.getLocalScreenMetaByCid(o);r({type:"entry:current:set-screen",payload:{screen:N}}),o!==p&&((0,ne.Ds)(s)==="inspect"&&r({type:"entry:inspect:request:screen-data",payload:{screenMetaCid:o}}),MB.runnerController.clearTimerHandler(),r({type:"entry:runner:activate:screen",payload:{screenCid:o,transition:void 0}}),(0,ne.Ds)(s)==="inspect"&&(r({type:"entry:inspect:clear:panel:action"}),r({type:"entry:inspect:init:data"})))},"entry:preview:clear":function(n,t){var r=n.dispatch;r({type:"reducer:preview-panel:reset"}),r({type:"container:layers:clear"})},"entry:preview:toggle:sharingManager":function(n){var t=n.dispatch,r=n.getState,e=r(),o=(0,ne.T4)(e);t({type:"preview:sharingManager:udpate:state",payload:{isShowSharingManager:!o}})}}),ji=c(32449),Kn=c(58057),lm=[],$o=(0,Pi.Z7)(lm),cm=$o.getState,um=$o.setState,dm=$o.wrapEntry,pm={"screens:refresh":dm(function(i,n,t){var r=n.dispatch,e=MB.currentProjectMeta.cid,o=(0,Kn.rt)(e).filter(function(l){return l.type!==ji._H.PROJECT_TRASHCAN}).map(function(l){return l.cid}),s=[];o.forEach(function(l){s.push.apply(s,(0,nr.Z)((0,Kn.bO)(e,l)))}),r({type:"reducer:screens:update",payload:s})})},Mc={entryMap:pm,getState:cm,setState:um},fm=c(93834),Pc={id:null,name:"",email:"",avatar:"",plan:{state:"",type:"free",rawType:"free",daysLeft:""}},zo=(0,Pi.Z7)(Pc),hm=zo.getState,vm=zo.setState,Tc=zo.wrapEntry,mm={"user:set":Tc(function(i,n,t){var r=n.dispatch,e=t.payload,o=e===void 0?{}:e,s=o.id,l=s===void 0?null:s,p=o.name,h=p===void 0?"":p,M=o.email,N=M===void 0?"":M,B=o.avatar,U=B===void 0?"":B,K=o.created_at;r({type:"reducer:user:update",payload:(0,fm.hq)(i,{id:l,name:h,email:N,avatar:U,plan:gm(o),created_at:K})})}),"user:clear":Tc(function(i,n,t){var r=n.dispatch;r({type:"reducer:user:update",payload:Pc})})};function gm(i){var n=i.plan,t=i.state,r=i.limitation,e=i.days_left,o=t==="active";return{state:t||"",type:o&&n||"free",rawType:n||"free",daysLeft:e||""}}var Go={entryMap:mm,getState:hm,setState:vm},ae=c(38899),ze=c(45090),At=c(37771),yt=c(46048),Ic;function ym(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var Oc=ze.default.label(Ic||(Ic=ym(["\n  &.Textarea,\n  &.CoreTextarea,\n  &.Input,\n  &.CoreInput {\n    display: inline-block;\n    color: #415058;\n    input,\n    textarea {\n      font-size: inherit;\n      color: inherit;\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      &[readonly] {\n        color: #8d9ea7;\n      }\n      &:focus {\n        outline: 0;\n      }\n      &::placeholder {\n        color: #8d9ea7;\n      }\n    }\n  }\n  &.is-invalid input,\n  &.is-invalid textarea,\n  & input:not([type=email]):invalid,\n  & textarea:invalid {\n    border-color: #ff6161 !important;\n    box-shadow: 0 0 6px 0 rgba(#ff6161, .5) !important;\n  }\n  &:not(.unstyled) {\n    input,\n    textarea {\n      background-color: #f6f7f8;\n      border: 1px solid #f2f2f3;\n      border-radius: 2px;\n      caret-color: #298df8;\n      transition: 0.2s ease-out;\n      transition-property: background, border, box-shadow, opacity;\n      &:enabled:not([readonly]){\n        :hover {\n          border-color: #298df8;\n        }\n        :focus {\n          background-color: #fff;\n          border-color: #298df8;\n          box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n        }\n      }\n    }\n  }\n  &.is-readonly {\n    color: #8d9ea7;\n  }\n  &.Input,\n  &.CoreInput{\n    &.regular {\n      height: 34px;\n      font-size: 14px;\n    }\n    &.small {\n      height: 22px;\n      font-size: 12px;\n    }\n    input {\n      padding: 0 .5em;\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  &.Textarea,\n  &.CoreTextarea{\n    &.regular {\n      font-size: 14px;\n    }\n    &.small {\n      font-size: 12px;\n    }\n    textarea {\n      padding: .5em;\n      width: 100%;\n      min-height: 5em;\n      max-height: 10em;\n      resize: vertical;\n      &:disabled,\n      &[readonly] {\n        resize: none;\n      }\n    }\n  }\n  &.CoreInput:not(.unstyled) input,\n  &.CoreTextarea:not(.unstyled) textarea {\n    background-color: #fff;\n    border-color: #c8cdd1;\n  }\n  &.InputEmail, &.CoreInputEmail{\n    &:not(.unstyled).isnt-valid input {\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n      border-color: #ff6161 !important;\n    }\n  }\n"]))),v=c(35269),Sm=["size","theme","isInvalid","unstyled","className","value","type","onChange","isAutoFocus"],bm=["size","theme","unstyled","className","value","onChange"];function Dc(i,n){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,r)}return t}function Lc(i){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Dc(Object(t),!0).forEach(function(r){xm(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Dc(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function xm(i,n,t){return n=Cm(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Cm(i){var n=wm(i,"string");return typeof n=="symbol"?n:String(n)}function wm(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Nc(i,n){if(i==null)return{};var t=Em(i,n),r,e;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(e=0;e<o.length;e++)r=o[e],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function Em(i,n){if(i==null)return{};var t={},r=Object.keys(i),e,o;for(o=0;o<r.length;o++)e=r[o],!(n.indexOf(e)>=0)&&(t[e]=i[e]);return t}function jc(i){return function(n){return i(n.target.value,n)}}function Vo(i){var n=i.size,t=i.theme,r=i.isInvalid,e=i.unstyled,o=i.className,s=i.value,l=i.type,p=i.onChange,h=i.isAutoFocus,M=Nc(i,Sm),N=(0,yt.A1)([t==="core"?"CoreInput":"Input",n,e&&"unstyled",r&&"is-invalid",o]);return(0,v.jsx)(Oc,{className:N,children:(0,v.jsx)("input",Lc({type:l,value:s,onChange:jc(p),autoFocus:h},M))})}Vo.propTypes={type:u().string,size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),unstyled:u().bool,isInvalid:u().bool,className:u().string,value:u().string,onChange:u().func,isAutoFocus:u().bool},Vo.defaultProps={type:"text",size:"regular",theme:"plain",isAutoFocus:!1,onChange:function(){return null}};function Ko(i){var n=i.size,t=i.theme,r=i.unstyled,e=i.className,o=i.value,s=i.onChange,l=Nc(i,bm),p=(0,yt.A1)([t==="core"?"CoreTextarea":"Textarea",n,r&&"unstyled",e]);return(0,v.jsx)(Oc,{className:p,children:(0,v.jsx)("textarea",Lc({value:o,onChange:jc(s)},l))})}Ko.propTypes={className:u().string,size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),unstyled:u().bool,value:u().string,onChange:u().func},Ko.defaultProps={size:"regular",theme:"plain",onChange:function(){return null}};var Am=c(60907),ni=c(49003),Mm={value:"",startValue:"",isEditing:!1},Yo=function(n,t){var r=t.onStart,e=t.onChange,o=t.onEnd;n=(0,O.Z)((0,O.Z)({},Mm),n),n.startValue=n.value;var s=(0,Am.Z7)(n),l=s.subscribe,p=s.unsubscribe,h=s.getState,M=s.setState,N=function(){M({isEditing:!0}),r&&r(h()),M({startValue:h().value})},B=function(){M({isEditing:!1}),o&&o(h())},U=function(Q){var J=h();J.isEditing&&(M({value:Q}),e&&e(h()))};return{subscribe:l,unsubscribe:p,getState:h,startEdit:N,endEdit:B,setValue:U}},Ri=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;(0,P.Z)(this,t),e=n.call(this,r);{var o=function(p,h){e.setState(p),!h.isEditing&&p.isEditing&&setTimeout(e.focusTextarea,0)};e.bindEditStore=function(l){e.setState(l.getState()),l.subscribe(o)},e.unbindEditStore=function(l){l.unsubscribe(o)},e.onChange=function(l){return e.props.textEditStore.setValue(l)},e.onKeyDown=function(l){var p=l.key===ni.Fn.Enter||l.which===13,h=p&&(!e.props.multiline||!l.shiftKey);h&&(l.preventDefault(),l.stopPropagation(),e.props.textEditStore.endEdit())}}{var s=null;e.setRef=function(l){s=l&&l.querySelector("textarea")},e.focusTextarea=function(){if(s){s.focus&&s.focus();var l=s.value.length;s.setSelectionRange(l,l)}},e.autoHeightTextarea=function(){!e.props.autoHeight||!s||(s.style.height="auto",s.style.height=Math.max(s.scrollHeight+2,s.offsetHeight,e.props.minHeight)+"px")}}return e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.bindEditStore(this.props.textEditStore),this.focusTextarea()}},{key:"componentDidUpdate",value:function(e){this.props.textEditStore!==e.textEditStore&&(this.unbindEditStore(e.textEditStore),this.bindEditStore(this.props.textEditStore)),this.autoHeightTextarea()}},{key:"render",value:function(){var e=this.props,o=e.placeholder,s=o===void 0?"":o,l=e.textEditStore,p=l.getState(),h=p.value;return(0,v.jsx)(Pm,{ref:this.setRef,children:(0,v.jsx)(Ko,{value:h,placeholder:s,rows:1,onChange:this.onChange,onKeyDown:this.onKeyDown})})}}]),t}(y.PureComponent);(0,f.Z)(Ri,"propTypes",{textEditStore:u().object.isRequired,placeholder:u().string,multiline:u().bool,autoHeight:u().bool,minHeight:u().number});var Pm=ze.default.div.withConfig({displayName:"TextEditComponent__HackStyleDiv",componentId:"sc-64uaey-0"})(["&&& label{width:100%;display:flex;align-items:center;}&&& textarea{font-size:12px;resize:none;background-color:",";border:1px solid ",";color:",";caret-color:",";box-shadow:none;&::placeholder{color:",";}&:enabled:not([readonly]):focus{background-color:",";border-color:#1684fc;box-shadow:none;}}"],function(i){return i.theme.color_background},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_text_L3},function(i){return i.theme.color_background_white}),Rc=function(n,t,r){return(0,v.jsx)(Tm,{className:"btn-wrap",children:(0,v.jsx)("button",{onClick:t,disabled:r,children:n})})},Tm=ze.default.span.withConfig({displayName:"DarkerButton__StyledButton",componentId:"sc-1vtryx2-0"})(["height:28px;width:54px;display:inline-block;button{width:54px;height:100%;font-size:12px;line-height:16px;background:",";color:",";border:1px solid ",";border-radius:4px;&:not(:disabled):hover{background:",";}&:not(:disabled):active{background:",";}&:disabled{border-color:",";color:#999;cursor:not-allowed;}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_disabled}),kn=c(70956),Zn=c(10217),Im=c(98059),ki=c.n(Im),Om=c(18890),ai=c.n(Om),Yn=c(80055),Xo=c(71070),Qo=c(91119);function kc(i,n){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,r)}return t}function Ba(i){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?kc(Object(t),!0).forEach(function(r){Dr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):kc(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Zc(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function Bc(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Wc(r.key),r)}}function Fc(i,n,t){return n&&Bc(i.prototype,n),t&&Bc(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Uc(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),n&&_o(i,n)}function _o(i,n){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},_o(i,n)}function Hc(i){var n=Lm();return function(){var r=Zi(i),e;if(n){var o=Zi(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Dm(this,e)}}function Dm(i,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(i)}function Rr(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Lm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function Zi(i){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zi(i)}function Dr(i,n,t){return n=Wc(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Wc(i){var n=Nm(i,"string");return typeof n=="symbol"?n:String(n)}function Nm(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}var $c="IBOT_DROPDOWN_MENU_ROOT",Bi=document.getElementById($c)||Object.assign(document.createElement("div"),{id:$c}),zc=document.body;zc.contains(Bi)||zc.appendChild(Bi);var Fa=function(i){Uc(t,i);var n=Hc(t);function t(){var r;Zc(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),Dr(Rr(r),"state",{prevProps:r.props,isOpen:r.props.isOpen,$opener:null,currentMenuListItemIdx:r.props.currentMenuListItemIdx}),Dr(Rr(r),"leaveTimeoutList",[]),Dr(Rr(r),"toggle",function(l){return r.setState({isOpen:ki()(l)?l:!r.state.isOpen})}),Dr(Rr(r),"open",function(){return r.toggle(!0)}),Dr(Rr(r),"close",function(){return r.toggle(!1)}),Dr(Rr(r),"onMouseEnter",function(){var l=r.props.shouldOpenOnHover;l&&(clearTimeout(r.closeTimeout),Object.assign(Rr(r),{hoverTimeout:setTimeout(r.open,r.props.hoverDelay)}))}),Dr(Rr(r),"onMouseLeave",function(){var l=r.props.shouldOpenOnHover;l&&clearTimeout(r.hoverTimeout)}),Dr(Rr(r),"onMouseMove",function(l){var p=l.clientX,h=l.clientY,M=r.props,N=M.shouldOpenOnHover,B=M.hoverDelay,U=M.hoverCloseDelay,K=r.state.$opener;if(N){clearTimeout(r.hoverTimeout);var Q=document.elementFromPoint(p,h),J=!K.contains(Q),te=!Q.closest(".DropdownMenu");te?J&&te&&r.leaveTimeoutList.push(setTimeout(r.close,U!==void 0?U:Math.max(B,300))):(r.leaveTimeoutList.map(clearTimeout),Object.assign(Rr(r),{leaveTimeoutList:[]}))}}),Dr(Rr(r),"set$opener",function(l){return r.setState({$opener:l})}),Dr(Rr(r),"onSelect",function(l){var p=l.currentTarget,h=r.props,M=h.menuList,N=h.onSelect,B=h.shouldCloseOnSelect;if(typeof N=="function"){var U=p.dataset.idx,K=M[U],Q=typeof K=="string"?K:K&&K.value;N(U,Q),r.setState({currentMenuListItemIdx:U}),B&&r.close()}}),r}return Fc(t,[{key:"componentDidUpdate",value:function(e,o){var s=o.isOpen,l=this.props,p=l.onOpen,h=l.onClose,M=l.onToggle,N=this.state.isOpen;s!==N&&(N?(p(),M(!0)):(h(),M(!1)))}},{key:"render",value:function(){var e=this.props,o=e.className,s=e.opener,l=e.openerType,p=e.openerClassName,h=e.shouldCloseOnClickOutside,M=this.state,N=M.isOpen,B=M.$opener,U=M.currentMenuListItemIdx,K=this.props.isDisabled||this.props.disabled,Q=(0,yt.A1)(["Dropdown",N&&"is-open",K&&"is-disabled",o]),J={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,disabled:K,className:p};return(0,v.jsxs)(Qo.Zc,{ref:this.set$opener,className:Q,children:[l!=="button"&&(0,y.isValidElement)(s)?(0,y.cloneElement)(s,J):(0,v.jsx)("button",Ba(Ba({type:"button"},J),{},{children:s})),(0,v.jsx)(Gc,Ba(Ba({},this.props),{},{isOpen:N,$opener:B,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:h,currentMenuListItemIdx:U})),N&&(0,v.jsx)(Yn.Z,{target:document,onMouseMove:this.onMouseMove})]})}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.isOpen;return ai()(e,s)?null:ki()(e.isOpen)?{prevProps:e,isOpen:e.isOpen}:{prevProps:e}}}]),t}(y.PureComponent);Dr(Fa,"positionMenu",Xo.o),Dr(Fa,"propTypes",{isOpen:u().bool,mode:u().oneOf(["light","dark"]),opener:u().node,openerType:u().oneOf(["button","custom"]),className:u().string,portalClassName:u().string,menuBaseClassName:u().string,openerClassName:u().string,menuClassName:u().string,menuBaseStyle:u().shape({top:u().number,right:u().number,bottom:u().number,width:u().number,height:u().number}),menu:u().node,menuList:u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool})])),currentMenuListItemIdx:u().oneOfType([u().number,u().string]),shouldPreventScrollingPropagation:u().bool,shouldOpenOnHover:u().bool,shouldCloseOnClickOutside:u().bool,hoverDelay:u().oneOfType([u().number,u().string]),hoverCloseDelay:u().oneOfType([u().number,u().string]),arrowed:u().bool,inflexible:u().bool,menuX:u().oneOf(["left","center","right"]),menuY:u().oneOf(["top","bottom"]),menuBasedX:u().bool,isDisabled:u().bool,disabled:u().bool,onSelect:u().func,shouldCloseOnSelect:u().bool,onOpen:u().func.isRequired,onClose:u().func.isRequired,onToggle:u().func.isRequired}),Dr(Fa,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null}});var Gc=function(i){Uc(t,i);var n=Hc(t);function t(){var r;Zc(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),Dr(Rr(r),"state",{isDownward:r.props.position==="bottom"}),Dr(Rr(r),"portal",(0,yt.Qt)(Bi,(0,yt.A1)(["DropdownMenuPortal",r.props.portalClassName]))),Dr(Rr(r),"menuBaseRef",(0,y.createRef)()),Dr(Rr(r),"onResizeWindow",function(){return r.props.isOpen&&r.position()}),Dr(Rr(r),"onClickOutside",function(l){var p=l.target,h=r.props,M=h.$opener,N=h.onClose,B=h.shouldCloseOnClickOutside;if(B){var U=!Bi.contains(p),K=p.closest("label"),Q=K&&K.contains(M),J=!!(0,yt.$)(".SelectMenu.is-open");U&&!Q&&!J&&N()}}),Dr(Rr(r),"position",function(){var l=r.props,p=l.$opener,h=l.menuX,M=l.menuY,N=l.menuBaseStyle,B=l.inflexible,U=Rr(r),K=U.menuBaseRef.current,Q=(0,Xo.o)({$menuBase:K,$opener:p,menuX:h,menuY:M,menuBaseStyle:N,inflexible:B}),J=Q.isDownward;r.setState({isDownward:J})}),r}return Fc(t,[{key:"componentDidMount",value:function(){var e=this.props,o=e.isOpen,s=e.shouldPreventScrollingPropagation,l=this.menuBaseRef.current;o&&setTimeout(this.position),s&&(0,yt.$h)((0,yt.$)(".content",l)),window.addEventListener("resize",this.onResizeWindow)}},{key:"componentDidUpdate",value:function(e){var o=e.isOpen,s=this.props.isOpen;!o&&s&&this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.portal,o=this.menu;return(0,b.createPortal)(o,e)}},{key:"menu",get:function(){var e=this.props,o=e.isOpen,s=e.mode,l=e.menuBaseClassName,p=e.menuClassName,h=e.menu,M=e.menuList,N=e.arrowed,B=e.menuX,U=e.menuBasedX,K=e.currentMenuListItemIdx,Q=e.onSelect,J=this.state.isDownward,te=(0,yt.A1)(["DropdownMenu",s,o&&"is-open",J?"is-downward":"is-upward","x-"+B,N&&"arrowed "+(U?"x-menu-based":"x-arrow-based"),p]);return(0,v.jsx)(Qo.aw,{ref:this.menuBaseRef,className:(0,yt.A1)(["DropdownMenuBase",l]),children:(0,v.jsxs)(Qo.Lh,{className:te,children:[N&&(0,v.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:yt.Wj.b_}}),(0,v.jsx)("div",{className:"content",children:M?(0,v.jsx)("ul",{className:"MenuList",children:M.map(function(re,ie){return(0,v.jsx)("li",{role:"option","data-idx":ie,className:(0,yt.A1)([re.isDisabled&&"is-disabled",ie===Number(K)&&"is-active"]),onClick:re.isDisabled?void 0:Q,children:re.label||re},ie)})}):h}),o&&(0,v.jsx)(Yn.Z,{target:document,onClick:(0,Yn.Y)(this.onClickOutside,{capture:!0})}),o&&(0,v.jsx)(Yn.Z,{target:document,onScroll:(0,Yn.Y)(this.position,{capture:!0})})]})})}}]),t}(y.PureComponent);Dr(Gc,"propTypes",Ba(Ba({},Fa.propTypes),{},{isOpen:u().bool,$opener:u().instanceOf(Element),onSelect:u().func,onClose:u().func}));var Pn=c(91619),jm=c(72204),Jo=c.n(jm),Rm=c(6926),Vc=c.n(Rm),km=function(){var n=window.MBLocale;return(n==="zh-CN"||n==="zh-Hans-CN")&&Vc()(Jo().settings.strings,{prefixAgo:null,prefixFromNow:"\u4ECE\u73B0\u5728\u5F00\u59CB",suffixAgo:"\u4E4B\u524D",suffixFromNow:null,seconds:"\u4E0D\u5230 1 \u5206\u949F",minute:"\u5927\u7EA6 1 \u5206\u949F",minutes:"%d \u5206\u949F",hour:"\u5927\u7EA6 1 \u5C0F\u65F6",hours:"\u5927\u7EA6 %d \u5C0F\u65F6",day:"1 \u5929",days:"%d \u5929",month:"\u5927\u7EA6 1 \u4E2A\u6708",months:"%d \u6708",year:"\u5927\u7EA6 1 \u5E74",years:"%d \u5E74",numbers:[],wordSeparator:""}),n==="ja"&&Vc()(Jo().settings.strings,{prefixAgo:null,prefixFromNow:"\u4ECA\u304B\u3089",suffixAgo:"\u524D",suffixFromNow:null,seconds:"1\u5206\u672A\u6E80",minute:"\u7D041\u5206",minutes:"%d \u5206",hour:"\u7D041\u6642\u9593",hours:"\u7D04\uFF05d\u6642\u9593",day:"1\u65E5",days:"%d\u65E5",month:"\u7D041\u30F6\u6708",months:"%d\u30F6\u6708",year:"\u7D041\u5E74",years:"%d\u5E74",numbers:[],wordSeparator:""}),{MBLocale:n,parseTimeAgo:function(r){return Jo()(r)}}},Zm=function(n,t,r,e,o){return[(0,v.jsxs)(Bm,{children:[km().parseTimeAgo(n.updated_at*1e3),e&&(0,v.jsxs)(Fm,{onClick:t?o:e,children:[(0,v.jsx)(Pn.Z,{type:"dora",name:"reply"}),t?I18N.pComment.cancel_reply:I18N.pComment.comment_create]})]},"footer"),t&&(0,v.jsxs)(Um,{children:[(0,v.jsx)(Ri,{textEditStore:t,placeholder:I18N.pComment.comment_placeholder,minHeight:60,autoHeight:!0,multiline:!0}),Rc(I18N.pComment.comment_create,t.endEdit,!r)]},"reply")]},Bm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ContentFooterDiv",componentId:"sc-1cxq4bf-0"})(["display:flex;align-items:center;justify-content:space-between;padding:0 10px 10px;line-height:20px;color:",";opacity:0.75;"],function(i){return i.theme.color_text_L3}),Fm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ReplyToggleDiv",componentId:"sc-1cxq4bf-1"})(["cursor:pointer;color:",";&:hover,&:active{color:",";}> span{margin-right:6px;opacity:0.5;}"],function(i){return i.theme.color_text_L3},function(i){return i.theme.color_text_L2}),Um=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ReplyDropdownDiv",componentId:"sc-1cxq4bf-2"})(["padding:10px 0;background:",";span.btn-wrap{width:100%;height:24px;font-size:12px;margin-top:8px;button{width:100%;height:100%;background:#1684fc;color:#fff;border:none;&:not(:disabled):hover{background:#1169c9;}&:not(:disabled):active{background:#1169c9;color:rgba(255,255,255,0.6);}&:disabled{background:#1169c9;opacity:0.6;}}}"],function(i){return i.theme.color_background_white}),Kc=function(n){var t=n.sub,r=n.comment,e=n.textEditStore,o=n.cancelEdit;return(0,v.jsx)(Hm,{className:t?"sub":"",children:e?(0,v.jsxs)($m,{children:[(0,v.jsx)(Ri,{textEditStore:e,placeholder:I18N.pComment.comment_placeholder,minHeight:60,autoHeight:!0,multiline:!0}),(0,v.jsxs)(zm,{children:[(0,v.jsx)("button",{onClick:o,className:"cancel",children:I18N.pComment.cancelEdit}),(0,v.jsx)("button",{onClick:e.endEdit,className:"confirm",children:I18N.pComment.updateEdit})]})]}):(0,v.jsx)(Wm,{children:r.message})})};Kc.propTypes={sub:u().bool,comment:u().object,textEditStore:u().object,cancelEdit:u().func};var Hm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ContentMessageDiv",componentId:"sc-1cxq4bf-3"})(["display:flex;flex-flow:column;width:100%;height:auto;color:",";white-space:nowrap;text-overflow:ellipsis;span{padding:10px;}&.sub span{padding:0 10px 10px;}"],function(i){return i.theme.color_text_L2}),Wm=ze.default.span.withConfig({displayName:"CommentLayerThreadContent__EditableSpanSpan",componentId:"sc-1cxq4bf-4"})(["user-select:text;word-break:break-all;white-space:pre-line;text-overflow:ellipsis;"]),$m=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__EditableSpanDiv",componentId:"sc-1cxq4bf-5"})(["background:",";> textarea{margin-bottom:5px;padding:10px;border:1px solid #d3dce6;}"],function(i){return i.theme.color_background_white}),zm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ButtonPanelDiv",componentId:"sc-1cxq4bf-6"})(["display:flex;justify-content:flex-end;width:100%;margin-top:8px;> button{width:60px;height:28px;font-size:12px;margin-left:10px;border-radius:4px;&:lang(ja){width:86px;}&.cancel{color:",";border:1px solid ",";background:",";&:hover{background:",";}&:active{background:",";}}&.confirm{background:#1684fc;color:#fff;&:not(:disabled):hover{background:#1169c9;}&:not(:disabled):active{background:#1169c9;color:rgba(255,255,255,0.6);}&:disabled{background:#1169c9;opacity:0.6;}}}"],function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_split},function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active}),Yc=function(n){var t=n.sub,r=n.avatar,e=n.name,o=n.markIndex,s=n.startEdit,l=n.doDelete;return(0,v.jsxs)(Gm,{className:t?"sub":"",children:[(0,v.jsxs)(Ym,{children:[(0,v.jsx)("img",{src:r,width:24,height:24}),(0,v.jsxs)("div",{children:[o&&(0,v.jsx)("span",{className:"index",children:"#"+o}),(0,v.jsx)("span",{className:"name",children:e})]})]}),(0,v.jsxs)(Vm,{children:[s&&(0,v.jsx)(qo,{onSelect:s,menuClassName:"comment-header-edit",iconName:"cog",text:I18N.pComment.modify_edit}),l&&(0,v.jsx)(qo,{onSelect:l,menuClassName:"comment-header-delete",iconName:"trash",text:I18N.pComment.modify_delete})]})]})};Yc.propTypes={avatar:u().string,name:u().string,markIndex:u().number,startEdit:u().func,doDelete:u().func,sub:u().bool};var Gm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ContentHeaderDiv",componentId:"sc-1cxq4bf-7"})(["display:flex;justify-content:space-between;padding-bottom:10px;width:100%;&.sub{padding:10px;}"]),Vm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ContentHeaderEditDiv",componentId:"sc-1cxq4bf-8"})(["display:flex;align-items:center;.icon{color:",";margin-left:5px;&:hover,&:active{color:",";}}"],function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_text_L3}),Km=(0,ze.createGlobalStyle)([".comment-header-delete,.comment-header-edit{box-shadow:",";.content{background-color:",";}.arrow{color:",";}li{color:",";&:not(.is-disabled):hover{color:",";background-color:"," !important;}}}.comment-header-delete li:hover{color:#eb5648;}"],function(i){return i.theme.shadow_1},function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background}),Ym=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__UserInfoDiv",componentId:"sc-1cxq4bf-9"})(["display:flex;height:24px;> img{margin-right:10px;border-radius:100%;}> div{display:flex;flex-flow:column;justify-content:center;max-height:24px;font-weight:bold;line-height:12px;.index{vertical-align:middle;color:#f55d54;}.name{max-width:140px;color:",";overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}"],function(i){return i.theme.color_text_L2}),qo=function(n){var t=n.onSelect,r=n.text,e=n.iconName,o=n.menuClassName;return(0,v.jsx)(Zn.Z,{content:{hover:r},duration:1e3,position:"left",children:(0,v.jsx)(Fa,{opener:(0,v.jsx)(Pn.Z,{type:"dora",name:e}),onSelect:t,menuClassName:o,menuList:[r],menuX:"right",arrowed:!0})})};qo.propTypes={onSelect:u().func.isRequired,text:u().string.isRequired,iconName:u().string.isRequired,menuClassName:u().string.isRequired};var Xm=(0,ze.createGlobalStyle)(["#IBOT_TOOLTIP_ROOT .TipBase .Tip{.arrow svg{fill:",";}.content{background-color:",";color:",";}}"],function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_white}),Xc=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),e.focusThread=function(){return!e.props.isScrollFocus&&e.props.commentOperations.setHoverFocusCommentThreadCid(e.props.commentThreadCid)},e.blurThread=function(){return e.props.isBlur&&e.props.commentOperations.setHoverFocusCommentThreadCid(null)},e.setRef=function(o){e.mainRef=o},e.mainRef=null,e.toggleUnfoldComment=function(){e.setState({isUnfold:!e.state.isUnfold})},e.state={isUnfold:!1},e}return(0,S.Z)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.commentList.length>e.commentList.length&&this.setState({isUnfold:!0}),this.props.isScrollFocus&&this.props.isScrollFocus!==e.isScrollFocus&&this.mainRef){var o=this.mainRef.parentElement,s=o.getBoundingClientRect(),l=s.top,p=o.scrollTop+this.mainRef.getBoundingClientRect().top-l;(0,kn.X5)(o,p,20)}}},{key:"render",value:function(){var e=this.props,o=e.commentList,s=e.permission,l=e.commentMarkerIndex,p=e.commentOperations,h=e.isBlur;if(!o.length)return null;var M=this.state.isUnfold,N=o[0],B=o.length>3,U=M||!B?o.slice(1):o.slice(1,3);return(0,v.jsxs)(Qm,{ref:this.setRef,className:h?"comment-blur":"",onMouseEnter:this.focusThread,onMouseLeave:this.blurThread,children:[(0,v.jsx)(es,{markIndex:l,comment:N,permission:s,commentOperations:p}),U.map(function(K){return(0,v.jsx)(es,{sub:!0,comment:K,permission:p.getPermission(K.user_id),commentOperations:p},K.cid)}),B&&(0,v.jsx)("div",{className:"unfold",onClick:this.toggleUnfoldComment,children:M?I18N.pComment.fold:I18N.pComment.unfold})]})}}]),t}(y.PureComponent);(0,f.Z)(Xc,"propTypes",{permission:u().object,isScrollFocus:u().bool,isBlur:u().bool,commentList:u().array,commentMarkerIndex:u().number,commentThreadCid:u().string,commentOperations:u().object});var Qm=ze.default.div.withConfig({displayName:"CommentLayerThread__CommentThreadDiv",componentId:"sc-1vasg7d-0"})(["width:220px;padding:20px 0;&.comment-blur{opacity:0.4;}& > .unfold{cursor:pointer;display:flex;justify-content:flex-end;color:",";&:hover{color:",";}}"],function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2}),_m=ze.default.div.withConfig({displayName:"CommentLayerThread__EntryMainBgDiv",componentId:"sc-1vasg7d-1"})(["width:100%;margin-bottom:10px;border-radius:4px;background:",";"],function(i){return i.theme.color_background}),es=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),e.operationPack={getCommentValue:function(){return e.props.comment.message},doCreateComment:function(s){return s&&e.props.commentOperations.doCreateComment(s,e.props.comment.thread_cid)},doUpdateComment:function(s){return e.props.commentOperations.doUpdateComment({cid:e.props.comment.cid,message:s})},doDeleteCard:function(){return e.props.sub?e.props.commentOperations.doDeleteComment(e.props.comment):e.props.commentOperations.doDeleteCommentThread(e.props.comment.thread_cid)}},e.startEdit=function(){e.setState({editStore:Yo({value:e.operationPack.getCommentValue(),isEditing:!0},{onEnd:function(s){var l=s.value;l=(l||"").trim(),e.operationPack.doUpdateComment(l),e.closeEdit()}})}),Gn("\u7F16\u8F91")},e.closeEdit=function(){return e.setState({editStore:null})},e.startReply=function(){e.setState({replyStore:Yo({isEditing:!0},{onChange:function(s){var l=s.value;return e.setState({isValidReply:!!l})},onEnd:function(s){var l=s.value;l=(l||"").trim(),l&&e.operationPack.doCreateComment(l),e.closeReply(!1),Gn("\u56DE\u590D")}})}),Gn("\u70B9\u51FB\u56DE\u590D")},e.closeReply=function(o){o===void 0&&(o=!0),e.setState({replyStore:null,isValidReply:!1}),o&&Gn("\u70B9\u51FB\u53D6\u6D88\u56DE\u590D")},e.state={editStore:null,replyStore:null,isValidReply:!1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.sub,s=e.markIndex,l=e.comment,p=e.permission,h=e.commentOperations,M=this.state,N=M.editStore,B=M.replyStore,U=M.isValidReply,K=h.getUserProfile(l),Q=K.avatar,J=K.name,te=(0,v.jsx)(Kc,{sub:o,comment:l,textEditStore:N,cancelEdit:this.closeEdit}),re=!N&&Zm(l,B,U,p.create&&this.startReply,this.closeReply),ie=o?N?"sub remove-background":"sub":"";return(0,v.jsxs)(Jm,{className:ie,children:[(0,v.jsx)(Yc,{sub:o,avatar:Q,name:J,markIndex:s,startEdit:!N&&p.update?this.startEdit:null,doDelete:!N&&p.delete?this.operationPack.doDeleteCard:null}),!o&&(0,v.jsxs)(_m,{children:[te,re]}),o&&te,o&&re]})}}]),t}(y.PureComponent);(0,f.Z)(es,"propTypes",{sub:u().bool,markIndex:u().number,comment:u().object.isRequired,permission:u().object.isRequired,commentOperations:u().object.isRequired});var Jm=ze.default.div.withConfig({displayName:"CommentLayerThread__CommentCardDiv",componentId:"sc-1vasg7d-2"})(["display:flex;flex-flow:column;border-radius:4px;&.sub{margin:0 0 10px 20px;width:200px;background:",";}&.remove-background{background:",";}"],function(i){return i.theme.color_background},function(i){return i.theme.color_background_white}),Tn=c(72324),Xn=c(72744),Qc=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleCloseGuide",function(){var s=e.props.dispatch;s({type:"entry:state:update:previewUserCommonGuidesData",payload:{key:Tn.s.GUIDE_PREVIEW_ADD_COMMENT}})}),(0,f.Z)((0,ae.Z)(e),"renderContentReply",function(){var s=e.state.isValidReply,l=e.props.isShowAddCommentGuide,p=function(){e.replyStore.endEdit(),Gn("\u521B\u5EFA\u8BC4\u8BBA")};return(0,v.jsxs)("div",{className:"addCommentsContainer",children:[l&&(0,v.jsxs)("div",{className:"guide_preview_add_comment",children:[(0,v.jsx)("span",{children:I18N.pComment.inputHere}),(0,v.jsx)(At.q,{className:"close-guide",name:"guides/close",onClick:e.handleCloseGuide}),(0,v.jsx)(At.q,{className:"icon-triangle",name:"guides/triangle"})]}),(0,v.jsx)(Ri,{textEditStore:e.replyStore,placeholder:I18N.pComment.comment_placeholder,minHeight:20,autoHeight:!0,multiline:!0}),Rc(I18N.pComment.thread_create,p,!s)]})}),(0,f.Z)((0,ae.Z)(e),"handleSignIn",function(s,l,p){(0,Pt.aF)("proto-comment",!1,l,p),Gn("\u767B\u5F55-"+(s?"\u6709":"\u65E0")+"\u8BC4\u8BBA"),Xn.xd.userSourceTrack(l)});var o=function(l){return l===void 0&&(l=null),e.props.focusCommentThreadCid!==l&&e.props.dispatch({type:"container:comment:focus",payload:{focusCommentThreadCid:l,focusSource:"panel"}})};return e.commentOperations={getPermission:function(l){return e.props.permissionPack.getPermission(l)},getUserProfile:function(l){return e.props.getUserProfile(l)},setHoverFocusCommentThreadCid:function(l){return l===void 0&&(l=null),!e.props.tempCommentThreadMarker&&o(l)},doDeleteCommentThread:function(l){e.props.dispatch({type:"entry:comment-threads:delete",payload:{cid:l}}),Gn("\u5220\u9664\u8BC4\u8BBA")},doDeleteComment:function(l){e.props.dispatch({type:"entry:comment:comments:delete",payload:{cid:l.cid}}),Gn("\u5220\u9664\u56DE\u590D")},doUpdateComment:function(l){return e.props.dispatch({type:"entry:comment:comments:update",payload:l})},doCreateComment:function(l,p){return l&&e.props.dispatch({type:"entry:comments:add",payload:{thread_cid:p,message:l}})}},e.doCreateCommentThread=function(s){var l=e.props.tempCommentThreadMarker||{top:0,left:0},p=l.left,h=l.top;s&&e.props.dispatch({type:"entry:comment:comment-threads:add",payload:{top:h,left:p,message:s}}),setTimeout(function(){e.scrollRef&&(e.scrollRef.scrollTop=e.scrollRef.scrollHeight-e.scrollRef.offsetHeight)},0)},e.replyStore=Yo({isEditing:!0},{onChange:function(l){var p=l.value;e.setState({isValidReply:!!p}),p&&p.length>0&&e.props.isShowAddCommentGuide&&e.handleCloseGuide()},onEnd:function(l){var p=l.value,h=p===void 0?"":p;e.doCreateCommentThread(h.trim()),e.resetReply()}}),e.resetReply=function(){e.replyStore.startEdit(),e.replyStore.setValue(""),e.setState({isValidReply:!1})},e.focusReply=function(){e.replyStore.endEdit(),e.replyStore.startEdit()},e.setScrollRef=function(s){e.scrollRef=s},e.scrollRef=null,e.state={isValidReply:!1},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.isShowComment;!this.props.isLoaded&&e&&this.props.dispatch({type:"entry:comment:init-project-data"});var o=AutoSaver.getSaver("saver:rails-fetch");o&&(this.prevAutoSaverDelay=o.getState().autoSaveDelay,o.setAutoSaveDelay(.5*1e3))}},{key:"componentDidUpdate",value:function(e){this.props.tempCommentThreadMarker&&!e.tempCommentThreadMarker&&this.focusReply()}},{key:"componentWillUnmount",value:function(){var e=AutoSaver.getSaver("saver:rails-fetch");e&&e.setAutoSaveDelay(this.prevAutoSaverDelay),this.props.dispatch({type:"container:comment:reset:state"})}},{key:"render",value:function(){var e=this,o=this.props,s=o.screenName,l=o.isSign,p=o.isShowComment,h=o.theme,M=o.commentThreadList,N=o.commentListMap,B=o.isLoaded,U=o.focusCommentThreadCid,K=o.focusSource,Q=o.tempCommentThreadMarker;if(!B&&l&&p)return(0,v.jsx)(_c,{});var J=U||Q&&Q.cid,te=M.length!==0;return(0,v.jsxs)(_c,{children:[te&&p&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"comment-title",children:s+" ("+M.length+")"}),(0,v.jsx)("div",{ref:this.setScrollRef,className:"comment-thread",children:M.map(function(re,ie){var se=N[re.cid]||[],ge=ie+1,De=K==="marker"&&J===re.cid,Me=K==="marker"&&J!==null&&!De;return(0,v.jsx)(Xc,{commentThreadCid:re.cid,commentMarkerIndex:ge,isScrollFocus:De,isBlur:Me,commentList:se,permission:e.commentOperations.getPermission(re.user_id),commentOperations:e.commentOperations},re.cid)})})]}),(!te||!p)&&(0,v.jsxs)("div",{className:"comment-thread-empty",children:[(0,v.jsx)("img",{src:h==="dark"?"/mb-workspace/images/preview/no-comment-dark.png":"/mb-workspace/images/preview/no-comment-light.png"}),(0,v.jsx)("span",{className:"title",children:p?I18N.pComment.no_comments:I18N.pComment.comments_closed}),(0,v.jsx)("span",{className:"desc",children:p?l?I18N.pComment.doubleClickAddComments:I18N.pComment.signInAddComments:I18N.pComment.contactAdmin}),!l&&p&&(0,v.jsx)("button",{onClick:function(){e.handleSignIn(!1,"no_comment_sign","a32"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Comment-Middle-Signin")},children:I18N.pComment.signIn})]}),p&&(0,v.jsx)("div",{className:"footer",children:l?this.renderContentReply():te?(0,v.jsx)("button",{className:"signInComments",onClick:function(){e.handleSignIn(!0,"has_comment_sign","a32"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Comment-Bottom-Signin")},children:I18N.pComment.signInComments}):null}),(0,v.jsx)(Km,{}),(0,v.jsx)(Xm,{})]})}}]),t}(y.PureComponent);(0,f.Z)(Qc,"propTypes",{isLoaded:u().bool,isSign:u().bool,isShowComment:u().bool,permissionPack:u().object,getUserProfile:u().func,screenName:u().string,theme:u().string,commentThreadList:u().array,commentListMap:u().object,isShowAddCommentGuide:u().bool,focusCommentThreadCid:u().string,focusSource:u().string,tempCommentThreadMarker:u().object,dispatch:u().func});var _c=ze.default.div.withConfig({displayName:"CommentLayer__CommentPanelDiv",componentId:"sc-1kilv6s-0"})(["position:relative;display:flex;flex-flow:column;width:260px;height:100%;font-size:12px;background-color:",";z-index:1;& > .comment-title{display:flex;align-items:center;height:50px;margin:0 20px;border-bottom:1px solid ",";color:",";}& > .comment-thread{flex:1;overflow-y:auto;padding:0 20px;}& > .comment-thread-empty{flex:1;display:flex;flex-flow:column;align-items:center;justify-content:center;color:",";img{width:93px;}.title{font-weight:500;font-size:14px;line-height:20px;margin-top:17px;margin-bottom:8px;color:",";}.desc{font-size:12px;line-height:17px;color:",";}button{padding:6px 15px;text-align:center;font-size:12px;line-height:16px;margin-top:16px;border-radius:4px;background:",";color:",";border:1px solid ",";&:not(:disabled):hover{background:",";}&:not(:disabled):active{background:",";}&:disabled{border-color:",";color:#999;cursor:not-allowed;}}}.footer{width:100%;border-top:1px solid ",";display:flex;align-items:center;justify-content:center;padding:10px 20px;.signInComments{display:block;width:100%;padding-top:6px;padding-bottom:6px;border-radius:4px;font-size:12px;line-height:16px;text-align:center;background:",";color:",";border:1px solid ",";&:not(:disabled):hover{background:",";}&:not(:disabled):active{background:",";}&:disabled{border-color:",";color:#999;cursor:not-allowed;}}.addCommentsContainer{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative;& > div:not(.guide_preview_add_comment){width:158px;max-height:120px;margin-right:8px;> label{&::placeholder{color:",";}& > textarea{padding:3px 8px;min-height:28px;border-radius:2px;&:lang(en),&:lang(ja){min-height:44px;}}}}.guide_preview_add_comment{display:flex;align-items:center;justify-content:center;background:#1684fc;border-radius:2px;position:absolute;width:156px;height:36px;text-align:center;top:-45px;left:-5px;box-shadow:0 2px 8px rgba(41,141,248,0.3);span{font-weight:500;font-size:14px;line-height:20px;color:#fff;}.close-guide{width:10px;height:10px;margin-left:15px;cursor:pointer;path{fill:#fff;}}.icon-triangle{position:absolute;width:11px;height:6px;color:#1684fc;transform:rotate(180deg);left:20px;top:35px;}}}}& > .reply-footer{display:flex;align-items:flex-end;background:",";border-top:1px solid ",";padding:10px 14px;box-shadow:",";color:",";& > div{margin:0 8px -4px 0;width:174px;max-height:120px;> label{&::placeholder{color:",";}& > textarea{padding:3px 8px;min-height:28px;&:lang(en),&:lang(ja){min-height:44px;}}}}& > button{flex:1;height:28px;font-size:12px;}.PrimaryButton:lang(en),.PrimaryButton:lang(ja){height:44px;}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_text_L3},function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.comment_layer_box_shadow},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L3}),Jc=c(48121),In=function(n){n&&n.preventDefault(),n&&n.stopPropagation()},Ua=function(n){return function(t){return In(t),n&&n(t)}},qm=[0,1,2,3,4,5,6,7].map(function(i){return{create:!!(i&1),update:!!(i&2),delete:!!(i&4)}}),qc=function(n,t,r,e){r===void 0&&(r="INVALID_ID_0"),e===void 0&&(e="INVALID_ID_1");var o=n,s=o&&e===r,l=s||t,p=(o?1:0)+(s?2:0)+(l?4:0);return qm[p]},Qn=document.createElement("div");Qn.id="PREVIEW_COMMENT_ADD_ARROW";var ts=document.createElement("span"),ya={initDom:function(){Qn.appendChild(ts),ts.innerText=I18N.pComment.cursor_text,ts.setAttribute("style","background: rgba(31,41,46,0.74);border: 1px solid rgba(0,0,0,0.20);box-shadow: 0 2px 4px 0 rgba(0,0,0,0.38);border-radius: 2px;width: auto;height: 24px;line-height: 24px;text-align: center;color: #fff;margin-left: 7px;white-space: nowrap;"),Qn.setAttribute("style","position:absolute;width:115px;top:9999px;left:999px;display: flex;pointer-events: none"),document.body.appendChild(Qn)},handleMove:function(n){n.target.classList.contains("comment-index")||(Qn.style.left=n.clientX+18+"px",Qn.style.top=n.clientY-3+"px")},handleLeave:function(){Qn.style.left="99999px",Qn.style.top="99999px"},handleRemove:function(){document.body.removeChild(Qn)}},rs=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;(0,P.Z)(this,t),e=n.call(this,r);var o={isDragging:!1,position:{left:0,top:0}},s=(0,O.Z)((0,O.Z)({},eu),{},{mousemove:Ua(function(M){var N=e.props,B=N.commentThread,U=N.markerOperations,K=U.getMarkerPosition(M);(e.state.isDragging||rg(B,K))&&e.setState({isDragging:!0,position:K})}),mouseup:Ua(function(M){if(h(),e.state.isDragging){var N=e.props,B=N.commentThread,U=N.markerOperations;U.doUpdateCommentThread((0,O.Z)({cid:B.cid},U.getMarkerPosition(M)))}else setTimeout(function(){var K=e.props,Q=K.isFocus,J=K.commentThread,te=K.markerOperations;te.setFocusCommentThreadCid(Q?null:J.cid)},0);e.setState(o)}),mouseleave:function(){h(),e.props.markerOperations.setHoverFocusCommentThreadCid(null),e.setState(o)}}),l=(0,O.Z)((0,O.Z)({},eu),{},{mouseup:s.mouseup}),p=function(){return e.props.markerOperations.addContainerEventListener(e.props.isEditable?s:l)},h=function(){return e.props.markerOperations.removeContainerEventListener(e.props.isEditable?s:l)};return e.markerListenerMap={onMouseDown:Ua(p),onMouseEnter:Ua(function(){return!e.props.isFocus&&e.props.markerOperations.setHoverFocusCommentThreadCid(e.props.commentThread.cid)}),onMouseLeave:Ua(function(){return e.props.isFocus&&e.props.markerOperations.setHoverFocusCommentThreadCid(null)}),onMouseUp:In,onDoubleClick:In,onClick:In},e.state=o,e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.commentThread,s=e.scale,l=e.isFocus,p=e.isFade,h=e.commentMarkerIndex,M=this.state,N=M.isDragging,B=M.position;return(0,v.jsx)(eg,{className:l?"focus":!l&&p?"fade":"",style:{left:(N?B.left:o.left)*s+"px",top:(N?B.top:o.top)*s+"px"},children:(0,v.jsx)("span",(0,O.Z)((0,O.Z)({tabIndex:h},this.markerListenerMap),{},{className:"comment-index",children:h}))})}}]),t}(y.PureComponent);(0,f.Z)(rs,"propTypes",{commentMarkerIndex:u().number.isRequired,commentThread:u().object.isRequired,scale:u().number.isRequired,isEditable:u().bool,isFocus:u().bool,isFade:u().bool,markerOperations:u().object.isRequired});var Fi=0,ii=28,eg=ze.default.div.withConfig({displayName:"CommentMarkerPanelMarker__CommentMarkerDiv",componentId:"sc-9m8dw-0"})(["position:absolute;width:","px;height:","px;overflow:visible;& > span{display:flex;justify-content:center;align-items:center;cursor:pointer;outline:none;margin-left:","px;margin-top:","px;width:","px;height:","px;font-size:14px;line-height:","px;box-shadow:0 2px 10px rgba(108,0,0,0.22);border:2px solid #fff;border-radius:100%;background:#ff7100;color:#fbfbfc;transition:all 0.1s ease-in;transform:scale(1);}&.focus > span{transform:scale(1.21);}&.fade > span{opacity:0.5;}"],Fi,Fi,.5*(Fi-ii),.5*(Fi-ii),ii,ii,ii),eu={mouseup:In,mousedown:In,mousemove:In,mouseleave:In,mouseout:In,click:In,dblclick:In},tg=15*15;function rg(i,n){var t=i.left-n.left,r=i.top-n.top;return t*t+r*r>=tg}var ng=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleMouseOut",function(o){var s=o.target.classList.contains("comment-index");s||ya.handleLeave()}),e.$container=document.querySelector("#simulator-container"),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){ya.initDom(),this.$container.addEventListener("mousemove",ya.handleMove),this.$container.addEventListener("mouseleave",ya.handleLeave),this.$container.addEventListener("mouseout",this.handleMouseOut)}},{key:"componentWillUnmount",value:function(){ya.handleRemove(),this.$container.removeEventListener("mousemove",ya.handleMove),this.$container.removeEventListener("mouseleave",ya.handleLeave),this.$container.removeEventListener("mouseout",this.handleMouseOut)}},{key:"render",value:function(){return null}}]),t}(y.PureComponent),Ui=20,tu="TEMP_MARKER_CID",ru=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;(0,P.Z)(this,t),e=n.call(this,r),e.addTempCommentThreadListener=Ua(function(s){var l=e.props,p=l.isSign,h=l.isActive,M=l.permissionPack,N=l.markerDomPack,B=l.dispatch;if(!p){(0,Pt.aF)("proto-comment",!1,"","a32");return}!h||!M.getPermission().create||!ag(s,N.getSimulatorContainerElement().getBoundingClientRect())||(B({type:"container:comment:focus-temp-marker",payload:(0,O.Z)((0,O.Z)({},e.markerOperations.getMarkerPosition(s)),{},{cid:tu})}),B({type:"entry:state:update:previewCommonGuidesToBeShown",payload:{key:Tn.s.GUIDE_PREVIEW_ADD_COMMENT}}),Gn("\u53CC\u51FB\u753B\u5E03"))});var o=function(l){return l===void 0&&(l=null),e.props.dispatch({type:"container:comment:focus",payload:{focusCommentThreadCid:l,focusSource:"marker"}})};return e.markerOperations={addContainerEventListener:function(l){var p=e.props.markerDomPack.getSimulatorContainerElement();p&&Object.entries(l).forEach(function(h){var M=(0,F.Z)(h,2),N=M[0],B=M[1];return p.addEventListener(N,B)})},removeContainerEventListener:function(l){var p=e.props.markerDomPack.getSimulatorContainerElement();p&&Object.entries(l).forEach(function(h){var M=(0,F.Z)(h,2),N=M[0],B=M[1];return p.removeEventListener(N,B)})},setFocusCommentThreadCid:o,setHoverFocusCommentThreadCid:function(l){return l===void 0&&(l=null),!e.props.tempCommentThreadMarker&&o(l)},doUpdateCommentThread:function(l){var p=l.cid,h=l.top,M=l.left;return e.props.dispatch({type:p!==tu?"entry:comment-threads:update":"container:comment:focus-temp-marker",payload:{cid:p,top:h,left:M}})},getMarkerPosition:function(l){var p=e.props,h=p.scale,M=p.markerDomPack,N=M.getScreenContainerElement().getBoundingClientRect(),B=M.getSimulatorContainerElement().getBoundingClientRect();return{left:((0,Jc.uZ)(l.clientX,B.left+Ui,B.right-Ui)-N.left)/h,top:((0,Jc.uZ)(l.clientY,B.top+Ui,B.bottom-Ui)-N.top)/h}}},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.isActive;e&&this.toggleEventListener(!0)}},{key:"componentDidUpdate",value:function(e){var o=this.props.isActive;o!==e.isActive&&this.toggleEventListener(o)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;this.toggleEventListener(!1),e({type:"container:comment:focus-temp-marker",payload:null})}},{key:"toggleEventListener",value:function(e){var o=this.props.markerDomPack,s=o.getSimulatorContainerElement();s&&(e?s.addEventListener("dblclick",this.addTempCommentThreadListener):s.removeEventListener("dblclick",this.addTempCommentThreadListener))}},{key:"render",value:function(){var e=this,o=this.props,s=o.isActive,l=o.scale,p=o.permissionPack,h=o.commentThreadList,M=o.isLoaded,N=o.focusCommentThreadCid,B=o.tempCommentThreadMarker;return!s||!M?null:(0,v.jsxs)("div",{children:[(0,v.jsx)(ng,{}),h.map(function(U,K){var Q=!B&&N===U.cid,J=!!(B||N&&!Q);return(0,v.jsx)(rs,{commentMarkerIndex:K+1,commentThread:U,scale:l,isEditable:p.getPermission(U.user_id).update,isFocus:Q,isFade:J,markerOperations:e.markerOperations},U.cid)}),B&&(0,v.jsx)(rs,{commentMarkerIndex:h.length+1,commentThread:B,scale:l,isEditable:!0,isFocus:!0,isFade:!1,markerOperations:this.markerOperations})]})}}]),t}(y.PureComponent);(0,f.Z)(ru,"propTypes",{scale:u().number,isActive:u().bool,isLoaded:u().bool,isSign:u().bool,permissionPack:u().object,markerDomPack:u().object,commentThreadList:u().array,focusCommentThreadCid:u().string,tempCommentThreadMarker:u().object,dispatch:u().func});var ag=function(n,t){var r=t.left,e=t.top,o=t.width,s=t.height;return r<=n.clientX&&e<=n.clientY&&r+o>=n.clientX&&e+s>=n.clientY},nu={loadedProjectCid:null,loadedProjectCommentData:null,focusCommentThreadCid:null,focusSource:null,tempCommentThreadMarker:null,commentThreads:[],comments:[]};function ig(i,n){i===void 0&&(i=nu);var t=n.type,r=n.payload;switch(t){case"container:comment:loaded-project":return(0,O.Z)((0,O.Z)({},i),{},{loadedProjectCid:r.projectCid||null,loadedProjectCommentData:r.projectCommentData||null});case"container:comment:focus":return(0,O.Z)((0,O.Z)({},i),{},{focusCommentThreadCid:r.focusCommentThreadCid,focusSource:r.focusSource||null,tempCommentThreadMarker:i.tempCommentThreadMarker&&i.tempCommentThreadMarker.cid===r.focusCommentThreadCid?i.tempCommentThreadMarker:null});case"container:comment:focus-temp-marker":return(0,O.Z)((0,O.Z)({},i),{},{focusCommentThreadCid:null,focusSource:null,tempCommentThreadMarker:r});case"container:comment:reset:state":return nu;case"container:comment:commentThreads":return(0,O.Z)((0,O.Z)({},i),{},{commentThreads:r.threads});case"container:comment:comments":return(0,O.Z)((0,O.Z)({},i),{},{comments:r.comments})}return i}var au=(0,H.connect)(function(i){var n=i.model.user.id,t=i.container,r=t.comment,e=r.loadedProjectCid,o=r.loadedProjectCommentData,s=r.focusCommentThreadCid,l=r.focusSource,p=r.tempCommentThreadMarker,h=r.commentThreads,M=r.comments,N=t.current,B=N.previewCommonGuidesHasShown,U=N.previewCommonGuidesToBeShown,K=(0,ne.vo)(i),Q=(0,ne.CL)(i),J=(0,ne.gh)(i),te=(0,ne.cM)(i),re=U.includes(Tn.s.GUIDE_PREVIEW_ADD_COMMENT)&&!B.includes(Tn.s.GUIDE_PREVIEW_ADD_COMMENT);return{isLoaded:e===K.cid,isSign:!!(n&&String(n)),isShowComment:(te==null?void 0:te.comment_permission)==="org_member",theme:J,permissionPack:ou(K,n,o,te),getUserProfile:lg,screenName:Q.name,commentThreadList:iu(h,Q.cid),commentListMap:sg(M),focusCommentThreadCid:s,focusSource:l,tempCommentThreadMarker:p,isShowAddCommentGuide:re}})(Qc),og=(0,H.connect)(function(i){var n=i.model.user.id,t=i.container.comment,r=t.loadedProjectCid,e=t.loadedProjectCommentData,o=t.focusCommentThreadCid,s=t.tempCommentThreadMarker,l=t.commentThreads,p=(0,ne.vo)(i),h=(0,ne.CL)(i),M=(0,ne.cM)(i);return{isSign:!!(n&&String(n)),isLoaded:r===p.cid,permissionPack:ou(p,n,e,M),markerDomPack:cg(h.cid),commentThreadList:iu(l,h.cid),focusCommentThreadCid:o,tempCommentThreadMarker:s}})(ru),iu=(0,Pt.LL)(function(i,n){return i.filter(function(t){return t.screen_cid===n})}),sg=(0,Pt.LL)(function(i){return i.reduce(function(n,t){return n[t.thread_cid]===void 0?n[t.thread_cid]=[t]:n[t.thread_cid].push(t),n},{})}),ou=(0,Pt.LL)(function(i,n,t,r){var e,o,s;if(!t)return{isProjectAllowComment:!1,getPermission:function(){return!1}};var l=t.isProjectAllowComment,p=t.projectPermissionsArray,h=t.folderPermissionsArray,M=t.orgPermissionsArray,N=[(e=p.find(function(te){return te.user_id===n}))==null?void 0:e.role,(o=h.find(function(te){return te.user_id===n}))==null?void 0:o.role,(s=M.find(function(te){return te.user_id===n}))==null?void 0:s.role].filter(Boolean).join("|"),B=!!(n&&String(n)),U=(r==null?void 0:r.comment_permission)==="org_member"&&B,K=N.includes("project_owner")||N.includes("project_team_owner"),Q=qc(),J=l?function(te){return qc(U,K,n,te)}:function(){return Q};return{isProjectAllowComment:l,getPermission:J}}),lg=function(n){return(n==null?void 0:n.user)||{name:I18N.pComment.user_name_ghost,avatar:"/mb-workspace/images/avatar.png"}},cg=(0,Pt.LL)(function(i){return{getScreenContainerElement:function(){return document.querySelector("#pscreen"+i+" .scontainer")},getSimulatorContainerElement:function(){return document.querySelector("#simulator-container")}}}),ug=function(n){return n?n.comment_permission!=="org_member"?"deny_permission":"allow":"deny"},dg=(0,O.Z)((0,O.Z)((0,O.Z)({},Mc.entryMap),Go.entryMap),{},{"entry:comment:init:projectShare":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r){var e,o,s,l,p,h,M,N,B;return(0,a.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(e=r.getState,o=r.dispatch,s=e(),l=(0,ne.vo)(s),p=(0,j.A)(location.pathname),!p){K.next=11;break}return h=l.cid,M=l.access_token,K.next=8,Br.api.requestProjectShare(h,M);case 8:N=K.sent,B=N.projectShare,o({type:"preview:set:current-projectShare",payload:{projectShare:B}});case 11:case"end":return K.stop()}},t)}));function n(t){return i.apply(this,arguments)}return n}(),"entry:comment:init-project-data":function(){var i=(0,d.Z)((0,a.Z)().mark(function t(r){var e,o,s,l,p,h,M,N,B,U,K,Q;return(0,a.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(e=r.getState,o=r.dispatch,s=e(),l=(0,ne.vo)(s),p=(0,ne.ts)(s),h=(0,ne.cM)(s),M=l.cid,Br.api.fetchProjectComment({projectCid:M,projectEncryptedPassword:(0,Tt.GQ)(h.access_token+"_pwd")||"",accessToken:h.access_token}).then(function(re){var ie=re.org,se=re.team,ge=re.threads,De=re.comments;o({type:"container:comment:commentThreads",payload:{threads:ge}}),o({type:"container:comment:comments",payload:{comments:De}}),o({type:"screens:refresh"});var Me={isProjectAllowComment:ug(h)==="allow",projectPermissionsArray:[{user_id:l.owner_id,role:"project_owner",unsign_remark:null}],folderPermissionsArray:se&&se.permissions||[],orgPermissionsArray:ie&&ie.permissions||[]};o({type:"container:comment:loaded-project",payload:{projectCid:M,projectCommentData:Me}})}),N=!!(p!=null&&p.id),!N){te.next=16;break}return te.next=11,Br.api.requestUserCommonGuidesData();case 11:B=te.sent,U=B.guide.workspace_guides,K=JSON.parse(U||"[]"),Q=JSON.parse("[]"),o({type:"preview:current:update:state",payload:{previewCommonGuidesHasShown:K,previewCommonGuidesToBeShown:Q}});case 16:case"end":return te.stop()}},t)}));function n(t){return i.apply(this,arguments)}return n}(),"entry:comment:screen_count_map:refresh":function(n){var t=n.getState,r=n.dispatch,e=t(),o=(0,ne.zI)(e),s=fg(o);r({type:"preview:comment:update:screen_count_map",payload:{screenCommentThreadCountMap:s}})},"entry:comment-threads:update":function(n,t){var r=n.dispatch,e=n.getState,o=t.payload,s=o.cid,l=o.top,p=o.left,h=e(),M=(0,ne.yB)(h),N=M.find(function(U){return U.thread_cid===s})===void 0,B=Date.now()*.001;r({type:N?"entry:comment:comment-threads:update-local":"entry:comment:comment-threads:update",payload:{cid:s,top:l,left:p,updated_at:B}})},"entry:comment-threads:delete":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.cid;e({type:"entry:comment:comment-threads:delete",payload:{cid:o}});var s=r(),l=(0,ne.yB)(s),p=l.find(function(h){return h.thread_cid===o});p&&e({type:"entry:comment:comments:destroy-local",payload:{cid:p.cid}})},"entry:comments:add":function(n,t){var r=n.dispatch,e=t.payload,o=e.thread_cid,s=e.message,l=Go.getState(),p=Date.now()*.001;r({type:"entry:comment:comments:add",payload:{thread_cid:o,message:s,user_id:l.id,created_at:p,updated_at:p,user:l}}),r({type:"container:comment:focus",payload:{focusCommentThreadCid:null}})},"entry:state:push-data":function(n,t){var r=n.dispatch,e=t.payload,o=e.pushType,s=e.action,l=e.data;switch(o){case"comment-threads":{s==="update"?r({type:"entry:comment:comment-threads:update-local",payload:{data:l}}):s==="destroy"&&r({type:"entry:comment:comment-threads:destroy-local",payload:{cid:l.cid}}),r({type:"entry:comment:screen_count_map:refresh"});break}case"comments":{s==="update"?r({type:"entry:comment:comments:update-local",payload:{data:l}}):s==="destroy"&&r({type:"entry:comment:comments:destroy-local",payload:{cid:l.cid}});break}}},"entry:state:update:previewUserCommonGuidesData":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.key,s=r(),l=(0,ne.ts)(s),p=!!(l!=null&&l.id);if(p){var h=(0,ne.Rp)(s),M=(0,ne.N7)(s);h.push(o),h=Array.from(new Set(h)),Br.api.updateUserCommonGuidesData(JSON.stringify(h)),M.includes(o)&&(M.splice(M.findIndex(function(N){return N===o}),1),M=Array.from(new Set(M))),e({type:"preview:current:update:state",payload:{previewCommonGuidesHasShown:h,previewCommonGuidesToBeShown:M}})}},"entry:state:update:previewCommonGuidesToBeShown":function(n,t){var r=n.getState,e=n.dispatch,o=t.payload.key,s=r(),l=(0,ne.ts)(s),p=!!(l!=null&&l.id);if(p){var h=(0,ne.N7)(s);if(h.includes(o))return;h.push(o),h=Array.from(new Set(h)),e({type:"preview:current:update:state",payload:{previewCommonGuidesToBeShown:h}})}}});function pg(i,n){var t=n.getState,r=n.setState,e=t();return function(o,s){return o===void 0&&(o=e),s.type!==i?o:(r(s.payload||o),t())}}var fg=function(n){return n.reduce(function(t,r){return t[r.screen_cid]=(t[r.screen_cid]||0)+1,t},{})},hg={screens:pg("reducer:screens:update",Mc),user:(0,Pi.jA)("reducer:user:update",Go)},vg={artboards:[],error:!1,isShowSplash:!1};function mg(i,n){i===void 0&&(i=vg);var t=n.type,r=n.payload;switch(t){case"reducer:artboards:success":return(0,O.Z)((0,O.Z)({},i),r);case"reducer:artboards:fail":return(0,O.Z)((0,O.Z)((0,O.Z)({},i),r),{},{error:!0});case"reducer:artboards:toggle:splash":return(0,O.Z)((0,O.Z)({},i),{},{isShowSplash:r.isShowSplash});default:return i}}var su={activeCid:"",transition:{name:"slideleft",delay:0,duration:2e3,offset:100,callback:function(){return null}},history:[],currentScreenStateHistory:[],screenInfoMap:{},screenScrollTopMap:{},audioList:[],videoList:[],widgetStatusMap:{}};function gg(i,n){i===void 0&&(i=su);var t=n.type,r=n.payload;switch(t){case"runner:update:state":return(0,O.Z)((0,O.Z)({},i),r);case"runner:update:scroll-top":{var e=r.screenMetaCid,o=r.scrollTop;return(0,O.Z)((0,O.Z)({},i),{},{screenScrollTopMap:(0,O.Z)((0,O.Z)({},i.screenScrollTopMap),{},{[e]:o})})}case"runner:reset:state":return su;default:return i}}var yg={slices:[],loading:!0,error:!1};function Sg(i,n){i===void 0&&(i=yg);var t=n.type,r=n.payload;switch(t){case"reducer:slice:success":return(0,O.Z)((0,O.Z)((0,O.Z)({},i),r),{},{loading:!1});case"reducer:slice:fail":return(0,O.Z)((0,O.Z)((0,O.Z)({},i),r),{},{error:!0});default:return i}}var lu={resourceByScreen:{"-1":{isFetching:!1,layers:[],error:""}},selectedLayerID:-1,activeLayerID:-1,enteredLayerID:-1,isWidgetBeingExported:!1,selectedPanel:null,isInspectInPanel:!1,panelWidgetData:null,widgetStore:null,widgetLayersData:null};function bg(i,n){i===void 0&&(i=lu);var t=n.type,r=n.payload;switch(t){case ac:{var e=r.screenID,o=r.data;return(0,O.Z)((0,O.Z)({},i),{},{resourceByScreen:(0,O.Z)((0,O.Z)({},i.resourceByScreen),{},{[e]:(0,O.Z)({isFetching:!1,error:void 0},o)})})}case ic:{var s=r.screenID,l=r.error;return(0,O.Z)((0,O.Z)({},i),{},{resourceByScreen:(0,O.Z)((0,O.Z)({},i.resourceByScreen),{},{[s]:{isFetching:!1,layers:[],error:l}})})}case uc:return(0,O.Z)((0,O.Z)({},i),{},{selectedLayerID:r.layerID===i.selectedLayerID?-1:r.layerID});case pc:return(0,O.Z)((0,O.Z)({},i),{},{activeLayerID:r.layerID});case fc:return(0,O.Z)((0,O.Z)({},i),{},{enteredLayerID:r.layerID});case"container:layer:update":return(0,O.Z)((0,O.Z)({},i),r);case"container:layers:clear":return lu;case"container:layer:set-selectedPanel":return(0,O.Z)((0,O.Z)({},i),{},{selectedPanel:r.selectedPanel});case"container:layer:set-isInspectInPanel":return(0,O.Z)((0,O.Z)({},i),{},{isInspectInPanel:r.isInspectInPanel});case"container:layer:set-inspected-panel-state-cid":return(0,O.Z)((0,O.Z)({},i),{},{inspectedPanelStateCid:r.inspectedPanelStateCid});case"container:layer:set-widgetLayersData":return(0,O.Z)((0,O.Z)({},i),{},{widgetLayersData:r.widgetLayersData});case"container:layer:set-widgetStore":return(0,O.Z)((0,O.Z)({},i),{},{widgetStore:r.widgetStore});case"container:layer:set-panelWidgetData":return(0,O.Z)((0,O.Z)({},i),{},{panelWidgetData:r.panelWidgetData});default:return i}}var xg={rootProject:null,projectMeta:null,screenGlue:null,isPanelPreviewMode:!1,projectShare:null,previewCommonGuidesHasShown:[],previewCommonGuidesToBeShown:[],screenMetaList:[],refreshCount:0,originalScreenMetaList:[]};function Cg(i,n){i===void 0&&(i=xg);var t=n.type,r=n.payload;switch(t){case"preview:current:update:state":return(0,O.Z)((0,O.Z)({},i),r);case"preview:set:root-project":return(0,O.Z)((0,O.Z)({},i),{},{rootProject:r.rootProject});case"preview:set:current-projectMeta":return(0,O.Z)((0,O.Z)({},i),{},{projectMeta:r.projectMeta});case"preview:set:current-screenGlue":return(0,O.Z)((0,O.Z)({},i),{},{screenGlue:r.screenGlue});case"preview:set:current-projectShare":return(0,O.Z)((0,O.Z)({},i),{},{projectShare:r.projectShare});case"preview:screenMetaList:set":return(0,O.Z)((0,O.Z)({},i),{},{screenMetaList:r.screenMetaList});case"preview:refreshCount:udpate":return(0,O.Z)((0,O.Z)({},i),{},{refreshCount:i.refreshCount+1});case"preview:originalScreenMetaList:update":return(0,O.Z)((0,O.Z)({},i),{},{originalScreenMetaList:r.originalScreenMetaList});default:return i}}var ns={isSpaceDown:!1},wg={isDesktop:!0,isInApp:!1,isMobile:!1,isIOSClient:!1,isStandAlone:!1,isEmbedV1:!1,isHTMLZip:!1,isSquare:!1},Eg={isShowNewVersionArtboardGuide:!1},Ag={previewOptions:wg,designOptions:{},guideOptions:Eg,experienceSnapshotUrlMap:new Map,offset:{x:0,y:0},currentScreenOriginOffset:{x:0,y:0},scale:100,keyFlags:ns,viewport:{width:0,height:0,left:0,top:0},preference:{},previewPanelNavIndex:0,screenCommentThreadCountMap:null,panelHeight:(0,Tt.RD)("perview_layer_panel_height",window.innerHeight*.32,Tt.cM.Number),isButtonHovered:!1};function Mg(i,n){i===void 0&&(i=Ag);var t=n.type,r=n.payload;switch(t){case"preview:update:state":return(0,O.Z)((0,O.Z)({},i),r);case"preview:set:canvas:offset":return(0,O.Z)((0,O.Z)({},i),{},{offset:r.offset});case"preview:set:canvas:currentScreenOriginOffset":return(0,O.Z)((0,O.Z)({},i),{},{currentScreenOriginOffset:r.currentScreenOriginOffset});case"preview:set:scale":return(0,O.Z)((0,O.Z)({},i),{},{scale:r.scale});case"preview:set:key:flags":return(0,O.Z)((0,O.Z)({},i),{},{keyFlags:(0,O.Z)((0,O.Z)({},ns),r)});case"preview:reset:key:flags":return(0,O.Z)((0,O.Z)({},i),{},{keyFlags:ns});case"preview:scrollbar:viewport":return(0,O.Z)((0,O.Z)({},i),{},{viewport:r});case"preview:previewPanel:navindex":return(0,O.Z)((0,O.Z)({},i),{},{previewPanelNavIndex:r.previewPanelNavIndex});case"preview:update:preference":return(0,O.Z)((0,O.Z)({},i),{},{preference:(0,O.Z)((0,O.Z)({},i.preference),r)});case"preview:comment:update:screen_count_map":return(0,O.Z)((0,O.Z)({},i),{},{screenCommentThreadCountMap:r.screenCommentThreadCountMap||null});case"preview:panel:set:height":{var e=r.panelHeight;return(0,Tt.iO)("perview_layer_panel_height",e,Tt.cM.Number),(0,O.Z)((0,O.Z)({},i),{},{panelHeight:e})}case"preview:panel:set:isButtonHovered":return(0,O.Z)((0,O.Z)({},i),{},{isButtonHovered:r.isButtonHovered});case"preview:update:guideOptions":return(0,O.Z)((0,O.Z)({},i),{},{guideOptions:(0,O.Z)((0,O.Z)({},i.guideOptions),r)});default:return i}}var Pg={ratio:1,emPixel:16,unit:"px",colorUnit:"hex",language:"css",toolbarActiveItem:xr.c6,isShowColorPicker:!1,isSelectLayer:!1,userPickColor:(0,Pt.$5)(),focusColor:null,isFullScreenMode:!1,simulatorType:"device",isShowShell:!0,isStickyShow:!0,isStickyAvailable:!0,isHighlight:!0,isStatePanelShow:!0,isOutsideVisible:!1,isShowOutsideArtboardNav:!1,isMinimized:!1,isShowOfflineModal:!1,isAppOffline:!1,isAppCacheNeedUpToDate:!1,appVeresion:"",isDummyApk:!1};function Tg(i,n){i===void 0&&(i=Pg);var t=n.type,r=n.payload;switch(t){case"reducer:preview-toolbar:update":return(0,O.Z)((0,O.Z)({},i),r);case"reducer:preview-toolbar:fullscreen":return(0,O.Z)((0,O.Z)({},i),{},{isFullScreenMode:r.isFullScreenMode});case"reducer:preview-toolbar:update:highlight":return(0,O.Z)((0,O.Z)({},i),{},{isHighlight:r.isHighlight});default:return i}}var cu={preOpenHyperlinkModal:{isOpen:!1},orgRightsAndInterestsModal:{isOpen:!1,beyondType:"MaxSharingCount"},orgfullBeyondNoticeModal:{isOpen:!1,type:"MaxSharingCount"}};function Ig(i,n){i===void 0&&(i=cu);var t=n.type,r=n.payload;switch(t){case"previewModal:update:state":return(0,O.Z)((0,O.Z)({},i),r);case"previewModal:reset:state":return cu;default:return i}}var Og={annotateHoverCid:null,annotateSelectWidgetCid:"",annotatePanelShow:!0,annotatePanelWidth:Or.ou};function Dg(i,n){i===void 0&&(i=Og);var t=n.type,r=n.payload;switch(t){case"reducer:set:update:preview:annotate":return(0,O.Z)((0,O.Z)({},i),r);case"reducer:set:annotateHoverCid":return(0,O.Z)((0,O.Z)({},i),{},{annotateHoverCid:r.annotateHoverCid});case"reducer:set:annotateSelectWidgetCid":return(0,O.Z)((0,O.Z)({},i),{},{annotateSelectWidgetCid:r.annotateSelectWidgetCid});case"reducer:toggle:annotatePanelShow":return(0,O.Z)((0,O.Z)({},i),{},{annotatePanelShow:!i.annotatePanelShow});default:return i}}var Lg={isShowSharingManager:!1};function Ng(i,n){i===void 0&&(i=Lg);var t=n.type,r=n.payload;switch(t){case"preview:sharingManager:udpate:state":return(0,O.Z)((0,O.Z)({},i),r);default:return i}}var jg={current:Cg,common:Mg,comment:ig,layers:bg,modals:Ig,slices:Sg,artboards:mg,previewSetting:Tg,runner:gg,annotatePanel:Dg,sharingManager:Ng},Rg=(0,Cv.Uo)({}),kg=function(){var i=(0,O.Z)((0,O.Z)({},dg),sm),n={model:(0,Ra.combineReducers)(hg),container:(0,Ra.combineReducers)(jg)},t=(0,Pi.gk)(),r=t.middleware,e=t.setEntryMap;e(i);var o=(0,Ra.createStore)((0,Ra.combineReducers)(n),Rg((0,Ra.applyMiddleware)(r)));return{store:o}},Zg=c(25460),Bg=function(n){var t=function(r){(0,D.Z)(o,r);var e=(0,I.Z)(o);function o(s){var l;(0,P.Z)(this,o),l=e.call(this,s);var p=s.previewMode,h=s.projectAlike,M=s.screenGlue,N=s.projectMeta,B=s.screenMeta,U=s.isPanelPreviewMode,K=MB.webpackInterface.store.getState().container.current.rootProject;return MB.currentProject=K||h,MB.currentProjectMeta=N,MB.currentScreenGlue=M,MB.getCurrentProjectMeta||(MB.getCurrentProjectMeta=function(){return MB.currentProjectMeta}),MB.runnerController.init({projectAlike:h,projectMeta:N,screenGlue:M,screenMeta:B,rootProject:K},p,U),l}return(0,S.Z)(o,[{key:"componentWillUnmount",value:function(){MB.runnerController.clear()}},{key:"render",value:function(){var l=this.props.store,p=(0,ne.gh)(l.getState());return(0,v.jsx)(H.Provider,{store:l,children:(0,v.jsx)(ze.ThemeProvider,{theme:Zg.Z[p],children:(0,v.jsx)(n,{})})})}}]),o}(y.PureComponent);return(0,f.Z)(t,"propTypes",{store:u().object.isRequired,previewMode:u().string,isPanelPreviewMode:u().bool,projectAlike:u().object.isRequired,projectMeta:u().object.isRequired,screenGlue:u().object.isRequired,screenMeta:u().object.isRequired}),t},Fg=function(n){var t=kg(),r=xv(),e=new yv(t,r,MB.f),o=Bg(n);return{runnerController:e,messageBucket:r,webpackInterface:t,PreviewApp:o}},as=c(95534),uu=document.getElementById("workspace"),Ug=(0,ze.createGlobalStyle)([".btn-list{display:flex;flex-direction:row-reverse;justify-content:center;.primary{margin-left:20px;}.regular{margin-left:0 !important;}}"]),dP=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h;return(0,a.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,(0,it.EE)("/api/web/v3/initial");case 3:h=N.sent,p=h.user,N.next=13;break;case 7:N.prev=7,N.t0=N.catch(0),e=function(){b.render((0,v.jsx)(as.Z,{isOpen:!0,type:"signin",source:"proto-org-preview",onConfirm:function(){return location.reload()}}),document.getElementById("IBOT_MODAL_ROOT"))},o="\u767B\u5F55",l=function(){b.render((0,v.jsx)(as.Z,{isOpen:!0,type:"signup",source:"proto-org-preview",onConfirm:function(){return location.reload()}}),document.getElementById("IBOT_MODAL_ROOT"))},s="\u6CE8\u518C";case 13:b.render((0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Ug,{}),(0,v.jsx)(T.Z,{errorType:t.status||401,identity:1,account:(r=p)==null?void 0:r.email,primaryBtnText:o,primaryBtnClick:e,secondaryBtnText:s,secondaryBtnClick:l})]}),uu);case 14:case"end":return N.stop()}},n,null,[[0,7]])}));return function(t){return i.apply(this,arguments)}}(),pP=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M;return(0,a.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return h=window.location.host,B.prev=1,B.next=4,(0,it.EE)("/api/web/v3/initial");case 4:M=B.sent,p=M.user,B.next=14;break;case 8:B.prev=8,B.t0=B.catch(1),e=function(){(0,gn.gn)("https://"+h+"/embed/auth_box?type=signin&entry=b13&entry_term=login_btn","_blank","noreferrer")},o="\u767B\u5F55",l=function(){(0,gn.gn)("https://"+h+"/embed/auth_box?type=signup&entry=b13&entry_term=login_btn","_blank","noreferrer")},s="\u6CE8\u518C";case 14:b.render((0,v.jsx)(T.Z,{errorType:t.status||401,identity:1,account:(r=p)==null?void 0:r.email,primaryBtnText:o,primaryBtnClick:e,secondaryBtnText:s,secondaryBtnClick:l,isLogoClickable:!1}),uu);case 15:case"end":return B.stop()}},n,null,[[1,8]])}));return function(t){return i.apply(this,arguments)}}(),Hg=function(n,t){var r="";n==="zh-CN"?r="/":n==="jp"?r="https://mockitt.wondershare.jp":r="https://mockitt.wondershare.com",setTimeout(function(){return(0,C.U1)("enter_home_page",{source:t})}),window.top!==window.self?window.top.location.replace(r):location.replace(r)},Wg=c(75985),$g=c.n(Wg),zg=c(27444),du=c(14530),Gg=c(7854),Vg=c(38371),an=c(21989);function Kg(i){return Qg(i)||Xg(i)||fu(i)||Yg()}function Yg(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xg(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Qg(i){if(Array.isArray(i))return is(i)}function pu(i,n){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=fu(i))||n&&i&&typeof i.length=="number"){t&&(i=t);var r=0,e=function(){};return{s:e,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(h){throw h},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,s=!1,l;return{s:function(){t=t.call(i)},n:function(){var h=t.next();return o=h.done,h},e:function(h){s=!0,l=h},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function fu(i,n){if(i){if(typeof i=="string")return is(i,n);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return is(i,n)}}function is(i,n){(n==null||n>i.length)&&(n=i.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=i[t];return r}function tr(){"use strict";tr=function(){return i};var i={},n=Object.prototype,t=n.hasOwnProperty,r=Object.defineProperty||function(fe,ue,Se){fe[ue]=Se.value},e=typeof Symbol=="function"?Symbol:{},o=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",l=e.toStringTag||"@@toStringTag";function p(fe,ue,Se){return Object.defineProperty(fe,ue,{value:Se,enumerable:!0,configurable:!0,writable:!0}),fe[ue]}try{p({},"")}catch(fe){p=function(Se,$e,Ye){return Se[$e]=Ye}}function h(fe,ue,Se,$e){var Ye=ue&&ue.prototype instanceof B?ue:B,Xe=Object.create(Ye.prototype),ut=new nt($e||[]);return r(Xe,"_invoke",{value:ge(fe,Se,ut)}),Xe}function M(fe,ue,Se){try{return{type:"normal",arg:fe.call(ue,Se)}}catch($e){return{type:"throw",arg:$e}}}i.wrap=h;var N={};function B(){}function U(){}function K(){}var Q={};p(Q,o,function(){return this});var J=Object.getPrototypeOf,te=J&&J(J(ot([])));te&&te!==n&&t.call(te,o)&&(Q=te);var re=K.prototype=B.prototype=Object.create(Q);function ie(fe){["next","throw","return"].forEach(function(ue){p(fe,ue,function(Se){return this._invoke(ue,Se)})})}function se(fe,ue){function Se(Ye,Xe,ut,mt){var pt=M(fe[Ye],fe,Xe);if(pt.type!=="throw"){var It=pt.arg,Ht=It.value;return Ht&&typeof Ht=="object"&&t.call(Ht,"__await")?ue.resolve(Ht.__await).then(function(Vt){Se("next",Vt,ut,mt)},function(Vt){Se("throw",Vt,ut,mt)}):ue.resolve(Ht).then(function(Vt){It.value=Vt,ut(It)},function(Vt){return Se("throw",Vt,ut,mt)})}mt(pt.arg)}var $e;r(this,"_invoke",{value:function(Xe,ut){function mt(){return new ue(function(pt,It){Se(Xe,ut,pt,It)})}return $e=$e?$e.then(mt,mt):mt()}})}function ge(fe,ue,Se){var $e="suspendedStart";return function(Ye,Xe){if($e==="executing")throw new Error("Generator is already running");if($e==="completed"){if(Ye==="throw")throw Xe;return dt()}for(Se.method=Ye,Se.arg=Xe;;){var ut=Se.delegate;if(ut){var mt=De(ut,Se);if(mt){if(mt===N)continue;return mt}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if($e==="suspendedStart")throw $e="completed",Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);$e="executing";var pt=M(fe,ue,Se);if(pt.type==="normal"){if($e=Se.done?"completed":"suspendedYield",pt.arg===N)continue;return{value:pt.arg,done:Se.done}}pt.type==="throw"&&($e="completed",Se.method="throw",Se.arg=pt.arg)}}}function De(fe,ue){var Se=ue.method,$e=fe.iterator[Se];if($e===void 0)return ue.delegate=null,Se==="throw"&&fe.iterator.return&&(ue.method="return",ue.arg=void 0,De(fe,ue),ue.method==="throw")||Se!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),N;var Ye=M($e,fe.iterator,ue.arg);if(Ye.type==="throw")return ue.method="throw",ue.arg=Ye.arg,ue.delegate=null,N;var Xe=Ye.arg;return Xe?Xe.done?(ue[fe.resultName]=Xe.value,ue.next=fe.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=void 0),ue.delegate=null,N):Xe:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,N)}function Me(fe){var ue={tryLoc:fe[0]};1 in fe&&(ue.catchLoc=fe[1]),2 in fe&&(ue.finallyLoc=fe[2],ue.afterLoc=fe[3]),this.tryEntries.push(ue)}function Fe(fe){var ue=fe.completion||{};ue.type="normal",delete ue.arg,fe.completion=ue}function nt(fe){this.tryEntries=[{tryLoc:"root"}],fe.forEach(Me,this),this.reset(!0)}function ot(fe){if(fe){var ue=fe[o];if(ue)return ue.call(fe);if(typeof fe.next=="function")return fe;if(!isNaN(fe.length)){var Se=-1,$e=function Ye(){for(;++Se<fe.length;)if(t.call(fe,Se))return Ye.value=fe[Se],Ye.done=!1,Ye;return Ye.value=void 0,Ye.done=!0,Ye};return $e.next=$e}}return{next:dt}}function dt(){return{value:void 0,done:!0}}return U.prototype=K,r(re,"constructor",{value:K,configurable:!0}),r(K,"constructor",{value:U,configurable:!0}),U.displayName=p(K,l,"GeneratorFunction"),i.isGeneratorFunction=function(fe){var ue=typeof fe=="function"&&fe.constructor;return!!ue&&(ue===U||(ue.displayName||ue.name)==="GeneratorFunction")},i.mark=function(fe){return Object.setPrototypeOf?Object.setPrototypeOf(fe,K):(fe.__proto__=K,p(fe,l,"GeneratorFunction")),fe.prototype=Object.create(re),fe},i.awrap=function(fe){return{__await:fe}},ie(se.prototype),p(se.prototype,s,function(){return this}),i.AsyncIterator=se,i.async=function(fe,ue,Se,$e,Ye){Ye===void 0&&(Ye=Promise);var Xe=new se(h(fe,ue,Se,$e),Ye);return i.isGeneratorFunction(ue)?Xe:Xe.next().then(function(ut){return ut.done?ut.value:Xe.next()})},ie(re),p(re,l,"Generator"),p(re,o,function(){return this}),p(re,"toString",function(){return"[object Generator]"}),i.keys=function(fe){var ue=Object(fe),Se=[];for(var $e in ue)Se.push($e);return Se.reverse(),function Ye(){for(;Se.length;){var Xe=Se.pop();if(Xe in ue)return Ye.value=Xe,Ye.done=!1,Ye}return Ye.done=!0,Ye}},i.values=ot,nt.prototype={constructor:nt,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Fe),!ue)for(var Se in this)Se.charAt(0)==="t"&&t.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=void 0)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var Se=this;function $e(It,Ht){return ut.type="throw",ut.arg=ue,Se.next=It,Ht&&(Se.method="next",Se.arg=void 0),!!Ht}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Xe=this.tryEntries[Ye],ut=Xe.completion;if(Xe.tryLoc==="root")return $e("end");if(Xe.tryLoc<=this.prev){var mt=t.call(Xe,"catchLoc"),pt=t.call(Xe,"finallyLoc");if(mt&&pt){if(this.prev<Xe.catchLoc)return $e(Xe.catchLoc,!0);if(this.prev<Xe.finallyLoc)return $e(Xe.finallyLoc)}else if(mt){if(this.prev<Xe.catchLoc)return $e(Xe.catchLoc,!0)}else{if(!pt)throw new Error("try statement without catch or finally");if(this.prev<Xe.finallyLoc)return $e(Xe.finallyLoc)}}}},abrupt:function(ue,Se){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var Ye=this.tryEntries[$e];if(Ye.tryLoc<=this.prev&&t.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var Xe=Ye;break}}Xe&&(ue==="break"||ue==="continue")&&Xe.tryLoc<=Se&&Se<=Xe.finallyLoc&&(Xe=null);var ut=Xe?Xe.completion:{};return ut.type=ue,ut.arg=Se,Xe?(this.method="next",this.next=Xe.finallyLoc,N):this.complete(ut)},complete:function(ue,Se){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&Se&&(this.next=Se),N},finish:function(ue){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var $e=this.tryEntries[Se];if($e.finallyLoc===ue)return this.complete($e.completion,$e.afterLoc),Fe($e),N}},catch:function(ue){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var $e=this.tryEntries[Se];if($e.tryLoc===ue){var Ye=$e.completion;if(Ye.type==="throw"){var Xe=Ye.arg;Fe($e)}return Xe}}throw new Error("illegal catch attempt")},delegateYield:function(ue,Se,$e){return this.delegate={iterator:ot(ue),resultName:Se,nextLoc:$e},this.method==="next"&&(this.arg=void 0),N}},i}function hu(i,n,t,r,e,o,s){try{var l=i[o](s),p=l.value}catch(h){t(h);return}l.done?n(p):Promise.resolve(p).then(r,e)}function Qr(i){return function(){var n=this,t=arguments;return new Promise(function(r,e){var o=i.apply(n,t);function s(p){hu(o,r,e,s,l,"next",p)}function l(p){hu(o,r,e,s,l,"throw",p)}s(void 0)})}}var _g=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M,N;return tr().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(r=t.projectMetaCid,e=t.projectMetaType,o=t.screenMetaCidList,s=t.projectBasicEncryptedPassword,l=t.accessToken,p=l===void 0?"":l,o.length!==0){U.next=3;break}return U.abrupt("return",[]);case 3:return h="/project-buffer/"+(0,ji.bL)(e)+"/all/"+r+"?password="+s+"&access_token="+p,U.next=6,(0,an.n3)(h,{localKeyList:o});case 6:return M=U.sent,U.next=9,(0,Gg.Of)({projectBufferData:M,parseConcatGzipDataToObjectList:Vg._D,projectMetaType:e});case 9:return N=U.sent,U.abrupt("return",N);case 12:case"end":return U.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),On=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M,N,B;return tr().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:r=t.projectMetaList,e=t.screenMetaList,o=t.projectBasicEncryptedPassword,s=o===void 0?"":o,l=t.accessToken,p=l===void 0?"":l,h=[],M=pu(r),K.prev=3,B=tr().mark(function Q(){var J,te,re,ie,se,ge;return tr().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:J=N.value,te=e.filter(function(Fe){return Fe.project_meta_cid===J.cid}).map(function(Fe){return Fe.cid}),te.length>2048&&console.warn("[fdPSOL] big proj: "+te.length),re=(0,zg.eO)(te,1024),ie=pu(re),Me.prev=5,ie.s();case 7:if((se=ie.n()).done){Me.next=19;break}return ge=se.value,Me.t0=h.push,Me.t1=h,Me.t2=Kg,Me.next=14,_g({projectMetaCid:J.cid,projectMetaType:J.type,screenMetaCidList:ge,projectBasicEncryptedPassword:s,accessToken:p});case 14:Me.t3=Me.sent,Me.t4=(0,Me.t2)(Me.t3),Me.t0.apply.call(Me.t0,Me.t1,Me.t4);case 17:Me.next=7;break;case 19:Me.next=24;break;case 21:Me.prev=21,Me.t5=Me.catch(5),ie.e(Me.t5);case 24:return Me.prev=24,ie.f(),Me.finish(24);case 27:case"end":return Me.stop()}},Q,null,[[5,21,24,27]])}),M.s();case 6:if((N=M.n()).done){K.next=10;break}return K.delegateYield(B(),"t0",8);case 8:K.next=6;break;case 10:K.next=15;break;case 12:K.prev=12,K.t1=K.catch(3),M.e(K.t1);case 15:return K.prev=15,M.f(),K.finish(15);case 18:return K.abrupt("return",h);case 19:case"end":return K.stop()}},n,null,[[3,12,15,18]])}));return function(t){return i.apply(this,arguments)}}(),fP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M;return tr().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return r=t.userLocale,B.next=3,(0,an.EE)("/api/library/v3/project_upper/user_combo_groups");case 3:return e=B.sent,o=e.user_combo_groups,s=e.screen_aligns,l=e.project_metas,p=e.screen_glues,h=e.screen_metas,console.log("[fdUSG] pm#"+l.length+" sg#"+p.length+" sm#"+h.length+" | ucg#"+o.length+" sa#"+s.length),B.next=12,On({projectMetaList:l,screenMetaList:h});case 12:return M=B.sent,B.abrupt("return",{userComboGroupList:o,screenAlignList:s,projectMetaList:l,screenGlueList:p,screenMetaList:h,projectScreenObjectList:M});case 14:case"end":return B.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),Jg=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M,N;return tr().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return r=t.projectBasicCid,e=t.userLocale,U.next=3,(0,an.EE)("/api/upper/web_v1/basics/"+r);case 3:return o=U.sent,s=o.project_basic,l=o.screen_aligns,p=o.project_metas,h=o.screen_glues,M=o.screen_metas,console.log("[fdPB] pm#"+p.length+" sg#"+h.length+" sm#"+M.length+" | sa#"+l.length),U.next=12,On({projectMetaList:p,screenMetaList:M});case 12:return N=U.sent,U.abrupt("return",{projectBasic:s,screenAlignList:l,projectMetaList:p,screenGlueList:h,screenMetaList:M,projectScreenObjectList:N});case 14:case"end":return U.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),qg=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M,N,B,U,K,Q,J;return tr().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return r=t.projectBasicAccessToken,e=t.projectBasicEncryptedPassword,o=e===void 0?"":e,s=t.userLocale,l=t.projectVersion,re.next=3,(0,an.EE)("/api/upper/web_v1/basics/"+r+"?password="+o+(l?"&version="+l:""));case 3:return p=re.sent,h=p.project_basic,M=p.screen_aligns,N=p.project_metas,B=p.screen_glues,U=p.screen_metas,K=B.find(function(ie){return ie.type===ji._H.PROJECT_TRASHCAN}),Q=K?U.filter(function(ie){return ie.screen_glue_cid!==K.cid}):U,console.log("[fdPB+] pm#"+N.length+" sg#"+B.length+" sm#"+U.length+"/"+Q.length+" | sa#"+M.length),re.next=14,On({projectMetaList:N,screenMetaList:Q,projectBasicEncryptedPassword:o,accessToken:r});case 14:return J=re.sent,re.abrupt("return",{projectBasic:h,screenAlignList:M,projectMetaList:N,screenGlueList:B,screenMetaList:Q,projectScreenObjectList:J});case 16:case"end":return re.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),hP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M,N,B,U;return tr().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return r=t.projectBasicAccessToken,e=t.projectBasicEncryptedPassword,o=e===void 0?"":e,s=t.userLocale,Q.next=3,(0,an.EE)("/api/upper/web_v1/basics/"+r+"?password="+o);case 3:return l=Q.sent,p=l.project_basic,h=l.screen_aligns,M=l.project_metas,N=l.screen_glues,B=l.screen_metas,console.log("[fdPBbAT] pm#"+M.length+" sg#"+N.length+" sm#"+B.length+" | sa#"+h.length),Q.next=12,On({projectMetaList:M,screenMetaList:B,projectBasicEncryptedPassword:o,accessToken:r});case 12:return U=Q.sent,Q.abrupt("return",{projectBasic:p,screenAlignList:h,projectMetaList:M,screenGlueList:N,screenMetaList:B,projectScreenObjectList:U});case 14:case"end":return Q.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),vP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M,N,B;return tr().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return r=t.projectUpperCid,e=t.isFromIframe,o=e===void 0?!1:e,K.next=3,(0,an.EE)("/api/community/v1/market_template/"+r+(o?"?is_from_iframe=true":""));case 3:return s=K.sent,l=s.market_template,p=s.screen_aligns,h=s.project_metas,M=s.screen_glues,N=s.screen_metas,console.log("[fdMT] pm#"+h.length+" sg#"+M.length+" sm#"+N.length+" | sa#"+p.length),K.next=12,On({projectMetaList:h,screenMetaList:N});case 12:return B=K.sent,K.abrupt("return",{projectUpper:l,screenAlignList:p,projectMetaList:h,screenGlueList:M,screenMetaList:N,projectScreenObjectList:B});case 14:case"end":return K.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),mP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h;return tr().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return r=t.projectUpperCid,e=t.isFromIframe,o=e===void 0?1:e,N.next=3,(0,an.EE)("/api/community/v1/market_template/"+r+(o?"?is_from_iframe=true":""));case 3:return s=N.sent,l=s.data,p=s.market_template,h=s.project_metas,N.abrupt("return",{screenMetaList:l,projectUpper:p,projectMetaList:h});case 8:case"end":return N.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),gP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M;return tr().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return r=t.projectUpperCid,B.next=3,(0,an.EE)("/api/community/v1/reviewable_project/"+r);case 3:return e=B.sent,o=e.reviewable_project,s=e.screen_aligns,l=e.project_metas,p=e.screen_glues,h=e.screen_metas,console.log("[fdRP] pm#"+l.length+" sg#"+p.length+" sm#"+h.length+" | sa#"+s.length),B.next=12,On({projectMetaList:l,screenMetaList:h});case 12:return M=B.sent,B.abrupt("return",{projectUpper:o,screenAlignList:s,projectMetaList:l,screenGlueList:p,screenMetaList:h,projectScreenObjectList:M});case 14:case"end":return B.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),yP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l;return tr().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=t.projectUpperCid,h.next=3,(0,an.EE)("/api/community/v1/reviewable_project/"+r);case 3:return e=h.sent,o=e.reviewable_project,s=e.screen_aligns,l=e.project_metas,h.abrupt("return",{projectUpper:o,projectMetaList:l,screenAlignList:s});case 8:case"end":return h.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),SP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M;return tr().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return r=t.projectUpperCid,B.next=3,(0,an.EE)("/api/upper/web_v1/product/"+r);case 3:return e=B.sent,o=e.product,s=e.screen_aligns,l=e.project_metas,p=e.screen_glues,h=e.screen_metas,console.log("[fdCP] pm#"+l.length+" sg#"+p.length+" sm#"+h.length+" | sa#"+s.length),B.next=12,On({projectMetaList:l,screenMetaList:h});case 12:return M=B.sent,B.abrupt("return",{projectUpper:o,screenAlignList:s,projectMetaList:l,screenGlueList:p,screenMetaList:h,projectScreenObjectList:M});case 14:case"end":return B.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),bP=function(){var i=Qr(tr().mark(function n(t,r){var e,o,s,l,p,h,M,N,B,U,K,Q,J,te,re,ie,se,ge,De;return tr().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return e=t.teamCid,o=t.userLocale,s=r.name,l=r.type,p=r.attr,h=p===void 0?{}:p,M=r.device,N=r.model,B=r.width,U=r.height,K=r.subProject,Q=r.zboardTag,J=r.visibility,te=du.eM,Fe.next=5,(0,an.Gf)("/project-buffer/"+l+"/check-init/project-upper?upperType="+te,{presetOption:{locale:o,name:s,type:l,device:M,model:N,width:B,height:U},railsExtra:{team_cid:e,visibility:J,name:s,type:l,attr:h,device:M,model:N,width:B,height:U,subProject:K,zboardTag:Q}});case 5:return re=Fe.sent,ie=re.userId,se=re.upperCid,ge=re.zboardTabs,De=re.projectMetaCid,Fe.abrupt("return",{userId:ie,upperCid:se,upperType:te,zboardTabs:ge,projectMetaCid:De});case 11:case"end":return Fe.stop()}},n)}));return function(t,r){return i.apply(this,arguments)}}(),xP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M;return tr().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return r=t.projectBasicCid,e=t.projectBasicType,o=t.teamCid,s=du.eM,B.next=4,(0,an.Gf)("/project-buffer/"+e+"/check-duplicate/project-upper?upperAction=duplicate-project-basic&upperCid="+r,{railsExtra:{team_cid:o}});case 4:return l=B.sent,p=l.userId,h=l.upperCid,M=l.projectMetaCid,B.abrupt("return",{userId:p,upperCid:h,upperType:s,projectMetaCid:M});case 9:case"end":return B.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),CP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s,l,p,h,M,N,B,U,K;return tr().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return r=t.upperCid,e=t.projectMetaCid,o=t.projectMetaType,s=t.screenGlueCid,l=t.screenMetaCidList,p=t.screenGlueCidList,h=p===void 0?[]:p,M=t.nextUpperCid,N=t.nextProjectMetaCid,B=t.nextScreenGlueCid,J.next=3,(0,an.Gf)("/project-buffer/"+o+"/check-transfer/screen-meta?upperCid="+r,{projectMetaCid:e,screenGlueCid:s,screenMetaCidList:l,screenGlueCidList:h,nextUpperCid:M,nextProjectMetaCid:N,nextScreenGlueCid:B});case 3:return U=J.sent,K=U.userId,J.abrupt("return",{userId:K,upperCid:r,nextUpperCid:M});case 6:case"end":return J.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),wP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s;return tr().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=t.encryptedPassword,e=t.accessToken,p.next=3,(0,an.Gf)("/nodekiq/build-html-zip",{encryptedPassword:r,accessToken:e});case 3:return o=p.sent,s=o.urlHtmlZip,p.abrupt("return",{urlHtmlZip:s});case 6:case"end":return p.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),EP=function(){var i=Qr(tr().mark(function n(t){var r,e,o,s;return tr().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=t.encryptedPassword,e=t.accessToken,p.next=3,(0,an.Gf)("/nodekiq/build-apk",{encryptedPassword:r,accessToken:e});case 3:return o=p.sent,s=o.urlApk,p.abrupt("return",{urlApk:s});case 6:case"end":return p.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),oi=c(43985),e0={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},AP=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){return(0,a.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{projectShare:e0});case 1:case"end":return r.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),MP=function(n){var t=n.isVersions;return{requestPreviewSetting:mu,requestPreviewInitialData:vu,requestPreviewEmbedInitial:gu,requestProjectFullDataByAccessToken:yu,requestSketchArtboardList:os,requestSketchArtboardById:ss,requestSliceByArtboardId:ls,requestSliceZipByArtboardId:cs,checkSharingPermission:us,fetchProjectComment:ds,fetchProjectScreenCommentThreadCountMap:ps,requestProjectShare:t?requestProjectShareVersion:requestProjectSharePreview,requestUserCommonGuidesData:t0,updateUserCommonGuidesData:r0,fetchCreateCommentThread:fs,fetchCreateComment:hs,fetchDeleteCommentThread:vs,fetchDeleteComment:ms,updateProjectBasicsInfo:n0}},t0=function(){return fetchGetJSON("/api/web/v3/guide/guide_data")},r0=function(n){return fetchPutHead("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:n}})},vu=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=t.projectAccessToken,e=t.projectEncryptedPassword,o=e?"&password="+e:"",l.abrupt("return",(0,it.EE)("/api/upper/web_v1/preview/initial?access_token="+r+o));case 3:case"end":return l.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),mu=function(n){var t=n.projectAccessToken,r=n.password;return(0,it.EE)("/api/upper/web_v1/preview/setting?access_token="+t+"&password="+(r||""))},gu=function(n){var t=n.projectAccessToken;return(0,it.EE)("/api/upper/web_v1/preview/embed_initial?access_token="+t)},yu=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B,U,K;return(0,a.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return r=t.projectAccessToken,e=t.projectEncryptedPassword,o=t.userLocale,s=t.projectVersion,J.next=3,qg({projectBasicAccessToken:r,projectBasicEncryptedPassword:e,userLocale:o,projectVersion:s});case 3:if(l=J.sent,l){J.next=6;break}return J.abrupt("return");case 6:p=(0,F.Z)(l.projectMetaList,1),h=p[0],M=l.screenGlueList,N=l.screenMetaList,B=l.projectScreenObjectList,U=l.projectBasic,K=l.screenAlignList;try{N.length>=3500&&((0,w.n_)({level:"warning",message:"pb="+U.cid+" pm="+h.cid+" sg#"+M.length+" sm#"+N.length+" pso#"+B.length}),(0,w.uT)("\u9884\u89C8\u5927\u9879\u76EE "+new Date().toISOString().slice(0,7)))}catch(te){console.error(te)}return J.abrupt("return",{projectMeta:h,screenGlueList:M,screenMetaList:N,projectScreenObjectList:B,projectBasic:U,screenAlignList:K});case 9:case"end":return J.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),os=function(n){return(0,it.EE)("/api/upper/web_v1/artboards?project_cid="+n)},ss=function(n){return(0,it.EE)("/api/upper/web_v1/artboards/layers?artboard_id="+n)},ls=function(n){return(0,it.EE)("/api/upper/web_v1/artboards/slices_json?artboard_id="+n)},cs=function(n){var t=n.artboardId,r=n.encryptedPassword;return(0,it.EE)("/api/upper/web_v1/artboards/slices_zip?artboard_id="+t+"&encrypted_password="+r)},us=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,it.EE)("/api/accesses/v4/project/"+t+"/permission_check?permission=P:update");case 3:return r=s.sent,e=r.result,s.abrupt("return",e);case 8:return s.prev=8,s.t0=s.catch(0),s.abrupt("return",!1);case 11:case"end":return s.stop()}},n,null,[[0,8]])}));return function(t){return i.apply(this,arguments)}}(),ds=function(n){var t=n.projectCid,r=n.projectEncryptedPassword,e=n.accessToken;return(0,it.EE)("/api/proto7/web_v1/comments?project_cid="+t+"&password="+(r||"")+"&access_token="+e)},ps=function(n){var t=n.projectAccessToken,r=n.projectEncryptedPassword;return(0,it.EE)("/api/upper/web_v1/preview/"+t+"/screen_comments_thread_count_map?encrypted_password="+(r||""))},fs=function(n){return(0,it._Z)("/api/proto7/web_v1/commentthreads/"+n.cid,(0,O.Z)({},n))},hs=function(n){return(0,it._Z)("/api/proto7/web_v1/comments/"+n.cid,(0,O.Z)({},n))},vs=function(n){return(0,it.Bh)("/api/proto7/web_v1/commentthreads/"+n)},ms=function(n){return(0,it.Bh)("/api/proto7/web_v1/comments/"+n)},n0=function(n,t){return fetchPutJSON("/api/upper/web_v1/basics/"+n,_objectSpread({},t))},a0=function(n,t){return(0,it.EE)("/api/upper/web_v1/basics/auth/"+n+"?password="+t)},PP={requestPreviewSetting:mu,requestPreviewInitialData:vu,requestProjectFullDataByAccessToken:yu,requestSketchArtboardList:os,requestSketchArtboardById:ss,requestSliceByArtboardId:ls,requestSliceZipByArtboardId:cs,checkSharingPermission:us,requestPreviewEmbedInitial:gu,fetchProjectComment:ds,fetchProjectScreenCommentThreadCountMap:ps,requestProjectShare:oi.o7,fetchCreateCommentThread:fs,fetchCreateComment:hs,fetchDeleteCommentThread:vs,fetchDeleteComment:ms},i0=function(n){return(0,Tt.q)(n+"_pwd")},Su=function(n){return(0,Tt.GQ)(n+"_pwd")},o0=function(n,t){return(0,Tt.A6)(n+"_pwd",t)},s0=function(n){var t=function(){var r=(0,d.Z)((0,a.Z)().mark(function e(o,s,l){var p,h,M,N;return(0,a.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(U.prev=0,p=(0,ne.GP)(MB.webpackInterface.store.getState()),h=p.isHTMLZip,M=p.isMobile,h){U.next=7;break}return M&&MB.messageBucket.send("ready"),U.next=6,a0(o,s);case 6:MB.global.popupHelper.promptGetPasswordAsync(!1);case 7:return U.next=9,n({projectAccessToken:o,projectVersion:l,projectEncryptedPassword:s,userLocale:window.MBLocale});case 9:return N=U.sent,o0(o,s),U.abrupt("return",N);case 14:U.prev=14,U.t0=U.catch(0),console.error("[getProjectFullData] failed: "+U.t0),i0(o);case 18:case"end":return U.stop()}},e,null,[[0,14]])}));return function(o,s,l){return r.apply(this,arguments)}}();return(0,d.Z)((0,a.Z)().mark(function r(e){var o,s,l,p,h;return(0,a.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return o=e.projectAccessToken,s=e.projectVersion,l=e.projectEncryptedPassword,p=e.isPasswordRequired,l=l||new URLSearchParams(location.search).get("password")||Su(o),N.next=4,l0(t,p,o,l,s);case 4:if(N.t0=N.sent,N.t0){N.next=7;break}N.t0=[];case 7:return h=N.t0,N.abrupt("return",h);case 9:case"end":return N.stop()}},r)}))},l0=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r,e,o,s){var l,p,h,M,N,B;return(0,a.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,t(e,o,s);case 2:l=K.sent,!l&&!r&&((p=MB)==null||(h=p.messageBucket)==null||h.send("mobileLoadProjectError",{errMsg:I18N.dPages.no_permission_to_app})),M=1/0,N=!1,B=0;case 7:if(!(!l&&M)){K.next=22;break}return B++,M--,K.t0=$g(),K.next=13,MB.global.popupHelper.promptGetPasswordAsync(!0,N);case 13:return K.t1=K.sent,o=(0,K.t0)(K.t1),K.next=17,t(e,o,s);case 17:l=K.sent,l||(N=!0),typeof C.U1=="function"&&(0,C.U1)("input_password",{input_correct:!!l,input_times:B,view_mode:(0,gr.tq)()?(0,gr.li)()?"\u79FB\u52A8\u7AEF\u67E5\u770B":"h5":(0,gr.d)()?"PC\u5BA2\u6237\u7AEF":(0,gr.V5)()||(0,gr.ED)()?"PC\u6D4F\u89C8\u5668\u67E5\u770B":""}),K.next=7;break;case 22:return MB.global.popupHelper.promptGetPasswordAsync(!1),K.abrupt("return",l);case 24:case"end":return K.stop()}},n)}));return function(t,r,e,o,s){return i.apply(this,arguments)}}(),c0=!1,bu;function u0(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var d0=ze.default.div(bu||(bu=u0(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 6px 12px;\n  z-Index: 10;\n  position: absolute;\n  height: 36px;\n  min-width: 460px;\n  bottom: 40px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: #FFFFFF;\n  box-shadow: 0 2px 6px rgba(39, 54, 78, 0.08), 0 6px 12px rgba(39, 54, 78, 0.05);\n  border-radius: 100px;\n  pointer-events: auto;\n  \n  svg.tik {\n    color: #FF9000;\n  }\n\n  p {\n    height: 12px;\n    font-size: 12px;\n    line-height: 12px;\n    color: #333333;\n    margin: 0 10px;\n  }\n  a {\n    color: #1684fc;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n \n  .clickble {\n    cursor: pointer;\n  }\n\n  .close-btn {\n    width: 24px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    \n    svg {\n      width: 20px;\n      height: 20px;\n    }\n    \n    &:hover {\n      background: #F2F2F2;\n      border-radius: 4px;\n    }\n    \n    &:active {\n      background: #E5E5E5;\n      border-radius: 4px;\n    }\n  }\n"]))),TP=function(){return/(Macintosh)/i.test(navigator.userAgent)},IP=function(){return/(Windows)/i.test(navigator.userAgent)},OP=function(){return/Chrome\/63/i.test(navigator.userAgent)},DP=function(){return/Firefox/i.test(navigator.userAgent)},p0=function(){return/Chrome/i.test(navigator.userAgent)},LP=function(){return/(iPod|iPhone|iPad|Android)/.test(navigator.userAgent)},Hi=c(50969),_n=c(31485);function f0(i,n){return g0(i)||m0(i,n)||v0(i,n)||h0()}function h0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v0(i,n){if(i){if(typeof i=="string")return xu(i,n);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xu(i,n)}}function xu(i,n){(n==null||n>i.length)&&(n=i.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=i[t];return r}function m0(i,n){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r,e,o,s,l=[],p=!0,h=!1;try{if(o=(t=t.call(i)).next,n===0){if(Object(t)!==t)return;p=!1}else for(;!(p=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);p=!0);}catch(M){h=!0,e=M}finally{try{if(!p&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(h)throw e}}return l}}function g0(i){if(Array.isArray(i))return i}var Cu="local_browser_prompt_show";function y0(){if(p0())return null;var i=Date.parse((0,Hi.RD)(Cu,"",Hi.cM.String));return i&&i>Date.now()?null:(0,v.jsx)(S0,{})}var S0=function(){var n=(0,y.useState)(!0),t=f0(n,2),r=t[0],e=t[1],o=function(){var l=new Date;l.setUTCDate(l.getUTCDate()+1),(0,Hi.iO)(Cu,l.toISOString(),Hi.cM.String),e(!1)};return r&&(0,v.jsxs)(d0,{children:[(0,v.jsx)(_n.Z,{name:"sigh",className:"tik"}),(0,v.jsxs)("p",{children:["\u5F53\u524D\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u5DEE\uFF0C\u8BF7\u4F7F\u7528 ",(0,v.jsx)("a",{href:"https://www.google.cn/chrome/",target:"_blank",rel:"noreferrer",children:" Chrome \u6D4F\u89C8\u5668"}),"\u6216 ",(0,v.jsx)("a",{className:"clickble",href:"https://modao.cc/feature/downloads.html",target:"_blank",rel:"noreferrer",children:"\u4E0B\u8F7D\u58A8\u5200\u5BA2\u6237\u7AEF"})," \u4F7F\u7528"]}),(0,v.jsx)("div",{className:"close-btn",onClick:o,children:(0,v.jsx)(_n.Z,{name:"close_sm"})})]})},b0=c(34788),st=c.n(b0),x0=ze.default.div.withConfig({displayName:"styles__StyledToggleButton",componentId:"sc-17c9zn2-0"})(["position:absolute;display:flex;align-items:center;z-index:4;cursor:pointer;top:50%;margin-top:0;width:40px;height:0;opacity:0;transition:opacity 0.2s ease-in-out;background:red;margin-left:-10px;&.left{right:100%;transform:rotate(180deg);}&.right{left:100%;}& > .panel-icon{font-size:16px;.path-wapper{fill:",";}.path-arrow{fill:",";}}&.is-minimized{opacity:1;pointer-events:auto;.svg-icon .path-arrow{transform-origin:center;transform:rotate(180deg);}}&:hover{&:not(.is-minimized){opacity:1;pointer-events:auto;}}&.embed-v2{justify-content:center;top:unset;bottom:16px;width:32px;height:32px;background:#fff;box-shadow:2px 2px 6px rgba(39,54,78,0.08);border-radius:0 4px 4px 0;opacity:1;.svg-icon path{fill:#1684fc !important;}&.is-minimized{opacity:1;.svg-icon path{fill:#333 !important;}}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L3}),wu=ze.default.div.withConfig({displayName:"styles__StyledPosition",componentId:"sc-17c9zn2-1"})(["width:10px;height:86px;z-index:4;"]),gs=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleClick",function(){var l=r.props,p=l.isMinimized,h=l.onClick;h(!p)}),(0,f.Z)((0,ae.Z)(r),"isEmbedV2",location.pathname.includes("/embed/v2")),(0,f.Z)((0,ae.Z)(r),"onMouseEnter",function(){var l=r.props.dispatch;l({type:"preview:panel:set:isButtonHovered",payload:{isButtonHovered:!0}})}),(0,f.Z)((0,ae.Z)(r),"onMouseLeave",function(){var l=r.props.dispatch;l({type:"preview:panel:set:isButtonHovered",payload:{isButtonHovered:!1}})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.placement,s=e.isMinimized,l=e.isClassic;return(0,v.jsxs)(x0,{className:st()("toggle-minimized-button",o,{"is-minimized":s,"embed-v2":this.isEmbedV2}),onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[!l&&(0,v.jsx)(wu,{}),this.isEmbedV2?(0,v.jsx)(At.q,{name:"square/preview/left-panel"}):(0,v.jsx)(C0,{}),l&&(0,v.jsx)(wu,{})]})}}]),t}(y.PureComponent);(0,f.Z)(gs,"propTypes",{placement:u().oneOf(["left","right"]),isMinimized:u().bool,onClick:u().func,dispatch:u().func,isClassic:u().bool});var C0=function(){return(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-icon icon panel-icon",viewBox:"0 0 16 86","aria-hidden":"true",width:"16",height:"86",children:(0,v.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,v.jsx)("path",{className:"path-wapper",d:"M0 0l14.12 8.825A4 4 0 0116 12.217v61.566a4 4 0 01-1.88 3.392L0 86V0z",fill:"#FFF"}),(0,v.jsx)("path",{className:"path-arrow",d:"M10.758 48.766a.778.778 0 000-1.127L6.996 43l3.762-4.639a.778.778 0 000-1.127.85.85 0 00-1.172 0l-4.344 5.202a.78.78 0 000 1.128l4.344 5.202a.85.85 0 001.172 0z",fill:"#8D9EA7",fillRule:"nonzero"})]})})},Eu=c(68333),Fr=c(9430),w0=ze.default.ul.withConfig({displayName:"styles__StyledScreenList",componentId:"sc-iwoxpn-0"})(["&,ol,li{list-style:none;}"]),ys=(0,y.memo)(function(i){var n=i.isExpandTree,t=i.activeScreenMetaCid,r=i.editingScreenMetaCid,e=i.targetlinkCid,o=i.screenSelection,s=i.renderScreenMetaItem,l=i.screenTreeData,p=i.dummySelect,h=i.collapseScreenMetaCidSet,M=i.dispatch,N=i.projectCid,B=i.currentSharings;return(0,v.jsx)(w0,{children:l.children.map(function(U){return(0,v.jsx)(Au,{treeNode:U,depth:0,isExpandTree:n,screenSelection:o,activeScreenMetaCid:t,editingScreenMetaCid:r,targetlinkCid:e,renderScreenMetaItem:s,dummySelect:p,collapseScreenMetaCidSet:h,projectCid:N,dispatch:M,currentSharings:B},U.cid)})})});ys.propTypes={isExpandTree:u().bool,activeScreenMetaCid:u().string,editingScreenMetaCid:u().string,targetlinkCid:u().string,screenTreeData:u().object,screenSelection:u().array,dummySelect:u().object,collapseScreenMetaCidSet:u().object,renderScreenMetaItem:u().func,dispatch:u().func,projectCid:u().string,currentSharings:u().array},ys.defaultProps={isExpandTree:!1,activeScreenMetaCid:"",editingScreenMetaCid:"",targetlinkCid:"",screenSelection:[],dummySelect:new Set,collapseScreenMetaCidSet:new Set};var Ss=ys,Au=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.treeNode,s=e.depth,l=e.isExpandTree,p=e.activeScreenMetaCid,h=e.editingScreenMetaCid,M=e.targetlinkCid,N=e.screenSelection,B=e.renderScreenMetaItem,U=e.dummySelect,K=e.collapseScreenMetaCidSet,Q=e.dispatch,J=e.projectCid,te=e.currentSharings,re=o.cid,ie=o.data,se=o.children,ge=l?!0:!K.has(re),De=!!se.length;return(0,v.jsxs)("li",{"data-cid":re,className:"rn-content-item",children:[B({depth:s,screenMeta:ie,hasScreenMetaChildren:De,screenSelection:N,activeScreenMetaCid:p,editingScreenMetaCid:h,targetlinkCid:M,dummySelect:U,collapseScreenMetaCidSet:K,dispatch:Q,projectCid:J,currentSharings:te}),se.length>0&&ge&&(0,v.jsx)("ol",{type:"screen-list",className:"child-screens",children:se.map(function(Me){return(0,v.jsx)(t,{treeNode:Me,depth:s+1,isExpandTree:l,screenSelection:N,activeScreenMetaCid:p,editingScreenMetaCid:h,targetlinkCid:M,renderScreenMetaItem:B,dummySelect:U,collapseScreenMetaCidSet:K,dispatch:Q,projectCid:J,currentSharings:te},Me.cid)})})]})}}]),t}(y.PureComponent);(0,f.Z)(Au,"propTypes",{treeNode:u().object,depth:u().number,isExpandTree:u().bool,activeScreenMetaCid:u().string,editingScreenMetaCid:u().string,targetlinkCid:u().string,dummySelect:u().object,collapseScreenMetaCidSet:u().object,screenSelection:u().array,renderScreenMetaItem:u().func,dispatch:u().func,projectCid:u().string,currentSharings:u().array});var E0=c(62173),Wi=c.n(E0),A0=function(n){var t,r,e,o;typeof C.U1=="function"&&(0,C.U1)("index_page_click",{preview_type:n==="literal"?"\u9875\u9762":"\u5361\u7247",template_cid:MB.currentProject.cid,template_name:MB.currentProject.title,project_id:(t=MB)==null||(r=t.currentProjectMeta)==null?void 0:r.cid,project_name:(e=MB)==null||(o=e.currentProjectMeta)==null?void 0:o.name,vip_template:MB.currentProject.policy!=="everyone"})},bs=function(n,t){typeof C.U1=="function"&&(0,C.U1)("index_action_click",{action_type:n,preview_type:t==="literal"?"\u9875\u9762":"\u5361\u7247",vip_template:MB.currentProject.policy!=="everyone"})},M0=Wi()(bs,1e3),Mu=c(58708),xs=c(79316),Pu=c(45567),Ha=(0,ze.css)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),NP=(0,ze.css)(['position:relative;pointer-events:none;&::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}']),Cs=(0,ze.css)(["position:relative;height:32px;padding-left:14px;padding-right:4px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span,.editable-name{margin-right:14px;line-height:24px;border-radius:2px;&.is-editing{border-bottom-color:transparent;}}.actions{display:none;height:100%;padding-left:6px;.Dropdown > button{display:flex;padding:8px 10px 8px 0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_card},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_icon_hover}),jP=ze.default.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-bg73r-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],function(i){return i.theme.color_primary_brand01}),Tu=(0,ze.css)(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}.svg-icon{width:24px;height:24px;}"],function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L3},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_primary_proto01}),P0=ze.default.div.withConfig({displayName:"styles__StyledScreenItem",componentId:"sc-110hls1-0"})([""," .expander{display:flex;align-items:center;justify-content:center;cursor:pointer;width:14px;height:14px;margin-left:-15px;margin-right:1px;.arrow-icon{color:#999;width:8px;height:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-name{display:flex;align-items:center;width:100%;padding-right:5px;.screen-item-icon{display:flex;flex-shrink:0;justify-content:center;align-items:center;width:24px;height:24px;margin-right:4px;color:",";}.editable-span{color:",";",";}}&[disabled]{opacity:0.4;pointer-events:none;}.actions{padding:0 10px;.actions-ellipsis{font-size:14px;pointer-events:none;}&:hover{.actions-ellipsis{color:",";}}}.child-screens{position:relative;}&.wait-hover *{pointer-events:none;}&.linking{color:",";background:",";.actions{display:none;}}&:hover,&.hover{color:",";.screen-name .screen-item-icon .icon{color:",";}}&.active,&.is-active{color:",";background-color:",";.screen-name{.editable-span{font-weight:500;}.screen-item-icon .icon{color:",";}}.expander .arrow-icon{color:#999;}}"],Cs,function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},Ha,function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_selection01},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_selection01},function(i){return i.theme.color_text_L1}),Iu=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"setElementRef",function(l){return r.$elem=l}),(0,f.Z)((0,ae.Z)(r),"handleExpand",function(l){l.stopPropagation();var p=r.props,h=p.screenMeta,M=p.actionProps.onExpand;M(h)}),(0,f.Z)((0,ae.Z)(r),"handleClick",function(l){l.stopPropagation();var p=r.props,h=p.screenMeta,M=p.actionProps.onSelect;M(l,h)}),(0,f.Z)((0,ae.Z)(r),"onShowTipsByTarget",function(l,p){var h=p.querySelector(".editable-span");return h.offsetWidth<h.scrollWidth}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){if(!(0,kn.pn)(this.$elem)){var e=this.$elem.classList.contains("active");if(!e)return;var o=document.querySelector(".rn-content-body");if(!o)return;var s=o.getBoundingClientRect(),l=this.$elem.getBoundingClientRect(),p=l.bottom;o.scrollTop+=p-s.bottom+20}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,o=e.screenMeta,s=e.depth,l=e.isExpand,p=e.isActive,h=e.showExpander,M=e.isHTMLZip,N=e.screenCommentThreadCountMap,B=e.theme,U=(14+5)*(s+1),K=(0,Ir.Vx)(o),Q=o.cid,J=o.name,te=o.firstState,re=N&&N[Q]||0,ie=re>=1&&!M;return(0,v.jsx)(xs.Z,{content:J,distance:5,direction:"right",onMouseEvent:"onDoubleClick",isShowTipsByTarget:this.onShowTipsByTarget,children:(0,v.jsxs)(P0,{ref:this.setElementRef,"data-cid":Q,onClick:this.handleClick,style:{paddingLeft:U},className:st()("rn-list-item",{active:p,folder:K}),children:[h&&(0,v.jsx)("a",{className:"expander",onClick:this.handleExpand,onDoubleClick:this.stopPropagation,children:(0,v.jsx)(At.q,{className:st()("arrow-icon",{"is-expand":l}),name:"common/expand"})}),(0,v.jsxs)("div",{className:"screen-name",children:[(0,v.jsx)("div",{className:"screen-item-icon",children:(0,v.jsx)(Pu.p,{icon:te==null?void 0:te.icon,theme:B,isExpand:l})}),(0,v.jsx)(Mu.p,{className:"editable-span",children:(0,kn.j4)(J)})]}),ie&&(0,v.jsx)("span",{className:"toggle-comment",children:(0,v.jsx)(Pn.Z,{type:"dora",name:"comment"})})]})})}}]),t}(y.PureComponent);(0,f.Z)(Iu,"propTypes",{theme:u().string,depth:u().number,screenMeta:u().object,isActive:u().bool,isExpand:u().bool,isHTMLZip:u().bool,showExpander:u().bool,screenCommentThreadCountMap:u().object,actionProps:u().object});var Jn=function(i){return i.community="community",i.workspace="workspace",i}({}),T0={detector:"nT4U2_NOIS7CAZHovWxY"},ws=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleResize",function(){var l=r.elem.getBoundingClientRect();r.props.onResize(l)}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.elem.contentWindow.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){var e=this.elem.contentWindow;e&&e.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this;return(0,v.jsx)("iframe",{ref:function(s){return e.elem=s},className:T0.detector})}}]),t}(y.PureComponent);ws.propTypes={onResize:u().func.isRequired};var I0=c(20738),zr=c(13666),O0=ze.default.li.withConfig({displayName:"styles__StyledThumbnail",componentId:"sc-103ca50-0"})(["display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:90px;position:relative;margin-right:10px;margin-bottom:10px;cursor:pointer;.image-wrapper{position:relative;width:100%;height:93px;padding:2px;background-color:",";border-radius:4px;display:flex;justify-content:center;align-items:center;transition:all 0.2s ease-out;img{max-width:100%;max-height:100%;pointer-events:none;}.actions{display:none;position:absolute;z-index:1;bottom:4px;right:4px;.temp-btn-icon{width:16px;height:14px;}&.is-hover{display:flex;}}&:hover,&.hover{border-width:2px;border-color:",";padding:1px;.actions{display:flex;}}}.screen-name{height:26px;max-width:100%;line-height:26px;",";}&.select,&.active{.image-wrapper{border-style:solid;border-width:","px;border-color:",";padding:2px;box-shadow:0 0 1px 0 rgba(34,162,237,0.66);}}&.select{.screen-name{color:inherit;}}&.active{.screen-name{color:",";}}&:not(.active):not(.select):hover .image-wrapper{border:1px solid ",";}"],function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_primary_proto01},Ha,function(i){return i.theme.img_wrap_border_width},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_primary_proto01}),D0="/snapshot.png",L0=function(n){var t=n.projectMetaCid,r=n.screenMetaCid;return D0+"?projectMetaCid="+t+"&screenMetaCid="+r+"&screenStateCid=FIRST_STATE&zoomMode=thumbnail"},Es=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$elem=o}),(0,f.Z)((0,ae.Z)(e),"updateIsVisible",function(){e.setState({isVisible:e.isInBoundingClientRect()})}),(0,f.Z)((0,ae.Z)(e),"handleClick",function(o){o.stopPropagation();var s=e.props,l=s.screenMeta,p=s.thumbnailActionProps.onClick;p(o,l)}),(0,f.Z)((0,ae.Z)(e),"handleDown",function(o){o.stopPropagation();var s=e.props,l=s.screenMeta,p=s.thumbnailActionProps.onContextMenu;o.button===2&&p&&p(o,l)}),(0,f.Z)((0,ae.Z)(e),"onShowTipsByTarget",function(o,s){var l=s.querySelector(".screen-name");return l.offsetWidth<l.scrollWidth}),(0,f.Z)((0,ae.Z)(e),"handleToggle",function(o){e.setState({hoverCid:o})}),e.state={isVisible:!1,hoverCid:""},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.props.containerRect&&this.updateIsVisible()}},{key:"componentDidUpdate",value:function(e){var o=this.isInBoundingClientRect();if(!e.containerRect&&this.props.isActive&&!o){var s=this.$elem.getBoundingClientRect();this.props.onScrollIntoView(s)}this.updateIsVisible()}},{key:"isInBoundingClientRect",value:function(){var e=this.props.containerRect;if(!e||!this.$elem)return!1;var o=this.$elem.getBoundingClientRect();return o.bottom>e.top&&o.top<e.bottom}},{key:"render",value:function(){var e=this.props,o=e.screenMeta,s=e.isEditing,l=e.isActive,p=e.isSelect,h=e.renderScreenMetaItem,M=h.renderItem,N=h.renderSpan,B=N===void 0?N0:N,U=e.screenTimestampMap,K=e.designOptions,Q=e.experienceSnapshotUrlMap,J=e.from,te=this.state,re=te.hoverCid,ie=te.isVisible,se=o.cid,ge=o.project_meta_cid,De=re===se,Me=U[se],Fe=K.isDesign,nt=!Fe&&Q.get(se);return(0,v.jsx)(zr.Z,{content:o.name,direction:"bottom",onMouseEvent:"onClick",isShowTipsByTarget:this.onShowTipsByTarget,children:(0,v.jsxs)(O0,{className:st()("thumbnail-item",{active:l,select:p}),onClick:this.handleClick,onMouseDown:this.handleDown,children:[(0,v.jsxs)("div",{ref:this.setElementRef,className:st()("image-wrapper",{hover:De}),children:[M&&M(o,this.handleToggle),nt?(0,v.jsx)("img",{src:nt}):J===Jn.community?(0,v.jsx)("img",{src:L0({projectMetaCid:ge,screenMetaCid:se})}):(0,v.jsx)(I0.Z,{screenMetaCid:se,projectMetaCid:ge,screenStateCid:pr.C2,isVisible:ie,cacheTag:Me})]}),B(o,s)]})})}}]),t}(y.PureComponent);(0,f.Z)(Es,"propTypes",{isSelect:u().bool,isActive:u().bool,isEditing:u().bool,screenMeta:u().object,containerRect:u().object,screenTimestampMap:u().object,thumbnailActionProps:u().object,designOptions:u().object,experienceSnapshotUrlMap:u().object,renderScreenMetaItem:u().object,onScrollIntoView:u().func,from:u().string}),(0,f.Z)(Es,"defaultProps",{renderScreenMetaItem:{}});var N0=function(n){return(0,v.jsx)("span",{className:"screen-name",children:n.name})},j0=ze.default.div.withConfig({displayName:"styles__StyledThumbnailList",componentId:"sc-1lse27e-0"})(["width:100%;height:100%;overflow-x:hidden;overflow-y:auto;.thumbnail-list{display:flex;flex-wrap:wrap;width:calc(100% + 15px);color:",";}"],function(i){return i.theme.color_text_L2}),As=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setContainerRef",function(o){return e.$container=o}),(0,f.Z)((0,ae.Z)(e),"updateContainerRect",function(){return e.setState({containerRect:e.$container.getBoundingClientRect()})}),(0,f.Z)((0,ae.Z)(e),"handleScroll",function(){return e.updateContainerRect()}),(0,f.Z)((0,ae.Z)(e),"handleResize",function(){return e.updateContainerRect()}),(0,f.Z)((0,ae.Z)(e),"handleScrollIntoView",function(o){var s=e.state.containerRect;e.$container.scrollTop+=o.top-s.top}),e.state={containerRect:null},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.updateContainerRect()}},{key:"render",value:function(){var e=this,o=this.props,s=o.activeScreenMetaCid,l=o.editingScreenMetaCid,p=o.screenMetaList,h=o.screenSelection,M=o.thumbnailActionProps,N=o.screenTimestampMap,B=o.designOptions,U=o.experienceSnapshotUrlMap,K=o.renderScreenMetaItem,Q=o.from,J=this.state.containerRect;return(0,v.jsxs)(j0,{ref:this.setContainerRef,onScroll:this.handleScroll,children:[(0,v.jsx)("ol",{className:"thumbnail-list",children:p.map(function(te){if((0,Ir.Vx)(te))return null;var re=te.cid,ie=re===l,se=re===s;return(0,v.jsx)(Es,{screenMeta:te,isEditing:ie,isActive:se,isSelect:h.includes(te.cid),containerRect:J,screenTimestampMap:N,experienceSnapshotUrlMap:U,designOptions:B,thumbnailActionProps:M,renderScreenMetaItem:K,onScrollIntoView:e.handleScrollIntoView,from:Q},te.cid)})}),(0,v.jsx)(ws,{onResize:this.handleResize})]})}}]),t}(y.PureComponent);(0,f.Z)(As,"propTypes",{screenMetaList:u().array,editingScreenMetaCid:u().string,activeScreenMetaCid:u().string,thumbnailActionProps:u().object,screenSelection:u().array,screenTimestampMap:u().object,designOptions:u().object,experienceSnapshotUrlMap:u().object,renderScreenMetaItem:u().object,from:u().string}),(0,f.Z)(As,"defaultProps",{screenTimestampMap:{},designOptions:{isDesign:!0},experienceSnapshotUrlMap:new Map,screenSelection:[],from:Jn.workspace});var ua=c(2586),Dn=function(n,t){var r=n.forceDarkTheme;if(r)switch(t){case"workspace_dropdown_menu_shadow":return"0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)";case"color_primary_proto01":return"#1684fc";case"interation_active_box_shadow":return"0 0 4px 0 rgba(41,141,248,0.50)";default:return ua.YP[t].value}return n.theme[t]},R0=ze.default.div.withConfig({displayName:"styles__StyledSearchBar",componentId:"sc-inftft-0"})(["position:relative;height:24px;display:flex;justify-content:space-between;align-items:center;.search-icon{position:absolute;left:0;width:24px;height:24px;text-align:center;line-height:24px;font-size:12px;color:",";pointer-events:none;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:100%;padding-right:22px;background-color:",";border-width:1px;border-style:solid;border-color:",";border-radius:2px;transition:all 0.2s ease-out;text-indent:24px;color:",";&::placeholder{color:",";}&:hover{border-color:",";}&:focus{background-color:",";border-color:",";box-shadow:",";}}.clear-icon{position:absolute;right:0;width:24px;line-height:24px;text-align:center;color:",";transition:all 0.15s ease-in-out;cursor:pointer;&:hover{color:",";}}"],function(i){return Dn(i,"color_text_L3")},function(i){return Dn(i,"color_background_icon_hover")},function(i){return Dn(i,"color_background_icon_active")},function(i){return Dn(i,"color_text_L2")},function(i){return Dn(i,"color_text_L3")},function(i){return Dn(i,"color_primary_proto01")},function(i){return Dn(i,"color_background_white")},function(i){return Dn(i,"color_primary_proto01")},function(i){return Dn(i,"interation_active_box_shadow")},function(i){return Dn(i,"color_text_disabled")},function(i){return Dn(i,"color_text_L3")}),si=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"setInputRef",function(l){return r.$input=l}),(0,f.Z)((0,ae.Z)(r),"focus",function(){return r.$input.focus()}),(0,f.Z)((0,ae.Z)(r),"handleChange",function(l){return r.props.onChange(l.target.value)}),(0,f.Z)((0,ae.Z)(r),"handleClear",function(){return r.props.onChange("")}),(0,f.Z)((0,ae.Z)(r),"handleMouseDown",function(l){return l.preventDefault()}),(0,f.Z)((0,ae.Z)(r),"handleKeyDown",function(l){var p=r.props,h=p.shouldSearchOnEnter,M=p.onConfirm;l.key===ni.Fn.Enter&&h&&M&&M()}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.value,s=e.placeholder,l=e.className,p=e.inputStyle,h=e.forceDarkTheme;return(0,v.jsxs)(R0,{type:"search",className:l,forceDarkTheme:h,children:[(0,v.jsx)(At.q,{name:"common/search",className:"search-icon"}),(0,v.jsx)("input",{type:"password",name:"password",className:"autoCompleteInput"}),(0,v.jsx)("input",{className:"WorkspaceInput",ref:this.setInputRef,style:p,type:"text",value:o,placeholder:s,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:function(){MB.f.addActionInputFouce=!0},onBlur:function(){MB.f.addActionInputFouce=!1}}),o.length>0&&(0,v.jsx)(Pn.Z,{type:"dora",name:"times_fc",className:"clear-icon",onMouseDown:this.handleMouseDown,onClick:this.handleClear})]})}}]),t}(y.PureComponent);(0,f.Z)(si,"propTypes",{value:u().string,inputStyle:u().object,placeholder:u().string,className:u().string,onChange:u().func,shouldSearchOnEnter:u().bool,onConfirm:u().func,forceDarkTheme:u().bool}),(0,f.Z)(si,"defaultProps",{shouldSearchOnEnter:!1});var Ou=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.keyword,s=e.hasFoldedScreen,l=e.viewMode,p=e.screensCount,h=e.handleSearch,M=e.handleViewModeChange,N=e.handleToggleExpanded,B=l==="thumbnail",U=B?"left_panel/community/preview/thumbnail":"left_panel/community/preview/literal",K=B?"\u5361\u7247":"\u9875\u9762",Q=s?"\u5C55\u5F00\u5168\u90E8":"\u6536\u8D77\u5168\u90E8";return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"screen-header",children:[(0,v.jsx)("span",{className:"title",children:K}),(0,v.jsx)(At.q,{name:U,className:"toggle-icon",onClick:M})]}),(0,v.jsx)("div",{className:"screen-search",children:(0,v.jsx)(si,{value:o,placeholder:I18N.pPreviewPanel.search,onChange:h})}),(0,v.jsxs)("div",{className:"screen-count",children:[(0,v.jsx)("span",{className:"info",children:I18N.pPreviewPanel.screen+"\uFF08"+p+"\uFF09"}),!B&&(0,v.jsx)("span",{className:"expand-button",onClick:N,children:Q})]})]})}}]),t}(y.PureComponent);(0,f.Z)(Ou,"propTypes",{keyword:u().string,hasFoldedScreen:u().bool,viewMode:u().string,screensCount:u().number,handleSearch:u().func,handleViewModeChange:u().func,handleToggleExpanded:u().func});var Sa=c(50741),k0=c(73706),Z0=ze.default.div.withConfig({displayName:"styles__StyledScreenActionsMenu",componentId:"sc-1q75xbt-0"})(["",";&.is-open{.action-menu-opener{background:",";}}"],Tu,function(i){return i.theme.color_background_icon_hover}),Du=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$element=o}),(0,f.Z)((0,ae.Z)(e),"handleClickAction",function(o){o.stopPropagation(),e.handleToggleActionMenu()}),(0,f.Z)((0,ae.Z)(e),"handleToggleActionMenu",function(o){o===void 0&&(o=void 0);var s=e.state.isOpenScreenActionsMenu,l=e.props.onCloseGuide,p=o===void 0?!s:o;e.setState({isOpenScreenActionsMenu:p}),p&&l&&l()}),(0,f.Z)((0,ae.Z)(e),"actionToggleExpanded",function(o){o.stopPropagation(),e.props.handleToggleExpanded(),e.handleToggleActionMenu(!1)}),(0,f.Z)((0,ae.Z)(e),"actionViewModeChange",function(o){o.stopPropagation(),e.props.handleViewModeChange(),e.handleToggleActionMenu(!1)}),(0,f.Z)((0,ae.Z)(e),"actionOpenTrash",function(o){o.stopPropagation(),e.props.handleOpenTrash(),e.handleToggleActionMenu(!1)}),(0,f.Z)((0,ae.Z)(e),"getScreenActionsMenuItems",function(){var o=e.props,s=o.isPreview,l=o.isHTMLZip,p=o.hasFoldedScreen,h=o.viewMode,M=h==="literal";return[{isShow:!0,label:p?I18N.ScreenList.expand_screens:I18N.ScreenList.collapse_screens,onClick:e.actionToggleExpanded},{isShow:!l,label:M?I18N.ScreenList.thumbnail_view:I18N.ScreenList.list_view,onClick:e.actionViewModeChange},{isShow:!s,label:"divider"},{isShow:!s,label:I18N.ToolBar.recycle,onClick:e.actionOpenTrash}]}),(0,f.Z)((0,ae.Z)(e),"handleDocDown",function(o){var s=o.target,l=e.state.isOpenScreenActionsMenu;l&&(s.closest(".screenHeaderAction")||s.closest(".list-content")||e.handleToggleActionMenu(!1))}),e.state={isOpenScreenActionsMenu:!1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.state.isOpenScreenActionsMenu,o=this.props.className,s=this.getScreenActionsMenuItems();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(zr.Z,{content:I18N.LeftSidePanel.menu,direction:"up",children:(0,v.jsx)(Z0,{className:st()("screenHeaderAction",{"is-open":e},o),ref:this.setElementRef,onClick:this.handleClickAction,children:(0,v.jsx)(Sa.Z,{className:"action-menu-opener",name:"left_panel/screen_action_menu"})})}),e&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k0.Z,{targetNode:this.$element,direction:"right-start",distance:0,menuItems:s}),(0,v.jsx)(Fr.Z,{target:document,onMouseDown:(0,Fr.Y)(this.handleDocDown,{capture:!0})})]})]})}}]),t}(y.PureComponent);(0,f.Z)(Du,"defaultProps",{isPreview:!1,isHTMLZip:!1,handleOpenTrash:function(){return null}});var Lu=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.keyword,s=e.isHTMLZip,l=e.viewMode,p=e.handleSearch,h=e.hasFoldedScreen,M=e.handleToggleExpanded,N=e.handleViewModeChange;return(0,v.jsxs)("div",{className:"screen-header",children:[(0,v.jsx)(si,{value:o,placeholder:I18N.pPreviewPanel.search,onChange:p}),(0,v.jsx)(Du,{isPreview:!0,isHTMLZip:s,viewMode:l,hasFoldedScreen:h,handleToggleExpanded:M,handleViewModeChange:N})]})}}]),t}(y.PureComponent);(0,f.Z)(Lu,"propTypes",{keyword:u().string,isHTMLZip:u().bool,viewMode:u().string,hasFoldedScreen:u().bool,handleSearch:u().func,handleToggleExpanded:u().func,handleViewModeChange:u().func});var Ms=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$elem=o}),(0,f.Z)((0,ae.Z)(e),"handleScreenMetaExpand",function(o){var s=o.cid,l=e.state.collapseKeySet,p=new Set(l);l.has(s)?p.delete(s):p.add(s),e.setState({collapseKeySet:p})}),(0,f.Z)((0,ae.Z)(e),"handleSelectScreenMeta",function(o,s){var l=e.props,p=l.activeCid,h=l.dispatch,M=l.toolbarActiveItem,N=l.from,B=(0,Ir.Vx)(s);if(B)e.handleScreenMetaExpand(s);else if(p===s.cid)e.handleScreenMetaExpand(s);else{h({type:"entry:sync-runner:set-screen",payload:{cid:s.cid}}),MB.runnerController.removeToggledVisibility(),h({type:"entry:preview:reset:canvas:offset"});var U=M===xr.Ab;U&&h({type:"entry:state:update:previewUserCommonGuidesData",payload:{key:Tn.s.GUIDE_PREVIEW_ADD_COMMENT}})}if(N===Jn.community){var K=e.state.viewMode;A0(K);return}rr("\u9009\u62E9\u5176\u4ED6\u9875\u9762")}),(0,f.Z)((0,ae.Z)(e),"handleSearch",function(o){if(e.setState({keyword:o.toLowerCase()}),!!o){var s=e.props.from,l=e.state.viewMode;if(s===Jn.community){M0("\u641C\u7D22",l);return}rr("\u641C\u7D22\u9875\u9762")}}),(0,f.Z)((0,ae.Z)(e),"handleViewModeChange",function(){var o=e.state.viewMode;o==="literal"?e.setState({viewMode:"thumbnail"}):o==="thumbnail"&&e.setState({viewMode:"literal"});var s=e.props.from;if(s===Jn.community){bs("\u5207\u6362",o);return}rr(o==="literal"?"\u8FDB\u5165\u5217\u8868\u6A21\u5F0F":"\u8FDB\u5165\u5361\u7247\u6A21\u5F0F")}),(0,f.Z)((0,ae.Z)(e),"handleToggleExpanded",function(){var o=e.state,s=o.collapseKeySet,l=o.viewMode;s.size>0?e.unfoldAllScreen():e.foldAllScreen();var p=e.props.from;if(p===Jn.community){bs(s.size>0?"\u5C55\u5F00":"\u6536\u8D77",l);return}rr(s.size>0?"\u4E00\u952E\u5C55\u5F00\u9875\u9762":"\u4E00\u952E\u6536\u8D77\u9875\u9762")}),(0,f.Z)((0,ae.Z)(e),"handleKeyDown",function(o){(o.ctrlKey||o.metaKey)&&(o.keyCode===186&&(o.preventDefault(),e.unfoldAllScreen()),o.keyCode===222&&(o.preventDefault(),e.foldAllScreen()))}),(0,f.Z)((0,ae.Z)(e),"unfoldAllScreen",function(){e.setState({collapseKeySet:new Set})}),(0,f.Z)((0,ae.Z)(e),"foldAllScreen",function(){var o=e.props.screenTreeData,s=(0,Ir.qv)(o),l=new Set(s.map(function(p){return p.cid}));e.setState({collapseKeySet:l})}),(0,f.Z)((0,ae.Z)(e),"renderScreenMetaItem",function(o){var s=o.depth,l=o.screenMeta,p=o.hasScreenMetaChildren,h=o.collapseScreenMetaCidSet,M=o.activeScreenMetaCid,N=e.props,B=N.isHTMLZip,U=N.screenCommentThreadCountMap,K=N.theme,Q=l.cid,J=M===Q,te=!h.has(Q),re=p||(0,Ir.Vx)(l);return(0,v.jsx)(Iu,{theme:K,depth:s,screenMeta:l,isActive:J,isExpand:te,showExpander:re,actionProps:e.literalActionProps,isHTMLZip:B,screenCommentThreadCountMap:U})}),e.state={keyword:"",collapseKeySet:new Set,viewMode:r.isDemo?"thumbnail":"literal"},e.literalActionProps={onExpand:e.handleScreenMetaExpand,onSelect:e.handleSelectScreenMeta},e.thumbnailActionProps={onClick:e.handleSelectScreenMeta},e}return(0,S.Z)(t,[{key:"componentDidUpdate",value:function(e){var o=this.props,s=o.activeCid,l=o.screenTreeData,p=o.screenCommentThreadCountMap;if(e.activeCid!==s){var h=(0,Ir._i)(s,l),M=this.state.collapseKeySet,N=new Set(M);h.forEach(function(B){var U=B.cid;return M.has(U)&&N.delete(U)}),N.size!==M.size&&this.setState({collapseKeySet:N})}e.screenCommentThreadCountMap!==p&&this.setState({collapseKeySet:new Set(this.state.collapseKeySet)})}},{key:"render",value:function(){var e=this.props,o=e.screenTreeData,s=e.activeCid,l=e.isHTMLZip,p=e.designOptions,h=e.experienceSnapshotUrlMap,M=e.from,N=e.screensCount,B=this.state,U=B.viewMode,K=B.keyword,Q=B.collapseKeySet,J=Q.size>0,te=K.length>0,re=(0,Ir.$m)(o,K);te&&U==="thumbnail"&&(re=(0,Ir.Y2)(re,K));var ie=(0,Ir.qv)(re),se=(0,kn.rA)(this.$elem);return(0,v.jsxs)("div",{className:"screen-panel",children:[M===Jn.community?(0,v.jsx)(Ou,{keyword:K,hasFoldedScreen:J,viewMode:U,screensCount:N,handleSearch:this.handleSearch,handleViewModeChange:this.handleViewModeChange,handleToggleExpanded:this.handleToggleExpanded}):(0,v.jsx)(Lu,{keyword:K,isHTMLZip:l,viewMode:U,hasFoldedScreen:J,handleSearch:this.handleSearch,handleViewModeChange:this.handleViewModeChange,handleToggleExpanded:this.handleToggleExpanded}),(0,v.jsx)("div",{className:st()("screen-list-container",U),ref:this.setElementRef,style:{width:se},children:U==="literal"?(0,v.jsx)(Ss,{screenTreeData:re,isExpandTree:te,activeScreenMetaCid:s,collapseScreenMetaCidSet:Q,renderScreenMetaItem:this.renderScreenMetaItem}):(0,v.jsx)(As,{screenMetaList:ie,activeScreenMetaCid:s,thumbnailActionProps:this.thumbnailActionProps,designOptions:p,experienceSnapshotUrlMap:h,from:M})}),(0,v.jsx)(Fr.Z,{target:document,onKeyDown:this.handleKeyDown})]})}}]),t}(y.PureComponent);(0,f.Z)(Ms,"propTypes",{theme:u().string,isHTMLZip:u().bool,activeCid:u().string,toolbarActiveItem:u().string,isDemo:u().bool,screenTreeData:u().object,screenCommentThreadCountMap:u().object,designOptions:u().object,experienceSnapshotUrlMap:u().object,dispatch:u().func,from:u().string,screensCount:u().number,panelHeight:u().number}),(0,f.Z)(Ms,"defaultProps",{from:Jn.workspace});var B0=function(n){return n.container.common.panelHeight},Nu=(0,H.connect)(function(i){return{isHTMLZip:(0,ne.GP)(i).isHTMLZip,designOptions:(0,ne.CD)(i),experienceSnapshotUrlMap:(0,ne.rJ)(i),toolbarActiveItem:(0,ne.Ds)(i),isDemo:F0.has((0,ne.vo)(i).access_token),screenTreeData:(0,ne.Kv)(i),screenCommentThreadCountMap:(0,ne.tF)(i),activeCid:(0,ne.CL)(i).cid,theme:(0,ne.gh)(i),panelHeight:B0(i)}})(Ms),F0=new Set(["demo","cS1AXKF5jtrJePbEKiYcdcHosQPdzrk","workout","sI3GY2tDz76RrZ4MGFiIcZTZpAHyluC","UMQzYmknxWeHNvvVyeyJDuSkgyvi6Xw","9Py1L5RdC8ZPRSmnWEt4uuUUSDUAxkM"]),U0=c(11532),H0=["src","adjustImage"],W0=(0,U0.C)(),$0=W0.push,z0=function(n,t){return new Promise(function(r){n.src=t,n.onload=function(){return r(n)},n.onerror=function(){return r()}})},ju=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"setElementRef",function(l){return r.imageRef=l}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=$0((0,d.Z)((0,a.Z)().mark(function s(){var l,p,h,M;return(0,a.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return l=e.props,p=l.src,h=l.adjustImage,B.next=3,z0(e.imageRef,p);case 3:M=B.sent,h&&M&&(0,Pt.dD)({image:M,adjust:h});case 5:case"end":return B.stop()}},s)})));o.catch(function(s){return console.error(s)})}},{key:"render",value:function(){var e=this.props,o=e.src,s=e.adjustImage,l=(0,ma.Z)(e,H0);return(0,v.jsx)("img",(0,O.Z)({alt:"",ref:this.setElementRef},l))}}]),t}(y.PureComponent);ju.propTypes={src:u().string,adjustImage:u().number};var G0=ze.default.div.withConfig({displayName:"styles__StyledSliceItem",componentId:"sc-pa6r2r-0"})(["display:flex;align-items:center;width:220px;height:60px;padding:10px;margin:10px;cursor:pointer;border-radius:2px;color:",";.slice-export-icon{display:none;}&:hover{background:",";.slice-export-icon{display:unset;}}&.active{background:",";}> img{margin-right:10px;}.slice-item-wrap{width:40px;height:40px;min-width:40px;border:1px solid #B7BBC1;border-radius:2px;display:flex;align-items:center;justify-content:center;overflow:hidden;> img{box-shadow:rgba(25,39,45,0.4) 0 1px 4px;}}"],function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background},function(i){return i.theme.color_background_icon_active}),Ru=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;return(0,P.Z)(this,t),r=n.call(this),(0,f.Z)((0,ae.Z)(r),"delaySingleDownload",Wi()(function(){var e=r.props,o=e.imageSet,s=e.name;(0,Pt.m)({url:o,name:s,type:"zip"})},500,{leading:!0})),(0,f.Z)((0,ae.Z)(r),"isIncurrentScreen",function(){return r.props.artboardId===r.props.currentArtboardId}),(0,f.Z)((0,ae.Z)(r),"handleClick",function(){var e=r.props,o=e.id,s=e.requestLayer,l=e.activeLayer;if(l(o),r.isIncurrentScreen()){s(o);return}console.warn("Not in current Screen")}),(0,f.Z)((0,ae.Z)(r),"handleOnload",function(){r.setState({imageLoad:!0})}),(0,f.Z)((0,ae.Z)(r),"handleError",function(){console.error("image load fail")}),(0,f.Z)((0,ae.Z)(r),"handleSingleDownload",function(e){e.persist(),e.stopPropagation(),r.delaySingleDownload()}),r.state={imageLoad:!1},r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.name,s=e.src,l=e.activeLayerId,p=e.id,h=this.state.imageLoad,M=h?"opacity-1":"opacity-0",N={display:h?"block":"none"},B=l===p,U={background:"url(/mb-workspace/images/preview/slice-bg.png) left top",backgroundSize:"cover"};return(0,v.jsx)(Zn.Z,{type:"block",content:{click:this.isIncurrentScreen()?null:I18N.pPreviewPanel.not_incurrent_screen},children:(0,v.jsxs)(G0,{className:st()("slice-item",{active:B}),onClick:this.handleClick,children:[(0,v.jsxs)("div",{className:"slice-item-wrap",style:U,children:[!h&&(0,v.jsx)("img",{src:"/mb-workspace/images/preview/image-load-gif.gif",alt:"Loading..."}),(0,v.jsx)(ju,{style:N,src:s,alt:o,adjustImage:38,className:""+M,onLoad:this.handleOnload,onError:this.handleError})]}),(0,v.jsxs)("div",{className:"slice-item-content",children:[(0,v.jsx)("span",{className:"slice-item-name textEllipsis",children:o}),h&&(0,v.jsx)(Pn.Z,{className:"slice-export-icon",name:"export",type:"dora",onClick:this.handleSingleDownload})]})]})})}}]),t}(y.PureComponent);(0,f.Z)(Ru,"propTypes",{artboardId:u().number,currentArtboardId:u().number,name:u().string,src:u().string.isRequired,id:u().number.isRequired,imageSet:u().array.isRequired,requestLayer:u().func.isRequired,activeLayer:u().func,activeLayerId:u().oneOfType([u().number,u().string])});var V0=(0,ze.keyframes)(["from{transform:rotate(0);}to{transform:rotate(720deg);}"]),K0=ze.default.div.withConfig({displayName:"styles__StyledSlicePanel",componentId:"sc-az3n13-0"})(["&{width:100%;height:calc(100% - 90px);overflow-x:hidden;overflow-y:scroll;}.opacity-0{opacity:0;}.opacity-1{opacity:1;}.slice-item-content{display:flex;justify-content:space-between;width:160px;.slice-item-name{margin-left:8px;width:130px;}.textEllipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.download{position:fixed;bottom:0;display:flex;justify-content:center;align-items:center;width:210px !important;height:40px;margin:0 15px;border-top:1px solid ",";cursor:pointer;color:#8d9ea7;}.download-slice-icon{margin-left:10px;color:#8d9ea7;font-size:13px;}.spinner{display:block;width:50px;height:50px;border:4px solid #f55d54;border-color:rgb(245,94,86,0.3) transparent;border-radius:50%;animation:"," 2s ease-in-out infinite;}.download-slice-load{margin-left:10px;.spinner{width:20px;height:20px;border:2px solid #f55d54;border-color:rgb(245,94,86,0.3) transparent;}}"],function(i){return i.theme.color_background_icon_active},V0),Y0=ze.default.div.withConfig({displayName:"styles__StyledSliceLoadWrap",componentId:"sc-az3n13-1"})(["width:100%;height:calc(100% - 33px);display:flex;justify-content:center;align-items:center;.layer-load{.spinner{color:",";}}"],function(i){return i.theme.color_primary_brand01}),ku=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleActiveLayer",function(o){e.setState({activeLayerId:o})}),(0,f.Z)((0,ae.Z)(e),"handleDownloadZip",(0,d.Z)((0,a.Z)().mark(function o(){var s,l,p,h,M;return(0,a.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(s=e.props,l=s.currentArtboardId,p=s.currentScreenName,h=s.accessToken,M=e.state.isDownloading,!M){B.next=4;break}return B.abrupt("return");case 4:return e.setState({isDownloading:!0}),B.next=7,X0(l,p,h);case 7:e.setState({isDownloading:!1});case 8:case"end":return B.stop()}},o)}))),(0,f.Z)((0,ae.Z)(e),"requestLayer",function(o){var s=e.props.dispatch;s({type:"REQUEST_SELECT_LAYER",payload:{layerID:o}}),s({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!0}})}),e.state={isDownloading:!1,activeLayerId:null},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"entry:image-slice:init"})}},{key:"componentDidUpdate",value:function(e){var o=this.props,s=o.currentArtboardId,l=o.dispatch;s!==e.currentArtboardId&&l({type:"reducer:slice:init"})}},{key:"render",value:function(){var e=this,o=this.props,s=o.slicesList,l=o.loading,p=o.error,h=o.currentArtboardId,M=o.isWonderShare,N=o.theme,B=this.state,U=B.isDownloading,K=B.activeLayerId;return p||l?(0,v.jsx)(Y0,{className:st()("slice-load-wrap"),children:(0,v.jsx)(Zu,{})}):s.length===0?(0,v.jsx)(Bu,{isWonderShare:M,theme:N}):(0,v.jsxs)(K0,{className:st()("slice-container"),children:[s.map(function(Q){var J=Q.id,te=Q.artboard_id,re=Q.name,ie=Q.image,se=Q.image_set;return(0,v.jsx)(Ru,{id:J,src:ie,name:re,currentArtboardId:h,imageSet:se,artboardId:te,requestLayer:e.requestLayer,activeLayer:e.handleActiveLayer,activeLayerId:K},J)}),(0,v.jsx)(Fu,{onClick:this.handleDownloadZip,isLoading:U})]})}}]),t}(y.PureComponent);(0,f.Z)(ku,"propTypes",{accessToken:u().string,currentScreenName:u().string,theme:u().string,currentArtboardId:u().number,slicesList:u().array,error:u().bool,loading:u().bool,dispatch:u().func,isWonderShare:u().bool});var Zu=function(){return(0,v.jsx)("div",{className:st()("layer-load"),children:(0,v.jsx)("span",{className:st()("spinner")})})},Bu=function(n){var t=n.isWonderShare,r=n.theme;return(0,v.jsxs)("div",{className:st()("no-slice"),children:[(0,v.jsx)("img",{src:r==="dark"?"/mb-workspace/images/preview/no-slice-dark.png":"/mb-workspace/images/preview/no-slice-light.png"}),(0,v.jsx)("span",{children:I18N.pPreviewPanel.no_slice}),(0,v.jsx)("span",{children:I18N.pPreviewPanel.slice_in_sketch}),(0,v.jsx)("span",{children:I18N.pPreviewPanel.suport_mac}),!t&&(0,v.jsxs)("a",{href:window.MBSketchPluginDownloadURL,onClick:function(){return rr("\u4E0B\u8F7DSketch\u63D2\u4EF6")},children:[(0,v.jsx)("img",{src:"/mb-workspace/images/preview/ic_sketch@2x.png",alt:"sketch"}),I18N.pPreviewPanel.download_sketch]})]})};Bu.propTypes={isWonderShare:u().bool,theme:u().string};var Fu=function(n){var t=n.onClick,r=n.isLoading,e=function(){return r?(0,v.jsx)("div",{className:st()("download-slice-load"),children:(0,v.jsx)(Zu,{})}):(0,v.jsx)(Pn.Z,{type:"dora",name:"export",className:"download-slice-icon"})};return(0,v.jsxs)(Zn.Z,{content:{click:null},type:"block",position:"top",arrowed:!1,className:st()("download"),onClick:t,children:[I18N.pPreviewPanel.download,e()]})};Fu.propTypes={onClick:u().func,isLoading:u().bool};var X0=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r,e){var o,s,l,p,h,M,N;return(0,a.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:o=new URLSearchParams(location.search).get("password")||Su(e),s=!0,p=1;case 3:if(!s){U.next=21;break}return U.next=6,Br.api.requestSliceZipByArtboardId({artboardId:t,encryptedPassword:o});case 6:if(h=U.sent,M=h.url,N=h.status,N!=="ok"){U.next=14;break}s=!1,l=M,U.next=16;break;case 14:return U.next=16,(0,Pt.Kb)(Math.min(p++*2e3,1e4));case 16:if(!(p>20)){U.next=19;break}return(0,Pt.z)(),U.abrupt("return",!1);case 19:U.next=3;break;case 21:return(0,Pt.m)({url:"/"+l,name:r,type:"zip"}),U.abrupt("return",!0);case 23:case"end":return U.stop()}},n)}));return function(t,r,e){return i.apply(this,arguments)}}(),Q0=(0,H.connect)(function(i){var n=i.container.slices,t=n.slices,r=n.loading,e=n.error,o=(0,ne.cM)(i),s=o.project_cid,l=o.access_token,p=(0,ne.CL)(i),h=(0,ne.CD)(i),M=(0,ne.gh)(i),N=h.isWonderShare;return{projectCid:s,currentScreenName:p.name,currentArtboardId:p.artboard_id,slicesList:t,loading:r,error:e,accessToken:l,isWonderShare:N,theme:M}})(ku),Uu,Hu;function Wu(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var _0=ze.default.div(Uu||(Uu=Wu(["\n  position: absolute;\n  z-index: 3;\n\n  .v-resizer {\n    z-index: 11;\n  }\n  \n  &.top,\n  &.bottom {\n    left: 0;\n    width: 100%;\n    height: 3px;\n    cursor: ns-resize;\n  }\n  \n  &.top {\n    top: 1px;\n  }\n\n  &.bottom {\n    bottom: -1px;\n  }\n  \n  &.left,\n  &.right {\n    top: 0;\n    width: 3px;\n    height: 100%;\n    cursor: ew-resize;\n  }\n\n  &.left {\n    left: 1px;\n  }\n  \n  &.right {\n    right: 0;\n  }\n\n  &:hover,\n  &.active {\n    // TMP props.theme.color_primary_brand01\n    background: #ff6161;\n  }\n\n  &.none-active-style {\n    &:hover,\n    &.active {\n      background: none;\n    }\n  }\n"]))),J0=(0,ze.createGlobalStyle)(Hu||(Hu=Wu(["\n  .body-ns-resize {\n    cursor: ns-resize !important;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    z-index: 10000;\n  }\n\n  .body-ew-resize {\n    cursor: ew-resize !important;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    z-index: 10000;\n  }\n"])));function q0(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function $u(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Gu(r.key),r)}}function ey(i,n,t){return n&&$u(i.prototype,n),t&&$u(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function ty(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),n&&Ps(i,n)}function Ps(i,n){return Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Ps(i,n)}function ry(i){var n=ay();return function(){var r=$i(i),e;if(n){var o=$i(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ny(this,e)}}function ny(i,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zu(i)}function zu(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function ay(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function $i(i){return $i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$i(i)}function Ts(i,n,t){return n=Gu(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Gu(i){var n=iy(i,"string");return typeof n=="symbol"?n:String(n)}function iy(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}var ba=function(i){ty(t,i);var n=ry(t);function t(){var r;return q0(this,t),r=n.call(this),Ts(zu(r),"handleDown",function(e){e.preventDefault();var o=r.props,s=o.placement,l=o.value,p=o.onResizeStart,h=o.onResizeEnd,M=o.onChange,N=["left","right"].includes(s),B=N?e.clientX:e.clientY,U=["bottom","right"].includes(s)?1:-1;r.setState({active:!0}),p();var K=document.createElement("div");document.body.appendChild(K),K.classList.add(N?"body-ew-resize":"body-ns-resize");var Q=function(re){var ie=r.props,se=ie.min,ge=ie.max,De=N?re.clientX:re.clientY,Me=(De-B)*U,Fe=Math.max(Math.min(l+Me,ge),se);M(Fe)},J=function te(){K.remove(),document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",te),r.setState({active:!1}),h()};document.addEventListener("mousemove",Q),document.addEventListener("mouseup",J)}),r.state={active:!1},r}return ey(t,[{key:"render",value:function(){var e=this.props,o=e.placement,s=e.className,l=this.state.active;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_0,{className:st()("border-resizer",s,o,{active:l}),onMouseDown:this.handleDown}),(0,v.jsx)(J0,{})]})}}]),t}(y.Component);Ts(ba,"propTypes",{placement:u().oneOf(["top","left","right","bottom"]),min:u().number,max:u().number,className:u().string,value:u().number,onChange:u().func,onResizeStart:u().func,onResizeEnd:u().func}),Ts(ba,"defaultProps",{onResizeStart:function(){return null},onResizeEnd:function(){return null}});var Vu=(0,y.memo)(function(i){var n=i.layer,t=i.isExpanded,r=n.value.type;switch(r){case"rectangle":return(0,v.jsx)(At.q,{className:st()("design-rectangle-new"),name:"design/rectangle/new"});case"oval":return(0,v.jsx)(At.q,{className:"design-circle-new",name:"design/circle/new"});case"rounded":case"line":case"arrow":case"triangle":case"polygon":case"star":case"pencil":case"vector":case"shapePath":return(0,v.jsx)(At.q,{className:"design-shape-path",name:"design/shape/path"});case"shapeGroup":case"group":{var e=t?"design/group_open":"design/group_close";return(0,v.jsx)(At.q,{className:"group-icon",name:e})}case"text":return(0,v.jsx)(At.q,{className:"design-text-new",name:"design/text/new"});case"bitmap":return(0,v.jsx)(At.q,{className:"design-image-new",name:"design/image/new"});case"symbol":case"symbolInstance":return(0,v.jsx)(At.q,{className:"design-symbol",name:"design/symbol"});default:return(0,v.jsx)(At.q,{className:"design-mask-none",name:"design/mask/none"})}});Vu.propTypes={layer:u().object,isExpanded:u().bool};var oy=Vu,sy=ze.default.span.withConfig({displayName:"style__StyledLayerItemText",componentId:"sc-p18bg4-0"})(["width:fit-content;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;color:",";"],function(i){return i.theme.color_text_L1}),Ku=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleClick",function(o){o.stopPropagation();var s=e.props,l=s.layer,p=s.sketchAction,h=p.onRequestSelectLayer,M=p.onShowlayerInfo,N=l.value.id;h(N),M(!0)}),(0,f.Z)((0,ae.Z)(e),"onMouseEnter",function(o){o.stopPropagation();var s=e.props,l=s.layer,p=s.sketchAction.onEnterLayer,h=l.value.id;p(h)}),(0,f.Z)((0,ae.Z)(e),"onMouseLeave",function(o){o.stopPropagation();var s=e.props.sketchAction.onEnterLayer;s(-1)}),(0,f.Z)((0,ae.Z)(e),"handleToggleExpand",function(o){o.stopPropagation();var s=e.props,l=s.layer,p=s.sketchAction.onUpdateExpandCidSet;p(l.value.id)}),e.state={isExpand:!1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.layer,s=e.isExpanded,l=e.nodeDepth,p=e.isActive,h=o.value,M=h.name,N=h.type,B=h.mask,U=h.maskedID,K=h.imageSet,Q=!!B,J=!!U,te=14*(l+1),re=K&&!!K.length;return(0,v.jsxs)("div",{onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:{paddingLeft:te},className:st()("sketch-layer-item",{active:p}),children:[Qt(N)&&(0,v.jsx)("a",{className:"expander",onClick:this.handleToggleExpand,children:(0,v.jsx)(At.q,{className:st()("arrow-icon",{"is-expand":s}),name:"common/expand"})}),J&&(0,v.jsx)(At.q,{className:"mask-line",name:"design/mask/line"}),!J&&Q?(0,v.jsx)(At.q,{className:"mask",name:"design/mask"}):(0,v.jsxs)("div",{className:"layer-item-icon",children:[(0,v.jsx)(oy,{layer:o,isExpanded:s}),re&&(0,v.jsx)(At.q,{className:"mask-slice",name:"preview/mask/slice"})]}),(0,v.jsx)(sy,{className:"editable-name",children:M})]})}}]),t}(y.PureComponent);(0,f.Z)(Ku,"propTypes",{layer:u().object,nodeDepth:u().number,isExpanded:u().bool,isActive:u().bool,sketchAction:u().object});var Yu=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.layer,s=e.nodeDepth,l=e.expandCidSet,p=e.activeLayerID,h=e.sketchAction,M=o.value.id,N=l.has(M),B=M===p;return(0,v.jsxs)("li",{"data-cid":M,className:"layer-item",children:[(0,v.jsx)(Ku,{nodeDepth:s,layer:o,isExpanded:N,isActive:B,sketchAction:h}),o.type==="compound"&&N&&(0,v.jsx)("ul",{className:"children",children:o.children.map(function(U){return(0,v.jsx)(t,{nodeDepth:s+1,layer:U,expandCidSet:l,activeLayerID:p,sketchAction:h},U.value.id)})})]})}}]),t}(y.PureComponent);(0,f.Z)(Yu,"propTypes",{layer:u().object,nodeDepth:u().number,expandCidSet:u().object,activeLayerID:u().oneOfType([u().number,u().string]),sketchAction:u().object});var ly=ze.default.header.withConfig({displayName:"styles__StyledLayerHeader",componentId:"sc-impan7-0"})(["padding-left:10px;padding-right:5px;color:#415058;border-top:1px solid ",";border-bottom:1px solid ",";height:36px;display:flex;align-content:center;&:not(.is-search-mode){cursor:grab;}.header-left{display:flex;align-items:center;flex-shrink:0;transition:flex 0.2s ease-in-out;p{font-weight:600;color:","}&.is-search-mode{flex:0 0 12px;margin-left:-6px;}}.header-right{display:flex;align-items:center;margin-left:auto;transition:flex 0.2s ease-in-out;.header-icon{width:22px;height:34px;display:flex;justify-content:center;align-items:center;color:",";&:hover{color:",";}}.arrow-icon{.svg-icon{transform:rotate(-180deg);}&.expanded .svg-icon{transform:rotate(0);}}&.is-search-mode{flex:1;margin-left:13px;}.layer-search{width:100%;}}"],function(i){return i.theme.color_background},function(i){return i.theme.color_background},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_primary_proto01}),Xu=Or.gk,Qu=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setSearchBarRef",function(o){return e.searchBar=o}),(0,f.Z)((0,ae.Z)(e),"handleOpenSearch",function(){e.setState({isSearching:!0},function(){e.searchBar&&e.searchBar.focus()})}),(0,f.Z)((0,ae.Z)(e),"handleExitSearch",function(o){o.stopPropagation(),e.setState({isSearching:!1})}),(0,f.Z)((0,ae.Z)(e),"handleToogleLayerPanel",function(){var o=e.props,s=o.height,l=o.dispatch,p=s!==Or.yM;p&&(Xu=s),l({type:"preview:panel:set:height",payload:{panelHeight:p?Or.yM:Xu}})}),(0,f.Z)((0,ae.Z)(e),"handleDown",function(o){o.stopPropagation();var s=e.props,l=s.height,p=s.dispatch,h=e.state.isSearching;if(!h){var M=window.innerHeight-310,N=o.clientY,B=-1,U=function(J){var te=J.clientY,re=(te-N)*B,ie=Math.max(Math.min(l+re,M),Or.yM);p({type:"preview:panel:set:height",payload:{panelHeight:ie}})},K=function Q(){document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",Q)};document.addEventListener("mousemove",U),document.addEventListener("mouseup",K)}}),e.state={isSearching:!1},e}return(0,S.Z)(t,[{key:"handStopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,o=e.keyword,s=e.height,l=e.onKeywordChange,p=this.state.isSearching,h=s!==Or.yM;return(0,v.jsxs)(ly,{className:st()({"is-search-mode":p}),onMouseDown:this.handleDown,children:[(0,v.jsx)("div",{className:st()("header-left",{"is-search-mode":p}),children:p?(0,v.jsx)(At.q,{name:"common/back",onClick:this.handleExitSearch}):(0,v.jsx)("p",{children:I18N.pPreviewPanel.layer})}),(0,v.jsx)("div",{className:st()("header-right",{"is-search-mode":p}),children:p?(0,v.jsx)(si,{className:"layer-search",ref:this.setSearchBarRef,value:o,placeholder:I18N.pPreviewPanel.search_widgets,onChange:l}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(zr.Z,{content:I18N.pPreviewPanel.element_search,direction:"up",children:(0,v.jsx)("a",{className:"header-icon",onMouseDown:this.handStopPropagation,onClick:this.handleOpenSearch,children:(0,v.jsx)(At.q,{name:"design/search"})})}),(0,v.jsx)(zr.Z,{content:h?I18N.pPreviewPanel.fold:I18N.pPreviewPanel.expand,direction:"up",children:(0,v.jsx)("a",{className:st()("header-icon","arrow-icon",{expanded:h}),onMouseDown:this.handStopPropagation,onClick:this.handleToogleLayerPanel,children:(0,v.jsx)(At.q,{name:"angle_up"})})})]})})]})}}]),t}(y.PureComponent);(0,f.Z)(Qu,"propTypes",{keyword:u().string,height:u().number,onKeywordChange:u().func,dispatch:u().func});var cy=ze.default.div.withConfig({displayName:"styles__StyledMaskContainer",componentId:"sc-144u53d-0"})(["height:100%;display:flex;flex-direction:column;overflow:hidden;.sketch-layer-list{overflow:auto;}li{list-style:none;}.sketch-layer-item{",";background-color:",";.mask-line{width:6px;height:9px;margin-right:3px;}.mask{width:12px;height:12px;margin-right:3px;}&:hover,&.active{.icon{color:inherit;}.arrow-icon{color:",";}}.expander{display:flex;align-items:center;justify-content:center;margin-left:-11px;margin-right:1px;width:8px;.arrow-icon{margin-right:0;color:#999;&:not(.is-expand){transform:rotate(-90deg);}}}.layer-item-icon{width:14px;height:14px;display:flex;align-items:center;justify-content:center;margin-right:8px;position:relative;.svg-icon{width:20px;height:20px;}svg.group-icon{path:first-child{fill:transparent;stroke:",";}path:last-child{fill:",";stroke:",";}}.icon{font-size:14px;&.design-circle-new{width:13px;height:13px;}&.design-rectangle-new,&.design-line-new,&.design-shape-path,&.design-image-new,&.design-symbol{width:12px;height:12px;}&.design-text-new{width:11px;height:11px;}&.design-mask-none{width:7px;height:12px;}}}.mask-slice{position:absolute;width:9px;height:10px;right:0;bottom:0;}}"],Cs,function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L3},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_split},function(i){return i.theme.color_text_L1}),uy=ze.default.div.withConfig({displayName:"styles__StyledComponentPanel",componentId:"sc-144u53d-1"})(["position:relative;overflow:hidden;.border-resizer.top{top:0px;&:hover{background-color:rgba(22,132,252,.6);}&.active{background-color:rgba(22,132,252,.6);}}"]),dy=c(77466),_u=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(l){return e.$elem=l}),(0,f.Z)((0,ae.Z)(e),"handleKeywordkChange",function(l){e.setState({keyword:l})}),(0,f.Z)((0,ae.Z)(e),"handleShowlayerInfo",function(l){var p=e.props.dispatch;p({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:l}})}),(0,f.Z)((0,ae.Z)(e),"handleRequestSelectLayer",function(l){var p=e.props.dispatch;p(Ii(l))}),(0,f.Z)((0,ae.Z)(e),"handleEnterLayer",function(l){var p=e.props.dispatch;p(Hv(l))}),(0,f.Z)((0,ae.Z)(e),"handleUpdateExpandCidSet",function(l){var p=e.state.expandCidSet,h=new Set(p);h.has(l)?h.delete(l):h.add(l),(0,Tt.A6)(e.expandStatusKey,JSON.stringify((0,nr.Z)(h.values()))),e.setState({expandCidSet:h})}),(0,f.Z)((0,ae.Z)(e),"handleHeightChange",function(l){e.props.dispatch({type:"preview:panel:set:height",payload:{panelHeight:l}})});var o=e.props.activeScreenCid;e.expandStatusKey="preview-inspect-expand-status-"+o;var s=(0,Tt.GQ)(e.expandStatusKey);return e.state={expandCidSet:s?new Set(JSON.parse(s)):new Set,keyword:""},e.sketchAction={onUpdateExpandCidSet:e.handleUpdateExpandCidSet,onShowlayerInfo:e.handleShowlayerInfo,onRequestSelectLayer:e.handleRequestSelectLayer,onEnterLayer:e.handleEnterLayer},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.sketchLayerList,l=o.activeLayerID,p=o.panelHeight,h=o.dispatch,M=this.state,N=M.expandCidSet,B=M.keyword,U=(0,dy.l$)(s,B),K=(0,kn.rA)(this.$elem);return(0,v.jsxs)(uy,{style:{flexBasis:p},children:[(0,v.jsxs)(cy,{className:"mask-panel",children:[(0,v.jsx)(Qu,{keyword:B,height:p,onKeywordChange:this.handleKeywordkChange,dispatch:h}),(0,v.jsx)("div",{ref:this.setElementRef,className:"sketch-layer-list",style:{width:K},children:U.map(function(Q){return(0,v.jsx)(Yu,{layer:Q,nodeDepth:0,expandCidSet:N,activeLayerID:l,sketchAction:e.sketchAction},Q.value.id)})})]}),(0,v.jsx)(ba,{placement:"top",value:p,min:Or.yM,max:window.innerHeight-310,onChange:this.handleHeightChange})]})}}]),t}(y.PureComponent);(0,f.Z)(_u,"propTypes",{activeScreenCid:u().string,activeLayerID:u().oneOfType([u().number,u().string]),sketchLayerList:u().array,dispatch:u().func,panelHeight:u().number});var py=function(n){return n.container.common.panelHeight},fy=(0,sr.P1)([ne.CL,av,Yr,py],function(i,n,t,r){var e=i.name,o=i.artboard_id;return{activeScreenCid:e+"-"+o,activeLayerID:t,sketchLayerList:n,panelHeight:r}}),hy=(0,H.connect)(function(i){return fy(i)})(_u),vy=ze.default.div.withConfig({displayName:"styles__StyledPreviewPanel",componentId:"sc-1jz0mt0-0"})(["position:relative;width:100%;height:100%;display:flex;flex-direction:column;font-size:12px;color:#525e71;background-color:",";box-shadow:1px 0 0 ",";overflow:hidden;&.is-uichina{box-shadow:none;}header{height:33px;padding-left:10px;padding-right:14px;display:flex;flex-shrink:0;justify-content:space-between;align-items:center;border-bottom:1px solid ",";overflow:hidden;.screen-count{color:",';padding:0 3px;font-weight:600;}.toggle-icon{width:20px;height:20px;display:flex;justify-content:center;align-items:center;color:#8d9ea7;cursor:pointer;.icon{height:12px;}}}.screen-panel{flex:1;display:flex;flex-direction:column;overflow:hidden;.screen-header{height:36px;padding:0 4px 0 10px;display:flex;align-items:center;[type="search"]{flex:1;margin-right:4px;}.header-icon{',";}}.screen-list-container{flex:1;overflow-x:hidden;overflow-y:auto;.toggle-comment{position:absolute;right:22px;top:50%;transform:translateX(100%) translateY(-50%);& > .icon{color:",";}& > .icon-comment{margin-right:2px;}}&.thumbnail{padding-left:10px;.toggle-comment{display:none;}}.thumbnail-list{width:calc(100% + 15px);.thumbnail-item{width:105px;margin-right:10px;.image-wrapper{height:105px;}}}}}.no-slice{display:flex;align-items:center;justify-content:center;flex-direction:column;height:calc(100% - 50px);> img{width:93px;margin:-100px 10px 0;}span{color:",";font-size:14px;&:nth-child(2){padding-top:21px;}&:nth-child(3){font-size:12px;padding-top:8px;}&:nth-child(4){padding-top:4px;font-size:12px;}}a{margin-top:31px;text-decoration:none;padding:4px 13px;font-size:12px;color:",";border:1px solid ",";border-radius:3px;background-color:",";&:hover{color:",";background-color:",";}&:active{color:",";background:",";}img{width:14px;display:inline-block;vertical-align:middle;margin-right:5px;}}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_split},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L2},Tu,function(i){return i.theme.color_text_L3},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_split},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background}),my=["key"],Ju=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleTabChange",function(l){r.props.dispatch({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:l}}),l===1&&rr("\u5207\u56FEtable")}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screensCount,s=e.showSliceTab,l=e.previewPanelNavIndex,p=e.isHTMLZip,h=yy(o),M=l===0,N=l===1,B=s&&M;return(0,v.jsxs)(vy,{className:st()("preview-panel",{"is-uichina":(0,gr.Md)()||(0,gr._j)()}),screensCount:o,children:[(0,v.jsx)("header",{children:s?(0,v.jsx)(Eu.Z,{className:"preview-panel-nav",activeIndex:l,onTabChange:this.handleTabChange,children:h.map(function(U){var K=U.key,Q=(0,ma.Z)(U,my);return(0,v.jsx)(Eu.G,(0,O.Z)({},Q),K)})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("span",{className:"screen-count",children:I18N.pPreviewPanel.screen+"\uFF08"+o+"\uFF09"})})}),M&&(0,v.jsx)(Nu,{isHTMLZip:p}),N&&(0,v.jsx)(Q0,{}),M&&B&&(0,v.jsx)(hy,{})]})}}]),t}(y.PureComponent);(0,f.Z)(Ju,"propTypes",{isMinimized:u().bool,showSliceTab:u().bool,isHTMLZip:u().bool,screensCount:u().number,previewPanelNavIndex:u().number,dispatch:u().func});var gy=function(n){return[{key:"screen",label:I18N.pPreviewPanel.pages+"\uFF08"+n+"\uFF09"},{key:"images",label:I18N.pPreviewPanel.images}]},yy=(0,Pt.LL)(gy),Sy=function(n){return n.container.common.previewPanelNavIndex},by=(0,sr.P1)([ne.Eg],function(i){return i.filter(function(n){return!(0,Ir.Vx)(n)}).length}),xy=(0,sr.P1)([ne.GP,ne.Ds,by,Sy],function(i,n,t,r){var e=i.isHTMLZip;return{screensCount:t,showSliceTab:n==="inspect"&&!e,previewPanelNavIndex:r,isHTMLZip:e}}),qu=(0,H.connect)(function(i){return xy(i)})(Ju),Cy=c(25370),ed=c.n(Cy),wy=c(47049),Ey=c.n(wy),Ay=c(37700),Is=c.n(Ay),My=c(49548),zi=function(n){var t=dn(n);if(t!==on)return console.warn("Not rgbacolor but use rgba2hexWithA"),n;var r=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d+)?)[\s+]?/i);return r&&r.length>=4?{hex:("#"+("0"+parseInt(r[1],10).toString(16)).slice(-2)+("0"+parseInt(r[2],10).toString(16)).slice(-2)+("0"+parseInt(r[3],10).toString(16)).slice(-2)).toUpperCase(),o:Number((+r[4]).toFixed(2))}:n},Ln=function(n){var t=Py(n);if(!t)return da;var r=Vi(t);return r?Gr(r,on):t},Py=function(n){var t=null;return n&&typeof n=="string"?t=n:n&&n.background&&(t=Array.isArray(n.background)?"#"+(0,oa.aK)((0,My.JZ)(n.background).color):null),t},Os=/rgba?\(\s*([\w.+]+)\s*,\s*([\w.+]+)\s*,\s*([\w.+]+)\s*(?:,\s*([\w%.+]+)\s*)?\)/,Wa=function(n){return Math.min(Math.max(Math.round(n),0),255)},Gi=function(n){return Math.min(Math.max(Math.round(n),0),100)},Ty=function(n){var t=Os.exec(n.toLowerCase())||[],r=(0,F.Z)(t,5),e=r[1],o=e===void 0?"255":e,s=r[2],l=s===void 0?"255":s,p=r[3],h=p===void 0?"255":p,M=r[4],N=M===void 0?"1":M;return o<=1&&l<=1&&h<=1?{R:parseInt(Is()(o*255),10),G:parseInt(Is()(l*255),10),B:parseInt(Is()(h*255),10),A:Gi(N.endsWith("%")?Number(N.slice(0,-1)):Number(N)*100)}:{R:Wa(Number(o)),G:Wa(Number(l)),B:Wa(Number(h)),A:Gi(N.endsWith("%")?Number(N.slice(0,-1)):Number(N)*100)}},Vi=function(n){var t=Ty(n),r=t.R,e=t.G,o=t.B,s=t.A;return"rgba("+r+", "+e+", "+o+", "+s/100+")"},dn=function(n){return n===void 0&&(n=da),n.includes(on)?on:n.includes(Bn)?Bn:n.includes("#")&&n.length===9?qn:n.includes("#")?ea:n.includes(Ns)?Ns:!1},Gr=function(n,t){if(t===void 0&&(t=on),!n)return da;var r=dn(n);if(!r)return da;switch(r){case on:if(t===r)return n;if(t===Bn)return rd(n);if(t===ea)return nd(n);if(t===qn)return ad(n);break;case Bn:if(t===r)return n;if(t===on)return id(n);if(t===ea)return od(n);if(t===qn)return Iy(n);break;case ea:if(t===r)return n;if(t===on)return Oy(n);if(t===Bn)return Ds(n);if(t===qn)return sd(n);break;case qn:if(t===r)return n;if(t===on)return Ls(n);if(t===Bn)return Dy(n);if(t===ea)return Ly(n);break;case Ns:if(t===on)return Ki;if(t===Bn)return rd(Ki);if(t===ea)return nd(Ki);if(t===qn)return ad(Ki);break;default:return n}},td=function(n){var t=dn(n);if(t!==on)return console.warn("Not rgbacolor but use rgba2rgbWithA"),n;var r=zi(n),e=r.hex,o=r.o;if(!e)return da;var s=Ds(e);return{rgb:s,o}},Ds=function(n){var t=dn(n);if(t!==ea)return console.warn("Not hexcolor but use hex2rgb"),n;if(n=n.replace("#",""),n.length===3){var r=n.split(""),e=(0,F.Z)(r,3),o=e[0],s=e[1],l=e[2];n=""+o+o+s+s+l+l}var p=parseInt(n.substring(0,2),16),h=parseInt(n.substring(2,4),16),M=parseInt(n.substring(4,6),16);return"rgb("+p+", "+h+", "+M+")"},rd=function(n){var t=td(n),r=t.rgb,e=t.o;if(!r)return n;var o=e<=1?e*100:e;return r+" "+Math.round(o)+"%"},nd=function(n){var t=zi(n),r=t.hex,e=t.o;if(!r)return n;var o=e<=1?e*100:e;return r.toUpperCase()+" "+Math.round(o)+"%"},ad=function(n){var t=dn(n);if(t!==on)return console.warn("Not rgbacolor but use rgba2argb"),n;var r=zi(n),e=r.hex,o=r.o;if(!e)return n;var s=("0"+Math.round(o*255/100).toString(16)).slice(-2).toUpperCase();return"#"+s+e.slice(1)},id=function(n){var t=dn(n);return t!==Bn?(console.warn("Not rgbcolor but use rgb2rgba"),n):"rgba("+n.slice(4,-1)+", 1)"},od=function(n){var t=dn(n);if(t!==Bn)return console.warn("Not rgbcolor but use rgb2hex"),n;var r=n.match(/^rgb?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(r&&r.length===4){var e=("0"+parseInt(r[1],10).toString(16)).slice(-2),o=("0"+parseInt(r[2],10).toString(16)).slice(-2),s=("0"+parseInt(r[3],10).toString(16)).slice(-2);return("#"+e+o+s).toUpperCase()}},Iy=function(n){var t=dn(n);return t!==Bn?(console.warn("Not rgbcolor but use rgb2argb"),n):sd(od(n))},sd=function(n){var t=dn(n);return t!==ea?(console.warn("Not hexcolor but use hex2argb"),n):"#FF"+n.slice(1)},Oy=function(n){var t=dn(n);return t!==ea?(console.warn("Not hexcolor but use hex2rgba"),n):id(Ds(n))},Ls=function(n){var t=dn(n);if(t!==qn)return console.warn("Not argbcolor but use argb2rgba"),n;for(var r=[],e=1;e<n.length;e+=2)r.push(n.slice(e,e+2));var o=r[0],s=r[1],l=r[2],p=r[3];return s=parseInt(s,16),l=parseInt(l,16),p=parseInt(p,16),o=Number((parseInt(o,16)/255).toString().slice(0,4)),"rgba("+s+", "+l+", "+p+", "+o+")"},Dy=function(n){var t=dn(n);if(t!==qn)return console.warn("Not argbcolor but use argb2rgbWithA"),n;var r=Ls(n),e=td(r),o=e.rgb,s=e.o;return o?o+" "+Math.round(s*100)+"%":n},Ly=function(n){var t=dn(n);if(t!==qn)return console.warn("Not argbcolor but use argb2hexWithA"),n;var r=Ls(n),e=zi(r),o=e.hex,s=e.o;return o?o.toUpperCase()+" "+Math.round(s*100)+"%":n},Ny=function(n){if(!n)return da;try{var t=Gr(n,on),r=Os.exec(t.toLowerCase())||[],e=(0,F.Z)(r,5),o=e[1],s=o===void 0?"255":o,l=e[2],p=l===void 0?"255":l,h=e[3],M=h===void 0?"255":h,N=e[4],B=N===void 0?"1":N,U=(0,Pt.Z7)(s/255),K=(0,Pt.Z7)(p/255),Q=(0,Pt.Z7)(M/255),J=Gi(B.endsWith("%")?Number(B.slice(0,-1)):Number(B))/100;return"UIColor(red:"+U+", green:"+K+", blue:"+Q+", alpha:"+J+")"}catch(te){return n}},jy=function(n){try{var t=dn(n);if(t!==on)return console.warn("Not rgbacolor but use rgba2hexWithA"),n;var r=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d+)?)[\s+]?/i);if(r&&r.length>=4){var e="#",o=parseFloat(Number((+r[4]).toFixed(2)));return o>=0&&o<=1?o=Math.round(255*o):o>=0&&o<=100?o=Math.round(255*o/100):o=-1,o>=0&&(e=e+(o|1<<8).toString(16).slice(1)),e=(e+("0"+parseInt(r[1],10).toString(16)).slice(-2)+("0"+parseInt(r[2],10).toString(16)).slice(-2)+("0"+parseInt(r[3],10).toString(16)).slice(-2)).toUpperCase(),e}return n}catch(s){return n}},Ry=function(n){if(!n)return da;try{var t=Gr(n,on),r=Os.exec(t.toLowerCase())||[],e=(0,F.Z)(r,5),o=e[1],s=o===void 0?"255":o,l=e[2],p=l===void 0?"255":l,h=e[3],M=h===void 0?"255":h,N=e[4],B=N===void 0?"1":N,U=B.endsWith("%")?Number(B.slice(0,-1)):Number(B),K=U>1?Gi(U)/100:U;return"rgba("+Wa(Number(s))+", "+Wa(Number(p))+", "+Wa(Number(M))+", "+K+")"}catch(Q){return n}},on="rgba",qn="argb",Bn="rgb",ea="hex",Ns="transparent",Ki="rgba(255, 255, 255, 0)",da="#FFFFFF",ky=function(n){var t=/<[^>]+>/ig;return n?n.replace(t,""):!1},Zy=function(n){var t=JSON.parse(n);return t.reduce(function(r,e,o,s){var l="\n",p=e.children.reduce(function(h,M,N){return h+M.text},"");return r+(o===0?"":l)+p},"")},js=function(n){return(0,qa.E)(n)?Zy(n.inspectText):ky(n.inspectText)},By=function(n){var t=n.width,r=n.height,e=n.left,o=n.top,s=n.opacity,l=n.borderRadius,p=n.rotation,h=n.ratio,M=n.unit,N=n.rectHeight,B=n.rectWidth,U=(0,Pt._F)(e,h,M),K=(0,Pt._F)(o,h,M),Q=(0,Pt._F)(B||t,h,M),J=(0,Pt._F)(N||r,h,M),te=l?String(l).split(",").map(function(se){return(0,Pt._F)(parseInt(se)||0,h,M)}).join(" "):null,re=Yi(p)?null:p+"\xB0",ie=Yi(s)?null:s+"%";return{adapterLeft:U,adapterTop:K,adapterWidth:Q,adapterHeight:J,radius:te,opacity:ie,rotate:re}},Yi=function(n){return n===null||isNaN(n)||n===0},Fy=function(n){var t=n.lineHeight,r=n.letterSpacing,e=n.unit,o=n.ratio;return t=Yi(t)?null:(0,Pt._F)(t,o,e),r=Yi(r)?null:(0,Pt._F)(r,o,e),{lineHeight:t,letterSpacing:r}},Uy=function(n){var t=[],r=[];n.forEach(function(o){var s=o.bg_colors,l=s===void 0?[]:s,p=o.borders,h=p===void 0?[]:p,M=o.text_styles,N=M===void 0?[]:M,B=N.length>0?N[0]:{},U=B.color,K=B.font_face,Q=[];l.length&&(Q=l.map(function(re){var ie=re.value,se=re.type,ge=se===void 0?"color":se,De=re.gradient,Me=ge==="color";if(Me){var Fe=Ln(ie);return Fe}else return Wy(De)})),Q=ld(Q);var J=[];h.length&&(J=h.map(function(re){var ie=re.color;return Ln(ie)})),J=ld(J);var te=U&&Gr(Vi(U),"rgba");!t.includes(te)&&t.push(te),!r.includes(K)&&r.push(K),t=!t.includes(Q)&&[].concat((0,nr.Z)(t),(0,nr.Z)(Q)),t=!t.includes(J)&&[].concat((0,nr.Z)(t),(0,nr.Z)(J))});var e=Ey()(ed()(t)).slice(0,14)||[];return{screenColor:e,globalText:ed()(r)}},ld=function(n){var t;return(t=[]).concat.apply(t,(0,nr.Z)(n))},Hy=function(n){var t=n.textStyles,r=n.borders,e=n.background,o=n.shadows,s=n.innerShadows,l=n.colorUnit,p=n.unit,h=n.ratio,M,N,B,U,K,Q,J,te,re;if(t.length){var ie=t[0],se=ie.color,ge=ie.font_size,De=ie.font_face;M=se&&Ln(se),N=(0,Pt._F)(ge,h,p),B=De}if(r.length){var Me=r[0],Fe=Me.position,nt=Fe===void 0?"inside":Fe,ot=Me.color,dt=Me.thickness;U=(0,Pt._F)(dt,h,p),Q=nt,ot&&(K=Ln(ot))}e.length&&(typeof e[0].sigmaPaint=="object"?J=e[0]:J=Ln(e[0].value));var fe=o.length;fe&&(te=cd(o,p,h));var ue=s.length;return ue&&(re=cd(s,p,h,!0),te=te+", "+re),{fontFamily:B,fontSize:N,color:M,borderWidth:U,borderColor:K,borderPosition:Q,backgroundColor:J,boxShadow:te}},cd=function(n,t,r,e){e===void 0&&(e=!1);var o=n.length;return n.reduce(function(s,l,p){var h=l.color,M=l.offset_x,N=M===void 0?0:M,B=l.offset_y,U=B===void 0?0:B,K=l.blur_radius,Q=K===void 0?0:K,J=l.spread,te=J===void 0?0:J,re=(0,Pt._F)(N,r,t),ie=(0,Pt._F)(U,r,t),se=(0,Pt._F)(Q,r,t);te=(0,Pt._F)(te,r,t),h=Ln(h);var ge=p<o-1?", ":"",De=e?"inset ":"";return s.concat(""+De+re+" "+ie+" "+se+" "+te+" "+h+ge)},"")},Wy=function(n){return!n||!n.color_stops?da:n.color_stops.map(function(t){var r=t.color;return Ln(r)})},$y="pt",zy="dp",Gy="px",ud=function(n){switch(n){case"swift":return $y;case"android":return zy;default:return Gy}},dd=function(n){return!n.kind},Vy=function(){return window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:""},Ky=c(52261),Rs=c.n(Ky),Yy=c(66503),pd=c(31588),Xy=function(n){var t=n.attr,r=n.language,e=n.unit,o=ud(r),s=t.width,l=t.height,p=t.lineHeight,h=t.opacity,M=t.borderRadius,N=t.borderWidth,B=t.borderColor,U=t.backgroundColor,K=t.color,Q=t.fontSize,J=t.fontFamily,te=t.fontStyle,re=t.boxShadow,ie=t.textAlign,se=t.x,ge=t.y,De=se&&{[_r[o].x]:pn(se,e,o,r)},Me=ge&&{[_r[o].y]:pn(ge,e,o,r)},Fe=s&&{[_r[o].width]:pn(s,e,o,r)},nt=l&&{[_r[o].height]:pn(l,e,o,r)},ot=p&&{[_r[o].lineHeight]:pn(p,e,o,r)},dt=h&&{[_r[o].opacity]:pn(h,e,o,r)},fe=M&&{[_r[o].borderRadius]:pn(M,e,o,r)},ue;r==="css"&&typeof(U==null?void 0:U.sigmaPaint)=="object"?U.sigmaPaint.type===1?ue={background:(0,pd.je)(U.sigmaPaint)}:U.sigmaPaint.type===2&&(ue={background:(0,pd.g6)(U.sigmaPaint)+" /* CSS \u53EA\u652F\u6301\u90E8\u5206\u89D2\u5EA6\u7684\u5F84\u5411\u6E10\u53D8\u65CB\u8F6C\uFF0C\u5B9E\u9645\u6548\u679C\u53EF\u80FD\u4F1A\u6709\u504F\u5DEE */"}):ue=U&&{[_r[o].backgroundColor]:pn(U,e,o,r,!0)};var Se=K&&{[_r[o].color]:pn(K,e,o,r,!0)},$e=Q&&{[_r[o].fontSize]:pn(Q,e,o,r)},Ye=J&&{[_r[o].fontFamily]:pn(J,e,o,r)},Xe=te&&{[_r[o].fontStyle]:pn(te,e,o,r)},ut=re&&{[_r[o].shadows]:re},mt=N&&{[_r[o].borderWidth]:pn(N,e,o,r)},pt=B&&{[_r[o].borderColor]:pn(B,e,o,r,!0)},It=ie&&{[_r[o].textAlign]:ie},Ht={};return Object.assign(Ht,De,Me,Fe,nt,ot,dt,fe,mt,pt,ue,Se,$e,Xe,It,ut,Ye)},pn=function(n,t,r,e,o){return o===void 0&&(o=!1),n=n.toString(),o?e==="android"?jy(n):e==="css"?Ry(n):Ny(n):r==="px"?t==="dp"?n.replace(t,r):n:r==="dp"?n.replace(t,r):r==="pt"?n.replace(t,""):n},_r={px:{x:"left",y:"top",width:"width",height:"height",lineHeight:"line-height",opacity:"opacity",border:"border",borderRadius:"border-radius",borderColor:"border-color",borderWidth:"border-width",backgroundColor:"background-color",color:"color",fontSize:"font-size",fontFamily:"font-family",fontStyle:"font-style",textAlign:"text-align",shadows:"box-shadow",innerShadows:"inner-shadow"},dp:{x:"left",y:"top",width:"layout_width",height:"layout_height",border:"border",opacity:"opacity",color:"textColor",fontSize:"textSize",fontFamily:"font-family",fontStyle:"font-style",textAlign:"gravity",backgroundColor:"background",borderRadius:"radius",borderColor:"border-color",lineHeight:"line-height",borderWidth:"border-width",shadows:"box-shadow",innerShadows:"inner-shadow"},pt:{x:"x",y:"y",width:"width",height:"height",opacity:"opacity",border:"border",backgroundColor:"backgroundColor",color:"text-color",textAlign:"alignment",fontSize:"fontSize",fontFamily:"fontFamily",fontStyle:"font-style",borderRadius:"cornerRadius",borderColor:"borderColor",borderWidth:"border-width",lineHeight:"lineSpacing"}},Qy=c(59438),fd=c(32638),fr=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleSelectTextContent",function(){var o=e.props.text,s=Vy();s&&o!==s&&e.setState({copyTextSelected:s})}),(0,f.Z)((0,ae.Z)(e),"handleClearSelectTextContent",function(){e.setState({copyTextSelected:""})}),(0,f.Z)((0,ae.Z)(e),"handleCopy",function(){(0,Pt.aF)("proto-inspect",!0,"","a32");var o=e.props.title;Mi(o)}),e.state={copyTextSelected:""},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.color,l=o.colorUnit,p=o.dataValue,h=o.className,M=o.title,N=o.text,B=o.data,U=o.first,K=o.i18n,Q=this.state.copyTextSelected,J=Gr(s,"rgba"),te=Gr(s,l),re=p.length>0,ie=p.length===4,se=st()("panel",""+h,{"panel-bottom-8":!re,"panel-item-text":!!N,"shadow-panel":ie}),ge=(0,Pt.Q7)();return s?(0,v.jsx)(Xi,{title:M,rgbaColor:J,stateColor:te}):(0,v.jsx)("div",{className:se,"data-value":M,children:N?(0,v.jsx)(Zn.Z,{arrowed:!1,className:"panel-item item-flex-1",content:{click:I18N.pInspect.copied},duration:1e3,onClick:this.handleCopy,children:(0,v.jsx)("pre",{type:"text","data-placement":"top","data-type":"copy","data-clipboard-text":ge?Q||N:"",className:"panel-item-value text-content",dangerouslySetInnerHTML:{__html:N},onMouseUp:this.handleSelectTextContent,onMouseDown:this.handleClearSelectTextContent})}):(0,v.jsx)("div",{className:B.length<2?"single-panel-box":"mult-panel-box",children:(U?B.slice(0,1):B).map(function(De,Me){return(0,v.jsx)(Zn.Z,{arrowed:!1,content:{click:I18N.pInspect.copied},duration:1e3,className:"panel-item","data-value":p[Me],onClick:e.handleCopy,children:(0,v.jsx)("div",{"data-type":"copy","data-clipboard-text":ge?De:"",className:"panel-item-value",children:K?I18N.pInspect[De]:De})},Me)})})})}}]),t}(y.PureComponent);(0,f.Z)(fr,"propTypes",{i18n:u().bool,title:u().string,data:u().array,dataValue:u().array,text:u().string,color:u().string,colorUnit:u().string,first:u().bool,className:u().string}),(0,f.Z)(fr,"defaultProps",{dataValue:[],data:[]});var Xi=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleClick",function(){e.setState(function(o){return{activeColor:o.colorList[o.index%4],index:o.index+1}})}),(0,f.Z)((0,ae.Z)(e),"handleCopy",function(){(0,Pt.aF)("proto-inspect",!0,"","a32"),Mi("\u989C\u8272")}),e.state={index:0,activeColor:r.stateColor,colorList:r.rgbaColor==="transparent"?Array(4).fill("transparent"):_y(r.rgbaColor)||[]},e}return(0,S.Z)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.stateColor;this.setState(function(s){return{activeColor:o}})}},{key:"render",value:function(){var e=this.state.activeColor,o=this.props,s=o.title,l=o.rgbaColor,p=st()("panel","panel-bottom-8"),h=l.split(","),M=h.length,N=M>3&&+h[M-1].replace(")","")!=1,B=(0,Pt.Q7)();return(0,v.jsx)("div",{className:p,"data-value":s,children:(0,v.jsxs)("div",{className:"panel-item panel-item-color item-flex-1",children:[(0,v.jsx)(Zn.Z,{className:"panel-item-value textEllipsis",content:{click:I18N.pInspect.copied},"data-type":"copy",arrowed:!1,"data-clipboard-text":B?e:"",onClick:this.handleCopy,children:e}),(0,v.jsx)("div",{className:"panel-item-color-block-wrap "+(N?"panel-item-color-block-imageback-wrap":""),children:(0,v.jsx)("div",{className:"panel-item-color-block",style:{backgroundColor:l},onClick:this.handleClick})})]})})}}]),t}(y.PureComponent),_y=function(n){if(n)return[Gr(n,"rgba"),Gr(n,"rgb"),Gr(n,"argb"),Gr(n,"hex")]};Xi.propTypes={rgbaColor:u().string.isRequired,stateColor:u().string,title:u().string};var hd=function(n){var t=n.textStyles,r=t===void 0?[]:t,e=n.hiddSpacing,o=n.ratio,s=n.alignment,l=n.vertical_alignment,p=n.lineHeight,h=n.letterSpacing,M=n.unit,N=n.text,B=n.o,U=n.colorUnit,K=n.fontStyle,Q=n.padding;return(0,v.jsxs)(Fn,{children:[I18N.pInspect.font,(r.length>0&&r.slice(0,1)).map(function(J,te){var re=J.color,ie=J.font_size,se=J.location,ge=J.font_face,De=J.fontStyle,Me=Vi(re),Fe=Gr(Me,"rgba"),nt=(0,Pt._F)(ie,o,M),ot=Gr(Me,U);return(0,v.jsxs)("div",{children:[ge&&(0,v.jsx)(fr,{title:I18N.pInspect.type_face,data:[ge]}),(De||K)&&(0,v.jsx)(fr,{title:I18N.pInspect.font_style,data:[De||K]}),Fe&&(0,v.jsx)(Xi,{stateColor:ot,title:I18N.pInspect.color,rgbaColor:Fe}),nt&&(0,v.jsx)(fr,{title:I18N.pInspect.font_size,data:[nt]})]},""+ie+se+te)}),s&&(0,v.jsx)(fr,{title:I18N.pInspect.align,data:[s,l||"auto"],dataValue:[I18N.pInspect.horizontal_align,I18N.pInspect.vertical_align]}),r[0].paraSpacing!==void 0?(0,v.jsx)(fr,{title:I18N.pInspect.graph,data:[r[0].letterSpacing,r[0].lineHeight,r[0].paraSpacing],dataValue:[I18N.pInspect.letter_spacing,I18N.pInspect.text_line_height,I18N.pInspect.para_spacing]}):p&&(0,v.jsx)(fr,{title:I18N.pInspect.graph,data:[p,h||"auto"],dataValue:[I18N.pInspect.line_height,I18N.pInspect.letter_spacing],first:e}),N&&(0,v.jsx)(fr,{text:N,title:I18N.pInspect.content})]})};hd.propTypes={textStyles:u().array,fontStyle:u().string,alignment:u().string,vertical_alignment:u().string,hiddSpacing:u().bool,letterSpacing:u().oneOfType([u().string,u().bool]),lineHeight:u().oneOfType([u().string,u().bool]),paraSpacing:u().number,ratio:u().number,unit:u().string,text:u().string,o:u().number,padding:u().number,colorUnit:u().string};var vd=function(n){var t=n.adapterLeft,r=n.adapterTop,e=n.adapterWidth,o=n.adapterHeight,s=n.opacity,l=n.radius,p=n.rotate,h=n.mask,M=n.ignore_underlying_mask;return(0,v.jsxs)(Fn,{children:[I18N.pInspect.basic_attribute,t&&(0,v.jsx)(fr,{title:I18N.pInspect.position,dataValue:[I18N.pInspect._x,I18N.pInspect._y],data:[t,r]}),e&&(0,v.jsx)(fr,{title:I18N.pInspect.size,dataValue:[I18N.pInspect.width,I18N.pInspect.height],data:[e,o]}),p&&(0,v.jsx)(fr,{title:I18N.pInspect.rotation,data:[p]}),l&&(0,v.jsx)(fr,{title:I18N.pInspect.border_radius,data:[l]}),s&&(0,v.jsx)(fr,{title:I18N.pInspect.opacity,data:[s]}),h&&(0,v.jsx)(fr,{title:I18N.pInspect.mask,data:[h],i18n:!0}),M&&(0,v.jsx)(fr,{title:I18N.pInspect.underlying_mask,data:["ignore_underlying_mask"],i18n:!0})]})};vd.propTypes={adapterLeft:u().string,adapterHeight:u().string,adapterTop:u().string,adapterWidth:u().string,opacity:u().oneOfType([u().string,u().bool]),rotate:u().oneOfType([u().string,u().bool]),radius:u().oneOfType([u().string,u().number]),mask:u().string,ignore_underlying_mask:u().bool};var Jy=function(){return(0,v.jsx)("div",{children:"Error in GlobalAttributes"})},md=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleDelColor",function(l){var p=(0,Pt.ty)(Gr(l,"rgba"));r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:p}})}),(0,f.Z)((0,ae.Z)(r),"handleCopy",function(){(0,Pt.aF)("proto-inspect",!0,"","a32"),Mi("\u989C\u8272")}),r}return(0,S.Z)(t,[{key:"componentDidCatch",value:function(e,o){return console.log(e,o),(0,v.jsx)(Jy,{})}},{key:"render",value:function(){var e=this.props,o=e.adapterWidth,s=e.adapterHeight,l=e.screenColor,p=l===void 0?[]:l,h=e.documentColor,M=h===void 0?[]:h,N=e.globalText,B=N===void 0?[]:N,U=e.globalColor,K=U===void 0?[]:U,Q=e.userPickColor,J=Q===void 0?[]:Q,te=e.colorUnit,re=(0,Pt.Q7)();return(0,v.jsxs)("div",{className:st()("global-attributes"),children:[(0,v.jsx)("div",{className:st()("container","global-layer","layer-size"),children:(0,v.jsx)(fr,{trackId:I18N.pInspect.size,title:I18N.pInspect.size,dataValue:[I18N.pInspect.width,I18N.pInspect.height],data:[o,s]})}),(0,v.jsxs)(Fn,{children:[I18N.pInspect.color_title,(0,v.jsx)(qy,{trackId:I18N.pInspect.pick_color,title:I18N.pInspect.pick_color,handleDelColor:this.handleDelColor,colorBlockMap:J,colorUnit:te,canDel:!0,isSignIn:re,onCopy:this.handleCopy}),(0,v.jsx)(ks,{trackId:I18N.pInspect.screen_color,title:I18N.pInspect.screen_color,handleDelColor:this.handleDelColor,colorBlockMap:p,colorUnit:te,isSignIn:re,onCopy:this.handleCopy})]}),B.length>0&&(0,v.jsxs)(Fn,{children:[I18N.pInspect.font_title,(0,v.jsx)(gd,{globalText:B})]})]})}}]),t}(y.PureComponent);md.propTypes={adapterWidth:u().string.isRequired,adapterHeight:u().string.isRequired,colorUnit:u().string.isRequired,screenColor:u().array,userPickColor:u().array,documentColor:u().array,globalText:u().array,globalColor:u().array,dispatch:u().func};var gd=function(n){var t=n.globalText;return t.map(function(r){return(0,v.jsx)(fr,{className:"global-font",data:[r]},r)})};gd.propTypes={globalText:u().array};var ks=function(n){var t=n.trackId,r=n.title,e=n.colorBlockMap,o=n.fromSketch,s=n.handleDelColor,l=n.canDel,p=n.colorUnit,h=n.focusColor,M=n.isSignIn,N=n.onCopy;return(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{className:"second-title",children:r}),(0,v.jsx)("div",{className:"panel-row",children:e.length?e.map(function(B,U){var K=eS(o,B,"rgba"),Q=Gr(K,p);return(0,v.jsx)(yd,{canDel:l,trackId:t,handleDelColor:s,color:Q,rgbaColor:K,colorUnit:p,focusColor:h,isSignIn:M,onCopy:N},""+U+B)}):(0,v.jsx)(tS,{})})]})};ks.propTypes={trackId:u().string,title:u().string.isRequired,colorBlockMap:u().array.isRequired,handleDelColor:u().func.isRequired,fromSketch:u().bool,canDel:u().bool,colorUnit:u().string,focusColor:u().string,isSignIn:u().bool,onCopy:u().func};var qy=(0,H.connect)(function(i){var n=i.container.previewSetting,t=n.userPickColor,r=n.focusColor;return{userPickColor:t,focusColor:r}})(ks),eS=function(n,t,r){return Gr(n?Vi(t):t,r)},yd=function(n){var t=n.color,r=n.rgbaColor,e=n.colorUnit,o=n.handleDelColor,s=n.canDel,l=n.trackId,p=n.focusColor,h=n.isSignIn,M=n.onCopy,N=t===Gr(p,e);return(0,v.jsx)(v.Fragment,{children:h?(0,v.jsx)(Fa,{shouldOpenOnHover:!0,className:st()("color-dropdown",{"is-focus":N}),opener:(0,v.jsx)(Zn.Z,{arrowed:!1,"data-type":"copy","data-track-id":l,"data-clipboard-text":t,className:"row-item color-block",style:{background:r},duration:1e3,content:{click:I18N.pInspect.copied},onClick:M}),inflexible:!0,arrowed:!0,menuX:"left",menuY:"top",menu:(0,v.jsx)(Sd,{color:t,rgbaColor:r,canDel:s,handleDelColor:o}),menuClassName:(0,yt.A1)(["palette-dropdown-menu",e])}):(0,v.jsx)(Zn.Z,{arrowed:!1,className:"row-item color-block row-margin",style:{background:r},duration:1e3,onClick:M})})};yd.propTypes={color:u().string.isRequired,trackId:u().string,handleDelColor:u().func,colorUnit:u().string,rgbaColor:u().string,canDel:u().bool,focusColor:u().string,isSignIn:u().bool,onCopy:u().func};var tS=function(){return(0,v.jsx)("div",{className:"forbid-color",children:(0,v.jsx)("div",{className:"transparent"})})},Sd=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleClick",function(l){var p=r.props,h=p.rgbaColor,M=p.handleDelColor;M(h)}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.color,s=e.canDel;return(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{children:o}),s&&(0,v.jsx)(Pn.Z,{type:"dora",name:"trash",className:"trash",onClick:this.handleClick})]})}}]),t}(y.PureComponent);Sd.propTypes={color:u().string.isRequired,rgbaColor:u().string,handleDelColor:u().func.isRequired,canDel:u().bool};var rS=c(49182),Qi=c.n(rS),nS=c(62360),Zs=c.n(nS),aS=c(74741),iS=c.n(aS),Bs=c(68102),bd,xd,Cd;function Fs(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var oS=ze.default.label(bd||(bd=Fs(["\n  display: inline-flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 100%;\n  min-width: 3em;\n  height: 34px;\n  color: #5b6b73;\n  cursor: pointer;\n  transition: all 0.2s ease-out;\n  button {\n    flex: 1;\n    width: calc(100% - 2em);\n    height: 100%;\n    text-align: start;\n    cursor: inherit;\n  }\n  .caret {\n    margin: 0 0.75em 0 1em;\n    line-height: 0;\n    color: #8d9ea7;\n    svg {\n      display: block;\n      width: 6px;\n      height: 4px;\n      fill: currentColor;\n      fill-rule: evenodd;\n      transform: rotate(180deg);\n      transition: all 0.3s ease-out;\n    }\n  }\n\n  &:not(.unstyled) {\n    padding-left: .5em;\n    background-color: #f6f7f8;\n    border: 1px solid #f2f2f3;\n    border-radius: 2px;\n  }\n\n  &.small {\n    height: 22px;\n    font-size: 12px;\n    .caret {\n      margin-right: 0.5em;\n    }\n  }\n\n  &:not(.is-disabled):not(.readonly):not(.unstyled):hover,\n  &:not(.unstyled).is-open {\n    border-color: #298df8;\n  }\n\n  &.is-open {\n    &:not(.unstyled) {\n      background-color: #fff;\n      box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n    }\n    .caret svg {\n      transform: rotate(0deg);\n    }\n  }\n\n  &.is-disabled {\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n\n  &.readonly {\n    cursor: default\n  }\n\n  &.CoreSelect:not(.unstyled) {\n    background-color: #fff;\n    border: 1px solid #c8cdd1;\n  }\n"]))),sS=ze.default.div(xd||(xd=Fs(["\n  position: fixed;\n  pointer-events: none;\n  z-index: 1100;\n"]))),lS=ze.default.ul(Cd||(Cd=Fs(["\n  position: absolute;\n  margin: 2px 0;\n  padding: 0;\n  display: block;\n  max-width: 20em;\n  min-width: 100%;\n  min-height: 30px;\n  max-height: 300px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  pointer-events: none;\n  font-size: 12px;\n  list-style: none;\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0 2px 10px 0 rgba(39,54,78,0.08), 4px 12px 40px 0 rgba(39,54,78,0.1);\n  color: #5b6b73;\n  transition: 0.2s ease-out;\n  transition-property: transform, opacity;\n  transform-origin: 50% 0;\n  &::-webkit-scrollbar {\n    display: block;\n    width: 4px;\n    height: 4px;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: #ccc;\n    border-radius: 2px;\n  }\n  &::-webkit-scrollbar-track {\n    background-color: rgba(255,255,255,0.5);\n  }\n  &.is-empty {\n    width: -moz-fit-content;\n    width: -webkit-fit-content;\n    width: fit-content;\n  }\n  &:not(.is-open) {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  &.x-center {\n    left: 50%;\n    transform: translateX(-50%);\n    &:not(.is-open) {\n      transform: scale(0.8) translateX(-50%);\n    }\n  }\n  &.x-right {\n    right: 0;\n  }\n  &.is-downward {\n    top: 100%;\n    bottom: initial;\n  }\n  &.is-upward {\n    transform-origin: 50% 100%;\n    top: initial;\n    bottom: 100%;\n  }\n  &.is-open {\n    opacity: 1;\n    pointer-events: initial;\n  }\n  &.cant-select .SelectOption {\n    cursor: default;\n  }\n\n  .SelectGroup {\n    > .title {\n      padding: 0 0.75em;\n      width: 100%;\n      height: 30px;\n      line-height: 30px;\n      font-weight: bold;\n    }\n    > ul {\n      margin: 0;\n      padding: 0;\n    }\n  }\n  .SelectOption {\n    display: flex;\n    align-items: center;\n    height: 30px;\n    line-height: 30px;\n    cursor: pointer;\n    > .Ellipsis {\n      padding: 0 0.75em;\n    }\n    > .svg-icon {\n      margin-left: auto;\n      margin-right: 0.75em;\n\n      &.check path {\n        fill: #5b6b73;\n      }\n    }\n    &.is-disabled {\n      cursor: not-allowed;\n      opacity: 0.5;\n    }\n    &.is-active {\n      color: #298df8;\n    }\n    &:not(.empty-msg):not(.is-disabled):hover,\n    &.is-active {\n      background-color: #f6f7f8;\n    }\n    &.empty-msg {\n      padding: 0 0.5em;\n      color: #8d9ea7;\n      cursor: not-allowed;\n    }\n  }\n  &.CheckSelectMenu {\n    &:not(.is-empty) {\n      padding: 6px 0;\n    }\n    .SelectOption {\n      height: 32px;\n      .Ellipsis {\n        padding: 0 16px;\n      }\n      .Ellipsis + .icon {\n        margin-right: 10px;\n      }\n      &:hover,\n      &.is-active:hover {\n        color: #298df8;\n      }\n      &.is-active {\n        background: none;\n        color: inherit;\n      }\n    }\n  }\n  &.CoreSelectMenu {\n    margin: 4px 0;\n    &:not(.is-empty) {\n      padding: 8px;\n      min-height: 48px;\n      max-height: 336px;\n    }\n    .SelectGroup > .title,\n    .SelectOption {\n      height: 32px;\n      line-height: 32px;\n      border-radius: 2px;\n    }\n  }\n"])));function cS(i){return fS(i)||pS(i)||dS(i)||uS()}function uS(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dS(i,n){if(i){if(typeof i=="string")return wd(i,n);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wd(i,n)}}function wd(i,n){(n==null||n>i.length)&&(n=i.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=i[t];return r}function pS(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function fS(i){if(Array.isArray(i))return i}function Ed(i,n){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,r)}return t}function _i(i){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Ed(Object(t),!0).forEach(function(r){Lr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ed(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Ad(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function Md(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Od(r.key),r)}}function Pd(i,n,t){return n&&Md(i.prototype,n),t&&Md(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Td(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),n&&Us(i,n)}function Us(i,n){return Us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Us(i,n)}function Id(i){var n=vS();return function(){var r=Ji(i),e;if(n){var o=Ji(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return hS(this,e)}}function hS(i,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(i)}function kr(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function vS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function Ji(i){return Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ji(i)}function Lr(i,n,t){return n=Od(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Od(i){var n=mS(i,"string");return typeof n=="symbol"?n:String(n)}function mS(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}var Dd="IBOT_SELECT_MENU_ROOT",Ld={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},qi=document.getElementById(Dd)||Object.assign(document.createElement("div"),{id:Dd}),Nd=document.body;Nd.contains(qi)||Nd.appendChild(qi);var li=function(i){Td(t,i);var n=Id(t);function t(){var r;Ad(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),Lr(kr(r),"state",{isOpen:!1,prevProps:r.props,value:r.props.value}),Lr(kr(r),"set$select",function(l){return r.setState({$select:l})}),Lr(kr(r),"open",function(){return r.setState({isOpen:!0})}),Lr(kr(r),"close",function(){return r.setState({isOpen:!1})}),Lr(kr(r),"toggle",function(){return r.setState({isOpen:!r.state.isOpen})}),Lr(kr(r),"onResizeWindow",function(){return r.state.isOpen&&r.close()}),Lr(kr(r),"onChange",function(l){return r.setState({value:l},function(){r.close(),r.props.onChange(l)})}),Lr(kr(r),"onSelect",function(l){var p=l.currentTarget,h=r.props.value,M=kr(r),N=M.canSelect;return r.onChange(N?p.dataset.value:h)}),r}return Pd(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"isDisabled",get:function(){var e=this.props,o=e.isDisabled,s=e.disabled;return o||s}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canSelect",get:function(){var e=this.isDisabled,o=this.readOnly;return!e&&!o}},{key:"displayText",get:function(){var e=this.props,o=e.optionList,s=e.placeholder,l=e.optionLabelProp,p=this.state.value,h=o.find(function(N){return Zs()(N)&&N.slice(0).some(function(B){return(0,yt.Lc)(B,p)})}),M=(h||o).find(function(N){return!Zs()(N)&&(0,yt.Lc)(N,p)});return M?(0,yt.Jn)(M,l):s||Ld[this.props.lang].select_placeholder}},{key:"render",value:function(){var e=this.props,o=e.size,s=e.theme,l=e.unstyled,p=e.className,h=e.menuX,M=this.state,N=M.isOpen,B=M.$select,U=M.value,K=this.isDisabled,Q=this.readOnly,J=this.canSelect,te=(0,yt.A1)([s==="core"?"CoreSelect":"Select",o,l&&"unstyled",p,N&&"is-open",K&&"is-disabled",Q&&"readonly"]);return(0,v.jsxs)(oS,{className:te,role:"listbox",ref:this.set$select,children:[(0,v.jsx)("button",{type:"button",onClick:this.toggle,disabled:K,children:(0,v.jsx)(Bs.Z,{children:this.displayText})}),(0,v.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:yt.Wj.Tj}}),(0,v.jsx)(eo,_i(_i({isOpen:N},this.props),{},{value:U,$select:B,canSelect:J,onChange:this.onSelect,onClose:this.close,menuX:h}))]})}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.value;return ai()(s,e)?null:{prevProps:e,value:e.value}}}]),t}(y.PureComponent);Lr(li,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),menuTheme:u().oneOf(["core","plain","check"]),unstyled:u().bool,className:u().string,menuClassName:u().string,lang:u().string,placeholder:u().string,optionList:u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool}),u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool})]))])).isRequired,value:u().oneOfType([u().number,u().string]),isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func,menuX:u().oneOf(["left","center","right"]),optionLabelProp:u().string}),Lr(li,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:function(){return null},menuX:"left"});var eo=function(i){Td(t,i);var n=Id(t);function t(){var r;Ad(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),Lr(kr(r),"state",{isDownward:!0}),Lr(kr(r),"portal",(0,yt.Qt)(qi,"SelectMenuPortal")),Lr(kr(r),"menuBaseRef",(0,y.createRef)()),Lr(kr(r),"position",function(l){var p=r.props,h=p.$select,M=p.menuX,N=kr(r),B=N.menuBaseRef.current;if(l){var U=Qi()(l,"target");if(U&&iS()(U)&&U.matches(".SelectMenu"))return}var K=(0,Xo.o)({$menuBase:B,$opener:h,menuX:M,shouldSetMaxHeight:!0}),Q=K.isDownward;r.setState({isDownward:Q})}),Lr(kr(r),"onChange",function(l){var p=r.props.onChange,h=r.state.isDownward,M=l.currentTarget,N=M.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!M||!N)return r.onlose();var B=M.getBoundingClientRect(),U=B.top,K=B.bottom,Q=N.getBoundingClientRect(),J=Q.top,te=Q.bottom;return h&&U>=J||!h&&K<=te?M.classList.contains("title")?void 0:p(l):r.onClose()}),Lr(kr(r),"onClose",function(){var l=r.props.onClose;l()}),Lr(kr(r),"scrollIntoActive",function(){var l=kr(r),p=l.menuBaseRef.current,h=(0,yt.$)("li[role=option].is-active",p);h&&h.scrollIntoView({block:"start"})}),Lr(kr(r),"onClickOutside",function(l){var p=l.target,h=r.props.$select,M=!qi.contains(p),N=p.closest("label"),B=N&&N.contains(h);M&&!B&&r.onClose()}),r}return Pd(t,[{key:"componentDidMount",value:function(){var e=this.menuBaseRef.current;(0,yt.$h)((0,yt.$)(".SelectMenu",e))}},{key:"componentDidUpdate",value:function(e){var o=e.isOpen,s=this.props.isOpen;!o&&s&&(this.position(),this.scrollIntoActive())}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return(0,b.createPortal)(this.menu,this.portal)}},{key:"menu",get:function(){var e=this,o=this.props,s=o.isOpen,l=o.isDisabled,p=o.menuTheme,h=o.menuClassName,M=o.menuX,N=o.optionList,B=o.lang,U=o.emptyMsg,K=o.value,Q=o.canSelect,J=this.state.isDownward,te=N.length===0,re=(0,yt.A1)([p==="core"?"CoreSelectMenu":p==="check"?"CheckSelectMenu":"SelectMenu",h,"x-"+M,s&&"is-open",J?"is-downward":"is-upward",l&&"is-disabled",te&&"is-empty",Q?"can-select":"cant-select"]);return(0,v.jsx)(sS,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,v.jsxs)(lS,{className:re,onTransitionEnd:this.onTransitionEnd,children:[te?(0,v.jsx)("li",{className:"SelectOption empty-msg",children:U||Ld[B].select_empty_msg}):N.map(function(ie,se){return Zs()(ie)?(0,v.jsx)(jd,{menuTheme:p,optionList:ie,value:K,onChange:e.onChange},se):(0,v.jsx)(Hs,{menuTheme:p,isActive:(0,yt.Lc)(ie,K),option:ie,isDisabled:ie.isDisabled,onChange:e.onChange},se)}),s&&(0,v.jsx)(Yn.Z,{target:document,onClick:(0,Yn.Y)(this.onClickOutside,{capture:!0})}),s&&(0,v.jsx)(Yn.Z,{target:document,onScroll:(0,Yn.Y)(this.position,{capture:!0})})]})})}}]),t}(y.PureComponent);Lr(eo,"propTypes",_i(_i({},li.propTypes),{},{isOpen:u().bool,canSelect:u().bool,onChange:u().func,onClose:u().func,$select:u().instanceOf(Element)})),Lr(eo,"defaultProps",{isOpen:!1});function jd(i){var n=i.value,t=cS(i.optionList),r=t[0],e=t.slice(1),o=i.menuTheme,s=i.onChange;return(0,v.jsxs)("li",{className:"SelectGroup",children:[(0,v.jsx)(Bs.Z,{className:"title",onClick:s,children:r}),(0,v.jsx)("ul",{children:e.map(function(l,p){return(0,v.jsx)(Hs,{menuTheme:o,option:l,isActive:(0,yt.Lc)(l,n),isDisabled:l.isDisabled,onChange:s},p)})})]})}jd.propTypes={optionList:u().array,onChange:u().func,menuTheme:u().string,value:u().string};function Hs(i){var n=i.option,t=i.isActive,r=i.isDisabled,e=i.menuTheme,o=i.onChange,s=(0,yt.A1)(["SelectOption",t&&"is-active",r&&"is-disabled"]),l=(0,yt.Jn)(n),p=(0,yt.l_)(n);return(0,v.jsxs)("li",{role:"option","data-value":p,className:s,onClick:r?void 0:o,children:[(0,v.jsx)(Bs.Z,{children:l}),e==="check"&&t&&(0,v.jsx)(_n.Z,{name:"check"})]})}Hs.propTypes={option:u().oneOfType([u().node,u().object]),isActive:u().bool,isDisabled:u().bool,menuTheme:u().string,onChange:u().func};var gS=c(58569),xa=c.n(gS),yS=c(21546),SS=c.n(yS),bS=c(4826),xS=c.n(bS),CS=c(81582),wS=c.n(CS),ES=c(6216),AS=c.n(ES),MS=c(85766),PS=c.n(MS),TS=c(52606),IS=c.n(TS);xa().registerLanguage("css",SS()),xa().registerLanguage("less",xS()),xa().registerLanguage("scss",wS()),xa().registerLanguage("stylus",AS()),xa().registerLanguage("swift",PS()),xa().registerLanguage("xml",IS());var OS={css:"css",less:"less",sass:"scss",stylus:"stylus",swift:"swift",android:"xml"},DS={value:"css",label:"CSS"},LS={value:"android",label:"Android"},NS={value:"swift",label:"Swift"},jS={value:"less",label:"Less"},RS={value:"sass",label:"Sass"},kS={value:"stylus",label:"Stylus"},ZS=[NS,LS,DS,jS,RS,kS],Rd=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"highlight",function(){if(e.hljsRef){var o=e.hljsRef.current.querySelectorAll("pre code");o.forEach(function(s){xa().highlightBlock(s)})}}),(0,f.Z)((0,ae.Z)(e),"updateLanguage",function(o){e.props.dispatch({type:"reducer:preview-toolbar:update",payload:{language:o}})}),(0,f.Z)((0,ae.Z)(e),"renderCode",function(o){var s={px:e.renderCss,dp:e.renderAndroidCode,pt:e.renderIos},l=ud(o);return s[l]()}),(0,f.Z)((0,ae.Z)(e),"renderIos",function(){var o=e.props,s=o.code,l=o.language,p=o.text;return(0,v.jsx)(Zd,{code:s,language:l,text:p})}),(0,f.Z)((0,ae.Z)(e),"renderCss",function(){var o=e.props,s=o.code,l=o.language;return(0,v.jsx)(kd,{language:l,code:s})}),(0,f.Z)((0,ae.Z)(e),"renderAndroidCode",function(){var o=e.props,s=o.whichAndView,l=o.code,p=o.text;return(0,v.jsx)(Bd,{code:l,text:p,whichAndView:s})}),e.hljsRef=y.createRef(),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.highlight()}},{key:"componentDidUpdate",value:function(e){(e.code!==this.props.code||e.language!==this.props.language)&&this.highlight()}},{key:"render",value:function(){var e=this.props,o=e.language,s=e.theme;return(0,v.jsxs)(Fn,{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(li,{menuClassName:"CodeBoxSelectMenu",placeholder:" ",unstyled:!0,menuX:"center",optionList:ZS,value:o,onChange:this.updateLanguage}),(0,v.jsx)(Ud,{text:"#code-content",handleClick:function(){return Mi(o)}})]}),(0,v.jsx)("div",{ref:this.hljsRef,className:st()("code-content",{"is-dark-theme":s==="dark"}),id:"code-content",children:(0,v.jsx)("pre",{children:this.renderCode(o)})})]})}}]),t}(y.PureComponent);(0,f.Z)(Rd,"propTypes",{code:u().object,theme:u().string,whichAndView:u().string,language:u().string,text:u().string,dispatch:u().func});var kd=function(n){var t=n.language,r=n.code,e=FS(t),o=US(t),s=WS(r);return Object.entries(s).map(function(l){var p=(0,F.Z)(l,2),h=p[0],M=p[1];return(0,v.jsx)("code",{className:OS[t],children:""+h+o+M+e},h)})};kd.propTypes={code:u().object.isRequired,language:u().string};var Zd=function(n){var t=n.code,r=n.text,e=HS({code:t,text:r});return e.map(function(o){return(0,v.jsx)("code",{className:"swift",children:o},o)})};Zd.propTypes={code:u().object.isRequired,text:u().string};var Bd=function(n){var t=n.code,r=n.text,e=n.whichAndView;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("code",{className:"xml",children:"<"+e}),Object.entries(t).map(function(o){var s=(0,F.Z)(o,2),l=s[0],p=s[1];return(0,v.jsx)("code",{className:"xml",children:"android:"+(BS[l]||l)+'="'+p+'"'},l)}),r.length>0&&(0,v.jsx)("div",{children:'android:text="'+r+'"'}),(0,v.jsx)("code",{className:"xml",children:"/>"})]})},BS={"font-family":"fontFamily","font-style":"textStyle","background-color":"background","font-size":"textSize",color:"textColor","line-height":"lineHeight"};Bd.propTypes={code:u().object.isRequired,text:u().string,whichAndView:u().string};var FS=function(n){switch(n){case"stylus":case"sass":return"";default:return";"}},US=function(n){switch(n){case"stylus":return" ";default:return": "}},HS=function(n){var t=n.code,r=n.text,e=t.width,o=t.height,s=t.x,l=t.y,p=t.fontFamily,h=t.cornerRadius,M=t.fontSize,N=t.opacity,B=t.borderWidth,U=t.borderColor,K=t.alignment,Q=t.backgroundColor,J=r?"textLayer":"layer",te=r?"UILabel":"UIView",re=[];return re.push("let "+J+" = "+te+"(frame: CGRect(x: "+s+", y:"+l+", width: "+e+", height: "+o+"))"),Q&&re.push(J+".backgroundColor = "+Q),N&&re.push(J+".alpha = "+N),h&&re.push("layer.layer.cornerRadius = "+h),B&&re.push("layer.layer.borderWidth = "+B),U&&re.push("layer.layer.borderColor = "+U+".cgColor"),r&&(re.push('let textContent = "'+r+'"'),re.push('let textString = NSMutableAttributedString(string: textContent, attributes: [\n      NSAttributedStringKey.font: UIFont(name: "'+p+'", size: '+M+")!\n      ])"),re.push("let textRange = NSRange(location:0, length: textString.length)"),re.push("let paragraphStyle = NSMutableParagraphStyle()"),re.push("paragraphStyle.alignment = ."+K),re.push("textString.addAttribute(NSAttributedStringKey.paragraphStyle, value: paragraphStyle, range: textRange)"),re.push("textLayer.attributedText = textString")),re},WS=function(n){if(n["border-color"]&&n["border-width"]){var t={border:n["border-width"]+" solid "+n["border-color"]};return delete n["border-color"],delete n["border-width"],Object.assign(n,t)}return n},Fd=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"imageRef",function(l){return r.$image=l}),(0,f.Z)((0,ae.Z)(r),"handleClick",function(){var l=r.props,p=l.imageSetZip,h=l.name;(0,Pt.m)({url:p,name:h,type:"zip"}),rr("\u4E0B\u8F7D\u5207\u56FE")}),(0,f.Z)((0,ae.Z)(r),"handleOnload",function(){(0,Pt.dD)({image:r.$image,adjust:38}),r.setState({imageLoad:!0})}),(0,f.Z)((0,ae.Z)(r),"handleError",function(){console.error("image info error")}),(0,f.Z)((0,ae.Z)(r),"debounceClick",Wi()(r.handleClick,500,{leading:!0})),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.imageSet,s=e.name,l=o[0].src,p={background:"url("+$S+") left top",backgroundSize:"cover"};return(0,v.jsxs)(Fn,{children:[(0,v.jsxs)("div",{className:"slice-title",children:[I18N.pInspect.export,(0,v.jsx)("span",{onClick:this.debounceClick,children:I18N.pInspect.download_single})]}),(0,v.jsxs)("div",{className:"slice-panel",children:[(0,v.jsx)("div",{className:"slice-item-wrap",style:p,children:(0,v.jsx)("img",{src:l,alt:s,ref:this.imageRef,onLoad:this.handleOnload,onError:this.handleError})}),(0,v.jsx)("p",{className:"slice-item-name",children:s})]})]})}}]),t}(y.PureComponent);(0,f.Z)(Fd,"propTypes",{imageSetZip:u().string,imageSet:u().array,name:u().string});var $S="/mb-workspace/images/preview/slice-bg.png",Ud=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleCopy",function(){var l=r.props.handleClick;(0,Pt.aF)("proto-inspect",!0,"","a32"),l()}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=this.props,s=o.target,l=o.text,p=(0,Pt.Q7)();p&&(this.clipboard=l?new(Rs())(this.$copyBtn,{text:function(){return(0,Pt.Uo)(document.querySelector(l).innerText)}}):new(Rs())(this.$copyBtn,{target:function(){return document.querySelector(s)}}),this.clipboard.on("success",function(h){e.error=!1;var M=window.getSelection();M.removeAllRanges()}),this.clipboard.on("error",function(h){e.error=!0}))}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"render",value:function(){var e=this;return(0,v.jsx)(Zn.Z,{arrowed:!1,content:{click:I18N.pInspect.copied},duration:1e3,className:"copyBtn",onClick:this.handleCopy,children:(0,v.jsx)("span",{ref:function(s){return e.$copyBtn=s},children:I18N.pInspect.copy})})}}]),t}(y.Component);(0,f.Z)(Ud,"propTypes",{target:u().string,text:u().string,handleClick:u().func});var Ws=function(n){var t=n.value,r=n.title;return(0,v.jsx)("div",{className:st()("container")+" "+st()("layer-name"),children:(0,v.jsx)(fr,{title:r||I18N.pInspect.layer_name,data:[t]})})};Ws.propTypes={title:u().string,value:u().string};var Hd=function(n){var t=n.colorUnit,r=n.backgroundColorSort;return(0,v.jsxs)(Fn,{children:[I18N.pInspect.fills,r.map(function(e,o){var s=e.value,l=e.type,p=l===void 0?"color":l,h=e.opacity,M=e.gradient,N=Ln(s),B=N&&Gr(N,t),U=p==="color";return U?(0,v.jsx)(Xi,{stateColor:B,rgbaColor:N,title:I18N.pInspect.color},o):(0,v.jsx)($s,{gradient:M,colorUnit:t,opacity:h},o)})]})};Hd.propTypes={backgroundColorSort:u().array,colorUnit:u().string};var $s=function(n){var t=n.gradient,r=t.color_stops,e=r===void 0?[]:r,o=t.from,s=t.to,l=t.type,p=n.opacity,h=n.colorUnit;return(0,v.jsxs)("div",{children:[e.length>0&&e.map(function(M,N){var B=M.color,U=M.position;return(0,v.jsx)("div",{children:(0,v.jsx)(fr,{colorUnit:h,color:Ln(B),title:N===0?I18N.pInspect.gradient:""})},""+B+N)}),p&&(0,v.jsx)(fr,{title:I18N.pInspect.opacity,data:[p*100+"%"]}),l&&(0,v.jsx)(fr,{data:[l],title:I18N.pInspect.type})]})};$s.propTypes={gradient:u().object.isRequired,opacity:u().number,colorUnit:u().string.isRequired};var zs=function(n){var t=n.shadows,r=t===void 0?[]:t,e=n.isInnerShaow,o=e===void 0?!1:e,s=n.unit,l=n.ratio,p=n.colorUnit,h=n.textShadows,M=h===void 0?[]:h;return(0,v.jsxs)(Fn,{children:[o?I18N.pInspect.inner_shadow:I18N.pInspect.shadow,r.length>0&&(0,v.jsx)(Gs,{shadows:r,unit:s,ratio:l,colorUnit:p}),M.length>0&&(0,v.jsx)(Gs,{shadows:M,unit:s,ratio:l,colorUnit:p})]})};zs.propTypes={shadows:u().array,textShadows:u().array,isInnerShaow:u().bool,unit:u().string.isRequired,ratio:u().number.isRequired,colorUnit:u().string.isRequired};var Gs=function(n){var t=n.shadows,r=n.unit,e=n.ratio,o=n.colorUnit;return t.map(function(s,l){var p=s.color,h=s.offset_x,M=h===void 0?0:h,N=s.offset_y,B=N===void 0?0:N,U=s.blur_radius,K=U===void 0?0:U,Q=s.spread,J=Q===void 0?0:Q,te=(0,Pt._F)(M,e,r),re=(0,Pt._F)(B,e,r),ie=(0,Pt._F)(K,e,r),se=(0,Pt._F)(J,e,r);return(0,v.jsxs)("div",{className:"shadow-item-gap",children:[p&&(0,v.jsx)(fr,{title:I18N.pInspect.color,color:Ln(p),colorUnit:o}),(0,v.jsx)(fr,{data:[te,re,ie,se],dataValue:[I18N.pInspect._x,I18N.pInspect._y,I18N.pInspect.blur,I18N.pInspect.spread]})]},l)})};Gs.propTypes={shadows:u().array,unit:u().string,ratio:u().number,colorUnit:u().string};var Wd=function(n){var t=n.colorUnit,r=n.borderSort,e=n.unit,o=n.ratio,s=n.isStroke;return(0,v.jsxs)(Fn,{children:[s?I18N.pInspect.stroke:I18N.pInspect.borders,r.reverse().map(function(l,p){var h=l.position,M=h===void 0?"inside":h,N=l.color,B=l.thickness,U=l.gradient,K=N&&Ln(N),Q=B&&(0,Pt._F)(B,o,e);return[N?(0,v.jsx)(fr,{color:K,title:I18N.pInspect.color,colorUnit:t},""+p+K):(0,v.jsx)($s,{gradient:U,colorUnit:t}),M&&(0,v.jsx)(fr,{title:I18N.pInspect.position,data:[M]},""+p+M),Q&&(0,v.jsx)(fr,{title:I18N.pInspect.thickness,data:[Q]},""+p+Q)]})]})};Wd.propTypes={isStroke:u().bool,borderSort:u().array.isRequired,colorUnit:u().string.isRequired,unit:u().string.isRequired,ratio:u().number.isRequired};var Fn=function(n){var t=n.children;return(0,v.jsxs)("section",{children:[(0,v.jsx)("div",{className:st()("header"),children:t[0]}),(0,v.jsx)("div",{className:st()("container"),children:t.slice(1)})]})};Fn.propTypes={children:u().array};var ci=c(91153),zS=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleInPreviewPanel",(0,d.Z)((0,a.Z)().mark(function o(){var s,l,p,h,M,N;return(0,a.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(s=e.props,l=s.isInspectInPanel,p=s.selectedPanel,h=s.dispatch,h({type:"container:layer:set-isInspectInPanel",payload:{isInspectInPanel:!l}}),!l){U.next=6;break}h({type:"entry:inspect:exit:panel"}),U.next=11;break;case 6:return U.next=8,h({type:"entry:inspect:active:panelstate",payload:{panelStateCid:p.screen_state_cid}});case 8:h({type:"entry:inspect:get:selectedPanel:widgetData",payload:{panelStateCid:p.screen_state_cid}}),N=((M=(0,Kn.Qu)(MB.currentProjectMeta.cid,p.screen_glue_cid))==null?void 0:M.type)==="project-template",rr("\u67E5\u770B\u66F4\u591A\u72B6\u6001-"+(N?"\u6BCD\u7248":"\u52A8\u6001\u7EC4\u4EF6"));case 11:case"end":return U.stop()}},o)}))),(0,f.Z)((0,ae.Z)(e),"handleStateChange",(0,d.Z)((0,a.Z)().mark(function o(s){var l,p,h;return(0,a.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return l=e.props,p=l.selectedPanel,h=l.dispatch,e.setState({currentState:s}),N.next=4,h({type:"entry:runner:activate:panel-state",payload:{targetStateCid:s,panel:p}});case 4:return N.next=6,h({type:"entry:inspect:active:panelstate",payload:{panelStateCid:s}});case 6:h({type:"entry:inspect:get:selectedPanel:widgetData",payload:{panelStateCid:s}});case 7:case"end":return N.stop()}},o)}))),e.state={currentState:null,currentPanelCid:r.selectedPanel.cid},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.selectedPanel,s=e.isInspectInPanel,l=e.selectedPanelSateList,p=this.state.currentState;if(!o||!l)return null;var h=l.map(function(N){return{value:N.cid,label:N.name}}),M=p||h.find(function(N){return N.value===o.screen_state_cid}).value;return(0,v.jsxs)("div",{className:"panelAction",children:[(0,v.jsx)("div",{className:"panelMoreStateButton",onPointerDown:this.handleInPreviewPanel,children:(0,v.jsx)("span",{className:st()("name",{exit:s}),children:s?"\u9000\u51FA":"\u67E5\u770B\u66F4\u591A\u72B6\u6001"})}),s&&(0,v.jsxs)("div",{className:"panelstate",children:[(0,v.jsx)("label",{className:"left-label",children:"\u72B6\u6001"}),(0,v.jsx)("div",{className:"right-content",children:(0,v.jsx)(ci.Z,{className:"panelstate-select",menuClassName:"panelstate-selectmenu",optionList:h,value:M,isRightAlign:!0,onChange:this.handleStateChange})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,o){if(e.selectedPanel!==o.currentPanelCid)return{currentState:null}}}]),t}(y.PureComponent),$d=function(n){var t=n.theme,r=n.layer,e=n.unit,o=n.ratio,s=n.showGlobal,l=n.userPickColor,p=l===void 0?[]:l,h=n.globalColor,M=h===void 0?[]:h,N=n.globalText,B=N===void 0?[]:N,U=n.documentColor,K=U===void 0?[]:U,Q=n.screenColor,J=Q===void 0?[]:Q,te=n.language,re=n.colorUnit,ie=n.selectedPanel,se=n.isInspectInPanel,ge=n.projectMetaCid,De=n.selectedPanelSateList,Me=n.dispatch,Fe=r.widget,nt=Fe.src_left,ot=Fe.src_top,dt=Fe.src_width,fe=Fe.src_height,ue=Fe.o,Se=Fe.origin_width,$e=Fe.origin_height,Ye=Fe.bd_radius,Xe=Fe.line_height,ut=Fe.bg_colors,mt=ut===void 0?[]:ut,pt=Fe.borders,It=pt===void 0?[]:pt,Ht=Fe.i,Vt=Fe.padding,Vr=Vt===void 0?0:Vt,$r=Fe.hiddSpacing,sn=$r===void 0?!1:$r,ln=Fe.text_styles,Tr=ln===void 0?[]:ln,Kr=Fe.alignment,na=Fe.vertical_alignment,aa=Fe.image,Hn=Fe.inspectText,Ma=Fe.letter_spacing,An=Fe.image_set_zip,ia=Fe.shadows,hr=ia===void 0?[]:ia,ir=Fe.inner_shadows,Cr=ir===void 0?[]:ir,wr=Fe.rotation,yr=Fe.rect_height,xn=Fe.rect_width,jn=Fe.textShadows,gi=jn===void 0?[]:jn,Xa=Fe.image_set,bo=Xa===void 0?[]:Xa,yi=Fe.mask,xo=yi===void 0?null:yi,Qa=Fe.ignore_underlying_mask,Co=Qa===void 0?!1:Qa,Si=It.length>0,wo=mt.length>0,Kh=!!aa,cn=Tr.length>0&&Hn&&!!js(Fe).length,fa=hr.length>0||gi.length>0,KM=Cr.length>0,YM=An,Eo={left:nt,top:ot,width:Se||dt,height:$e||fe,rectHeight:yr,rectWidth:xn,borderRadius:Ye,opacity:ue,rotation:wr,ratio:o,unit:e},Yh=dd(Fe)&&(Fe.name==="line"||Fe.name==="arrow");if(Yh){var Ll=(0,Qy.M_)(Fe,!0),XM=Ll.length,QM=Ll.thickness,_M=Ll.angle;Eo.width=XM,Eo.height=QM,Eo.rotation=_M}var Pa=By(Eo),Xh=Pa.adapterTop,Qh=Pa.adapterLeft,Nl=Pa.adapterWidth,jl=Pa.adapterHeight,_h=Pa.radius,JM=Pa.opacity,qM=Pa.rotate,eP={lineHeight:Xe,letterSpacing:Ma,unit:e,ratio:o},Jh=Fy(eP),qh=Jh.lineHeight,tP=Jh.letterSpacing,rP=typeof Ht=="number"?Ht?"italic":"normal":void 0,nP={textStyles:Tr,background:mt,borders:It,shadows:hr,innerShadows:Cr,colorUnit:re,ratio:o,unit:e},aP=Hy(nP),iP=ue&&ue!==100?ue/100:null,oP=Xy({attr:(0,O.Z)({x:Qh,y:Xh,width:Nl,height:jl,lineHeight:qh,textAlign:Kr,opacity:iP,borderRadius:_h},aP),language:te,unit:e}),sP=Kh?"ImageView":cn?"TextView":"View",Rl=dd(Fe)?(0,fd.oS)(Fe):Fe.name;return s?(0,v.jsxs)(y.Fragment,{children:[(0,v.jsx)(Ws,{title:I18N.pInspect.screen_name,value:Rl}),(0,v.jsx)(md,{adapterWidth:Nl,adapterHeight:jl,documentColor:K,globalText:B,globalColor:M,screenColor:J,userPickColor:p,colorUnit:re,dispatch:Me})]}):(0,v.jsxs)("div",{children:[ie&&(0,v.jsx)(zS,{projectMetaCid:ge,isInspectInPanel:se,selectedPanel:ie,selectedPanelSateList:De,dispatch:Me}),(0,v.jsx)(Ws,{value:Rl}),(0,v.jsx)(vd,{adapterTop:Xh,adapterLeft:Qh,adapterWidth:Nl,adapterHeight:jl,rotate:qM,radius:_h,opacity:JM,mask:xo,ignore_underlying_mask:Co,unit:e,colorUnit:re}),cn&&(0,v.jsx)(hd,{textStyles:Tr,alignment:Kr,vertical_alignment:na,lineHeight:qh,letterSpacing:tP,ratio:o,unit:e,o:ue,padding:Vr,fontStyle:rP,colorUnit:re,hiddSpacing:sn,text:js(Fe)}),wo&&(0,v.jsx)(Hd,{backgroundColorSort:mt,colorUnit:re}),Si&&(0,v.jsx)(Wd,{isStroke:Yh,borderSort:It,ratio:o,unit:e,colorUnit:re}),fa&&(0,v.jsx)(zs,{shadows:hr,textShadows:gi,colorUnit:re,unit:e,ratio:o}),KM&&(0,v.jsx)(zs,{shadows:Cr,colorUnit:re,unit:e,ratio:o,isInnerShaow:!0}),YM&&(0,v.jsx)(Fd,{imageSetZip:An,name:Rl,imageSet:bo}),(0,v.jsx)(Rd,{theme:t,code:oP,whichAndView:sP,language:te,text:js(Fe)||"",dispatch:Me})]})};$d.propTypes={projectMetaCid:u().string,selectedPanel:u().object,selectedPanelSateList:u().array,isInspectInPanel:u().bool,userPickColor:u().array,screenColor:u().array,documentColor:u().array,globalText:u().array,globalColor:u().array,theme:u().string,colorUnit:u().string,layer:u().object,showGlobal:u().bool,unit:u().string,ratio:u().number,language:u().string,dispatch:u().func};var GS=$d,VS=ze.default.div.withConfig({displayName:"styles__StyledLayerPanel",componentId:"sc-1ux5p4u-0"})(["display:flex;flex-direction:column;position:relative;z-index:100;width:260px;height:100%;font-size:12px;background-color:",";transition:left 0.5s ease-in-out;color:",";.layerInfo{position:relative;width:inherit;height:100%;overflow-x:hidden;overflow-y:auto;flex:1;& > div{width:inherit;}.Select{color:",";}.global-attributes{.color-dropdown{button{border-radius:2px;transition:box-shadow 0.5s;background-image:linear-gradient(45deg,#ccc 25%,transparent 0),linear-gradient(-45deg,#ccc 25%,transparent 0),linear-gradient(45deg,transparent 75%,#ccc 0),linear-gradient(-45deg,transparent 75%,#ccc 0);background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-clip:padding-box;overflow:hidden;}&.is-focus{button{box-shadow:0 0 0 2px #1e98ea;}}}}.layer-name{.panel-item-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;}}.panelAction{border-bottom:1px solid ",";padding:20px;width:100%;.panelMoreStateButton{text-align:center;cursor:pointer;.name{display:inline-block;width:100%;height:32px;line-height:32px;border:1px solid #1684FC;border-radius:4px;color:#1684FC;&.exit{background-color:#1684FC;color:#ffffff;}}}.panelstate{display:flex;align-items:center;margin-top:16px;.left-label{margin-right:38px;color:#5B6B73;}.right-content{label.panelstate-select{width:158px;}}}}.header{line-height:32px;height:32px;font-size:12px;color:",";background:",";font-weight:bold;padding:0 20px;}.panel{display:flex;height:22px;line-height:22px;margin-bottom:24px;position:unset;&::before{content:attr(data-value);min-width:62px;max-width:62px;color:",";}&.panel-item-text{height:60px;}&.panel-bottom-8{margin-bottom:8px;}&.shadow-panel{&::before{width:0 !important;}.panel-item{width:50px !important;}}.mult-panel-box{width:151px;display:flex;justify-content:space-between;flex:1;.panel-item{&::after{content:attr(data-value);min-width:62px;max-width:62px;color:",";}}}.single-panel-box{display:flex;flex:1;.panel-item{width:100%;}}.panel-item{width:73px;text-align:center;background:",";border-radius:2px;border:1px solid ",";cursor:pointer;margin-right:10px;&:last-child{margin-right:0;}&.panel-item-color{position:relative;display:flex;justify-content:flex-start;width:138px;.panel-item-value{text-indent:8px;text-align:left;width:138px;}}&.item-flex-1{flex:1;height:auto;}.panel-item-value{width:100%;max-width:158px;line-height:22px;user-select:text;&.text-content{flex:1;padding:0.25em 0.5em;height:100%;line-height:1.5;word-wrap:break-word;overflow-x:hidden;overflow-y:scroll;text-align:left;white-space:pre-wrap;}}.panel-item-color-block-wrap{position:absolute;right:0;top:-1px;width:100%;height:100%;border:inset 1px rgba(0,0,0,0.2);border-radius:2px;cursor:pointer;width:22px;height:22px;}.panel-item-color-block-imageback-wrap{background-image:linear-gradient(45deg,#ccc 25%,transparent 0),linear-gradient(-45deg,#ccc 25%,transparent 0),linear-gradient(45deg,transparent 75%,#ccc 0),linear-gradient(-45deg,transparent 75%,#ccc 0);background-size:12px 12px;background-position:-1px -1px,-1px 5px,5px -7px,-7px -1px;}.panel-item-color-block{height:100%;}}}.container{padding:20px 20px 12px;min-width:230px;&.global-layer{padding-top:0;height:60px;}.second-title{display:flex;margin-bottom:10px;color:",";}.code-content{position:relative;width:100%;overflow:hidden;color:",";font-size:12px;font-family:Menlo,Courier,monospace;line-height:22px;&.is-dark-theme{pre code{color:",";background:",";span{color:inherit;}}}pre{white-space:pre-wrap;}*{user-select:text;font-weight:normal;overflow:hidden;}}.text-content{flex:1;line-height:18px;word-wrap:break-word;}.global-font{line-height:22px;&::before{min-width:0 !important;}.panel-item-value{max-width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.panel-row{display:flex;flex-wrap:wrap;.Dropdown{margin:0 6px 6px 0;cursor:pointer;}.Tooltip{display:block;}.row-item.color-block{border:inset 1px rgba(0,0,0,0.2);width:18px;height:18px;border-radius:2px;&.row-margin{margin:0 6px 6px 0;cursor:pointer;}}}.panel-image{width:100%;height:50px;background-image:svg-load('./background.svg');object-fit:contain;}.image-download{justify-content:space-between;align-items:center;& a{height:19px;font-size:19px;color:#f55d54;}}.download-file-type{display:flex;align-items:center;}.download-file-type-icon{display:inline-block;text-align:center;color:#f55d54;border:1px solid currentColor;width:30px;height:19px;line-height:17px;vertical-align:middle;margin-right:9px;}}.shadow-item-gap{padding-bottom:20px;&:last-child{padding-bottom:0;}}.forbid-color{position:relative;width:18px;height:18px;border:1px solid #d9d9d9;margin-bottom:8px;background:#fff;cursor:not-allowed;overflow:hidden;.transparent{width:200%;position:absolute;left:0;top:0;border-top:1px solid #eb5648;transform:translateY(-50%) rotate(45deg);transform-origin:0 0;}}.slice-title{display:flex;justify-content:space-between;align-items:center;& > span{cursor:pointer;color:var(--copy-btn-color);}}.slice-panel{height:40px;display:flex;justify-content:flex-start;align-items:center;}.slice-item-wrap{min-width:40px;height:40px;border:1px solid #B7BBC1;border-radius:2px;display:flex;align-items:center;justify-content:center;overflow:hidden;& > img{box-shadow:rgba(25,39,45,0.4) 0 1px 4px;}}.slice-item-name{margin-left:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.slice-panel-item{height:24px;line-height:24px;margin-bottom:8px;text-indent:8px;color:#415058;background:#F6F7F8;border:1px solid #F2F2F2;border-radius:2px;}.copyBtn{cursor:pointer;float:right;color:",";&:focus{outline:0;}}@keyframes rotate-infinite{from{transform:rotate(0);}to{transform:rotate(720deg);}}}&.is-loading{justify-content:center;align-items:center;.layer-panel-loading{width:60px;height:60px;}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background},function(i){return i.theme.color_primary_proto01}),KS=(0,ze.createGlobalStyle)(["#IBOT_TOOLTIP_ROOT{.content{background-color:",";color:",";}}#IBOT_DROPDOWN_MENU_ROOT{.palette-dropdown-menu{color:#415058;width:auto;&.hex,&.argb{text-transform:uppercase;}.content{opacity:0.9;background-color:",";& > div{display:flex;justify-content:space-between;align-items:center;> span{display:block;width:-moz-max-content;width:-webkit-max-content;width:max-content;}}}.trash{margin-left:.5em;font-size:14px;color:#C8CDD0;cursor:pointer;}}}.textEllipsis{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}#IBOT_SELECT_MENU_ROOT{ul.CodeBoxSelectMenu{background-color:",";width:100%;padding:0 0.5em;font-size:12px;min-width:7em;.SelectOption{color:",";justify-content:center;margin:0.5em 0;border-radius:2px;&:not(.is-active):hover{color:",";background-color:",";}&.is-active{color:",";background-color:",";}}}}"],function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background}),yn=c(55899),RP=function(i){return i.SHELL="download_settings_show_shell",i.STATE="download_settings_state_type",i.SCALE="download_settings_scale",i.STICKY="download_settings_show_sticky",i.FULLSCREEN="download_settings_full_screen",i}({}),Zr=function(i){return i.PNG="png",i.PDF="pdf",i.HTMLZIP="htmlzip",i.APK="apk",i.SVG="svg",i}({}),kP=function(i){return i.CURRENT_PAGE="currentPage",i.ALL_PAGE="allPage",i}({}),ZP=function(i){return i.ALL="allState",i.SOME="someState",i}({}),YS=40,XS=ze.default.footer.withConfig({displayName:"styles__StyledWidgetExport",componentId:"sc-s2el0m-0"})(["position:relative;display:flex;flex-direction:column;align-items:flex-start;height:1px;transition:all 0.2s ease-in-out;overflow:hidden;&.is-open{height:auto;border-top:none;box-shadow:",";}.export-panel{width:100%;height:auto;display:flex;flex-direction:column;align-items:stretch;.export-header{display:flex;justify-content:space-between;padding:0 5px 10px 14px;margin-top:16px;border-bottom:1px solid ",";.label{color:",";font-weight:600;align-self:center;}}.svg-icon-wrapper{color:",";width:24px;height:24px;cursor:pointer;text-align:center;border-radius:4px;&.is-disabled{cursor:not-allowed;color:",";}&:not(.is-disabled):hover{background-color:",";}&:not(.is-disabled).active{background-color:",";}svg{width:24px;height:24px;}&.caret{margin-left:auto;}}.export-settings{display:flex;flex-direction:column;padding:10px 5px 0 8px;.export-state{display:flex;align-items:center;height:28px;margin-bottom:4px;label{width:212px;height:28px;}}.is-multi-select-includes-panel-tip{background-color:rgba(22,132,252,0.1);width:202px;height:28px;color:",";align-self:center;border-radius:2px;line-height:28px;text-align:center;margin-top:3px;margin-bottom:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 7px;}.select-label{display:flex;justify-content:space-between;align-items:center;padding-right:30px;margin-top:-2px;margin-bottom:11px;span{width:60px;text-align:center;color:",";&.ratio{margin-left:6px;width:40px;}&.affix{margin-left:14px;width:72px;}&.format{margin-left:7px;width:60px;}}}.export-second{display:flex;justify-content:space-between;flex-direction:column;& > div.select{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px;button:disabled{color:#c8cdd0;cursor:not-allowed;}.ratio{width:56px;}.affix{width:85px;.affix-select{button{display:flex;align-items:center;justify-content:center;}}}.format{width:56px;input{color:",";background-color:",";border:none;}}& > label{width:100%;height:28px;border-radius:4px;}& > span{color:",";line-height:20px;}}}}}"],function(i){return i.theme.export_bar_box_shadow},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_text_L3},function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L3}),zd=ze.default.div.withConfig({displayName:"styles__StyledExportButton",componentId:"sc-s2el0m-1"})(["width:100%;height:","px;background:",";padding:0 10px;display:flex;justify-content:flex-end;align-items:center;z-index:1;border-top:",";.RegularButton{width:100%;height:28px;color:",";line-height:28px;text-align:center;background:",";border-radius:4px;border:1px solid ",";transition:all 0.2s ease-in-out;cursor:pointer;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-size:1em;padding:0 15px;.svg-icon.loading{animation:spinning 2s linear infinite;}&:enabled:hover{color:",";background:",";border:1px solid ",";}}"],YS,function(i){return i.theme.color_background_white},function(i){return i.isOpen?"none":"1px solid "+i.theme.color_background_split},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_split},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_split}),QS=(0,ze.createGlobalStyle)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.WorkspaceSelectMenu.export-select-menu.is-open{width:90px;}.select-format-menu{right:0;}}}"]),Gd=[{label:"1x",value:"1"},{label:"2x",value:"2"},{label:"3x",value:"3"}],_S=["prefix","suffix"],to=Gd.map(function(i){return i.value}),Vd=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e,o;(0,P.Z)(this,t),o=n.call(this,r),(0,f.Z)((0,ae.Z)(o),"handleClick",function(){var h=o.props,M=h.onCheck,N=h.onExport,B=h.isWidgetBeingExported,U=h.dispatch;if(!(M&&M())&&!B){var K=o.state,Q=K.configs,J=K.panelStates;N({panelStates:J,configs:Q,dispatch:U})}}),(0,f.Z)((0,ae.Z)(o),"handleChangeConfig",function(h,M){var N=o.props,B=N.onUpdateProject,U=N.dispatch;o.setState(function(K){var Q=Array.from(K.configs),J=Q[M].format===Zr.SVG&&Q[M].format!==h.format;Q.splice(M,1,h);var te=h.format===Zr.PNG&&Q[M].format!==h.format?[].concat((0,nr.Z)(K.availablePNGScale),[h.scale]):to.filter(function(re){return!Q.filter(function(ie){return ie.format===Zr.PNG}).map(function(ie){return ie.scale}).includes(re)});return B({exportSettings:Q,dispatch:U}),{configs:Q,availablePNGScale:te,isSvgOptionAvailable:J}})}),(0,f.Z)((0,ae.Z)(o),"handleInsertConfig",function(){var h=o.props,M=h.isSelectSvgIconsOnly,N=h.onUpdateProject,B=h.dispatch,U=o.state,K=U.availablePNGScale,Q=U.isSvgOptionAvailable;K.length<=0&&!Q||o.setState(function(J){var te=Array.from(J.configs),re=to.filter(function(ge){return!te.filter(function(De){return De.format===Zr.PNG}).map(function(De){return De.scale}).includes(ge)}),ie=re.length,se=J.configs.concat(ie?[{scale:re.shift(),affix:"suffix",format:Zr.PNG}]:Q?[{scale:"1",affix:"suffix",format:Zr.SVG}]:[]);return N({exportSettings:se,dispatch:B}),{configs:se,availablePNGScale:re,isSvgOptionAvailable:M&&se.filter(function(ge){return ge.format===Zr.SVG}).length<1}})}),(0,f.Z)((0,ae.Z)(o),"handleRemoveConfig",function(h){var M=o.props,N=M.isSelectSvgIconsOnly,B=M.onUpdateProject,U=M.dispatch,K=o.state.configs;K.length<=1||o.setState(function(Q){var J=Array.from(Q.configs);J.splice(h,1);var te=to.filter(function(ie){return!J.filter(function(se){return se.format===Zr.PNG}).map(function(se){return se.scale}).includes(ie)}),re=N&&!J.find(function(ie){return ie.format===Zr.SVG});return B({exportSettings:J,dispatch:U}),{configs:J,availablePNGScale:te,isSvgOptionAvailable:re}})}),(0,f.Z)((0,ae.Z)(o),"handleChangePanelState",function(h){o.setState({panelStates:h})}),(0,f.Z)((0,ae.Z)(o),"onShowTipsByTarget",function(h,M){var N=M.querySelector(".is-multi-select-includes-panel-tip");return N.offsetWidth<N.scrollWidth}),(0,f.Z)((0,ae.Z)(o),"handleClose",function(){var h=o.props,M=h.setIsOpen,N=h.onUpdateProject,B=h.dispatch,U=o.state.configs;M(!1),N({exportSettings:U,dispatch:B})});var s=[r.isSelectSvgIconsOnly?{format:Zr.SVG,scale:"1",affix:"suffix"}:{format:Zr.PNG,scale:"1",affix:"suffix"}],l=(e=r.exportSettings)!=null&&e.length?r.isSelectSvgIconsOnly?r.exportSettings:r.exportSettings.map(function(h){return h.format===Zr.SVG?(0,O.Z)((0,O.Z)({},h),{},{format:Zr.PNG}):h}):s,p=to.filter(function(h){return!l.filter(function(M){return M.format===Zr.PNG}).map(function(M){return M.scale}).includes(h)});return o.state={configs:l,availablePNGScale:p,isSvgOptionAvailable:!1,panelStates:r.defaultPanelStateCid},o}return(0,S.Z)(t,[{key:"render",value:function(){var e,o=this,s=this.props,l=s.isWidgetBeingExported,p=s.selectedWidgetsCount,h=s.panelStatesList,M=s.isSelectOnlyOnePanel,N=s.isMultiSelectIncludesPanel,B=s.isSelectSvgIconsOnly,U=s.widgetDisplayName,K=s.dispatch;if(!p)return null;var Q=this.state,J=Q.panelStates,te=Q.configs,re=Q.availablePNGScale,ie=Q.isSvgOptionAvailable,se=h.map(function(De){return{label:De.name,value:De.cid}});h.length>1&&se.unshift({label:I18N.WidgetExport.all_states,value:h.map(function(De){return De.cid}).join("/")});var ge=((e=se.find(function(De){return De.value===J}))==null?void 0:e.label)||"";return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(XS,{className:st()({"is-open":!0}),children:(0,v.jsxs)("div",{className:st()("export-panel",{"is-open":!0}),children:[(0,v.jsxs)("div",{className:"export-header",children:[(0,v.jsx)("label",{className:"label",children:I18N.WidgetExport.export}),(0,v.jsx)("div",{className:"svg-icon-wrapper caret",children:(0,v.jsx)(At.q,{name:"common/expand/plus",onClick:this.handleClose})}),(0,v.jsx)("div",{className:(0,yt.A1)(["svg-icon-wrapper","add",re.length<=0&&!ie&&"is-disabled"]),children:(0,v.jsx)(At.q,{name:"common/add",onClick:this.handleInsertConfig})})]}),(0,v.jsxs)("div",{className:"export-settings",children:[M&&(0,v.jsx)("div",{className:"export-state",children:(0,v.jsx)(ci.Z,{value:J,optionList:se,onChange:this.handleChangePanelState})}),N&&(0,v.jsx)(xs.Z,{content:I18N.WidgetExport.dynamic_widget_is_exported_with_default_state_only,onShowTipByTarget:this.onShowTipsByTarget,children:(0,v.jsx)("span",{className:"is-multi-select-includes-panel-tip",children:I18N.WidgetExport.dynamic_widget_is_exported_with_default_state_only})}),(0,v.jsxs)("div",{className:"export-second",children:[te.map(function(De,Me){return(0,v.jsx)(Kd,{id:Me,config:De,availablePNGScale:re,isSelectSvgIconsOnly:B,isRemoveButtonDisabled:te.length<=1,isSvgOptionAvailable:ie,handleRemoveConfig:o.handleRemoveConfig,onChange:o.handleChangeConfig,dispatch:K},Me)}),(0,v.jsxs)("div",{className:"select-label",children:[(0,v.jsx)("span",{className:"ratio",children:I18N.WidgetExport.times}),(0,v.jsx)("span",{className:"affix",children:I18N.WidgetExport.prefix_suffix}),(0,v.jsx)("span",{className:"format",children:I18N.WidgetExport.format})]})]})]})]})}),(0,v.jsx)(zd,{isOpen:!0,children:(0,v.jsx)(yn.ZP,{loading:l,onClick:this.handleClick,children:p>1?B?""+I18N.WidgetExport.export_selected_icons.replace("%selectedIconCount%",p):""+I18N.WidgetExport.export_selected_layers.replace("%selectedLayerCount%",p):M?""+I18N.WidgetExport.export+ge:""+I18N.WidgetExport.export+U})})]})}}]),t}(y.PureComponent);(0,f.Z)(Vd,"propTypes",{isSelectSvgIconsOnly:u().bool.isRequired,isSelectOnlyOnePanel:u().bool.isRequired,isMultiSelectIncludesPanel:u().bool.isRequired,isWidgetBeingExported:u().bool.isRequired,selectedWidgetsCount:u().number.isRequired,widgetDisplayName:u().string.isRequired,defaultPanelStateCid:u().string,panelStatesList:u().array,exportSettings:u().array,setIsOpen:u().func.isRequired,onExport:u().func.isRequired,onCheck:u().func,onUpdateProject:u().func,dispatch:u().func});var Kd=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleRemove",function(){var l=r.props,p=l.id,h=l.handleRemoveConfig;h(p)}),(0,f.Z)((0,ae.Z)(r),"handleChangeParam",function(l,p){var h=r.props,M=h.id,N=h.config;r.props.onChange((0,O.Z)((0,O.Z)({},N),{},{[p]:l}),M)}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.isSelectSvgIconsOnly,l=o.isRemoveButtonDisabled,p=o.availablePNGScale,h=o.config,M=h.format,N=h.scale,B=h.affix,U=_S.map(function(J){return{label:I18N.WidgetExport[J],value:J}}),K=Gd.map(function(J){return p.includes(J.value)?Object.assign({},J,{isDisabled:!1}):Object.assign({},J,{isDisabled:J.value!==N})}),Q=[{label:"PNG",value:Zr.PNG,isDisabled:M===Zr.PNG?!1:p.length<=0||!p.includes(N)},{label:"SVG",value:Zr.SVG,isDisabled:M===Zr.SVG?!1:N!=="1"}];return(0,v.jsxs)("div",{className:"select",children:[(0,v.jsx)("div",{className:"ratio",children:(0,v.jsx)(ci.Z,{isDisabled:M===Zr.SVG,className:"select",menuClassName:"export-select-menu",value:N,optionList:K,onChange:function(te){return e.handleChangeParam(te,"scale")}})}),(0,v.jsx)("div",{className:"affix",children:(0,v.jsx)(ci.Z,{isDisabled:M===Zr.SVG,className:"affix-select",menuClassName:"export-select-menu",value:B,optionList:U,onChange:function(te){return e.handleChangeParam(te,"affix")}})}),(0,v.jsx)("div",{className:"format",children:(0,v.jsx)(ci.Z,{isDisabled:!s,className:"select",menuClassName:"export-select-menu select-format-menu",value:M,optionList:Q,onChange:function(te){return e.handleChangeParam(te,"format")}})}),(0,v.jsx)("div",{className:(0,yt.A1)(["svg-icon-wrapper","remove",l&&"is-disabled"]),children:(0,v.jsx)(At.q,{className:"remove",name:"common/subtract",isDisabled:l,onClick:this.handleRemove})}),(0,v.jsx)(QS,{})]})}}]),t}(y.PureComponent);(0,f.Z)(Kd,"propTypes",{id:u().number,config:u().object,handleRemoveConfig:u().func,onChange:u().func,availablePNGScale:u().array,isRemoveButtonDisabled:u().bool,isSelectSvgIconsOnly:u().bool});var JS=function(n){var t=n.configs,r=n.dispatch;r({type:"entry:preview:export",payload:{configs:t}})},qS=function(n){var t=n.exportSettings,r=n.dispatch;r({type:"entry:preview:update:root-project:exportSettings",payload:{exportSettings:t}})},Yd=function(n){var t=n.previewOptions,r=n.selectedWidgetsCount,e=n.isSelectSvgIconsOnly,o=n.dispatch,s=n.exportWidgetTreeCids,l=n.isWidgetBeingExported,p=n.widgetDisplayName,h=n.isSignIn,M=n.isSketch,N=n.trackWidgetName,B=n.exportSettings,U=(0,y.useState)(!1),K=(0,F.Z)(U,2),Q=K[0],J=K[1],te=function(){(0,Pt.aF)("proto-inspect",!0,"","a32"),h&&J(!0),sv(h,M,N)};return t.isHTMLZip||M||!r?null:Q?(0,v.jsx)(Vd,{isSelectSvgIconsOnly:e,isMultiSelectIncludesPanel:!1,isSelectOnlyOnePanel:!1,isWidgetBeingExported:l,isLogin:!0,onExport:JS,setIsOpen:J,dispatch:o,widgetDisplayName:p,selectedWidgetsCount:r,panelStatesList:[],exportSettings:B,onUpdateProject:qS},s):(0,v.jsx)(zd,{isOpen:Q,children:(0,v.jsx)(yn.ZP,{loading:l,onClick:te,children:I18N.WidgetExport.export})})};Yd.propTypes={previewOptions:u().object,selectedWidgetsCount:u().number,isSelectSvgIconsOnly:u().bool,dispatch:u().func,exportWidgetTreeCids:u().string,isWidgetBeingExported:u().bool,widgetDisplayName:u().string,isSignIn:u().bool,isSketch:u().bool,trackWidgetName:u().string,exportSettings:u().array};var eb=Yd,tb=(0,sr.P1)([ne.GP,Yr,ja,La,ne.ts,ne.CD,ne.vo],function(i,n,t,r,e,o,s){var l,p=o.isOnPremises,h=n!==-1?[hn(n,t)]:[],M=h.map(function(ge){return ge.widget.cid}).join("-"),N=h.length,B="",U=!1,K=!1,Q="";if(N>0){var J,te,re,ie=(J=h[0])==null?void 0:J.widget;U=ie.name==="svg_icon_path",B=ie.name==="rich_text"?(0,fd.gh)(ie):ie.display_name||ie.name,K=Ia((te=h[0])==null||(re=te.widget)==null?void 0:re.id),Q=K?ie==null?void 0:ie.type:dr(ie==null?void 0:ie.name)||""}var se=!!(e!=null&&e.id)||p;return{previewOptions:i,selectedWidgetsCount:N,isSelectSvgIconsOnly:U,exportWidgetTreeCids:M,isWidgetBeingExported:r,widgetDisplayName:B,isSignIn:se,isSketch:K,trackWidgetName:Q,exportSettings:(l=s.attr)==null?void 0:l.export_settings}}),rb=(0,H.connect)(function(i){return tb(i)})(eb),Xd=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"setScrollLayerRef",function(l){return r.layerRef=l}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.clipBoard=new(Rs())('[data-type="copy"]')}},{key:"componentWillUnmount",value:function(){this.clipBoard.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.screenCid;o!==this.props.screenCid&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!1}})}},{key:"componentDidUpdate",value:function(e){e.layer&&this.props.layer&&e.layer.id!==this.props.layer.id&&this.layerRef&&(this.layerRef.scrollTop=0)}},{key:"render",value:function(){var e=this.props,o=e.theme,s=e.isSelectLayer,l=e.layer,p=!l;return(0,v.jsxs)(VS,{className:p?"is-loading":"",children:[p?(0,v.jsx)(Yy.Z,{className:"layer-panel-loading"}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"layerInfo",ref:this.setScrollLayerRef,children:(0,v.jsx)(GS,(0,O.Z)((0,O.Z)({},this.props),{},{showGlobal:!s,theme:o}))}),(0,v.jsx)(rb,{})]}),(0,v.jsx)(KS,{})]})}}]),t}(y.PureComponent);(0,f.Z)(Xd,"propTypes",{theme:u().string,colorUnit:u().string.isRequired,isSelectLayer:u().bool.isRequired,unit:u().string.isRequired,ratio:u().number.isRequired,layer:u().object,screenCid:u().string,selectedPanel:u().object,isInspectInPanel:u().bool,dispatch:u().func.isRequired});var Qd=(0,H.connect)(function(i){var n=(0,ne.vo)(i),t=n.device,r=(0,ne.e4)(i),e=r.cid,o=(0,ne.CL)(i),s=o.cid,l=(0,ne.kc)(i),p=Yr(i),h=nv(i),M=ja(i),N=Gl(i),B=p===-1?s:p,U=hn(B,M),K=nb(N,h,t),Q=(0,ne.gh)(i),J=Mn(i),te=Na(i),re=iv(i);return(0,O.Z)((0,O.Z)({theme:Q,screenCid:s,layer:U,selectedPanel:J,isInspectInPanel:te,projectMetaCid:e,selectedPanelSateList:re},l),K)})(Xd),nb=(0,Pt.LL)(function(i,n,t){var r=[],e=[],o=[],s=[];if(i){var l=Uy(n);r=l.screenColor,s=l.globalText,e=i.documentColor,o=i.globalColor}return{screenColor:r,documentColor:e,globalColor:o,globalText:s}}),Vs=c(82418),ab=ze.default.div.withConfig({displayName:"styles__StyledLeftPane",componentId:"sc-94efnw-0"})(["position:relative;height:100%;transition:",";z-index:100;.preview-panel-wrapper{position:absolute;top:0;right:0;height:100%;width:100%;}svg:not(.","):not(.","):not(.",") > *{fill:currentColor;}&:hover{.toggle-minimized-button{&:not(.is-minimized){opacity:1;pointer-events:auto;}}}&.is-fullscreen-mode{opacity:0;pointer-events:none;}.border-resizer.right{right:-1px;&:hover{background-color:rgba(22,132,252,.6);}&.active{background-color:rgba(22,132,252,.6);}}"],function(i){return i.isScreenListDragging?"none":"all 0.2s ease-in-out"},Vs.ad,Vs.HX,Vs.Hr),_d=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"toggleMinimized",function(){var o=e.props,s=o.isMinimized,l=o.isEmbedV2,p=s?"\u9875\u9762\u9762\u677F\u663E\u793A":"\u9875\u9762\u9762\u677F\u5173\u95ED";e.props.dispatch({type:"entry:preview-setting:toggle:isMinimized"}),l&&(0,C.U1)("embed_share_links_click",{operation_type:p})}),(0,f.Z)((0,ae.Z)(e),"handleWidthChange",function(o){MB.action?MB.action("screenList:set:width",{width:o,projectCid:e.props.currentProject.cid}):(0,Tt.iO)("layer_left_panel_width_"+e.props.currentProject.cid,o,Tt.cM.Number),e.setState({screenListWidth:o})}),(0,f.Z)((0,ae.Z)(e),"handleResizeStart",function(){e.setState({isScreenListDragging:!0}),rr("\u62D6\u62FD\u5DE6\u4FA7\u680F")}),(0,f.Z)((0,ae.Z)(e),"handleResizeEnd",function(){return e.setState({isScreenListDragging:!1})}),e.state={isScreenListDragging:!1,screenListWidth:(0,Tt.RD)("layer_left_panel_width_"+e.props.currentProject.cid,xr.Pw,Tt.cM.Number)},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isLayerPanelShow,s=e.isCommentPanelShow,l=e.isScreenPanelShow,p=e.isFullScreenMode,h=e.isMinimized,M=e.isEmbedV2,N=e.isButtonHovered,B=this.state,U=B.isScreenListDragging,K=B.screenListWidth;if(!(o||s||l))return null;var Q=l?this.state.screenListWidth:260;return(0,v.jsxs)(ab,{id:"mb-preview-leftpane",className:p&&!M?"is-fullscreen-mode":"",style:{width:h?0:Q},isScreenListDragging:U,children:[l&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"preview-panel-wrapper",children:(0,v.jsx)(qu,{})}),(0,v.jsx)(gs,{isClassic:!1,placement:"right",isMinimized:h,onClick:this.toggleMinimized,dispatch:this.props.dispatch}),!h&&!N&&(0,v.jsx)(ba,{placement:"right",className:"v-resizer",value:K,min:xr.AX,max:xr.$k,onResizeStart:this.handleResizeStart,onResizeEnd:this.handleResizeEnd,onChange:this.handleWidthChange})]}),o&&(0,v.jsx)(Qd,{}),s&&(0,v.jsx)(au,{})]})}}]),t}(y.PureComponent);(0,f.Z)(_d,"propTypes",{isScreenPanelShow:u().bool,isLayerPanelShow:u().bool,isCommentPanelShow:u().bool,isMinimized:u().bool,isFullScreenMode:u().bool,isEmbedV2:u().bool,dispatch:u().func,isButtonHovered:u().bool,currentProject:u().object});var ib=function(n){return n.container.common.isButtonHovered},ob=(0,sr.P1)([ne.Ds,ne.v8,ne.XL,ne.jQ,ne.GP,ib,ne.vo],function(i,n,t,r,e,o,s){var l=n,p=!1,h=!1,M=e.isEmbedV2;return{toolbarActiveItem:i,isScreenPanelShow:l,isLayerPanelShow:p,isCommentPanelShow:h,isFullScreenMode:t,isMinimized:r,isEmbedV2:M,isButtonHovered:o,currentProject:s}}),Ks=(0,H.connect)(function(i){return ob(i)})(_d),sb=ze.default.div.withConfig({displayName:"styles__StyledRightPane",componentId:"sc-1j1bcas-0"})(["position:relative;height:100%;transition:",";z-index:100;box-shadow:-1px 0 0 ",";.preview-panel-wrapper{position:absolute;top:0;left:0;height:100%;width:100%;}&:hover{.toggle-minimized-button{&:not(.is-minimized){opacity:1;pointer-events:auto;}}}&.is-fullscreen-mode{opacity:0;pointer-events:none;}"],function(i){return i.isScreenListDragging?"none":"all 0.2s ease-in-out"},function(i){return i.theme.color_background_split}),Jd=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"toggleMinimized",function(){var o=e.props.dispatch;o({type:"entry:preview-setting:toggle:isMinimized"})}),(0,f.Z)((0,ae.Z)(e),"handleWidthChange",function(o){e.setState({screenListWidth:o})}),(0,f.Z)((0,ae.Z)(e),"handleResizeStart",function(){e.setState({isScreenListDragging:!0}),rr("\u62D6\u62FD\u5DE6\u4FA7\u680F")}),(0,f.Z)((0,ae.Z)(e),"handleResizeEnd",function(){return e.setState({isScreenListDragging:!1})}),e.state={isScreenListDragging:!1,screenListWidth:xr.Pw},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isLayerPanelShow,s=e.isCommentPanelShow,l=e.isScreenPanelShow,p=e.isFullScreenMode,h=e.isMinimized,M=e.isButtonHovered,N=this.state,B=N.screenListWidth,U=N.isScreenListDragging;if(!(o||s||l))return null;var K=l?B:260;return(0,v.jsxs)(sb,{id:"mb-preview-rightpane",className:p?"is-fullscreen-mode":"",style:{width:h?0:K},isScreenListDragging:U,children:[l&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(gs,{isClassic:!0,placement:"left",isMinimized:h,onClick:this.toggleMinimized,dispatch:this.props.dispatch}),!h&&!M&&(0,v.jsx)(ba,{placement:"left",className:"v-resizer",value:B,min:xr.AX,max:xr.$k,onResizeStart:this.handleResizeStart,onResizeEnd:this.handleResizeEnd,onChange:this.handleWidthChange}),(0,v.jsx)("div",{className:"preview-panel-wrapper",children:(0,v.jsx)(qu,{})})]}),o&&(0,v.jsx)(Qd,{}),s&&(0,v.jsx)(au,{})]})}}]),t}(y.PureComponent);(0,f.Z)(Jd,"propTypes",{isScreenPanelShow:u().bool,isLayerPanelShow:u().bool,isCommentPanelShow:u().bool,isFullScreenMode:u().bool,isMinimized:u().bool,dispatch:u().func,isButtonHovered:u().bool});var lb=function(n){return n.container.common.isButtonHovered},cb=(0,sr.P1)([ne.Ds,ne.v8,ne.XL,ne.jQ,lb],function(i,n,t,r,e){var o=!1,s=i===xr.nh,l=i===xr.Ab;return{isScreenPanelShow:o,isLayerPanelShow:s,isCommentPanelShow:l,isFullScreenMode:t,isMinimized:r,isButtonHovered:e}}),qd=(0,H.connect)(function(i){return cb(i)})(Jd),ub=c(14839),db=c.n(ub),ep,tp;function rp(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var pb=ze.default.label(ep||(ep=rp(["\n  &.Textarea,\n  &.CoreTextarea,\n  &.Input,\n  &.CoreInput {\n    display: inline-block;\n    color: #415058;\n\n    input,\n    textarea {\n      font-size: inherit;\n      color: inherit;\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      &[readonly] {\n        color: #8d9ea7;\n      }\n      &:focus {\n        outline: 0;\n      }\n      &::placeholder {\n        color: #8d9ea7;\n      }\n    }\n  }\n\n  &.is-invalid input,\n  &.is-invalid textarea,\n  & input:not([type=email]):invalid,\n  & textarea:invalid {\n    border-color: #ff6161 !important;\n    box-shadow: 0 0 6px 0 rgba(#ff6161, .5) !important;\n  }\n\n  &:not(.unstyled) {\n    input,\n    textarea {\n      background-color: #f6f7f8;\n      border: 1px solid #f2f2f3;\n      border-radius: 2px;\n      caret-color: #298df8;\n      transition: 0.2s ease-out;\n      transition-property: background, border, box-shadow, opacity;\n      &:enabled:not([readonly]){\n        :hover {\n          border-color: #298df8;\n        }\n        :focus {\n          background-color: #fff;\n          border-color: #298df8;\n          box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n        }\n      }\n    }\n  }\n\n  &.is-readonly {\n    color: #8d9ea7;\n  }\n\n  &.Input,\n  &.CoreInput{\n    &.regular {\n      height: 34px;\n      font-size: 14px;\n    }\n    &.small {\n      height: 22px;\n      font-size: 12px;\n    }\n    input {\n      padding: 0 .5em;\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  &.Textarea,\n  &.CoreTextarea{\n    &.regular {\n      font-size: 14px;\n    }\n    &.small {\n      font-size: 12px;\n    }\n    textarea {\n    padding: .5em;\n    width: 100%;\n    min-height: 5em;\n    max-height: 10em;\n    resize: vertical;\n    &:disabled,\n    &[readonly] {\n      resize: none;\n    }\n    }\n  }\n\n  &.CoreInput:not(.unstyled) input,\n  &.CoreTextarea:not(.unstyled) textarea {\n    background-color: #fff;\n    border-color: #c8cdd1;\n  }\n\n  &.InputEmail, &.CoreInputEmail{\n    &:not(.unstyled).isnt-valid input {\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n      border-color: #ff6161 !important;\n    }\n  }\n"]))),fb=(0,ze.default)(pb)(tp||(tp=rp(["\n  &.InputNumber,\n  &.CoreInputNumber {\n    position: relative;\n    display: inline-block;\n    min-width: 2em;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    &:not(.unstyled).is-active input {\n      background-color: #fff;\n      border-color: #298df8;\n      box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n    }\n    &:not(.unstyled).isnt-valid input {\n      border-color: #ff6161 !important;\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n    }\n    &.is-disabled {\n      cursor: not-allowed;\n      > * {\n      opacity: 0.5;\n      }\n    }\n\n    &.is-disabled,\n    &.is-readonly {\n      .action {\n        visibility: hidden;\n      }\n    }\n\n    input {\n      padding-right: 1.5em;\n      padding-left: .5em;\n      font-family: inherit;\n    }\n    &.regular input{\n        padding-right: 2em;\n    }\n  }\n\n\n  &:not(.is-disabled):hover input:not([readonly]),\n  input:not([readonly]):focus {\n    & ~ .action {\n      opacity: 1;\n      transition: all 0.2s ease-out;\n    }\n  }\n\n  .action {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 1.5em;\n    height: 100%;\n    text-align: center;\n\n    &:not(.caret) {\n    opacity: 0;\n    }\n\n    svg {\n      height: 4px;\n      fill: currentColor;\n      fill-rule: evenodd;\n    }\n\n    &.caret {\n      button {\n        height: 100%;\n      }\n      svg {\n        transition: transform 0.2s ease-out;\n      }\n\n      /.InputNumber.is-menu-open .caret svg {\n        transform: rotate(180deg);\n      }\n    }\n\n    button {\n      display: block;\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      height: 50%;\n      line-height: 0;\n      color: #8d9ea7;\n      transition: all 0.1s ease-out;\n      &:hover {\n        color: #5b6b73;\n      }\n      &:active {\n        color: #298df8;\n      }\n      &[data-action=up] svg {\n        margin: 5px 0 2px;\n      }\n      &[data-action=down] svg {\n        margin: 2px 0 5px;\n      }\n    }\n  }\n\n  &.regular .action {\n    top: 50%;\n    transform: translateY(-50%);\n    width: 2em;\n    height: 28px;\n  }\n  &.with-desc {\n    margin-top: 6px;\n    margin-bottom: 1.5em;\n  }\n\n  .title,\n  .desc,\n  .prefix,\n  .suffix {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    height: 100%;\n    pointer-events: none;\n    user-select: none;\n    border: 1px solid transparent;\n  }\n\n  &.is-empty {\n    .prefix,\n    .suffix {\n      opacity: 0.3;\n    }\n  }\n\n  .title {\n    margin-left: .5em;\n    color: #8d9ea7;\n  }\n\n  .desc {\n    top: 100%;\n    width: 100%;\n    height: 1.5em;\n    line-height: 1.5;\n    justify-content: center;\n    color: #8d9ea7;\n  }\n  .prefix {\n    margin-left: .5em;\n  }\n  .suffix {\n    padding-left: .5em;\n    padding-right: 1.625em;\n    width: 100%;\n\n    &:before {\n    content: attr(data-value);\n    display: inline-block;\n    margin-right: 0.125em;\n    width: -moz-fit-content;\n    width: -webkit-fit-content;\n    width: fit-content;\n    overflow: hidden;\n    opacity: 0;\n    }\n  }\n"])));function np(i,n){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,r)}return t}function hb(i){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?np(Object(t),!0).forEach(function(r){Nr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):np(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function ap(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function ip(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,cp(r.key),r)}}function op(i,n,t){return n&&ip(i.prototype,n),t&&ip(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function sp(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),n&&Ys(i,n)}function Ys(i,n){return Ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Ys(i,n)}function lp(i){var n=mb();return function(){var r=ro(i),e;if(n){var o=ro(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return vb(this,e)}}function vb(i,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mr(i)}function Mr(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function mb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function ro(i){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(i)}function Nr(i,n,t){return n=cp(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function cp(i){var n=gb(i,"string");return typeof n=="symbol"?n:String(n)}function gb(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}var yb=500,Sb=30,bb=1e3,xb=function(n,t){return Number(Number(n).toFixed(t))},up=function(n,t){var r=n.shiftKey,e=n.metaKey;return t===void 0&&(t=1),r?t*10:e?t*100:t},Cb=function(n){return n===""||/^0?[+-]0*$/.test(n)||/^[+-]?\d*\.$/.test(n)},wb=function(n){var t=n.currentTarget;return setTimeout(function(){return t.select()},50)},Xs=function(i){sp(t,i);var n=lp(t);function t(){var r;ap(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),Nr(Mr(r),"state",{prevProps:r.props,value:(0,yt.xc)(r.props.value),isActive:!1,isValid:!0,isMenuOpen:!1}),Nr(Mr(r),"onChange",function(l){var p=l.target.value;r.setValue(p.trim(),l)}),Nr(Mr(r),"correctNumber",function(l){var p=r.props,h=p.min,M=p.max,N=p.precision;return xb(Math.min(Math.max(l,h),M),N)}),Nr(Mr(r),"checkValidity",function(l){return l===""||isFinite(l)&&r.correctNumber(l)===Number(l)}),Nr(Mr(r),"setValue",function(l,p){p.persist(),clearTimeout(r.correctionTimeout);var h=r.props,M=h.value,N=h.parser,B=h.placeholder,U=h.onChange,K=N(l.toString()).toString(),Q=l!=="0"&&!K&&!!B,J=r.checkValidity(K),te=l!==""&&isFinite(K),re=Cb(K);if(!(!te&&!re)){var ie=r.correctNumber(K),se=isNaN(ie)?M:ie,ge=Q?"":re||!J?K:se;r.setState({value:ge,isValid:J}),J?U(ge,p):Object.assign(Mr(r),{correctionTimeout:setTimeout(function(){return r.state.value===ge&&r.setState({value:se,isValid:!0},U(se,p))},bb)})}}),Nr(Mr(r),"focusOnInput",function(l){try{var p=l.currentTarget.closest("label").querySelector("input");setTimeout(function(){return p.focus()})}catch(h){console.error(h)}}),Nr(Mr(r),"onStep",function(l){l.persist(),l.nativeEvent.stopPropagation();var p=l.currentTarget.dataset.action,h=up(l,r.props.step)*(p==="up"?1:-1);r.setValue(r.correctNumber(Number(r.state.value)+h),l),r.focusOnInput(l),Object.assign(Mr(r),{longPressedTimeout:setTimeout(function(){return Object.assign(Mr(r),{steppingInterval:setInterval(function(){return r.setValue(r.correctNumber(Number(r.state.value)+h),l)},Sb)})},yb)})}),Nr(Mr(r),"onRelease",function(){clearTimeout(r.longPressedTimeout),clearInterval(r.steppingInterval)}),Nr(Mr(r),"onKeyDown",function(l){var p=l.key==="ArrowUp"?"up":l.key==="ArrowDown"?"down":null;if(p){l.persist(),l.nativeEvent.preventDefault();var h=up(l,r.props.step)*(p==="up"?1:-1);r.setValue(r.correctNumber(Number(r.state.value)+h),l)}}),Nr(Mr(r),"set$label",function(l){return Object.assign(Mr(r),{$label:l})}),Nr(Mr(r),"setActive",function(){return r.setState({isActive:!0})}),Nr(Mr(r),"setInactive",function(){return r.setState({isActive:!1})}),Nr(Mr(r),"toggleMenu",function(){return r.setState({isMenuOpen:!r.state.isMenuOpen})}),Nr(Mr(r),"closeMenu",function(){return r.setState({isMenuOpen:!1})}),Nr(Mr(r),"onSelect",function(l){l.persist();var p=l.currentTarget;r.setValue(p.dataset.value,l),r.closeMenu()}),Nr(Mr(r),"onClickOutside",function(l){var p=l.target;p.closest("label")&&r.$label.contains(p)||r.setInactive()}),Nr(Mr(r),"onBlur",function(l){var p=r.props,h=p.valueForEmptyInput,M=p.onBlur,N=r.state.value;M(l),!N&&db()(h)&&r.setValue(h,l)}),r}return op(t,[{key:"componentDidMount",value:function(){var e=this.$label,o=this.props,s=o.value,l=o.title,p=o.prefix,h=o.suffix,M=this.checkValidity(s);if(this.setState({isValid:M}),!(!l&&!p&&!h)){var N=e.querySelector("input"),B=e.querySelector(".action"),U=e.querySelector(".title"),K=e.querySelector(".prefix"),Q=e.querySelector(".suffix span"),J=parseInt(getComputedStyle(N).getPropertyValue("padding-left"));if(l||p){var te=(U?U.clientWidth+6:0)+(K?K.clientWidth:0),re={paddingLeft:te+J+"px"};Object.assign(N.style,re),l&&p&&Object.assign(K.style,{left:U.clientWidth+6+"px"}),h&&Object.assign(Q.parentNode.style,re)}if(h){var ie=B.clientWidth+Q.clientWidth;Object.assign(N.style,{paddingRight:ie+"px"})}}}},{key:"render",value:function(){var e=this.props,o=e.className,s=e.size,l=e.theme,p=e.unstyled,h=e.readOnly,M=e.placeholder,N=e.prefix,B=e.suffix,U=e.title,K=e.desc,Q=e.formatter,J=e.dontSelectOnFocus,te=e.onFocus,re=te===void 0?J?void 0:wb:te,ie=e.optionList,se=e.menuX,ge=this.state,De=ge.value,Me=ge.isActive,Fe=ge.isValid,nt=ge.isMenuOpen,ot=De==="",dt=this.props.isDisabled||this.props.disabled,fe=(0,yt.A1)([l==="core"?"CoreInput CoreInputNumber":"Input InputNumber",s,p&&"unstyled",o,Me&&!dt&&!h&&"is-active",nt&&"is-menu-open",dt&&"is-disabled",h&&"is-readonly",Fe?"is-valid":"isnt-valid",ot?"is-empty":"isnt-empty",!!U&&"with-title",!!K&&"with-desc",!!N&&"with-prefix",!!B&&"with-suffix"]),ue=ie&&ie.length>0;return(0,v.jsxs)(fb,{className:fe,ref:this.set$label,onMouseDown:this.setActive,children:[U&&(0,v.jsx)("span",{className:"title",children:U}),K&&(0,v.jsx)("span",{className:"desc",children:K}),N&&(0,v.jsx)("span",{className:"prefix",children:N}),(0,v.jsx)("input",hb({type:"text",value:Q(De),placeholder:M,disabled:dt,readOnly:h,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:re,onBlur:this.onBlur},(0,yt.l1)(this.constructor,this.props))),B&&(0,v.jsx)("span",{className:"suffix","data-value":Q(De),"data-suffix":B,children:(0,v.jsx)("span",{children:B})}),(0,v.jsx)(dp,{hasMenu:ue,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease}),ue&&(0,v.jsx)(eo,{isOpen:nt,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:ie,value:De,menuX:se,onChange:this.onSelect,onClose:this.closeMenu}),(Me||nt)&&(0,v.jsx)(Fr.Z,{target:document,onClick:this.onClickOutside})]})}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.value;if(!ai()(s,e)){var p=e.value;return{prevProps:e,value:(0,yt.xc)(p)}}return null}}]),t}(y.PureComponent);Nr(Xs,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),unstyled:u().bool,step:u().number,precision:u().number,formatter:u().func,parser:u().func,value:u().oneOfType([u().string,u().number]),valueForEmptyInput:u().oneOfType([u().string,u().number]),placeholder:u().oneOfType([u().string,u().number]),optionList:u().arrayOf(u().oneOfType([u().string,u().number])),menuX:u().oneOf(["left","center"]),dontSelectOnFocus:u().bool,title:u().node,desc:u().node,prefix:u().node,suffix:u().node,min:u().number,max:u().number,isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func.isRequired,onFocus:u().func,onBlur:u().func,className:u().string}),Nr(Xs,"defaultProps",{size:"regular",theme:"plain",unstyled:!1,value:"",valueForEmptyInput:null,placeholder:"",step:1,precision:1,parser:function(n){return n},formatter:function(n){return n},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null},onBlur:function(){return null}});var dp=function(i){sp(t,i);var n=lp(t);function t(){return ap(this,t),n.apply(this,arguments)}return op(t,[{key:"render",value:function(){var e=this.props,o=e.hasMenu,s=e.onToggleMenu,l=e.onStep,p=e.onRelease;return(0,v.jsx)(y.Fragment,{children:o?(0,v.jsx)("div",{className:"action caret",children:(0,v.jsx)(yn.ZP,{type:"text",tabIndex:"-1",onClick:s,children:(0,v.jsx)(_n.Z,{name:"triangle_down"})})}):(0,v.jsxs)("div",{className:"action",children:[(0,v.jsx)(yn.ZP,{type:"text",tabIndex:"-1","data-action":"up",onMouseDown:l,onMouseLeave:p,onMouseUp:p,children:(0,v.jsx)(_n.Z,{name:"triangle_up"})}),(0,v.jsx)(yn.ZP,{type:"text",tabIndex:"-1","data-action":"down",onMouseDown:l,onMouseLeave:p,onMouseUp:p,children:(0,v.jsx)(_n.Z,{name:"triangle_down"})})]})})}}]),t}(y.PureComponent);Nr(dp,"propTypes",{hasMenu:u().bool,onStep:u().func,onToggleMenu:u().func,onRelease:u().func});var BP={},Eb=["className","menuClassName"],ui=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.className,s=e.menuClassName,l=(0,ma.Z)(e,Eb);return(0,v.jsx)(li,(0,O.Z)((0,O.Z)({className:(0,yt.A1)(["ToolbarSelect",o]),menuClassName:(0,yt.A1)(["ToolbarSelectMenu",s])},l),{},{placeholder:" ",unstyled:!0,size:"small",menuX:"center"}))}}]),t}(y.PureComponent);(0,f.Z)(ui,"propTypes",{className:u().string,menuClassName:u().string});var Ab=ze.default.div.withConfig({displayName:"styles__StyledSubToolbar",componentId:"sc-1j9fs9c-0"})(["&{position:absolute;z-index:10;top:14px;left:50%;transform:translateX(-50%);display:flex;justify-content:center;align-items:center;min-width:263px;height:36px;background:",";border-radius:2px;box-shadow:0 2px 10px 0 rgba(82,94,113,0.1);pointer-events:auto;}.mode{display:flex;min-width:50px;justify-content:space-between;align-items:center;margin-left:20px;color:",";}.param{display:flex;flex:1;justify-content:center;align-items:center;margin:0 10px 0 20px;.Select{color:",";}}.dora{margin-top:-1px;font-size:15px;cursor:pointer;}.cursor.is-active{color:",";}.picker.is-active{color:",";}.ToolbarSelect{min-width:auto !important;&.color-unit{width:60px;button{text-align:center;}}&.device-unit{width:62px;button{text-align:center;}}&.em-pixel{width:52px;button{text-align:center;}}.caret{position:relative;margin:0 10px !important;color:#C8CDD0;}&:not(:last-child)::after{content:'';width:1px;height:12px;display:block;margin-right:10px;background-color:",";}}.px-ratio{color:",";margin-right:10px;}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L3},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L1}),Mb=(0,ze.createGlobalStyle)(["#IBOT_SELECT_MENU_ROOT{.PreviewSubToolbarSelectMenu{margin-left:-10px;background-color:",";.SelectOption{color:",";&:not(.is-active):hover{color:",";background-color:",";}&.is-active{color:",";background-color:",";}}}.PreviewSubToolbarSelectMenu.scale-select-menu{margin-left:-5px;width:80px;li:nth-last-child(2){display:none;}li:last-child{padding:0.25em 0;line-height:1.5;&:hover{background-color:transparent;}> .Ellipsis{padding:0;}.InputNumber{width:100%;height:30px;input{padding:0 1em;text-align:center;background-color:transparent;&:focus::placeholder{color:transparent;}}}}}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background}),pp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"updateSubToolbar",function(o){e.props.dispatch({type:"reducer:preview-toolbar:update",payload:(0,O.Z)({},o)})}),(0,f.Z)((0,ae.Z)(e),"pickColor",function(o){o.nativeEvent.stopImmediatePropagation(),e.updateSubToolbar({isShowColorPicker:!0,showLayerList:!1,isSelectLayer:!1})}),(0,f.Z)((0,ae.Z)(e),"updateDeviceUnit",function(o){var s=e.props.emPixel,l=Zb(o,s);e.updateSubToolbar(l?{unit:o,ratio:l}:{unit:o})}),(0,f.Z)((0,ae.Z)(e),"updateColorUnit",function(o){e.updateSubToolbar({colorUnit:o})}),(0,f.Z)((0,ae.Z)(e),"updateEmPixel",function(o){var s=Number(o);e.updateSubToolbar({emPixel:s,ratio:s}),e.setState({customEmPixel:""});var l=e.props.unit}),(0,f.Z)((0,ae.Z)(e),"onTypingEmPixel",function(o){if(o){e.setState({customEmPixel:o}),e.updateSubToolbar({emPixel:o,ratio:o});var s=e.props.unit}}),(0,f.Z)((0,ae.Z)(e),"handleMobileChange",function(o){var s=e.props.unit;e.updateSubToolbar({ratio:Number(o)})}),e.state={showLogin:!1,customEmPixel:""},e}return(0,S.Z)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.unit;this.props.unit!==o&&o===Qs&&this.updateSubToolbar({ratio:1})}},{key:"render",value:function(){var e=this.props,o=e.unit,s=e.emPixel,l=e.ratio,p=e.isShowColorPicker,h=e.colorUnit,M=e.isLogin,N=this.state.customEmPixel,B=o===_s||o===vp,U=o===Qs,K=o===_s?kb:Rb,Q=[{value:10,label:"10px"},{value:12,label:"12px"},{value:14,label:"14px"},{value:16,label:"16px"},{value:s,label:s+"px"},(0,v.jsx)("div",{onClick:function(te){return te.stopPropagation()},children:(0,v.jsx)(Xs,{size:"small",min:1,max:99,precision:0,value:N,placeholder:I18N.pInspect.custom,onChange:this.onTypingEmPixel})})];return(0,v.jsxs)(Ab,{className:st()("sub-toolbar","preview-sub-toolbar"),children:[(0,v.jsxs)("div",{className:"mode",children:[(0,v.jsx)(Pn.Z,{name:"cursor",type:"dora",className:(0,yt.A1)(["cursor",!p&&"is-active"])}),(0,v.jsx)(Zn.Z,{arrowed:!0,position:"bottom",duration:1500,className:(0,yt.A1)(["picker",p&&"is-active"]),tipClassName:"marign-top-20",content:{click:M?null:I18N.pInspect.guide_login,hover:I18N.pInspect.color_picker},children:(0,v.jsx)(Pn.Z,{name:"tube",type:"dora",onClick:this.pickColor})})]}),(0,v.jsxs)("div",{className:"param",children:[(0,v.jsx)(ui,{className:"color-unit",menuClassName:"PreviewSubToolbarSelectMenu",value:h,optionList:Lb,onChange:this.updateColorUnit}),(0,v.jsx)(ui,{className:"device-unit",menuClassName:"PreviewSubToolbarSelectMenu",optionList:Db,value:o,onChange:this.updateDeviceUnit}),B?(0,v.jsx)(ui,{menuClassName:"PreviewSubToolbarSelectMenu",optionList:K,value:l,onChange:this.handleMobileChange}):U?(0,v.jsx)("span",{className:"px-ratio",children:"@1x"}):(0,v.jsx)(ui,{className:"em-pixel",menuClassName:"PreviewSubToolbarSelectMenu scale-select-menu",optionList:Q,value:s,onChange:this.updateEmPixel})]}),(0,v.jsx)(Mb,{})]})}}]),t}(y.PureComponent);(0,f.Z)(pp,"propTypes",{unit:u().string,ratio:u().number,colorUnit:u().string,isShowColorPicker:u().bool,emPixel:u().number,isLogin:u().bool,dispatch:u().func});var Qs="px",fp="rem",hp="em",vp="pt",_s="dp",Pb={value:"hex",label:"Hex"},Tb={value:"rgba",label:"RGBA"},Ib={value:"argb",label:"ARGB"},Ob={value:"rgb",label:"RGB"},Db=[Qs,hp,fp,_s,vp],Lb=[Pb,Ob,Tb,Ib],Nb=[1,2,3],jb=[.75,1,1.5,2,3,4],Rb=Nb.map(function(i){return{value:i,label:"@"+i+"x"}}),kb=jb.map(function(i){return{value:i,label:"@"+i+"x"}}),Zb=function(n,t){return n===hp||n===fp?t:1},Bb=(0,H.connect)(function(i){var n=i.model.user,t=!!n.id,r=(0,ne.kc)(i),e=r.unit,o=r.emPixel,s=r.ratio,l=r.isShowColorPicker,p=r.colorUnit;return{isLogin:t,unit:e,emPixel:o,ratio:s,isShowColorPicker:l,colorUnit:p}})(pp),Fb=c(60348),Js=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;return(0,P.Z)(this,t),r=n.call(this),(0,f.Z)((0,ae.Z)(r),"handleScroll",function(e){e.stopPropagation();var o=e.target.dataset.axis,s=e.clientX,l=e.clientY,p=r.props,h=p.canvasOffset,M=h.x,N=h.y,B=p.viewportHeight,U=p.viewportWidth,K=p.canvasRange,Q=p.onScroll,J=o==="x"?U:B,te=function(se){var ge=se.clientY,De=se.clientX,Me=o==="x"?De-s:ge-l;Me=Me/(J-J/K[o]*J)*K[o];var Fe=o==="x"?{x:M-Me,y:N}:{x:M,y:N-Me};Q(Fe)},re=function ie(se){document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ie)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",re)}),(0,f.Z)((0,ae.Z)(r),"handleClickTrack",function(e){var o=e.target.dataset.axis,s=e.clientX,l=e.clientY,p=r.props,h=p.onScroll,M=p.canvasRange,N=p.viewportHeight,B=p.viewportWidth,U=r.scrollbarX.getBoundingClientRect(),K=U.top,Q=U.bottom,J=U.left,te=U.right,re=o==="x"?r.scrollbarX:r.scrollbarY,ie=o==="x"?s>te:l>Q,se=o==="x"?s<J:l<K,ge=o==="x"?B:N,De=function(){var nt=re.getBoundingClientRect(),ot=nt.top,dt=nt.bottom,fe=nt.left,ue=nt.right,Se=r.props.canvasOffset,$e=Se.x,Ye=Se.y,Xe=o==="x"?s>ue:l>dt,ut=o==="x"?s<fe:l<ot,mt=ut?-1:Xe?1:0,pt=mt*Math.min(M[o]/10,ge),It=o==="x"?{x:$e-pt,y:Ye}:{x:$e,y:Ye-pt};(Xe||ut)&&h(It)};(ie||se)&&(re.style.transition="all 0.1s linear",De(),r.timer=setTimeout(function(){return r.timeInterval=setInterval(De,100)},500));var Me=function Fe(nt){re.style.transition="",clearTimeout(r.timer),clearInterval(r.timeInterval),document.removeEventListener("mouseup",Fe)};document.addEventListener("mouseup",Me)}),r.setRefY=function(e){return r.scrollbarY=e},r.setRefX=function(e){return r.scrollbarX=e},r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.className,s=e.canvasOffset,l=s.x,p=s.y,h=e.canvasRange,M=e.viewportWidth,N=e.viewportHeight,B=e.showRuler,U=M/h.x,K=(h.x/2-l)*(h.x-M)/(h.x*h.x);K=Math.min(Math.max(K,0),(h.x-M)/h.x);var Q=N/h.y,J=(h.y/2-p)*(h.y-N)/(h.y*h.y);J=Math.min(Math.max(J,0),(h.y-N)/h.y);var te={width:U*100+"%",left:K*100+"%"},re={height:Q*100+"%",top:J*100+"%"},ie=B?null:{left:0},se=B?null:{top:0};return(0,v.jsxs)(Fb.U,{className:o,children:[(0,v.jsx)("div",{"data-axis":"x",className:"track x-track",style:ie,onMouseDown:this.handleClickTrack,children:(0,v.jsx)("div",{ref:this.setRefX,className:"handler","data-axis":"x",onMouseDown:this.handleScroll,style:te,children:(0,v.jsx)("div",{className:"thumb"})})}),(0,v.jsx)("div",{"data-axis":"y",className:"track y-track",style:se,onMouseDown:this.handleClickTrack,children:(0,v.jsx)("div",{ref:this.setRefY,className:"handler y-handler","data-axis":"y",onMouseDown:this.handleScroll,style:re,children:(0,v.jsx)("div",{className:"thumb"})})})]})}}]),t}(y.PureComponent);(0,f.Z)(Js,"propTypes",{className:u().string,canvasOffset:u().object,canvasRange:u().object,viewportWidth:u().number,viewportHeight:u().number,showRuler:u().bool,onScroll:u().func}),(0,f.Z)(Js,"defaultProps",{showRuler:!1});var Ub=(0,ze.default)(Js).withConfig({displayName:"ScrollBarContainer__StyledScrollBar",componentId:"sc-189r1kb-0"})(["&.is-fullscreen-mode{.track,.handler{opacity:0;pointer-events:none;}}"]),mp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleScroll",function(l){return r.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:l}})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.canvasRange,s=e.canvasOffset,l=e.viewport,p=e.isFullScreenMode,h=l.width,M=l.height;return(0,v.jsx)(Ub,{className:p?"is-fullscreen-mode":"",canvasOffset:s,viewportWidth:h,viewportHeight:M,canvasRange:o,onScroll:this.handleScroll})}}]),t}(y.PureComponent);(0,f.Z)(mp,"propTypes",{canvasOffset:u().object,viewport:u().object,canvasRange:u().object,isFullScreenMode:u().bool,dispatch:u().func});var Hb=(0,sr.P1)([ne.XL,ne.aO,ne.os,ne.it],function(i,n,t,r){return{isFullScreenMode:i,viewport:n,canvasOffset:t,canvasRange:r}}),Wb=(0,H.connect)(function(i){return Hb(i)})(mp),$b=c(17626),zb=ze.default.a.withConfig({displayName:"styles__StyledSimulatorDisplayModeNav",componentId:"sc-1c5k7a2-0"})(["position:relative;width:32px;height:36px;display:flex;justify-content:center;align-items:center;border:2px solid ",";background:",";transition:all 0.2s ease-out;cursor:pointer;.svg-icon{color:#fff;}"],function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_primary_proto01}),Gb=ze.default.ul.withConfig({displayName:"styles__StyledSimulatorDisplay",componentId:"sc-1c5k7a2-1"})(["list-style:none;position:absolute;padding:4px 0;width:108px;top:125px;left:calc(100% + 8px);background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);border-radius:2px;.option{display:flex;align-items:center;height:32px;padding:0 12px;color:",";transition:all 0.2s ease-out;cursor:pointer;.outside_artboard-icon{width:19px;height:16px;}.option-icon-box{display:flex;align-items:center;justify-content:center;width:22px;height:22px;margin-right:2px;}.svg-icon{transition:all 0.2s ease-out;color:",";}:hover{background:",";color:",";}&.active{background:",";color:",";.svg-icon{color:",";}}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_primary_proto01}),gp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"state",{isShowList:!1}),(0,f.Z)((0,ae.Z)(e),"OPTION_LIST",[{iconName:"art_board/preview/device",value:"device",label:I18N.pMainContent.prd_device,tooptipTitle:I18N.pMainContent.prd_device_des},{iconName:"art_board/preview/long_page",value:"long_page",label:I18N.pMainContent.prd_page,tooptipTitle:I18N.pMainContent.prd_page_des},{iconName:"art_board/preview/outside_artboard",value:"outside_artboard",label:I18N.pMainContent.prd_prd,tooptipTitle:I18N.pMainContent.prd_prd_des}]),(0,f.Z)((0,ae.Z)(e),"OPTION_TYPE",{device:"\u771F\u673A",long_page:"\u957F\u9875\u9762",outside_artboard:"\u753B\u5E03\u5916\u5185\u5BB9"}),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$element=o}),(0,f.Z)((0,ae.Z)(e),"handleToggleDisplayMode",function(o){o.stopPropagation();var s=e.props,l=s.dispatch,p=s.isEmbedV2,h=o.currentTarget.dataset.value;l({type:"entry:preview-setting:update:simulatorType",payload:{simulatorType:h}}),rr($b.ls[h]),p&&(0,C.U1)("embed_share_links_click",{operation_type:e.OPTION_TYPE[h]})}),(0,f.Z)((0,ae.Z)(e),"handleClickModeNav",function(o){o.stopPropagation(),e.handleToggleShow()}),(0,f.Z)((0,ae.Z)(e),"handleToggleShow",function(o){o===void 0&&(o=void 0);var s=e.state.isShowList,l=o===void 0?!s:o;e.setState({isShowList:l})}),(0,f.Z)((0,ae.Z)(e),"handleClickOutSide",function(o){var s=o.target,l=e.state.isShowList;l&&(s.closest(".modeNav")||s.closest(".display-mode-list")||e.handleToggleShow(!1))}),e.isDesign=(0,j.A)(location.pathname),e.isPreview=(0,j.G)(location.pathname),e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.simulatorType,l=o.isInspect,p=o.isShowOutsideArtboardNav,h=this.OPTION_LIST,M=this.state.isShowList;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(zr.Z,{content:"Preview mode",direction:"right",children:(0,v.jsx)(zb,{className:"nav modeNav",onClick:this.handleClickModeNav,children:(0,v.jsx)(At.q,{name:"art_board/preview/"+s,className:"mode-icon "+s+"-icon"})})}),M&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Gb,{className:"display-mode-list",children:h.map(function(N){var B=N.iconName,U=N.value,K=N.label,Q=N.tooptipTitle;return l&&U==="device"||!p&&U==="outside_artboard"?null:(0,v.jsx)(xs.Z,{content:Q,direction:"right",distance:8,maxWidth:"230px",children:(0,v.jsxs)("li",{className:st()("option",{active:U===s}),"data-value":U,onClick:e.handleToggleDisplayMode,children:[(0,v.jsx)("div",{className:"option-icon-box",children:(0,v.jsx)(At.q,{name:B,className:U+"-icon"})}),(0,v.jsx)("p",{children:K})]})},U)})}),(0,v.jsx)(Fr.Z,{target:document,onMouseDown:(0,Fr.Y)(this.handleClickOutSide,{capture:!0})})]})]})}}]),t}(y.PureComponent),Vb=ze.default.div.withConfig({displayName:"styles__StyledSettingList",componentId:"sc-1dhrmnk-0"})(["pointer-events:auto;position:absolute;top:16px;left:16px;.svg-icon{width:24px;height:24px;path{fill:currentColor;}}.nav-button{width:32px;height:36px;display:flex;justify-content:center;align-items:center;background:",";cursor:pointer;transition:background-color 0.2s ease-out;.svg-icon{color:",";}&:not(.disabled):not(.active):hover{background-color:",";}&.active{background:",";.svg-icon{color:#fff;}}&.disabled{opacity:0.4;cursor:not-allowed;}}.wrapper{background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);.nav{&:first-child{border-radius:2px 2px 0 0;}&:last-child{border-radius:0 0 2px 2px;}}.wrapper-padding{width:20px;height:1px;background:#dbdbdb;margin:4px 6px;}}.wrapper-top{margin-bottom:8px;border-radius:2px;}.shell-ellipsis{height:18px;display:flex;justify-content:center;align-items:center;pointer-events:none;.svg-icon{color:#5b6b73;}}.shell-button{box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);border-radius:2px;}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background_white}),Kb=c(3954),Yb=(0,Pe.V)(function(){var i={"zh-CN":{android:{customize:I18N.pMainContent.customize},web:{desktop:I18N.pMainContent.desktop,smart_tv:I18N.pMainContent.smart_tv},smart_car:{car_play:I18N.pMainContent.car_play},customize:{customize:I18N.pMainContent.customize}},en:{android:{customize:"Customize"}}};return i}),Xb={name:"customize"},yp=function(n){var t=n.device,r=n.model,e=window.MBLocale==="en"?"en":"zh-CN",o=Qi()(Kb,[t,r],Xb);return Qi()(Yb(),[e,t,r],o.name)},Sp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleToggleHighlight",function(){r.props.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!r.props.isHighlight}}),rr("\u94FE\u63A5\u9AD8\u4EAE-"+(r.props.isHighlight?"\u5F00":"\u5173"))}),(0,f.Z)((0,ae.Z)(r),"handleToggleStatePanel",function(){r.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!r.props.isStatePanelShow}}),rr("\u72B6\u6001\u9762\u677F-"+(r.props.isStatePanelShow?"\u5F00":"\u5173"))}),(0,f.Z)((0,ae.Z)(r),"handleToggleSticky",function(){r.props.dispatch({type:"entry:preview-setting:update:is-sticky-show",payload:{isStickyShow:!r.props.isStickyShow}}),r.props.dispatch({type:"reducer:toggle:annotatePanelShow"}),rr("\u6279\u6CE8-"+(r.props.isStickyShow?"\u5F00":"\u5173"))}),(0,f.Z)((0,ae.Z)(r),"handleToggleShellType",function(){var l=r.props,p=l.isShowShell,h=l.dispatch,M=!p;h({type:"entry:preview-setting:update:show:shell",payload:{isShowShell:M}}),rr("\u771F\u673A-"+(M?"\u7F51\u9875":"\u9690\u85CF\u8FB9\u6846"))}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.project,s=e.isHighlight,l=e.isStatePanelShow,p=e.isStickyShow,h=e.isPreview,M=e.isInspect,N=e.isComment,B=e.isFullScreenMode,U=e.isStickyAvailable,K=e.isShowOutsideArtboardNav,Q=e.isShowShell,J=e.simulatorType,te=e.isVersionEmbedded,re=e.dispatch;if(N||B)return null;var ie=J==="device";return(0,v.jsxs)(Vb,{id:"preview-setting-list",children:[(0,v.jsx)(zr.Z,{content:I18N.pMainContent.statePanel,direction:"right",children:(0,v.jsx)("a",{className:st()("nav","nav-button","wrapper","wrapper-top",{active:l}),onClick:this.handleToggleStatePanel,children:(0,v.jsx)(At.q,{name:"art_board/state",style:{fontSize:"24px"}})})}),!te&&(0,v.jsxs)("div",{className:"wrapper",children:[h&&(0,v.jsx)(zr.Z,{content:I18N.pMainContent.highlight_clickable,direction:"right",children:(0,v.jsx)("a",{className:st()("nav","nav-button",{active:s}),onClick:this.handleToggleHighlight,children:(0,v.jsx)(At.q,{name:"art_board/preview/highlight"})})}),(h||M)&&U&&(0,v.jsx)(zr.Z,{content:I18N.pMainContent.sticky_visible,direction:"right",children:(0,v.jsx)("a",{className:st()("nav","nav-button",{active:p}),onClick:this.handleToggleSticky,children:(0,v.jsx)(At.q,{name:"art_board/preview/sticky"})})}),(0,v.jsx)("div",{className:"wrapper-padding"}),(0,v.jsx)(gp,{isInspect:M,simulatorType:J,isShowOutsideArtboardNav:K,dispatch:re})]}),ie&&(0,v.jsx)("div",{className:"shell-ellipsis",children:(0,v.jsx)(At.q,{name:"preview/shell/ellipsis",style:{width:4,height:10}})}),ie&&(0,v.jsx)(zr.Z,{content:Q?""+yp(o):I18N.pMainContent.hide_border,direction:"right",children:(0,v.jsx)("a",{className:st()("nav","shell-button","nav-button",{active:Q}),onClick:this.handleToggleShellType,children:Q?(0,v.jsx)(At.q,{name:"art_board/shell/open"}):(0,v.jsx)(At.q,{name:"art_board/shell/close"})})})]})}}]),t}(y.PureComponent);(0,f.Z)(Sp,"propTypes",{isHighlight:u().bool,isStatePanelShow:u().bool,isPreview:u().bool,isInspect:u().bool,isComment:u().bool,isFullScreenMode:u().bool,isStickyShow:u().bool,isStickyAvailable:u().bool,isShowOutsideArtboardNav:u().bool,isVersionEmbedded:u().bool,simulatorType:u().string,project:u().object,isShowShell:u().bool,dispatch:u().func});var Qb=function(n){return n.container.previewSetting.isShowOutsideArtboardNav},_b=function(n){return n.container.previewSetting.isStickyAvailable},Jb=(0,sr.P1)([ne.vo,ne.Bi,ne.EZ,_b,ne.d9,ne.Ds,ne.XL,ne.HR,Qb,ne.XA,ne.ki],function(i,n,t,r,e,o,s,l,p,h,M){var N=xr.c6===o,B=xr.nh===o,U=xr.Ab===o;return{project:i,isHighlight:n,isStickyShow:t,isStickyAvailable:r,isStatePanelShow:e,isPreview:N,isInspect:B,isComment:U,isFullScreenMode:s,simulatorType:l,isShowOutsideArtboardNav:p,isVersionEmbedded:h,isShowShell:M}}),qb=(0,H.connect)(function(i){return Jb(i)})(Sp),ex=c(38634),bp=(0,ze.default)(ex.Z).withConfig({displayName:"styles__StyledStatePanel",componentId:"sc-urnbrm-0"})(["position:absolute;top:16px;left:60px;width:220px;height:196px;display:flex;flex-direction:column;pointer-events:auto;.state-list-box{display:flex;}.list-index{flex-shrink:0;width:32px;height:32px;line-height:32px;text-align:center;color:",";font-weight:600;}&:lang(ja){width:270px;}&.is-open-by-modal{left:16px;& > header{.svg-icon{display:none;}}}& > header{border-bottom:1px solid ",";padding-left:10px;padding-right:16px;height:36px;.title{max-width:160px;",";&:lang(ja){max-width:250px;}}p{font-weight:600;}.svg-icon{color:",";cursor:pointer;&:hover{color:",";}}}& > div{flex:1;overflow-x:hidden;overflow-y:auto;margin-top:8px;}"],function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_split},Ha,function(i){return i.theme.color_text_L3},function(i){return i.theme.color_text_L2}),xp=ze.default.li.withConfig({displayName:"styles__StyledStateItem",componentId:"sc-urnbrm-1"})(["",";",";flex-grow:1;.actions{padding:0 10px;}"],Cs,Ha),Cp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleActivate",function(l){var p=r.props,h=p.screenCid,M=p.dispatch;M({type:"entry:runner:activate:screen-state",payload:{screenCid:h,stateCid:l.cid}}),rr("\u72B6\u6001\u9009\u62E9")}),(0,f.Z)((0,ae.Z)(r),"handleCloseStatePanel",function(){r.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.isOpenByModal,l=o.screenMeta,p=o.screenStateCid,h=o.screenStateList;return(0,v.jsxs)(bp,{className:st()({"is-open-by-modal":s}),children:[(0,v.jsxs)("header",{children:[(0,v.jsx)("p",{className:"title",children:l.name+" - "+I18N.pMainContent.screenstate}),(0,v.jsx)(At.q,{className:"times-icon",name:"general/times",onClick:this.handleCloseStatePanel})]}),(0,v.jsx)("div",{children:(0,v.jsx)("ul",{children:h.map(function(M,N){return(0,v.jsxs)("div",{className:"state-list-box",children:[(0,v.jsx)("span",{className:"list-index",children:N+1}),(0,v.jsx)(wp,{screenState:M,isActive:M.cid===p,onClick:e.handleActivate})]},M.cid)})})})]})}}]),t}(y.PureComponent);(0,f.Z)(Cp,"propTypes",{isOpenByModal:u().bool,screenCid:u().string,screenMeta:u().object,screenStateCid:u().string,screenStateList:u().array,dispatch:u().func});var wp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleClick",function(){var l=r.props,p=l.screenState,h=l.isActive,M=l.onClick;h||M(p)}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screenState,s=e.isActive;return(0,v.jsx)(xp,{className:st()({"is-active":s}),onClick:this.handleClick,children:o.name})}}]),t}(y.PureComponent);(0,f.Z)(wp,"propTypes",{screenState:u().object,isActive:u().bool,onClick:u().func});var Ep=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleActivate",function(l){var p=r.props.dispatch;p({type:"entry:runner:activate:screen",payload:{screenCid:l.cid}})}),(0,f.Z)((0,ae.Z)(r),"handleCloseStatePanel",function(){r.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.isOpenByModal,l=o.screenMeta,p=o.screenCid,h=o.screenStateList;return(0,v.jsxs)(bp,{className:st()({"is-open-by-modal":s}),children:[(0,v.jsxs)("header",{children:[(0,v.jsx)("p",{className:"title",children:l.name+" - "+I18N.pMainContent.screenstate}),(0,v.jsx)(At.q,{className:"times-icon",name:"general/times",onClick:this.handleCloseStatePanel})]}),(0,v.jsx)("div",{children:(0,v.jsx)("ul",{children:h.map(function(M){return(0,v.jsx)(Ap,{screenState:M,isActive:M.cid===p,onClick:e.handleActivate},M.cid)})})})]})}}]),t}(y.PureComponent);(0,f.Z)(Ep,"propTypes",{isOpenByModal:u().bool,screenCid:u().string,screenMeta:u().object,screenStateList:u().array,dispatch:u().func});var Ap=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleClick",function(){var l=r.props,p=l.screenState,h=l.isActive,M=l.onClick;h||M(p)}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screenState,s=e.isActive;return(0,v.jsx)(xp,{className:st()({"is-active":s}),onClick:this.handleClick,children:o.name})}}]),t}(y.PureComponent);(0,f.Z)(Ap,"propTypes",{screenState:u().object,isActive:u().bool,onClick:u().func});var tx=c(83223),Mp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isShow,s=e.isOpenByModal,l=e.screenMeta,p=e.screenStateCid,h=e.isBaseOnState,M=e.dataMap,N=e.screenCid,B=e.screenGlue,U=e.dispatch;if(!o)return null;var K=h?Object.values(M).sort(function(Q,J){return Q.position-J.position}):(0,tx.o)(B.project_meta_cid,B.cid);return(0,v.jsx)(v.Fragment,{children:h?(0,v.jsx)(Cp,{isOpenByModal:s,screenStateList:K,screenMeta:l,screenStateCid:p,screenCid:N,dispatch:U}):(0,v.jsx)(Ep,{isOpenByModal:s,screenStateList:K,screenMeta:l,screenCid:N,dispatch:U})})}}]),t}(y.PureComponent);(0,f.Z)(Mp,"propTypes",{isShow:u().bool,isBaseOnState:u().bool,isOpenByModal:u().bool,screenCid:u().string,screenStateCid:u().string,screenMeta:u().object,dataMap:u().object,screenGlue:u().object,dispatch:u().func});var rx=(0,sr.P1)([ne.v8,ne.ku,ne.d9,ne.Uq,ne.Ds,ne.XL],function(i,n,t,r,e,o){var s=!i,l=r.activeCid,p=r.screenInfoMap,h=p[l];if(!h)return{isShow:!1};var M=h.screenMeta,N=h.stateCid,B=h.screenRuntimeState.dataMap,U=n.multi_states||n.type==="project-main",K=e===xr.Ab;return{isShow:s||(K||o?!1:t),isOpenByModal:s,screenMeta:M,screenCid:l,screenStateCid:N,dataMap:B,isBaseOnState:U,screenGlue:n}}),Pp=(0,H.connect)(function(i){return rx(i)})(Mp),nx=(0,ze.css)(["display:flex;justify-content:center;align-items:center;"]),FP=ze.default.div.withConfig({displayName:"style__Divider",componentId:"sc-jvoonv-0"})(["margin:4px 0;border-top:1px solid #454546;"]),ax=ze.default.div.withConfig({displayName:"styles__StyledFullScreenMode",componentId:"sc-1kswtxx-0"})(["&{position:relative;",";border-radius:4px;transition:all 0.2s ease-in-out;cursor:pointer;}.fullscreen{position:relative;display:flex;justify-content:center;height:32px;width:32px;.svg-icon{width:32px;height:32px;}}&:hover&:not(.active){background-color:",";}&.active{background-color:",";}"],nx,function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active}),no=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleFullScreen",(0,d.Z)((0,a.Z)().mark(function l(){var p,h,M,N;return(0,a.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(p=r.props,h=p.isFullScreenMode,M=p.dispatch,N=p.isEmbedV2,!h){U.next=8;break}return U.next=4,ga.exit();case 4:M({type:"entry:exit:fill-screen-mode"}),N&&(0,C.U1)("embed_share_links_click",{operation_type:"\u53D6\u6D88\u5168\u5C4F"}),U.next=11;break;case 8:M({type:"entry:enter:full-screen-mode"}),rr("\u5168\u5C4F"),N&&(0,C.U1)("embed_share_links_click",{operation_type:"\u5168\u5C4F"});case 11:case"end":return U.stop()}},l)}))),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.isFullScreenMode,o=e?"design/collapse_screen":"design/fullscreen";return(0,v.jsx)(ax,{children:(0,v.jsx)(zr.Z,{direction:"down",content:I18N.pPreviewToolbar.fullscreen,children:(0,v.jsx)("div",{className:"fullscreen-wrapper",children:(0,v.jsx)("div",{className:"fullscreen",onClick:this.handleFullScreen,children:(0,v.jsx)(At.q,{name:o})})})})})}}]),t}(y.PureComponent);(0,f.Z)(no,"propTypes",{dispatch:u().func,isFullScreenMode:u().bool,isEmbedV2:u().bool}),(0,f.Z)(no,"defaultProps",{isFullScreenMode:!1});var ix=ze.default.div.withConfig({displayName:"styles__StyledZoomOptionBar",componentId:"sc-1mvnhs3-0"})(["position:absolute;height:32px;border-radius:4px;display:flex;flex-direction:row;background:#fff;bottom:16px;right:","px;pointer-events:auto;align-items:center;padding:4px 8px;box-shadow:0 2px 6px rgba(39,54,78,0.08);transition:right 0.2s ease-in-out;.fullscreen{width:24px;height:24px;align-items:center;.svg-icon{transform:scale(1.3);width:32px;height:32px;}}span.divider{margin-left:8px;height:20px;border-right:1px solid #e5e5e5;}.zoom-control{&.zoom-out{margin-left:8px;}&.disabled{svg{path{stroke:#ccc;}}}}button.zoom-options-panel-toggle{width:47px;height:28px;border-radius:4px;margin:0 4px;text-align:center;&:hover{background-color:",";}}"],function(i){return i.zoomOptionBarRight},function(i){return i.theme.color_background_icon_hover}),ox=c(11762),sx=ze.default.div.withConfig({displayName:"styles__CSSDesignZoomBoxDiv",componentId:"sc-370cxy-0"})(["position:relative;width:64px;height:32px;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;border-radius:4px;transition:all 0.2s ease-out;.zoom-main{width:100%;height:100%;display:flex;align-items:center;justify-content:center;}.zoom-box{display:flex;align-items:center;line-height:16px;height:16px;font-size:14px;color:",";.zoom-arrow{width:7px;transform:translateY(-1px);margin-left:8px;}}.zoom-tip{margin-top:8px;color:#415058;height:12px;line-height:12px;font-size:12px;}&:hover{background:",";}&.active,&:active{background-color:",";}"],function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active}),lx=ze.default.div.withConfig({displayName:"styles__StyledZoomOptionsPanel",componentId:"sc-370cxy-1"})(["position:absolute;padding:4px 0;",":100%;right:0;border-radius:4px;min-width:160px;font-size:12px;background:#333;box-shadow:0 6px 16px -8px rgba(0,0,0,0.08),0 9px 28px 0 rgba(0,0,0,0.05);border:1px solid #454647;.zoom-input-number-wrap{height:38px;display:flex;align-items:center;justify-content:center;.zoom-input{width:124px;border-color:#1684fc;input,.suffix{color:#f2f4f5;}}}.divider{margin:4px 0;border-top:1px solid #454546;}.zoom-item{display:flex;align-items:center;justify-content:space-between;height:32px;padding:0 16px 0 30px;color:#f2f4f5;transition:all 0.2s ease-out;.zoom-text{position:relative;}.kbd-size{white-space:nowrap;margin-left:auto;kbd{color:#999;display:inline-block;text-align:center;min-width:12px;margin-right:2px;}kbd:first-child{margin-left:0;}.kbd:last-child{margin-right:0;}}&:not(.is-disabled):hover{background:#666;}&.is-disabled{cursor:not-allowed;color:#c8cdd0;}.zoom-select{position:absolute;left:-22px;top:3px;color:#fff;}}&.mac .others,&.others .mac{display:none;}"],function(i){return i.positon==="top"?"top":"bottom"}),qs=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleToggleZoomContentShow",function(o){o.stopPropagation(),e.setState({isZoomContentShow:!e.state.isZoomContentShow})}),(0,f.Z)((0,ae.Z)(e),"handleZoomIn",function(o){o.stopPropagation();var s=e.props.onZoomIn;s()}),(0,f.Z)((0,ae.Z)(e),"handleZoomOut",function(o){o.stopPropagation();var s=e.props.onZoomOut;s()}),(0,f.Z)((0,ae.Z)(e),"onClickOutside",function(o){var s=o.target,l=e.state.isZoomContentShow;if(l){var p=!e.$element.contains(s);p&&e.setState({isZoomContentShow:!1})}}),e.state={isZoomContentShow:!1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.scale,l=o.onZoomInitialScale,p=o.onZoomSpecifiedScale,h=o.onZoomSelection,M=o.isShowZoomSelection,N=this.state.isZoomContentShow,B=Or.zt.indexOf(s),U=B!==Or.zt.length-1,K=B!==0;return(0,v.jsxs)(sx,{onClick:this.handleToggleZoomContentShow,className:st()({active:N}),children:[(0,v.jsx)(zr.Z,{content:"\u7F29\u653E",direction:"down",distance:8,children:(0,v.jsx)("div",{className:"zoom-main",children:(0,v.jsxs)("div",{className:"zoom-box",children:[(0,v.jsx)("p",{className:"zoom-scale",children:Math.round(s)+"%"}),(0,v.jsx)(At.q,{className:"zoom-arrow",name:"toolbar/triangle-down"})]})})}),(0,v.jsx)(el,{position:"top",scale:s,minScale:Or.vL,maxScale:Or.Fv,canZoomIn:U,handleZoomIn:this.handleZoomIn,canZoomOut:K,handleZoomOut:this.handleZoomOut,onZoomInitialScale:l,onZoomSpecifiedScale:p,onZoomSelection:h,isShowZoomSelection:M,onClickOutside:this.onClickOutside,isZoomOptionPanelVisible:N,setIsZoomOptionPanelVisible:function(J){return e.setState({isZoomContentShow:J})}})]})}}]),t}(y.PureComponent);(0,f.Z)(qs,"propTypes",{scale:u().number,isShowZoomSelection:u().bool,onZoomSpecifiedScale:u().func,onZoomIn:u().func,onZoomOut:u().func,onZoomInitialScale:u().func,onZoomSelection:u().func}),(0,f.Z)(qs,"defaultProps",{isShowZoomSelection:!0});var el=function(n){var t=n.position,r=n.scale,e=n.minScale,o=n.maxScale,s=n.canZoomIn,l=n.handleZoomIn,p=n.canZoomOut,h=n.handleZoomOut,M=n.onZoomInitialScale,N=n.onZoomSpecifiedScale,B=n.onZoomSelection,U=n.isShowZoomSelection,K=n.isZoomOptionPanelVisible,Q=n.setIsZoomOptionPanelVisible,J=(0,gr.V5)()?"mac":"others",te=(0,y.useRef)(null),re=function(ge){var De=ge.target;if(K){var Me;(Me=te.current)!=null&&Me.contains(De)||Q(!1)}},ie=function(ge){ge.stopPropagation();var De=ge.currentTarget.dataset.value;N(De)};return K&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(lx,{className:st()(J),positon:t,ref:te,children:[(0,v.jsx)("div",{className:"zoom-input-number-wrap",onClick:function(ge){return ge.stopPropagation()},children:(0,v.jsx)(ox.Z,{className:"zoom-input",min:e,max:o,precision:0,suffix:"%",actionButton:!1,value:Math.round(r),isSelect:!0,onConfirm:N})}),(0,v.jsx)("div",{className:"divider"}),(0,v.jsxs)("div",{className:st()("zoom-item",{"is-disabled":!s}),onClick:l,children:[(0,v.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoomin}),(0,v.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomIn}}),(0,v.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomIn}})]}),(0,v.jsxs)("div",{className:st()("zoom-item",{"is-disabled":!p}),onClick:h,children:[(0,v.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoomout}),(0,v.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomOut}}),(0,v.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomOut}})]}),(0,v.jsx)("div",{className:"divider"}),(0,v.jsx)("div",{className:"zoom-item","data-value":50,onClick:ie,children:(0,v.jsxs)("p",{className:"zoom-text",children:[Math.round(r)===50&&(0,v.jsx)(At.q,{className:"zoom-select",name:"library/select/new"}),"50%"]})}),(0,v.jsxs)("div",{className:"zoom-item","data-value":100,onClick:ie,children:[(0,v.jsxs)("p",{className:"zoom-text",children:[Math.round(r)===100&&(0,v.jsx)(At.q,{className:"zoom-select",name:"library/select/new"}),"100%"]}),(0,v.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomReset}}),(0,v.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomReset}})]}),(0,v.jsx)("div",{className:"zoom-item","data-value":200,onClick:ie,children:(0,v.jsxs)("p",{className:"zoom-text",children:[Math.round(r)===200&&(0,v.jsx)(At.q,{className:"zoom-select",name:"library/select/new"}),"200%"]})}),(0,v.jsx)("div",{className:"divider"}),(0,v.jsxs)("div",{className:"zoom-item",onClick:M,children:[(0,v.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.fit_canvas}),(0,v.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomFit}}),(0,v.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomFit}})]}),U&&(0,v.jsxs)("div",{className:"zoom-item",onClick:B,children:[(0,v.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoom_selection}),(0,v.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomSelect}}),(0,v.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:Un[J].zoomSelect}})]})]}),(0,v.jsx)(Fr.Z,{target:document,onClick:re})]})};el.propTypes={position:u().string,scale:u().number,minScale:u().number,maxScale:u().number,canZoomIn:u().bool,handleZoomIn:u().func,canZoomOut:u().bool,handleZoomOut:u().func,onZoomInitialScale:u().func,onZoomSpecifiedScale:u().func,onZoomSelection:u().func,isShowZoomSelection:u().bool,isZoomOptionPanelVisible:u().bool,setIsZoomOptionPanelVisible:u().func};var Un={mac:{zoomOut:"<kbd>\u2318</kbd><kbd>-</kbd>",zoomIn:"<kbd>\u2318</kbd><kbd>+</kbd>",zoomReset:"<kbd>\u2318</kbd><kbd>0</kbd>",zoomFit:"<kbd>\u2318</kbd><kbd>1</kbd>",zoomSelect:"<kbd>\u2318</kbd><kbd>2</kbd>"},others:{zoomOut:"<kbd>Ctrl</kbd><kbd>-</kbd>",zoomIn:"<kbd>Ctrl</kbd><kbd>+</kbd>",zoomReset:"<kbd>Ctrl</kbd><kbd>0</kbd>",zoomFit:"<kbd>Ctrl</kbd><kbd>1</kbd>",zoomSelect:"<kbd>Ctrl</kbd><kbd>2</kbd>"}},cx=function(n){var t=n.scale,r=n.dispatch,e=n.isFullScreenMode,o=n.isEmbedV2,s=n.zoomOptionBarRight,l=s===void 0?16:s,p=(0,y.useState)(!1),h=(0,F.Z)(p,2),M=h[0],N=h[1],B=function(){r({type:"entry:preview:zoom-in"}),o&&(0,C.U1)("embed_share_links_click",{operation_type:"\u7F29\u653E"})},U=function(){r({type:"entry:preview:zoom-out"}),o&&(0,C.U1)("embed_share_links_click",{operation_type:"\u7F29\u653E"})},K=function(se){r({type:"entry:preview:set:scale",payload:{scale:se}})},Q=function(){r({type:"entry:auto-fit:preview:scale"}),r({type:"entry:preview:reset:canvas:offset"})},J=Or.zt.indexOf(t),te=J!==Or.zt.length-1,re=J!==0;return(0,v.jsxs)(ix,{id:"zoom-option-bar",zoomOptionBarRight:l,children:[(0,v.jsx)(no,{dispatch:r,isFullScreenMode:e,isEmbedV2:o}),(0,v.jsx)("span",{className:"divider"}),(0,v.jsx)(Sa.Z,{className:st()("zoom-control zoom-out",{disabled:!re}),onClick:U,name:"common/minus_bold"}),(0,v.jsx)("button",{className:"zoom-options-panel-toggle",onClick:function(){return N(!M)},children:Math.round(t)+"%"}),(0,v.jsx)(el,{position:"bottom",scale:t,minScale:Or.vL,maxScale:Or.Fv,canZoomIn:te,handleZoomIn:B,canZoomOut:re,handleZoomOut:U,onZoomInitialScale:Q,onZoomSpecifiedScale:K,isZoomOptionPanelVisible:M,setIsZoomOptionPanelVisible:N}),(0,v.jsx)(Sa.Z,{className:st()("zoom-control zoom-in",{disabled:!te}),onClick:B,name:"common/add_bold"})]})},ux=(0,sr.P1)([ne.z7,ne.XL],function(i,n){return{scale:i,isFullScreenMode:n}}),Tp=(0,H.connect)(function(i){return ux(i)})(cx),dx=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleToggleAnnotatePanel",function(){var l=r.props.dispatch;l({type:"reducer:toggle:annotatePanelShow"}),rr("\u6253\u5F00\u6C34\u6EF4\u6279\u6CE8\u9762\u677F")}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.annotateBtnShow;return e?(0,v.jsx)(Sa.Z,{name:"toolbar/annotate",className:"annotateBtn",onClick:this.handleToggleAnnotatePanel}):null}}]),t}(y.PureComponent),$a=c(33038),px=ze.default.div.withConfig({displayName:"styles__StyledTopRightBtns",componentId:"sc-1ojor8j-0"})(["position:absolute;top:16px;right:","px;display:flex;align-items:center;transition:right 0.2s ease-in-out;.annotateBtn{width:32px;height:32px;background:",";box-shadow:",";border-radius:4px 0 0 4px;pointer-events:auto;&:hover{background-color:",";}.svg-icon{width:32px;height:32px;path{fill:",";}}}"],function(i){return i.topBtnRight||0},function(i){return i.theme.color_background_white},function(i){return i.theme.annotate_btn_shadow},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L1}),fx=ze.default.div.withConfig({displayName:"styles__StyledResetButton",componentId:"sc-1ojor8j-1"})(["min-width:92px;padding:0 8px;height:32px;font-size:","px;white-space:nowrap;background:",";border-radius:4px;cursor:pointer;box-shadow:0 2px 5px 0 rgba(39,54,78,0.08);display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:opacity 0.2s ease-in-out;color:",";margin-right:12px;&:hover{background:",";color:",";}&.is-show{pointer-events:auto;opacity:1;}"],(0,$a.xM)()?14:12,function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_text_L2}),Ip=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleBackToOrigin",function(){r.props.dispatch({type:"entry:preview:reset:canvas:offset"}),rr("\u70B9\u6211\u56DE\u539F\u70B9")}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isShowResetButton,s=e.annotateBtnShow,l=e.topBtnRight,p=e.isDisplaced,h=e.dispatch;return(0,v.jsxs)(px,{topBtnRight:l,children:[o&&(0,v.jsx)(fx,{className:st()({"is-show":p}),onClick:this.handleBackToOrigin,children:I18N.pMainContent.click_to_origin}),(0,v.jsx)(dx,{annotateBtnShow:s,dispatch:h})]})}}]),t}(y.PureComponent),hx=ze.default.div.withConfig({displayName:"styles__StyledMainContent",componentId:"sc-1uqspbl-0"})(["flex:1;position:relative;width:100%;height:100%;pointer-events:none;"]),Op=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleResize",function(){var l=document.querySelector("#preview_scrollBar_viewport"),p=l.getBoundingClientRect(),h=p.width,M=p.height,N=p.left,B=p.top;r.props.dispatch({type:"preview:scrollbar:viewport",payload:{width:h,height:M,left:N,top:B}})}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.handleResize()}},{key:"render",value:function(){var e=this.props,o=e.mode,s=e.isDisplaced,l=e.isProjectMain,p=e.annotateBtnShow,h=e.topBtnRight,M=e.zoomOptionBarRight,N=e.currentUser,B=e.isFullScreenMode,U=e.dispatch,K=o===xr.nh;return(0,v.jsxs)(hx,{id:"preview_scrollBar_viewport",children:[K&&(0,v.jsx)(Bb,{}),(0,v.jsx)(Ip,{isShowResetButton:!0,annotateBtnShow:p,topBtnRight:h,isDisplaced:s,dispatch:U}),(0,v.jsx)(Pp,{}),l&&(0,v.jsx)(qb,{}),(0,v.jsx)(Wb,{}),(!(N!=null&&N.id)||B)&&(0,v.jsx)(Tp,{zoomOptionBarRight:M}),(0,v.jsx)(ws,{onResize:this.handleResize})]})}}]),t}(y.PureComponent);(0,f.Z)(Op,"propTypes",{mode:u().string,isDisplaced:u().bool,isProjectMain:u().bool,annotateBtnShow:u().bool,topBtnRight:u().number,zoomOptionBarRight:u().number,currentUser:u().object,isFullScreenMode:u().bool,dispatch:u().func});var vx=(0,sr.P1)([ne.Ds,ne.os,ne.v8,ne.H9,ne.Dx,ne.JH,ne.EZ,ne.oD,ne.ts,ne.kc],function(i,n,t,r,e,o,s,l,p,h){var M=o.annotateSortList,N=o.show,B=h.isFullScreenMode,U=!(n.x===r.x&&n.y===r.y),K=i===xr.c6&&!e&&M.length>0&&s,Q=B?100:N?l+15:0,J=N?l+16:16;return{mode:i,isDisplaced:U,isProjectMain:t,annotateBtnShow:K,topBtnRight:Q,zoomOptionBarRight:J,currentUser:p,isFullScreenMode:B}}),Dp=(0,H.connect)(function(i){return vx(i)})(Op),mx=c(88662),ao=c(33258),gx=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleDoubleClick",function(l){l.stopPropagation(),r.props.onQuitEdit()}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.scale,s=e.viewportRect,l=e.activePanel,p=e.canvasRect,h=e.currentScreen,M=e.theme;if(!l)return null;var N=h.width,B=h.height,U=h.bgcolor,K=l.top,Q=l.left,J=p.canvasTop,te=p.canvasLeft,re=o/100,ie=te-s.left+Q*re,se=J-s.top+K*re,ge={x:ie,y:se,height:B*re,width:N*re},De={position:"absolute",left:s.left-te,top:s.top-J,width:s.width,height:s.height,pointerEvents:"auto"},Me=M==="dark"?"rgba(141,158,167,.4)":"rgba(31,41,46,.3)";return(0,v.jsxs)("svg",{style:De,onDoubleClick:this.handleDoubleClick,children:[(0,v.jsxs)("defs",{children:[(0,v.jsx)(yx,{size:5}),(0,v.jsxs)("mask",{id:"mask",x:"0",y:"0",children:[(0,v.jsx)("rect",{width:"100%",height:"100%",fill:"white"}),(0,v.jsx)("rect",(0,O.Z)((0,O.Z)({},ge),{},{fill:"black"}))]})]}),(0,v.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:Me,mask:"url(#mask)"}),(0,v.jsxs)("g",{transform:"translate("+ge.x+" "+ge.y+") scale("+re+")",children:[(0,v.jsx)("rect",{id:"panel-edit-canvas",width:N,height:B,display:"inline",fill:"url(#transparent)",style:{opacity:.5}}),(0,v.jsx)("rect",{width:N,height:B,fill:U})]})]})}}]),t}(y.PureComponent),yx=y.memo(function(n){var t=n.size;return(0,v.jsxs)("pattern",{x:"0",y:"0",width:""+t*2,height:""+t*2,patternUnits:"userSpaceOnUse",id:"transparent",viewBox:"0 -"+t*2+" "+t*2+" "+t*2,overflow:"visible",children:[(0,v.jsx)("polygon",{fill:"#FFFFFF",points:"0,-"+t*2+" "+t*2+",-"+t*2+" "+t*2+",0 0,0"}),(0,v.jsx)("polygon",{fill:"#F2F2F2",points:t+",-"+t+" 0,-"+t+" 0,-"+t*2+" "+t+",-"+t*2}),(0,v.jsx)("polygon",{fill:"#FFFFFF",points:t*2+",-"+t+" "+t+",-"+t+" "+t+",-"+t*2+" "+t*2+",-"+t*2}),(0,v.jsx)("polygon",{fill:"#F2F2F2",points:t+",0 "+t*2+",0 "+t*2+",-"+t+" "+t+",-"+t}),(0,v.jsx)("polygon",{fill:"#FFFFFF",points:"0,0 "+t+",0 "+t+",-"+t+" 0,-"+t})]})}),Sx=c(77506),bx=c(24064),Lp=c(97453),xx=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"onMouseEnter",function(l){var p=r.props,h=p.type,M=p.layer,N=p.hasChildren,B=p.requestEnterLayer;if(M.kind!==wn.MB_GROUP)if(h===wn.MB_SCREEN)B(M.cid);else{if(N)return;l.stopPropagation(),B(M.cid)}}),(0,f.Z)((0,ae.Z)(r),"onMouseLeave",function(){var l=r.props,p=l.layer,h=l.activeLayerID,M=l.requestEnterLayer;h!==-1&&p.kind!==wn.MB_GROUP&&M(-1)}),(0,f.Z)((0,ae.Z)(r),"setSelectedPanel",function(){var l=r.props,p=l.type,h=l.layer,M=l.treeData,N=l.layerWidgetStore,B=l.dispatch,U=(0,Lp.Ws)(M),K=!1,Q=!1;if(U){var J,te,re=N.getWidget(U);B({type:"container:layer:set-selectedPanel",payload:{selectedPanel:re}}),K=(re==null||(J=re.screenGlue)==null?void 0:J.type)==="project-template",Q=(re==null||(te=re.screenGlue)==null?void 0:te.type)==="panel-template"}else B({type:"entry:inspect:clear:panel:action"});ov(p,h,K,Q)}),(0,f.Z)((0,ae.Z)(r),"handleClick",(0,d.Z)((0,a.Z)().mark(function l(p){var h,M,N,B,U,K;return(0,a.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(h=r.props,M=h.type,N=h.layer,B=h.hasChildren,U=h.requestSelectLayer,K=h.handleShowlayerInfo,N.kind!==wn.MB_GROUP){J.next=3;break}return J.abrupt("return");case 3:if(M!==wn.MB_SCREEN){J.next=8;break}U(N.cid),K(!0),J.next=14;break;case 8:if(!B){J.next=10;break}return J.abrupt("return");case 10:p.stopPropagation(),U(N.cid),K(!0),r.setSelectedPanel();case 14:case"end":return J.stop()}},l)}))),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.type,s=e.layer,l=e.activeLayerID,p=e.enteredLayerID,h=e.disabledInspect,M=s.id,N=M===l,B=M===p||p===-1,U=st()("Layer",{"is-active":N,"is-focus":B}),K=!["panel","group","screen_meta","screen"].includes(o)&&!h,Q={pointerEvents:K?"auto":"none"};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{"data-lid":M,style:Q,className:U,onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})})}}]),t}(y.Component),Cx=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.treeData,s=e.parentSize,l=e.treeProps,p=e.selectedPanel,h=e.isInspectInPanel,M=e.layerWidgetStore,N=e.dispatch,B=o.cid,U=o.type,K=o.widget,Q=o.children;if(K.v===!1)return null;var J=s.minX,te=s.minY,re=s.maxX,ie=s.maxY,se=re-J,ge=ie-te,De=(0,bx.NW)(o),Me={left:(De.minX-s.minX)/se*100+"%",top:(De.minY-s.minY)/ge*100+"%",width:(De.maxX-De.minX)/se*100+"%",height:(De.maxY-De.minY)/ge*100+"%",transform:K.ro?"rotate("+K.ro+"deg)":"",zIndex:K.z};U===Sx.Jq.screenMeta&&(Me.left="0",Me.top="0");var Fe=Q&&Q.length>0,nt=h?(0,Lp.Ws)(o):"",ot=p&&p.cid===B;return(0,v.jsxs)("div",{"data-id":B,className:st()("layer-tree-node",{inPanel:h&&ot,panelActive:h?!1:!h&&ot,panel:U==="panel"}),style:Me,children:[(0,v.jsx)(xx,(0,O.Z)({dispatch:N,treeData:o,layer:K,type:U,hasChildren:Fe,selectedPanel:p,layerWidgetStore:M,isInspectInPanel:h,disabledInspect:h&&nt!==p.cid},l)),Fe&&Q.map(function(dt){return(0,v.jsx)(t,{layerWidgetStore:M,treeData:dt,parentSize:De,selectedPanel:p,isInspectInPanel:h,treeProps:l,dispatch:N},dt.cid)})]})}}]),t}(y.PureComponent),wx=ze.default.div.withConfig({displayName:"styles__StyledLayerList",componentId:"sc-8f6czt-0"})(["&.LayerList{z-index:1;pointer-events:none;.layer-tree-node{position:absolute;&.panel{overflow:hidden;}&.panelActive{border:1px dashed #FF9000;}&.inPanel{overflow:unset;}}.Layer{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;&.is-active{}&.is-active.is-focus{}}&.hiddenLayer{.Layer{opacity:0;&:hover{opacity:1;}}}}"]),Np=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"state",{ifHideLayer:!1}),(0,f.Z)((0,ae.Z)(r),"onMouseLeave",function(){typeof r.props.activeLayerID=="number"?r.props.requestEnterLayer("artboard-base"):r.props.requestEnterLayer(r.props.currentScreen.cid)}),r}return(0,S.Z)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.currentScreen,s=e.activeLayerID;s!==-1&&s?this.setState({ifHideLayer:!1}):this.setState({ifHideLayer:!0})}},{key:"render",value:function(){var e=this.props,o=e.isShowLayerList,s=e.isInspectInPanel,l=e.currentScreen,p=e.layerTreeData,h=e.ratio,M=e.activeLayerID,N=e.enteredLayerID,B=e.requestEnterLayer,U=e.requestSelectLayer,K=e.handleShowlayerInfo,Q=e.selectedPanel,J=e.layerWidgetStore,te=e.dispatch,re=this.state.ifHideLayer,ie=Ex(h,B,M,N,U,K),se={minX:0,minY:0,maxX:l.width,maxY:l.height};return p?(0,v.jsx)(wx,{className:st()("LayerList",{hiddenLayer:re&&o}),onMouseLeave:this.onMouseLeave,children:(0,v.jsx)(Cx,{layerWidgetStore:J,treeData:p,parentSize:se,treeProps:ie,selectedPanel:Q,isInspectInPanel:s,dispatch:te})}):null}}]),t}(y.Component);(0,f.Z)(Np,"propTypes",{isShowLayerList:u().bool,isInspectInPanel:u().bool,selectedPanel:u().object,currentScreen:u().object,layerTreeData:u().object,activeLayerID:u().oneOfType([u().number,u().string]),enteredLayerID:u().oneOfType([u().number,u().string]),ratio:u().number,layerWidgetStore:u().object,requestSelectLayer:u().func,requestEnterLayer:u().func,handleShowlayerInfo:u().func,dispatch:u().func});var Ex=(0,Pt.LL)(function(i,n,t,r,e,o){return{ratio:i,requestEnterLayer:n,activeLayerID:t,enteredLayerID:r,requestSelectLayer:e,handleShowlayerInfo:o}}),Ax=function(n){var t=n.container,r=t.layers,e=r.activeLayerID,o=r.enteredLayerID,s=t.previewSetting,l=s.ratio,p=s.isShowColorPicker,h=(0,ne.CL)(n),M=ja(n),N=Mn(n),B=Na(n),U=Ro(n);return{layerWidgetStore:U,isShowLayerList:!p,currentScreen:h,layerTreeData:M,activeLayerID:e,enteredLayerID:o,selectedPanel:N,isInspectInPanel:B,ratio:l}},Mx=function(n){return{requestSelectLayer:function(r){n(Uv(r))},requestEnterLayer:function(r){n(Wv(r))},handleShowlayerInfo:function(r){n({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:r}})},dispatch:n}},Px=(0,H.connect)(Ax,Mx)(Np),Pr=c(51707),Tx=c(10443),jp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"iamgeContainerRef",function(s){return e.image=s}),(0,f.Z)((0,ae.Z)(e),"getImageCanvasRef",function(s){return e.imageCanvas=s}),(0,f.Z)((0,ae.Z)(e),"glassCanvasRef",function(s){return e.glassCanvas=s}),(0,f.Z)((0,ae.Z)(e),"cancelColorPicker",function(s){e.imageCanvas.contains(s.target)||e.cancelPickerMode()}),(0,f.Z)((0,ae.Z)(e),"cancelPickerMode",function(){return e.props.onCancel()}),(0,f.Z)((0,ae.Z)(e),"renderImageCanvas",function(){var s=e.imageCanvas.getBoundingClientRect(),l=s.width,p=s.height;e.lastCanvasRect={width:l,height:p},e.imageCanvas.width=l,e.imageCanvas.height=p,e.imageCtx.drawImage(e.image,0,0,l,p)}),(0,f.Z)((0,ae.Z)(e),"calculateCenterPoint",function(s){var l=e.image.getBoundingClientRect(),p=l.left,h=l.top;e.centerPoint={centerX:Math.floor(s.clientX-p),centerY:Math.floor(s.clientY-h)}}),(0,f.Z)((0,ae.Z)(e),"handleMove",function(s){e.image.complete&&e.state.visibility===Pr.A1&&e.setState({visibility:Pr.hw}),e.calculateCenterPoint(s);var l=e.props,p=l.glassHeight,h=l.glassWidth,M=l.scale,N=e.centerPoint,B=N.centerX,U=N.centerY,K=Math.floor(B-h/2),Q=Math.floor(U-p/2);e.setState({glassLeft:K,glassTop:Q}),U<0&&e.clearGlassRect(),e.glassCtx.clearRect(0,0,h,p),M<1&&console.warn("Can't make the galss scale less than 1, It will make bed invision"),(0,Pr.FB)(e.glassCtx,!1),e.glassCtx.drawImage(e.imageCanvas,Math.floor(B-h/2/e.finallyScale),Math.floor(U-p/2/e.finallyScale),Math.floor(h/e.finallyScale),Math.floor(p/e.finallyScale),-Pr.gY/2,-Pr.gY/2,h,p),(0,Pr.Kw)(e.glassCtx,Pr.A,Pr.gY,Pr.gY),(0,Pr.xE)(e.glassCtx),(0,Pr.pJ)(e.glassCtx,Pr.rP,Math.floor((h-Pr.gY)/2),Math.floor((p-Pr.gY)/2),Pr.gY,Pr.gY),e.getColor()}),(0,f.Z)((0,ae.Z)(e),"getColor",function(){var s=e.centerPoint,l=s.centerX,p=s.centerY,h=e.imageCtx.getImageData(l,p,1,1),M=h.data,N=(0,Pr.js)(M),B=N.rgba,U=N.R,K=N.G,Q=N.B;e.setState({color:B,R:U,G:K,B:Q}),e.color=B}),(0,f.Z)((0,ae.Z)(e),"handleClick",function(){e.getColor();var s=e.color,l=(0,Pt.Ts)(s),p=l.history,h=l.focusColor;clearTimeout(e.timeoutToken),e.props.onUpdateColor({userPickColor:p,focusColor:h}),e.timeoutToken=setTimeout(function(){e.props.onUpdateColor({userPickColor:p,focusColor:null})},1e3)}),(0,f.Z)((0,ae.Z)(e),"clearGlassRect",function(){var s=e.props,l=s.glassHeight,p=s.glassWidth;e.glassCtx.clearRect(0,0,p,l),e.setState({visibility:Pr.A1})}),(0,f.Z)((0,ae.Z)(e),"handleMouseLeave",function(){e.clearGlassRect()}),(0,f.Z)((0,ae.Z)(e),"handleLoad",function(){e.renderImageCanvas()}),(0,f.Z)((0,ae.Z)(e),"handleError",function(){e.cancelPickerMode()});var o=e.props.scale;return e.finallyScale=Pr.gY*(o<1?1:o),e.state={visibility:Pr.A1,glassLeft:0,glassTop:0,color:Pr.Dp,R:0,G:0,B:0},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.imageCtx=this.imageCanvas.getContext("2d"),this.glassCtx=this.glassCanvas.getContext("2d")}},{key:"componentDidCatch",value:function(e){console.log(e),this.cancelPickerMode()}},{key:"componentDidUpdate",value:function(){if(!this.imageCanvas){this.handleError();return}var e=this.imageCanvas.getBoundingClientRect(),o=e.width,s=e.height,l=this.lastCanvasRect||{width:0,height:0},p=l.width,h=l.height;(p!==o||h!==s)&&(this.clearGlassRect(),this.renderImageCanvas())}},{key:"render",value:function(){var e=this.props,o=e.width,s=e.height,l=e.glassWidth,p=e.glassHeight,h=e.src,M=this.state,N=M.visibility,B=M.glassLeft,U=M.glassTop,K=M.color,Q=M.R,J=M.G,te=M.B;return(0,v.jsxs)(Tx.u,{className:"mb-picker-container",children:[(0,v.jsx)("img",{ref:this.iamgeContainerRef,className:"mb-picker-image",width:o,height:s,src:h,onLoad:this.handleLoad,onError:this.handleError}),(0,v.jsx)("canvas",{ref:this.getImageCanvasRef,onMouseMove:this.handleMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,style:{width:o,height:s,opacity:0}}),(0,v.jsxs)("div",{className:"mb-glass",style:{width:l,height:p,visibility:N,left:B,top:U},children:[(0,v.jsx)("div",{className:"shadow"}),(0,v.jsx)("canvas",{ref:this.glassCanvasRef,width:l,height:p,style:{width:l,height:p}}),(0,v.jsx)("div",{style:{top:p/2+15},className:"mb-glass-text",children:(0,v.jsx)("div",{className:"mb-rgba-color",children:"R:"+Q+" G:"+J+" B:"+te+" "+String((0,Pr.aK)(K).hex).toUpperCase()})})]}),(0,v.jsx)(Fr.Z,{target:document,onClick:this.cancelColorPicker})]})}}]),t}(y.PureComponent);(0,f.Z)(jp,"defaultProps",{src:"/sec3.png",width:1300,height:769,glassWidth:200,glassHeight:200,scale:1});var Ix=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleCancel",function(){r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}})}),(0,f.Z)((0,ae.Z)(r),"handleUpdateColor",function(l){var p=l.userPickColor,h=l.focusColor;r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:p,focusColor:h}})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.src,s=e.width,l=e.height,p=e.glassHeight,h=e.glassWidth,M=e.scale;return(0,v.jsx)(jp,{src:o,width:s,height:l,glassHeight:p,glassWidth:h,scale:M,onCancel:this.handleCancel,onUpdateColor:this.handleUpdateColor})}}]),t}(y.PureComponent),Ox=c(31583),Dx=(0,H.connect)(function(i){var n=(0,ne.e4)(i),t=(0,ne.Uq)(i),r=t.activeCid,e=t.screenInfoMap,o=e[r],s=o.screenMeta,l=o.stateCid,p=Nx(n.cid,s.cid,l);return{scale:1,width:"100%",height:"100%",src:""+p}})(Ix),Lx="/snapshot.png",Nx=function(n,t,r){return Lx+"?projectMetaCid="+n+"&screenMetaCid="+t+"&screenStateCid="+r+"&zoomMode="+Ox.NI.ZOOM_100},za=c(79887),jx=function(n,t){var r=[],e=(0,za.G1)(n,t);if(e.width<n.width+t.width)r[0]=null;else{var o=e.width-(n.width+t.width),s=t.left>n.left;r[0]=s?o:-o}if(e.height<n.height+t.height)r[1]=null;else{var l=e.height-(n.height+t.height),p=t.top>n.top;r[1]=p?l:-l}return r},Rx=function(n,t){if((0,za.bj)(n,t))return{top:n.top-t.top,right:t.left+t.width-(n.left+n.width),bottom:t.top+t.height-(n.top+n.height),left:n.left-t.left};var r={},e=jx(n,t);return e[0]>0?r.right=e[0]:e[0]<0&&(r.left=Math.abs(e[0])),e[1]>0?r.bottom=e[1]:e[1]<0&&(r.top=Math.abs(e[1])),r},Ca=function(n){return n*100+"%"},kx=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"getDistanceMarksStyle",function(l){var p=r.props.ratio;return{width:l.width*p,height:l.height*p,left:l.left*p,top:l.top*p}}),(0,f.Z)((0,ae.Z)(r),"mapDistanceMarks",function(l,p){var h=(0,F.Z)(l,2),M=h[0],N=h[1],B=r.props,U=B.style,K=B.renderValue,Q=U.showStartAndEndBoundary,J=U.colorForLines,te=U.colorForText,re=U.backgroundColorForText,ie=U.dashed,se=r.getMarkStyle(M,N),ge=Math.abs(N);return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"distance-line "+M,style:(0,O.Z)((0,O.Z)({},se.line),{},{[["top","bottom"].includes(M)?"borderLeftStyle":"borderTopStyle"]:ie?"dashed":"solid",borderColor:J})}),K?K({value:ge,style:se.value,customClassName:"distance-value "+M}):(0,v.jsx)("span",{className:"distance-value "+M,style:(0,O.Z)((0,O.Z)({},se.value),{},{color:te,backgroundColor:re}),children:ge}),Q&&(0,v.jsxs)(y.Fragment,{children:[(0,v.jsx)("div",{className:"distance-mark-start-boundary "+M,style:{borderColor:J}}),(0,v.jsx)("div",{className:"distance-mark-end-boundary "+M,style:(0,O.Z)((0,O.Z)({},se.endBoundary),{},{borderColor:J})})]})]},p+"-"+N)}),(0,f.Z)((0,ae.Z)(r),"getMarkStyle",function(l,p){var h=r.props.baseRect,M={line:{},value:{},endBoundary:{}},N=["right","left"],B=["right","bottom"],U=N.includes(l)?p/h.width:p/h.height;return M.line={[l]:p<0?0:Ca(-U),[N.includes(l)?"width":"height"]:Ca(Math.abs(U))},M.endBoundary={[l]:Ca(-U)},M.value={[N.includes(l)?"left":"top"]:B.includes(l)?Ca(1+U/2):Ca(-U/2)},M}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.baseRect,s=e.refRect,l=Rx(o,s),p=this.getDistanceMarksStyle(o);return(0,v.jsx)("div",{className:"distance-marks",style:p,children:Object.entries(l).map(this.mapDistanceMarks)})}}]),t}(y.PureComponent),Zx=function(n){var t=n.refRect,r=n.ratio,e=n.style,o=e.dashed,s=e.colorForLines;return(0,v.jsx)("div",{style:{position:"absolute",pointerEvents:"none",width:t.width*r,height:t.height*r,left:t.left*r,top:t.top*r,border:"1px "+(o?"dashed":"solid")+" "+s}})},Bx=Zx,Fx=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"genLines",function(l,p){var h=r.props,M=h.style,N=h.ratio,B={left:l.left*N,right:l.right*N,height:l.height*N,width:l.width*N},U=[];return B.top>0&&U.push((0,v.jsx)("div",{className:"line top",style:{width:B.left,borderTopStyle:M.dashed?"dashed":"solid",borderTopColor:M.colorForLines,top:B.top}},"top")),B.left+B.width<p.width&&U.push((0,v.jsx)("div",{className:"line right",style:{borderLeftStyle:M.dashed?"dashed":"solid",borderLeftColor:M.colorForLines,left:B.left+B.width}},"right")),B.top+B.height<p.height&&U.push((0,v.jsx)("div",{className:"line bottom",style:{borderTopStyle:M.dashed?"dashed":"solid",borderTopColor:M.colorForLines,width:B.left,top:B.top+B.height}},"bottom")),B.left>0&&U.push((0,v.jsx)("div",{className:"line left",style:{borderLeftStyle:M.dashed?"dashed":"solid",borderLeftColor:M.colorForLines,left:B.left}},"left")),U}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.refRect,s=e.screen;return(0,v.jsx)("div",{className:"verbose-auxiliary-lines",children:this.genLines(o,s)})}}]),t}(y.Component),Ux=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"getAuxiliaryLinesStyle",function(l){var p=r.props.ratio;return{width:l.width*p,height:l.height*p,top:l.top*p,left:l.left*p}}),(0,f.Z)((0,ae.Z)(r),"getAuxiliaryLinesLength",function(){var l={},p=r.props,h=p.baseRect,M=p.refRect,N=(0,za.G1)(h,M),B=N.width-M.width,U=N.height-(h.height+M.height);U>0&&B>h.width/2&&(l.horizontal=B);var K=N.height-M.height,Q=N.width-(h.width+M.width);return Q>0&&K>h.height/2&&(l.vertical=K),l}),(0,f.Z)((0,ae.Z)(r),"getLineStyle",function(l,p){var h=r.props,M=h.baseRect,N=h.refRect,B=h.ratio,U=M.left>N.left,K=M.top>N.top,Q={};if(l){var J=l/N.width;Q.horizontal={[K?"bottom":"top"]:0,[U?"right":"left"]:Ca(-J),width:Ca(J)}}if(p){var te=p/N.height;Q.vertical={[U?"right":"left"]:0,[K?"bottom":"top"]:-te*B,height:te*B}}return Q}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.refRect,s=e.style,l=this.getAuxiliaryLinesLength(),p=l.horizontal,h=l.vertical;if(!p&&!h)return null;var M=this.getAuxiliaryLinesStyle(o),N=this.getLineStyle(p,h);return(0,v.jsxs)("div",{className:"smart-auxiliary-lines",style:M,children:[p&&(0,v.jsx)("div",{className:"line horizontal",style:(0,O.Z)((0,O.Z)({},N.horizontal),{},{borderTopStyle:s.dashed?"dashed":"solid",borderTopColor:s.colorForLines})}),h&&(0,v.jsx)("div",{className:"line vertical",style:(0,O.Z)((0,O.Z)({},N.vertical),{},{borderLeftStyle:s.dashed?"dashed":"solid",borderLeftColor:s.colorForLines})})]})}}]),t}(y.Component),Hx=ze.default.div.withConfig({displayName:"styles__StyledDistanceMeasurement",componentId:"sc-inwp69-0"})(["width:100%;height:100%;pointer-events:none;.distance-marks{position:absolute;pointer-events:none;.distance-line{position:absolute;width:1px;height:1px;&.top,&.bottom{left:50%;border-left:1px solid black;}&.left,&.right{top:50%;border-top:1px solid black;}}.distance-value{position:absolute;&.top,&.bottom{left:calc(50% + 6px);transform:translateY(-50%);}&.left,&.right{top:calc(50% - 6px);transform:translate(-50%,-100%);}}.distance-mark-start-boundary{&.top{top:0;}&.right{right:0;}&.bottom{bottom:0;}&.left{left:0;}}.distance-mark-start-boundary,.distance-mark-end-boundary{position:absolute;&.top,&.bottom{left:50%;transform:translateX(-4px);width:9px;height:1px;border-top:1px solid black;}&.left,&.right{top:50%;transform:translateY(-4px);width:1px;height:9px;border-left:1px solid black;}}}.smart-auxiliary-lines{position:absolute;pointer-events:none;.line{position:absolute;width:1px;height:1px;&.horizontal{border-top:1px solid black;}&.vertical{border-left:1px solid black;}}}.verbose-auxiliary-lines{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;.line{position:absolute;&.top,&.bottom{width:100%;height:1px;border-top:1px solid black;}&.bottom{transform:translateY(-1px);}&.left,&.right{width:1px;height:100%;border-left:1px solid black;}&.right{transform:translateX(-1px);}}}"]),di={design:{distanceMarks:{showStartAndEndBoundary:!1,dashed:!1,colorForLines:ua.Fq.color_interaction_reference_line.value,colorForText:ua.Fq.color_interaction_reference_line.value},refRectBorder:{dashed:!1,colorForLines:ua.Fq.color_interaction_reference_line.value},verboseAuxiliaryLines:!1,auxiliaryLines:{dashed:!0,colorForLines:ua.Fq.color_interaction_reference_line.value}},preview:{distanceMarks:{showStartAndEndBoundary:!0,dashed:!0,colorForLines:ua.Fq.color_interaction_reference_line.value},refRectBorder:{dashed:!0,colorForLines:ua.Fq.color_primary_proto01.value},verboseAuxiliaryLines:!0,auxiliaryLines:{dashed:!0,colorForLines:ua.Fq.color_primary_proto01.value}}},Wx=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"shouldComponentUpdate",value:function(e){return!((0,za.DH)(e.baseRect,this.props.baseRect)&&(0,za.DH)(e.refRect,this.props.refRect)&&(0,za.DH)(e.screen,this.props.screen)&&e.ratio===this.props.ratio&&e.theme===this.props.theme)}},{key:"render",value:function(){var e=this.props,o=e.baseRect,s=e.refRect,l=e.screen,p=e.theme,h=e.renderValue,M=e.ratio,N=di[p].verboseAuxiliaryLines;return(0,v.jsxs)(Hx,{className:"distance-measurement-container",children:[(0,v.jsx)(kx,{baseRect:o,refRect:s,ratio:M,style:di[p].distanceMarks,renderValue:h}),N?(0,v.jsx)(Fx,{refRect:s,screen:l,ratio:M,style:di[p].auxiliaryLines}):(0,v.jsx)(Ux,{baseRect:o,refRect:s,ratio:M,style:di[p].auxiliaryLines}),(0,v.jsx)(Bx,{refRect:s,ratio:M,style:di[p].refRectBorder})]})}}]),t}(y.Component),Rp=function(n){var t=n.value,r=n.valueRatio,e=n.unit,o=n.style,s=n.className,l=n.customClassName,p=n.previewRatio,h=(0,Pt._F)(t,p),M=Math.round(h*r)===0?(h*r).toFixed(2):Math.round(h*r);return(0,v.jsx)("div",{style:o,className:s+" "+l,children:""+M+e})},$x=(0,ze.default)(Rp).withConfig({displayName:"MarkLabel__StyledMarkValue",componentId:"sc-sp6y0b-0"})(["padding:0 5px;color:#fff;background-color:",";border-radius:2px;"],function(i){return i.theme.color_interaction_reference_line});Rp.propTypes={value:u().oneOfType([u().string,u().number]),valueRatio:u().number,unit:u().string,style:u().object,className:u().string,customClassName:u().string,previewRatio:u().number};var zx=$x,io=c(81604),Gx=ze.default.div.withConfig({displayName:"styles__StyledLayerBorder",componentId:"sc-efd91i-0"})(["position:absolute;pointer-events:none;&.select{border:1px solid ",";}&.hover{border:1px solid ",";}.LayerCorner{position:absolute;display:inline-block;width:6px;height:6px;border-radius:50%;background-color:white;border:1px solid ",";&.left{left:-4px;}&.top{top:-4px;}&.right{right:-4px;}&.bottom{bottom:-4px;}}.layer-width,.layer-height{line-height:1;padding:3px 5px;background-color:",";color:#fff;}.layer-width{position:absolute;top:-5px;left:50%;transform:translateX(-50%) translateY(-100%);}.layer-height{position:absolute;top:50%;right:-5px;transform:translateX(100%) translateY(-50%);}.rect_info{position:absolute;display:inline-block;top:calc(100% + 5px);left:50%;transform:translateX(-50%);line-height:1;padding:3px 5px;background-color:#1E98EA;color:#fff;border-radius:2px;white-space:nowrap;}"],function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_interaction_reference_line}),tl=function(n){var t=n.type,r=n.rect,e=n.screenWidth,o=n.screenHeight,s=n.showLayerInfo,l=n.layer,p=n.unit,h=n.previewRatio,M=Kx(r,e,o),N=M.top,B=M.left,U=M.width,K=M.height;return(0,v.jsx)(Gx,{className:t,style:{top:N,left:B,width:U,height:K},children:t==="select"&&s&&Vx(l,p,h)})};tl.propTypes={type:u().string,rect:u().object,screenWidth:u().number,screenHeight:u().number,showLayerInfo:u().bool,layer:u().object,unit:u().string,previewRatio:u().number};var Vx=function(n,t,r){var e=n.src_width,o=n.src_height,s=n.rotation,l=s===void 0?0:s,p=n.width,h=n.height,M=e||p,N=o||h,B=n.kind?e:M*(0,io.mC)(l)+M*(0,io.O$)(l),U=n.kind?o:N*(0,io.O$)(l)+N*(0,io.mC)(l),K=(0,Pt._F)(B,r),Q=(0,Pt._F)(U,r),J=n.kind?(0,Pt._F)(n.origin_width||e,r):(0,Pt._F)(M,r),te=n.kind?(0,Pt._F)(n.origin_height||o,r):(0,Pt._F)(N,r);return(0,v.jsxs)(y.Fragment,{children:[(0,v.jsx)("span",{className:"LayerCorner left top"}),(0,v.jsx)("span",{className:"LayerCorner left bottom"}),(0,v.jsx)("span",{className:"LayerCorner right top"}),(0,v.jsx)("span",{className:"LayerCorner right bottom"}),(0,v.jsx)("span",{className:"layer-width",children:""+K+t}),(0,v.jsx)("span",{className:"layer-height",children:""+Q+t}),l!==0&&(0,v.jsxs)("span",{className:"rect_info",children:[J+" x "+te,"\xA0\xA0",l+"\xB0"]})]})},Kx=function(n,t,r){return{top:n.top/r*100+"%",left:n.left/t*100+"%",width:n.width/t*100+"%",height:n.height/r*100+"%"}},Ga=c(76760),kp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"renderValue",function(l){var p=r.props,h=p.unit,M=p.activeLayerID,N=p.layerTreeData,B=p.previewRatio,U=hn(M,N),K=U.widget,Q=K.src_width,J=K.width,te=Q?Q/J:1;return(0,v.jsx)(zx,(0,O.Z)({unit:h,valueRatio:te,previewRatio:B},l))}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){$(".panel").scrollLeft(0).scrollTop(0)}},{key:"render",value:function(){var e=this.props,o=e.activeLayerID,s=e.enteredLayerID,l=e.layerTreeData,p=e.screen,h=e.unit,M=e.ratio,N=e.isOutsideVisible,B=e.previewRatio,U=p.width,K=p.height,Q=hn(o,l),J=hn(s,l),te=Q&&J&&s!==o,re=!!Q,ie=J&&s!==o;if(!(te||re||ie))return null;var se=Zp(o,l,N),ge=Zp(s,l,N);return(0,v.jsxs)(y.Fragment,{children:[te&&(0,v.jsx)(Wx,{baseRect:se,refRect:ge,screen:p,ratio:M,renderValue:this.renderValue,theme:"preview"}),re&&se&&(0,v.jsx)(tl,{type:"select",rect:se,screenWidth:U,screenHeight:K,showLayerInfo:!te,layer:Q.widget,unit:h,previewRatio:B}),ie&&ge&&(0,v.jsx)(tl,{type:"hover",rect:ge,screenWidth:U,screenHeight:K,previewRatio:B})]})}}]),t}(y.PureComponent);(0,f.Z)(kp,"propTypes",{ratio:u().number,unit:u().string,activeLayerID:u().oneOfType([u().number,u().string]),enteredLayerID:u().oneOfType([u().number,u().string]),layerTreeData:u().object,screen:u().object,isOutsideVisible:u().bool,previewRatio:u().number});var Zp=function(n,t,r){var e=hn(n,t);if(!e)return null;var o=e.widget,s=o.width,l=o.height,p=o.ro,h=o.name,M=o.left,N=o.top;if(e.worldBoundingBox){var B=e.worldBoundingBox,U=B.transform,K=B.rect,Q=U.apply(K),J=(e.widget.ro||0)/180*Math.PI,te=U.apply(Ga.Rect.center(K)),re=Ga.Vec2.rotate(te,-J,Q),ie=re.x,se=re.y;ie&&(M=ie),se&&(N=se)}var ge=(0,tc.mi)([{width:s,height:l,left:M,top:N,ro:p,name:h}]);if(r)return ge;var De=t.widget,Me={top:0,left:0,width:De.width,height:De.height};return Yx(ge,Me)},Yx=function(n,t){var r=Bp(n),e=Bp(t),o=Math.max(r.minX,e.minX),s=Math.max(r.minY,e.minY),l=Math.min(r.maxX,e.maxX),p=Math.min(r.maxY,e.maxY);return{top:s,left:o,width:l-o,height:p-s}},Bp=function(n){var t=n.top,r=n.left,e=n.width,o=n.height;return{minX:r,minY:t,maxX:r+e,maxY:t+o}},Xx=(0,H.connect)(function(i){var n=i.container,t=n.layers,r=t.activeLayerID,e=t.enteredLayerID,o=n.previewSetting,s=o.unit,l=o.ratio,p=(0,ne.z7)(i),h=(0,ne.HR)(i),M=(0,ne.CL)(i),N=ja(i),B=h==="outside_artboard";return{activeLayerID:r,enteredLayerID:e,layerTreeData:N,ratio:p/100,unit:s,screen:M,isOutsideVisible:B,previewRatio:l}})(kp),Qx=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.panelWidgetData,s=e.selectedPanel,l=e.panelStyle;if(!o)return null;var p={left:s.left,top:s.top};return(0,v.jsx)("div",{className:"panelLayer",style:l,children:(0,v.jsx)("div",{className:"panelNode",style:p,children:o.render()})})}}]),t}(y.PureComponent),_x=(0,sr.P1)([Mn,tv],function(i,n){return{selectedPanel:i,panelWidgetData:n}}),Jx=(0,H.connect)(function(i){return _x(i)})(Qx),qx=ze.default.div.withConfig({displayName:"styles__StyledArtboard",componentId:"sc-1qhsdu8-0"})(["position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none;.inInspectPanelLayerInfo{position:absolute;width:100%;height:100%;overflow:hidden;&.isOutsideVisible{overflow:visible;}.panelLayer{position:absolute;.panelNode{position:absolute;}}}&.is-shadow{box-shadow:0 0 3px 0 rgba(0,0,0,0.1);}&.is-active{z-index:200;pointer-events:auto;}"]),eC=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"checkIfNeedHideLayer",function(l){var p=r.props,h=p.isSpaceDown,M=p.isSelectLayer,N=p.isInspectInPanel,B=p.dispatch;if(M){var U=l.target;!h&&(U.contains(document.getElementById("simulator-container"))||document.getElementById("preview-setting-list").contains(U))&&(B(Ii(-1)),B({type:"entry:inspect:clear:panel:action"}),N&&r.handleQuitEdit(),B({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!1}}))}}),(0,f.Z)((0,ae.Z)(r),"handleQuitEdit",function(){return r.props.dispatch({type:"entry:inspect:exit:panel"})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isPreview,s=e.isInspect,l=e.isShowColorPicker,p=e.theme,h=e.scale,M=e.isFetching,N=e.error,B=e.activePanel,U=e.viewportRect,K=e.dispatch,Q=e.currentScreen,J=e.canvasRect,te=e.isInspectInPanel,re=e.isOutsideVisible;if(M||N)return null;var ie=st()("ui-layers",{"is-shadow":!o,"is-active":s}),se=s&&!l,ge={transform:"scale("+h/100+")"};return(0,v.jsxs)(qx,{className:ie,children:[B&&te&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"panelLayerInfo",children:(0,v.jsx)(gx,{theme:p,scale:h,activePanel:B,viewportRect:U,canvasRect:J,dispatch:K,currentScreen:Q,onQuitEdit:this.handleQuitEdit})}),(0,v.jsx)("div",{className:st()("inInspectPanelLayerInfo",{isOutsideVisible:re}),children:(0,v.jsx)(Jx,{panelStyle:ge})})]}),l&&(0,v.jsx)(Dx,{}),se&&(0,v.jsxs)("div",{className:"layerInfo",children:[(0,v.jsx)(Px,{}),(0,v.jsx)(Xx,{}),(0,v.jsx)(Fr.Z,{target:document,onClick:this.checkIfNeedHideLayer})]})]})}}]),t}(y.PureComponent),tC=function(n){return n.container.common.keyFlags.isSpaceDown},rC=function(n){return n.container.previewSetting.isSelectLayer},nC=(0,sr.P1)([ne.yZ,ne.gh,ne.aO,Mn,ne.e4,ne.k6,Na,ne.nB,ne.Uq,ne.V2,ne.HR,tC,rC,Gl],function(i,n,t,r,e,o,s,l,p,h,M,N,B,U){var K=e.cid,Q=l.isPreview,J=l.isInspect,te=U.isFetching,re=te===void 0?!0:te,ie=U.error,se=ie===void 0?"":ie,ge=r?(0,Kn.Tf)(K,r.screen_meta_cid):{},De=M==="outside_artboard";return{isOutsideVisible:De,isPreview:Q,isInspect:J,isShowColorPicker:h,runnerState:p,activePanel:r,currentScreen:ge,canvasRect:o,isInspectInPanel:s,isSpaceDown:N,isSelectLayer:B,isFetching:re,error:se,viewportRect:t,theme:n,scale:i}}),aC=(0,H.connect)(function(i){return nC(i)})(eC),iC={shell:"PM26Ljznui8RJWuxUXab"},rl=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isHTMLZip,s=e.project,l=e.shellType,p=e.isLandscape,h=oC(l,s,p,o),M=l==="device"&&h===null?"none":l;return(0,v.jsx)("div",{className:iC.shell+" "+M,style:h})}}]),t}(y.PureComponent);rl.propTypes={isHTMLZip:u().bool,project:u().object,shellType:u().string,isLandscape:u().bool};function oC(i,n,t,r){switch(i){case"device":{var e=(0,ka.Zl)(n,i);if(!e.bg)return null;var o=t?e.bg+"_land":e.bg,s=t?[-(e.land_top||e.left),-e.top,e.height,e.width]:[-e.top,-e.left,e.width,e.height],l=(0,F.Z)(s,4),p=l[0],h=l[1],M=l[2],N=l[3];return{top:p,left:h,width:M,height:N,backgroundImage:"url("+(r?".":"")+"/mb-workspace/images/devices/"+o+".png)"}}case"default":return null;case"none":return null}}var sC=c(74150),lC=function(n,t){var r=n.children.filter(function(o){if(o.widget.primary_fixed!==0)return!1;var s=Ga.Rect.enclosing(Ga.TransformAndRect.points(o.worldBoundingBox));return s.y<t}),e=n.dup();return e.children=r,e},cC=function(n,t,r){var e=n.children.filter(function(s){if(s.widget.primary_fixed!==0)return!1;var l=Ga.Rect.enclosing(Ga.TransformAndRect.points(s.worldBoundingBox)),p=t-(l.y+l.h);return p<r}),o=n.dup();return o.children=e,o},uC=c(38237),nl=c(75017),UP={},Fp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isPanelPreviewMode,s=e.isShow,l=e.screenInfo,p=e.isActive,h=e.style,M=e.isHTMLZip,N=e.isScrollable,B=e.isInspectInPanel,U=e.selectedPanel,K=e.annotateHoverCid,Q=e.scale,J=e.refreshCount,te=l.screenMeta,re=l.stateCid,ie=l.screenRuntimeState,se=l.transition,ge=(0,Vn.Oz)(te.cid,re,ie.itemListMap[re]),De=(0,O.Z)({display:s?"":"none",backgroundColor:te.bgcolor,backgroundImage:te.bgimage?"url("+te.bgimage+")":"",height:te.height},h),Me=te.orientation,Fe=st()("pcanvas",Me,{active:p,mouseAble:ge.length}),nt=ie.dataMap[re],ot=nt.hh,dt=nt.fh,fe=p&&N&&De.display!=="none";return(0,v.jsxs)("div",{id:"pscreen"+te.cid,"data-cid":te.cid,"data-orientation":Me,className:Fe,style:De,children:[(0,v.jsx)(Hp,{screenMeta:te,stateCid:re,transition:se,screenRuntimeState:ie,isHTMLZip:M,isInspectInPanel:B,selectedPanel:U,annotateHoverCid:K,scale:Q,isPanelPreviewMode:o,refreshCount:J}),fe&&(0,v.jsx)(Up,{screenCid:te.cid,hh:ot,fh:dt})]})}}]),t}(y.PureComponent);(0,f.Z)(Fp,"propTypes",{isInspectInPanel:u().bool,isShow:u().bool,isActive:u().bool,screenInfo:u().object,style:u().object,isHTMLZip:u().bool,isScrollable:u().bool,scale:u().number,annotateHoverCid:u().string,selectedPanel:u().object,isPanelPreviewMode:u().bool,refreshCount:u().number});var Up=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.screenCid;setTimeout(function(){return MB.runnerController.renderScrollbar(e)})}},{key:"componentDidUpdate",value:function(){var e=this.props.screenCid;MB.runnerController.renderScrollbar(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.screenCid;MB.runnerController.destroyScrollBarByCid(e)}},{key:"render",value:function(){return null}}]),t}(y.PureComponent);(0,f.Z)(Up,"propTypes",{screenCid:u().string});var Hp=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleGetAnnotateTree",function(l){var p=r.props.annotateHoverCid;return p?l.widgetStore.getNode(p):null}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isPanelPreviewMode,s=e.screenMeta,l=e.stateCid,p=e.transition,h=e.screenRuntimeState,M=e.isHTMLZip,N=e.isInspectInPanel,B=e.selectedPanel,U=e.annotateHoverCid,K=e.scale,Q=e.refreshCount,J=h.dataMap[l],te=J.hh,re=te===void 0?0:te,ie=J.fh,se=ie===void 0?0:ie,ge={height:s.height-(re+se)},De={height:s.height,marginTop:-re};return(0,v.jsx)(uC.Z,{screen:s,stateCid:l,transition:p,screenRuntimeState:h,isHTMLZip:M,isPanelPreviewMode:o,children:function(Fe){return(0,v.jsxs)(y.Fragment,{children:[(0,v.jsx)("div",{className:"screen-header",style:{height:re},children:re>0&&(0,v.jsxs)(y.Fragment,{children:[(0,v.jsx)(nl.Z,{imageUrl:s.artboard_image_url}),lC(Fe,re).render({isWithinHeader:!0,annotateHoverCid:U,scale:K,refreshCount:Q})]})}),(0,v.jsx)("div",{className:"screen-content",children:(0,v.jsx)("div",{className:"widgets",style:ge,children:(0,v.jsxs)("div",{className:"scontainer",style:De,children:[(0,v.jsx)(nl.Z,{imageUrl:s.artboard_image_url}),Fe.render({isWithinPanelEditor:N,editingPanelCid:B&&B.cid,annotateHoverCid:U,scale:K,refreshCount:Q})]})})}),(0,v.jsx)("div",{className:"screen-footer",style:{height:se},children:se>0&&(0,v.jsxs)("div",{className:"footer-widgets",style:{marginTop:se-s.height},children:[(0,v.jsx)(nl.Z,{imageUrl:s.artboard_image_url}),cC(Fe,s.height,se).render({isWithinFooter:!0,annotateHoverCid:U,scale:K,refreshCount:Q})]})})]})}})}}]),t}(y.PureComponent);(0,f.Z)(Hp,"propTypes",{screenMeta:u().object,stateCid:u().string,transition:u().object,screenRuntimeState:u().object,isHTMLZip:u().bool,isInspectInPanel:u().bool,scale:u().number,annotateHoverCid:u().string,selectedPanel:u().object,isPanelPreviewMode:u().bool,refreshCount:u().number});var al=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleHomeScreenLoad",function(o){var s=e.props.screenInfoMap,l=s[o],p=l.screenMeta,h=l.stateCid;MB.runnerController.doneTransition(p,h)}),(0,f.Z)((0,ae.Z)(e),"handleTransitionEnd",function(o){var s=e.props,l=s.screenInfoMap,p=s.transition,h=p.name,M=p.callback;/(menu|drawer)-reverse/.test(h)&&(console.log("menu - closed"),MB.runnerController.setCurrentMenu(null),MB.runnerController.setCurrentScreen(null));var N=l[o],B=N.screenMeta,U=N.stateCid;MB.runnerController.doneTransition(B,U),M&&M()}),e.state={prevScreenCid:"",currentScreenCid:r.activeCid},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){MB.webpackInterface.store.dispatch({type:"reducer:artboards:toggle:splash",payload:{isShowSplash:!0}})}},{key:"componentWillUnmount",value:function(){console.log("mb runner will unmount")}},{key:"render",value:function(){var e=this.props,o=e.isPanelPreviewMode,s=e.screenInfoMap,l=e.transition,p=e.isHTMLZip,h=e.isScrollable,M=e.isInspectInPanel,N=e.selectedPanel,B=e.isStickyShow,U=e.isImmersive,K=e.annotateHoverCid,Q=e.scale,J=e.annotateSelectWidgetCid,te=e.refreshCount,re=this.state,ie=re.prevScreenCid,se=re.currentScreenCid;return se?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(sC.Z,{activeCid:se,transition:l,onHomeScreenLoad:this.handleHomeScreenLoad,onTransitionEnd:this.handleTransitionEnd,children:function(De,Me){return Object.values(s).sort(function(Fe,nt){return Fe.cid>nt.cid?1:-1}).map(function(Fe,nt){var ot=Fe.cid,dt=ot===ie,fe=ot===se,ue=dt?De:fe?Me:null;return(0,v.jsx)(Fp,{isShow:dt||fe,screenInfo:Fe,style:ue,isActive:se===ot,isHTMLZip:p,isScrollable:h,isInspectInPanel:M,selectedPanel:N,isStickyShow:B,isImmersive:U,annotateHoverCid:K,scale:Q,annotateSelectWidgetCid:J,isPanelPreviewMode:o,refreshCount:te},ot)})}})}):null}}]),t}(y.PureComponent);(0,f.Z)(al,"propTypes",{isHTMLZip:u().bool,isScrollable:u().bool,screenInfoMap:u().object,activeCid:u().string,isInspectInPanel:u().bool,isStickyShow:u().bool,isImmersive:u().bool,annotateSelectWidgetCid:u().string,annotateHoverCid:u().string,scale:u().number,transition:u().object,selectedPanel:u().object,isPanelPreviewMode:u().bool,refreshCount:u().number}),(0,f.Z)(al,"getDerivedStateFromProps",function(i,n){return i.activeCid!==n.currentScreenCid?{prevScreenCid:n.currentScreenCid,currentScreenCid:i.activeCid}:null});var dC=(0,H.connect)(function(i){var n=i.container.annotatePanel.annotateHoverCid,t=(0,ne.GP)(i),r=t.isHTMLZip,e=(0,ne.HR)(i),o=e==="device",s=Na(i),l=Mn(i),p=(0,ne.yZ)(i),h=(0,ne.yT)(i),M=(0,ne.P8)(i);return(0,O.Z)({isHTMLZip:r,isScrollable:o,isInspectInPanel:s,selectedPanel:l,annotateHoverCid:n,scale:p,isPanelPreviewMode:h,refreshCount:M},(0,ne.Uq)(i))})(al),il=c(73376),pC=function(n){var t=n.project_meta_cid,r=n.screen_glue_cid,e=(0,Kn.Qu)(t,r),o=n.orientation==="portrait"?[e.width,e.height]:[e.height,e.width],s=(0,F.Z)(o,2),l=s[0],p=s[1];return[l,p]},fC=ze.default.div.withConfig({displayName:"style__StyledAppSplash",componentId:"sc-b8jnw5-0"})(["position:absolute;width:100%;height:100%;background:#f5f5f5;overflow:hidden;margin-bottom:500px;top:0;z-index:2;img{position:absolute;width:100%;height:100%;}.loading{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;width:100%;height:30px;.splash-loading{width:30px;height:30px;}}&.landscape{img{transform:rotate(90deg);transform-origin:bottom left;}}"]),hC=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.homeScreen,s=e.url,l=e.isPanelPreviewMode,p=pC(o),h=(0,F.Z)(p,2),M=h[0],N=h[1],B;return o.width!==M?B={top:0-M,width:N,height:M}:B={top:0,width:M,height:"101%"},(0,v.jsxs)(fC,{className:st()("splash",o.orientation),style:{backgroundColor:o.bgcolor},children:[s&&!l&&(0,v.jsx)("img",{src:s,style:B}),(0,v.jsx)("div",{className:"loading",children:(0,v.jsx)(il.Z,{className:"splash-loading"})})]})}}]),t}(y.PureComponent),vC=ze.default.div.withConfig({displayName:"styles__StyledScreenItem",componentId:"sc-17tn6jf-0"})(["display:flex;align-items:center;height:58px;border-bottom:1px solid #dbdbdb;&.active{background:#DAEBFE;font-weight:700;}.choosed{height:14px;min-width:14px;margin-right:16px;color:#999999;}.expander{height:18px;width:18px;margin-left:-16px;.arrow-icon{height:18px;width:18px;color:#8d9ea7;&.is-expand{transform:rotate(90deg);}}}.screen-name{display:flex;align-items:center;width:100%;height:100%;.screen-item-icon{width:24px;height:24px;display:flex;justify-content:center;align-items:center;flex-shrink:0;margin-right:6px;}.editable-span{font-size:18px;color:#415058;height:26px;",";}}"],Ha),ol=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"setElementRef",function(l){return r.$elem=l}),(0,f.Z)((0,ae.Z)(r),"handleExpand",function(l){l.stopPropagation();var p=r.props,h=p.screenMeta,M=p.actionProps.onExpand;M(h)}),(0,f.Z)((0,ae.Z)(r),"handleClick",function(l){l.stopPropagation();var p=r.props,h=p.screenMeta,M=p.actionProps.onSelect;M(l,h)}),(0,f.Z)((0,ae.Z)(r),"handleOpenState",function(){var l=r.props.dispatch;l({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!0}})}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){if(!(0,kn.pn)(this.$elem)){var e=this.$elem.classList.contains("active");if(!e)return;var o=document.querySelector(".rn-content-body");if(!o)return;var s=o.getBoundingClientRect(),l=this.$elem.getBoundingClientRect(),p=l.bottom;o.scrollTop+=p-s.bottom+20}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,o=e.screenMeta,s=e.depth,l=e.isExpand,p=e.isActive,h=e.showExpander,M=e.runnerState,N=e.theme,B=!1;if(p){var U=M.screenInfoMap[o.cid].screenRuntimeState.dataMap;B=Object.values(U).length>1}var K=14*(s+1)+12,Q=(0,Ir.Vx)(o),J=o.cid,te=o.name,re=o.firstState;return(0,v.jsxs)(vC,{ref:this.setElementRef,"data-cid":J,onClick:this.handleClick,style:{paddingLeft:K},className:st()("rn-list-item",{active:p,folder:Q}),children:[h&&(0,v.jsx)("a",{className:"expander",onClick:this.handleExpand,onDoubleClick:this.stopPropagation,children:(0,v.jsx)(At.q,{className:st()("arrow-icon",{"is-expand":!l}),name:"new/arrow"})}),(0,v.jsxs)("div",{className:"screen-name",children:[(0,v.jsx)("div",{className:"screen-item-icon",children:(0,v.jsx)(Pu.p,{icon:re==null?void 0:re.icon,theme:N,isExpand:l})}),(0,v.jsx)(Mu.p,{className:"editable-span",children:(0,kn.j4)(te)})]}),p&&B&&(0,v.jsx)("a",{onClick:this.handleOpenState,children:(0,v.jsx)(At.q,{name:"preview/menu/state",className:"choosed"})})]})}}]),t}(y.PureComponent);(0,f.Z)(ol,"propTypes",{theme:u().string,depth:u().number,screenMeta:u().object,isActive:u().bool,isExpand:u().bool,showExpander:u().bool,actionProps:u().object,dispatch:u().func,runnerState:u().object});var oo=c(79702),Wp,$p,zp;function sl(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var mC=ze.default.div(Wp||(Wp=sl(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  transition: all 0.2s ease-out;\n  background-color: rgba(0, 0, 0, 0.4);\n  &.mask-enter {\n    opacity: 0;\n  }\n  &.mask-exit-active {\n    opacity: 0;\n  }\n"]))),gC=ze.default.div($p||($p=sl(["\n  position: relative;\n  margin: 15vh auto 3rem;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  min-height: 9.5rem;\n  width: 31.25rem;\n  font-size: 0.875rem;\n  background-color: #fff;\n  box-shadow: 0 2px 8px 0 rgba(0,0,0,0.1);\n  border-radius: 1px;\n  color: #5b6b73;\n  cursor: initial;\n  transition: all 0.2s ease-out;\n  &.is-v-centered {\n    margin: 3rem auto;\n  }\n  &.fade-enter, &.fade-appear {\n    opacity: 0;\n    transform: translateY(-50vh);\n  }\n  &.fade-exit-active {\n    opacity: 0;\n    transform: translateY(-50vh);\n  }\n"]))),yC=(0,ze.createGlobalStyle)(zp||(zp=sl(["\n  .ModalPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    padding: 3rem 1.5rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n\n    @media (max-width: 40rem) {\n      padding: unset;\n      min-width: unset;\n    }\n  }\n"])));function SC(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function Gp(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Vp(r.key),r)}}function bC(i,n,t){return n&&Gp(i.prototype,n),t&&Gp(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function xC(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),n&&ll(i,n)}function ll(i,n){return ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},ll(i,n)}function CC(i){var n=EC();return function(){var r=so(i),e;if(n){var o=so(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return wC(this,e)}}function wC(i,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Va(i)}function Va(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function EC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function so(i){return so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},so(i)}function wa(i,n,t){return n=Vp(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Vp(i){var n=AC(i,"string");return typeof n=="symbol"?n:String(n)}function AC(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}var MC="ModalPortal",Kp="IBOT_MODAL_ROOT",Yp=document.body,lo=document.getElementById(Kp)||Object.assign(document.createElement("div"),{id:Kp});Yp.contains(lo)||Yp.appendChild(lo);var Xp=function(n){return n.stopPropagation()},pi=function(i){xC(t,i);var n=CC(t);function t(){var r;SC(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),wa(Va(r),"portal",(0,yt.Qt)(lo,(0,yt.A1)([MC,r.props.portalClassName]))),wa(Va(r),"close",function(){var l=r.props,p=l.onClose,h=l.timeout;p(),setTimeout(function(){return r.portal.remove()},h)}),wa(Va(r),"open",function(){var l=r.props,p=l.isOpen,h=l.onOpen;p&&(h(),lo.appendChild(r.portal)),r.positionY()}),wa(Va(r),"positionY",function(){return setTimeout(function(){var l=(0,yt.$)(".TransitionModal",r.portal);if(l){var p=window,h=p.innerHeight,M=l.offsetHeight,N=h<=M||(h-M)/2<h*.2?"add":"remove";l.classList[N]("is-v-centered")}})}),wa(Va(r),"onClickMask",function(l){Xp(l);var p=r.props,h=p.onClose,M=p.canCloseOnClickMask;h&&M&&r.close()}),r}return bC(t,[{key:"componentDidMount",value:function(){var e=this.props.isOpen;e&&this.open(),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e){var o=e.isOpen,s=this.props.isOpen;!o&&s?this.open():o&&!s&&this.close()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.positionY)}},{key:"renderModalDOM",value:function(){var e=this.props,o=e.children,s=e.maskChildren,l=e.isOpen,p=e.timeout,h=e.className,M=e.maskClassName,N=e.onEntered;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(yC,{}),(0,v.jsx)(oo.Z,{in:l,classNames:"mask",timeout:p,unmountOnExit:!0,children:(0,v.jsx)(mC,{className:(0,yt.A1)(["TransitionModalMask",M]),onClick:this.onClickMask,children:s})}),(0,v.jsx)(oo.Z,{in:l,classNames:"fade",timeout:p,unmountOnExit:!0,appear:!0,onEntered:N,children:(0,v.jsx)(gC,{className:(0,yt.A1)(["TransitionModal",h]),onClick:Xp,children:o})})]})}},{key:"render",value:function(){var e=this.props.isOpen;return e&&(0,b.createPortal)(this.renderModalDOM(),this.portal)}}]),t}(y.PureComponent);wa(pi,"propTypes",{isOpen:u().bool,children:u().node,maskChildren:u().node,timeout:u().number,canCloseOnClickMask:u().bool,className:u().string,maskClassName:u().string,portalClassName:u().string,onOpen:u().func,onClose:u().func,onEntered:u().func}),wa(pi,"defaultProps",{isOpen:!1,timeout:200,maskClassName:"",portalClassName:"",className:"",canCloseOnClickMask:!0,onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null}});var Qp="local_embed_toast_show";function PC(){var i=(0,Tt.RD)(Qp,null,Tt.cM.Boolean),n=function(){(0,Tt.iO)(Qp,!0,Tt.cM.Boolean),o(!0)},t=(0,y.useState)(i),r=(0,F.Z)(t,2),e=r[0],o=r[1];return(0,v.jsx)(v.Fragment,{children:!e&&(0,v.jsxs)(TC,{isOpen:!0,children:[(0,v.jsx)("div",{className:"placeholder"}),(0,v.jsxs)("div",{className:"content",children:[(0,v.jsx)("img",{src:"/mb-workspace/images/preview/loading.gif",alt:"Loading..."}),(0,v.jsx)("span",{children:I18N.pPreview.double_click_call_up_settings_panel}),(0,v.jsx)("span",{children:I18N.pPreview.can_jump_directly_to_the_artboard})]}),(0,v.jsx)("div",{className:"close-btn",children:(0,v.jsx)(At.q,{onClick:n,name:"design/close_sm"})})]})})}var TC=(0,ze.default)(pi).withConfig({displayName:"EmbedToastModal__StyledPreviewAuthModal",componentId:"sc-j1vvjo-0"})(["width:80%;min-width:255px;display:flex;flex-direction:row;padding-bottom:25px;.placeholder{width:10%;}.content{width:80%;display:flex;flex-direction:column;align-items:center;}.close-btn{display:flex;flex-direction:row-reverse;width:10%;height:32px;svg{width:32px;height:32px;}}"]),_p=ze.default.div.withConfig({displayName:"styles__StyledPreviewMask",componentId:"sc-rebllg-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:5;"]),Jp=ze.default.div.withConfig({displayName:"styles__StyledPreviewSetting",componentId:"sc-rebllg-1"})(["position:fixed;bottom:-363px;display:flex;flex-direction:column;z-index:6;height:363px;width:100%;background-color:#f7f7f7;transition:bottom 0.3s ease-in-out;&.is-open{bottom:0;}.theContent{display:flex;flex-grow:1;flex-direction:column;.line{border-bottom:1px solid #dbdbdb;margin-left:16px;}.contentItem{display:flex;flex-direction:row;justify-content:flex-start;margin:20px 16px 16px 16px;.menuBlock{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 12px 0 0;.menuBlockIcon{border-radius:10px;background-color:white;height:60px;width:60px;margin-bottom:8px;border:1px solid #f2f2f2;display:flex;align-items:center;justify-content:center;.blockIcon{height:36px;width:36px;color:#ffffff;}}.menuBlockName{display:flex;align-items:center;font-size:12px;color:#84817a;.redDot{width:4px;height:4px;background:#eb5648;border-radius:50%;margin-right:2px;}}}}.highlight-blue{.menuBlockIcon .link-svg{fill:#4257ff;}.menuBlockName .name{color:#4257ff;}}.offline-blue{.menuBlockIcon .download-svg{fill:#4257ff;}.menuBlockName .name{color:#4257ff;}}.highlight-red{.menuBlockIcon .link-svg{fill:#fe5859;}.menuBlockName .name{color:#fe5859;}}.offline-red{.menuBlockIcon .download-svg{fill:#fe5859;}.menuBlockName .name{color:#fe5859;}}.theHeader{display:flex;align-items:center;justify-content:flex-start;height:68px;padding-left:16px;color:#415058;border-bottom:1px solid #dbdbdb;.headerIcon{height:40px;width:40px;margin-right:12px;border-radius:6px;img{height:40px;width:40px;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{font-weight:bold;font-size:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#415058;text-align:left;width:300px;}.headerIntro{margin-top:4px;color:#8d9ea7;font-size:12px;font-weight:none;text-align:left;}}}}.theFooter{display:flex;align-items:center;justify-content:center;height:50px;background-color:#fff;font-size:18px;color:#415058;border-top:1px solid #dbdbdb;}@supports (bottom:env(safe-area-inset-bottom)){&.is-open{margin-bottom:env(safe-area-inset-bottom);}}"]),IC=ze.default.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-rebllg-2"})(["position:absolute;height:100vh;width:100vw;z-index:6;display:flex;justify-content:center;align-items:center;.progress-box{display:flex;justify-content:center;align-items:center;flex-direction:column;width:240px;height:120px;background:#fff;box-shadow:0 2px 6px 0 rgba(0,0,0,0.18);border-radius:4px;}.splash-loading{width:70px;height:70px;}.sliderName{margin-top:10px;font-size:14px;color:#415058;letter-spacing:0;text-align:center;}"]),qp=ze.default.div.withConfig({displayName:"styles__StyledScreenSetting",componentId:"sc-tn095f-0"})(["flex:1;width:100%;.theHeader{width:100%;display:flex;align-items:center;justify-content:flex-start;height:68px;border-bottom:1px solid #dbdbdb;.backBtn{padding:12px;.backIcon{height:25px;width:11px;color:#fff;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{font-size:18px;color:#415058;font-weight:bold;}}}.screen-list{width:100%;overflow-x:hidden;overflow-y:auto;height:245px;}.when-ws .choosed path{fill:#4257ff;}"]),OC=ze.default.div.withConfig({displayName:"styles__StyledScreenSetting",componentId:"sc-9v8nry-0"})(["flex:1;width:100%;.theHeader{width:100%;display:flex;align-items:center;justify-content:flex-start;height:68px;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px 17px 20px 20px;.backIcon{padding-top:5px;height:18px;width:18px;color:#fff;}}.headerTitle{width:100%;display:flex;flex-direction:colum;justify-content:space-between;.headerName{font-size:18px;color:#415058;font-weight:bold;}}}.state-list{width:100%;overflow-x:hidden;overflow-y:auto;height:245px;}"]),DC=ze.default.ul.withConfig({displayName:"styles__StyledStateList",componentId:"sc-ihrfak-0"})(["&,ol,li{list-style:none;}"]),LC=ze.default.div.withConfig({displayName:"styles__StyledStateItem",componentId:"sc-ihrfak-1"})(["display:flex;align-items:center;height:48px;border-bottom:1px solid #f2f2f2;padding-left:24px;font-weight:",";.choosed{height:14px;min-width:14px;margin-right:20px;color:#333;}.state-name{display:flex;align-items:center;width:100%;height:100%;font-size:16px;color:#333;height:26px;}"],function(i){return i.isActive?"700":""}),ef=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleActivate",function(l){var p=r.props,h=p.screenCid,M=p.dispatch;M({type:"entry:runner:activate:screen-state",payload:{screenCid:h,stateCid:l.cid}})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.screenStateCid,l=o.screenStateList;return(0,v.jsx)(DC,{children:l.map(function(p){return(0,v.jsx)(tf,{screenState:p,isActive:p.cid===s,onClick:e.handleActivate},p.cid)})})}}]),t}(y.PureComponent);(0,f.Z)(ef,"propTypes",{screenCid:u().string,screenStateCid:u().string,screenStateList:u().array,dispatch:u().func});var tf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleClick",function(){var l=r.props,p=l.screenState,h=l.isActive,M=l.onClick;h||M(p)}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screenState,s=e.isActive;return(0,v.jsxs)(LC,{isActive:s,children:[(0,v.jsx)("div",{className:st()("state-name "),onClick:this.handleClick,children:o.name}),s&&(0,v.jsx)("a",{className:"choosed",onClick:this.handleOpenState,children:(0,v.jsx)(At.q,{name:"preview/menu/choose"})})]})}}]),t}(y.PureComponent);(0,f.Z)(tf,"propTypes",{screenState:u().object,isActive:u().bool,onClick:u().func});function NC(i){var n=i.isShow,t=i.screenStateCid,r=i.dataMap,e=i.screenCid,o=i.dispatch;if(!n)return null;var s=Object.values(r).sort(function(p,h){return p.position-h.position}),l=function(){o({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})};return(0,v.jsxs)(OC,{children:[(0,v.jsxs)("div",{className:"theHeader",children:[(0,v.jsx)("a",{className:"backBtn",onClick:l,children:(0,v.jsx)(At.q,{className:"backIcon",name:"preview/menu/back_state"})}),(0,v.jsx)("div",{className:"headerTitle",children:(0,v.jsx)("div",{className:"headerName",children:"\u9009\u62E9\u9875\u9762\u72B6\u6001"})})]}),(0,v.jsx)("div",{className:st()("state-list"),children:(0,v.jsx)(ef,{screenStateList:s,screenStateCid:t,screenCid:e,dispatch:o})})]})}var jC=(0,sr.P1)([ne.d9,ne.Uq],function(i,n){var t=n.activeCid,r=n.screenInfoMap,e=r[t];if(!e)return{isShow:!1};var o=e.stateCid,s=e.screenRuntimeState.dataMap;return{isShow:i,screenCid:t,screenStateCid:o,dataMap:s}}),rf=(0,H.connect)(function(i){return jC(i)})(NC),nf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$elem=o}),(0,f.Z)((0,ae.Z)(e),"initCollapseKeySet",function(){var o=e.props,s=o.activeCid,l=o.screenTreeData,p=(0,Ir._i)(s,l),h=new Set(p.map(function(M){var N=M.cid;return N}));e.setState({collapseKeySet:h})}),(0,f.Z)((0,ae.Z)(e),"handleScreenMetaExpand",function(o){var s=o.cid,l=e.state.collapseKeySet,p=new Set(l);l.has(s)?p.delete(s):p.add(s),e.setState({collapseKeySet:p})}),(0,f.Z)((0,ae.Z)(e),"handleSelectScreenMeta",function(o,s){var l=e.props,p=l.activeCid,h=l.dispatch,M=(0,Ir.Vx)(s);M||(p===s.cid?e.handleScreenMetaExpand(s):h({type:"entry:sync-runner:set-screen",payload:{cid:s.cid}}))}),(0,f.Z)((0,ae.Z)(e),"handleClosePreviewSetting",function(){e.setState({isOpen:!1})}),(0,f.Z)((0,ae.Z)(e),"onClickOutside",function(o){var s=o.target;e.$elem.contains(s)||e.handleClosePreviewSetting()}),(0,f.Z)((0,ae.Z)(e),"renderScreenMetaItem",function(o){var s=o.depth,l=o.screenMeta,p=o.hasScreenMetaChildren,h=o.collapseScreenMetaCidSet,M=o.activeScreenMetaCid,N=o.dispatch,B=e.props.runnerState,U=l.cid,K=M===U,Q=h.has(U),J=p||(0,Ir.Vx)(l);return(0,v.jsx)(ol,{depth:s,screenMeta:l,isActive:K,isExpand:Q,showExpander:J,actionProps:e.literalActionProps,dispatch:N,runnerState:B})}),e.state={isOpen:!1,collapseKeySet:new Set},e.literalActionProps={onExpand:e.handleScreenMetaExpand,onSelect:e.handleSelectScreenMeta},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=document.querySelector("#workspace"),s=new(mn()).Manager(o);s.add(new(mn()).Tap({event:"doubletap",pointers:2})),s.on("doubletap",function(l){e.setState({isOpen:!0})}),this.initCollapseKeySet()}},{key:"render",value:function(){var e=this.props,o=e.project,s=e.screenTreeData,l=e.activeCid,p=e.isStatePanelShow,h=e.dispatch,M=e.runnerState,N=e.previewOptions,B=this.state,U=B.isOpen,K=B.collapseKeySet,Q=N.isEmbedV1,J=N.isEmbedV2;return(0,v.jsxs)(v.Fragment,{children:[(Q||J)&&(0,v.jsx)(PC,{}),U&&(0,v.jsx)(_p,{className:"mask"}),M.activeCid!==""&&(0,v.jsxs)(Jp,{className:st()({"is-open":U}),ref:this.setElementRef,children:[!p&&(0,v.jsxs)(qp,{children:[(0,v.jsxs)("div",{className:"theHeader",children:[(0,v.jsx)("div",{className:"backBtn","data-value":""}),(0,v.jsx)("div",{className:"headerTitle",children:(0,v.jsx)("div",{className:"headerName",children:(0,kn.FQ)(o.name)})})]}),(0,v.jsx)("div",{className:st()("screen-list",{"when-ws":!1}),children:(0,v.jsx)(Ss,{collapseScreenMetaCidSet:K,activeScreenMetaCid:l,isExpandTree:!1,screenTreeData:s,renderScreenMetaItem:this.renderScreenMetaItem,dispatch:h})})]}),(0,v.jsx)(rf,{}),!p&&(0,v.jsx)(af,{onClose:this.handleClosePreviewSetting}),U&&(0,v.jsx)(Fr.Z,{target:document,onClick:(0,Fr.Y)(this.onClickOutside,{capture:!0})})]})]})}}]),t}(y.PureComponent);(0,f.Z)(nf,"propTypes",{project:u().object,dispatch:u().func,activeCid:u().string,screenTreeData:u().object,isStatePanelShow:u().bool,runnerState:u().object,previewOptions:u().object});var af=(0,y.memo)(function(i){var n=i.onClose;return(0,v.jsx)("div",{className:"theFooter",onClick:n,children:I18N.pPreview.mobileMenu.cancel})});af.propTypes={onClose:u().func};var RC=(0,sr.P1)([ne.Kv,ne.CL,ne.vo,ne.d9,ne.Uq],function(i,n,t,r,e){var o=n.cid;return{screenTreeData:i,activeCid:o,project:t,isStatePanelShow:r,runnerState:e}}),kC=(0,H.connect)(function(i){return RC(i)})(nf),cl=(0,ze.createGlobalStyle)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],function(i){return i.theme.color_background_split},function(i){return i.theme.color_background_split_hover},function(i){return i.theme.color_background_split_hover}),ZC=(0,ze.createGlobalStyle)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"]),BC=(0,ze.createGlobalStyle)([".animated{animation-duration:1s;animation-fill-mode:backwards;}.animated.infinite{animation-iteration-count:infinite;}.animated.bounceIn{animation-duration:.75s;}@keyframes bounce{from,20%,53%,80%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);transform:translate3d(0,0,0);}40%,43%{animation-timing-function:cubic-bezier(0.755,0.050,0.855,0.060);transform:translate3d(0,-30px,0);}70%{animation-timing-function:cubic-bezier(0.755,0.050,0.855,0.060);transform:translate3d(0,-15px,0);}90%{transform:translate3d(0,-4px,0);}}.bounce{animation-name:bounce;transform-origin:center bottom;}@keyframes flash{from,50%,to{opacity:1;}25%,75%{opacity:0;}}.flash{animation-name:flash;}@keyframes pulse{from{transform:scale3d(1,1,1);}50%{transform:scale3d(1.05,1.05,1.05);}to{transform:scale3d(1,1,1);}}.pulse{animation-name:pulse;}@keyframes rubberBand{from{transform:scale3d(1,1,1);}30%{transform:scale3d(1.25,0.75,1);}40%{transform:scale3d(0.75,1.25,1);}50%{transform:scale3d(1.15,0.85,1);}65%{transform:scale3d(.95,1.05,1);}75%{transform:scale3d(1.05,.95,1);}to{transform:scale3d(1,1,1);}}.rubberBand{animation-name:rubberBand;}@keyframes shake{from,to{transform:translate3d(0,0,0);}10%,30%,50%,70%,90%{transform:translate3d(-10px,0,0);}20%,40%,60%,80%{transform:translate3d(10px,0,0);}}.shake{animation-name:shake;}@keyframes swing{20%{transform:rotate3d(0,0,1,15deg);}40%{transform:rotate3d(0,0,1,-10deg);}60%{transform:rotate3d(0,0,1,5deg);}80%{transform:rotate3d(0,0,1,-5deg);}to{transform:rotate3d(0,0,1,0deg);}}.swing{transform-origin:top center;animation-name:swing;}@keyframes tada{from{transform:scale3d(1,1,1);}10%,20%{transform:scale3d(.9,.9,.9) rotate3d(0,0,1,-3deg);}30%,50%,70%,90%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,3deg);}40%,60%,80%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,-3deg);}to{transform:scale3d(1,1,1);}}.tada{animation-name:tada;}@keyframes wobble{from{transform:none;}15%{transform:translate3d(-25%,0,0) rotate3d(0,0,1,-5deg);}30%{transform:translate3d(20%,0,0) rotate3d(0,0,1,3deg);}45%{transform:translate3d(-15%,0,0) rotate3d(0,0,1,-3deg);}60%{transform:translate3d(10%,0,0) rotate3d(0,0,1,2deg);}75%{transform:translate3d(-5%,0,0) rotate3d(0,0,1,-1deg);}to{transform:none;}}.wobble{animation-name:wobble;}@keyframes jello{from,11.1%,to{transform:none;}22.2%{transform:skewX(-12.5deg) skewY(-12.5deg);}33.3%{transform:skewX(6.25deg) skewY(6.25deg);}44.4%{transform:skewX(-3.125deg) skewY(-3.125deg);}55.5%{transform:skewX(1.5625deg) skewY(1.5625deg);}66.6%{transform:skewX(-0.78125deg) skewY(-0.78125deg);}77.7%{transform:skewX(0.390625deg) skewY(0.390625deg);}88.8%{transform:skewX(-0.1953125deg) skewY(-0.1953125deg);}}.jello{animation-name:jello;transform-origin:center;}@keyframes bounceIn{from,20%,40%,60%,80%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}0%{opacity:0;transform:scale3d(.3,.3,.3);}20%{transform:scale3d(1.1,1.1,1.1);}40%{transform:scale3d(.9,.9,.9);}60%{opacity:1;transform:scale3d(1.03,1.03,1.03);}80%{transform:scale3d(.97,.97,.97);}to{opacity:1;transform:scale3d(1,1,1);}}.bounceIn{animation-name:bounceIn;}@keyframes bounceInDown{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}0%{opacity:0;transform:translate3d(0,-3000px,0);}60%{opacity:1;transform:translate3d(0,25px,0);}75%{transform:translate3d(0,-10px,0);}90%{transform:translate3d(0,5px,0);}to{transform:none;}}.bounceInDown{animation-name:bounceInDown;}@keyframes bounceInLeft{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}0%{opacity:0;transform:translate3d(-3000px,0,0);}60%{opacity:1;transform:translate3d(25px,0,0);}75%{transform:translate3d(-10px,0,0);}90%{transform:translate3d(5px,0,0);}to{transform:none;}}.bounceInLeft{animation-name:bounceInLeft;}@keyframes bounceInRight{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}from{opacity:0;transform:translate3d(3000px,0,0);}60%{opacity:1;transform:translate3d(-25px,0,0);}75%{transform:translate3d(10px,0,0);}90%{transform:translate3d(-5px,0,0);}to{transform:none;}}.bounceInRight{animation-name:bounceInRight;}@keyframes bounceInUp{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}from{opacity:0;transform:translate3d(0,3000px,0);}60%{opacity:1;transform:translate3d(0,-20px,0);}75%{transform:translate3d(0,10px,0);}90%{transform:translate3d(0,-5px,0);}to{transform:translate3d(0,0,0);}}.bounceInUp{animation-name:bounceInUp;}@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}.fadeIn{animation-name:fadeIn;}@keyframes fadeOut{from{opacity:1;}to{opacity:0;}}.fadeOut{animation-name:fadeOut;}@keyframes flipInX{from{transform:perspective(400px) rotate3d(1,0,0,90deg);animation-timing-function:ease-in;opacity:0;}40%{transform:perspective(400px) rotate3d(1,0,0,-20deg);animation-timing-function:ease-in;}60%{transform:perspective(400px) rotate3d(1,0,0,10deg);opacity:1;}80%{transform:perspective(400px) rotate3d(1,0,0,-5deg);}to{transform:perspective(400px);}}.flipInX{backface-visibility:visible !important;animation-name:flipInX;}@keyframes flipInY{from{transform:perspective(400px) rotate3d(0,1,0,90deg);animation-timing-function:ease-in;opacity:0;}40%{transform:perspective(400px) rotate3d(0,1,0,-20deg);animation-timing-function:ease-in;}60%{transform:perspective(400px) rotate3d(0,1,0,10deg);opacity:1;}80%{transform:perspective(400px) rotate3d(0,1,0,-5deg);}to{transform:perspective(400px);}}.flipInY{backface-visibility:visible !important;animation-name:flipInY;}@keyframes spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}@keyframes spinning-reverse{0%{transform:rotate(359deg);}100%{transform:rotate(0deg);}}.spinning{animation-name:spinning;animation-timing-function:linear;}.spinning-reverse{animation-name:spinning-reverse;animation-timing-function:linear;}@keyframes rotateIn{from{transform-origin:center;transform:rotate3d(0,0,1,-200deg);opacity:0;}to{transform-origin:center;transform:none;opacity:1;}}.rotateIn{animation-name:rotateIn;}@keyframes rotateInDownLeft{from{transform-origin:left bottom;transform:rotate3d(0,0,1,-45deg);opacity:0;}to{transform-origin:left bottom;transform:none;opacity:1;}}.rotateInDownLeft{animation-name:rotateInDownLeft;}@keyframes rotateInDownRight{from{transform-origin:right bottom;transform:rotate3d(0,0,1,45deg);opacity:0;}to{transform-origin:right bottom;transform:none;opacity:1;}}.rotateInDownRight{animation-name:rotateInDownRight;}@keyframes rotateInUpLeft{from{transform-origin:left bottom;transform:rotate3d(0,0,1,45deg);opacity:0;}to{transform-origin:left bottom;transform:none;opacity:1;}}.rotateInUpLeft{animation-name:rotateInUpLeft;}@keyframes rotateInUpRight{from{transform-origin:right bottom;transform:rotate3d(0,0,1,-90deg);opacity:0;}to{transform-origin:right bottom;transform:none;opacity:1;}}.rotateInUpRight{animation-name:rotateInUpRight;}@keyframes rollIn{from{opacity:0;transform:translate3d(-100%,0,0) rotate3d(0,0,1,-120deg);}to{opacity:1;transform:none;}}.rollIn{animation-name:rollIn;}@keyframes zoomIn{from{opacity:0;transform:scale3d(.3,.3,.3);}50%{opacity:1;}}.zoomIn{animation-name:zoomIn;}@keyframes zoomInDown{from{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);animation-timing-function:cubic-bezier(0.550,0.055,0.675,0.190);}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.320,1);}}.zoomInDown{animation-name:zoomInDown;}@keyframes zoomInLeft{from{opacity:0;transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);animation-timing-function:cubic-bezier(0.550,0.055,0.675,0.190);}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.320,1);}}.zoomInLeft{animation-name:zoomInLeft;}@keyframes zoomInRight{from{opacity:0;transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);animation-timing-function:cubic-bezier(0.550,0.055,0.675,0.190);}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.320,1);}}.zoomInRight{animation-name:zoomInRight;}@keyframes zoomInUp{from{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);animation-timing-function:cubic-bezier(0.550,0.055,0.675,0.190);}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.320,1);}}.zoomInUp{animation-name:zoomInUp;}@keyframes slideInDown{from{transform:translate3d(0,-100%,0);visibility:visible;}to{transform:translate3d(0,0,0);}}.slideInDown{animation-name:slideInDown;}@keyframes slideInLeft{from{transform:translate3d(-100%,0,0);visibility:visible;}to{transform:translate3d(0,0,0);}}.slideInLeft{animation-name:slideInLeft;}@keyframes slideInRight{from{transform:translate3d(100%,0,0);visibility:visible;}to{transform:translate3d(0,0,0);}}.slideInRight{animation-name:slideInRight;}@keyframes slideInUp{from{transform:translate3d(0,100%,0);visibility:visible;}to{transform:translate3d(0,0,0);}}.slideInUp{animation-name:slideInUp;}@keyframes lightSpeedIn{from{transform:translate3d(100%,0,0) skewX(-30deg);opacity:0;}60%{transform:skewX(20deg);opacity:1;}80%{transform:skewX(-5deg);opacity:1;}to{transform:none;opacity:1;}}.lightSpeedIn{animation-name:lightSpeedIn;animation-timing-function:ease-out;}"]),FC=function(n){var t=(0,Kn.$s)(n).cid,r=(0,Kn.D)(t),e=(0,g.o)(r);return e},UC=function(n,t,r,e,o,s){var l=o.isMobile,p=o.isEmbedV1,h=o.isEmbedV2,M=o.isSquare,N=s.isShellShow,B=s.isImmersive,U=s.scale,K=l||p||(h||M)&&e==="device",Q=B||e!=="device",J=(h||M)&&e!=="device",te;if(K){var re=p||h,ie=re&&FC(r.cid).orientation==="landscape",se=ie?[t.height,t.width]:[t.width,t.height],ge=window.innerWidth,De=window.innerHeight;if(re&&(ge=se[0],De=se[1]),(h||M)&&!l){var Me=n.orientation==="landscape"?[t.height,t.width]:[t.width,t.height],Fe=(0,F.Z)(Me,2);ge=Fe[0],De=Fe[1]}var nt=h&&!l||p||M?{width:ge,height:De}:{width:window.innerWidth,height:window.innerHeight},ot=nt.width,dt=nt.height,fe=ot/n.width,ue=n.width,Se=dt,$e=0;n.height*fe<dt&&(Se=n.height*fe,$e=Math.floor(Math.max((dt-Se)/2,0))),n.width===r.width&&nt.width<nt.height&&(Se=Math.min(r.height*fe,dt),$e=Math.floor(Math.max((dt-Se)/2,0))),te={width:ue,height:Se/fe,transform:"scale("+fe+")",marginTop:$e}}else if(J){var Ye=U/100,Xe=n.orientation==="landscape",ut=Xe?t.width:t.height;e!=="device"&&(ut=Math.min(ut,n.height)),te={width:n.width,height:n.height,marginBottom:(window.innerHeight-ut*Ye)/2/Ye}}else if(Q)te={width:n.width,height:n.height};else{var mt=n.width,pt=0;N?(r.height===n.width&&(pt=r.width),r.width===n.width&&(pt=r.height)):pt=n.height;var It=mt,Ht=pt;te={width:It,height:Ht}}return te},HC=ze.default.div.withConfig({displayName:"style__StyledSimulator",componentId:"sc-1w830co-0"})(["transform-origin:top left;background-size:100% 100%;position:relative;z-index:4;&.iphone,&.android{cursor:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABblBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBQX////////////////////////////////////////////////////////////////////////////+/v7///8CAgL///////////8AAAAAAAD///////////////////////////8AAAADAwP///////////8AAAD///////////8BAQH///8AAAD////t7e3///8DAwNDQ0MkJCQXFxcgICDl5eX8/Pz8/Pz19fW4uLj///+0tLSurq7////AwMChoaFZWVlAQECqqqqfn591dXVqampOTk4vLy/q6urx8fHr6+vg4ODa2trz8/POzs7CwsLKysr19fXg4OC7u7v////k5OT09PT///////+ysrL////39/fn5+eWlpbT09PLy8u5ubmamprS0tKzs7Obm5stLS1WVlbJycnX19dISEiZmZnPz8/R0dGZmZlISEjBwcG/v7/YpJ28AAAAenRSTlMAAwYLEg4XCS8tNzJEST81KiglIyBCR049OhgbTB0WVBMUGhBYVg4eC1EmIwlcBykcY14sOyBSBVovNzEtNZ6MhXx4dHRualxMPz0SYkdGMjCqo6Ccl5KMiYaFhXx7eXhvbWdgX19eU0pGOjIvLBwaFxMTBXBvZDwdHMsX0GIAAAKhSURBVEjHpZYHk5pAFICTCHheNP1OjSEGYnIRgmjQE3vv9XrvvbfUf59d6nkI7sx9w4yF/ea9XZb39skwnuoY7pkMf6aBYEnj7TYbLmGz2eySZimA8TiGUYQERWFAkyQrAcMImmQZXhB4hiVJGlgg1HBHFiia5LvlpYXszEx2Yanc5WM0ASTZMRogJTr2Z31+NpffKG1vlzbyudn59SZLEpgcyGhgBJkqzuVK1YhGtZSbK2ZiNIZLjtFg29l8NfJjgEg1n/3N0BR0jAZTXNzZ4zhR5EROQ+T2dhaLAvnQkYz+8mpEDAxBjKyupKADUtMNO04wKwXuiwlcYVkgMbhuelo4xZa3RL8p4laZp6FzLy3ysBCYhgSngyrgq/Y7UDhkCZiaEgSklVoLuC0JrGWk1LQgscq++4Ml7v0Ko4WBQZKbQdcI3JtNKYw6k4rfNTkCl78CZqMqFPPT5RyJ65dAYyAzqOBE48A5MRLnQUPKDE4Fo9uTLxCYbMdgZvJ67To9UU8UXB4z4P2JXUZVKLbm8UKi3ii4vGZ4ajyN22WFqUXHEYjWwPwVhT8af4nA+FFCV46fI3GsK8zJGBInemJsfcyBwFhdmz4WqzteIeCog0VWH2XH8RoBRwc+SmXDJM/eIHCmbGV5/qdvETjVtiXc/J13CHTh5tdesdR5eCoMrikD4E8I+DjX3mR5zRo+C8K+cNjna9x7kWGY9MX7EVzoQZTZJP9+tORfUy1KeulLXn+y4Dqplz69wPZuPpty01MK7GAZ53utrya0koJcxg3Not/6NpRW39AsVIdNXYW+GwhdZbSWZHRIIX0bDw0Qv00l1MZn0l4T6Uv7XVzhzn6ZTmjt1aKJJ9JgFI5TJJtOGJs4+lHhsQcS9GPP4w9X6Ee4/9WZxSosYtQDAAAAAElFTkSuQmCC') 25 25,default;&:active{cursor:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA51BMVEUAAADu7u7t7e3s7Ozl5eXr6+vq6uro6OgAAAAAAADt7e3s7Ozq6uro6Ojs7Ozp6enm5ubk5OTv7+/n5+fv7+/v7+/q6uri4uLh4eHs7Ozp6enw8PDf39/v7+/h4eHx8fHw8PDi4uLd3d3v7+/o6Ojw8PDm5ubr6+soKCi/v7/l5eXx8fHw8PDa2trx8fHAwMCZmZlmZmbHx8e5ubnh4eHOzs66urro6Ojc3NzAwMDc3NzZ2dnm5ubk5OTW1tbS0tLLy8vQ0NC0tLSvr6+MjIyCgoLf39/i4uLs7Ozh4eHW1tbPz8/q6uojhl1DAAAATXRSTlMAgHlyVG1qWwcCfHRoYG9hV1GGXYOMZktJd2STRIhGlpBNQY5YmVJ/DGJNmoiGjmYoFHBbjHNgk4J4m5GMf316eXhKSB8cdp6Xko6GhVNXB78AAAI1SURBVEjH3ZZrd6IwEIa3oJKoKHZbVIpaVmRBF1FAvF/qrdf//3t2kGVDBJXPfTKZzHvkPTkcJMOP7w7GCOk6QhinvB4NnNHKfH83VyNngPBtw8EwF6zEaYqicRK7MI0Dvm4YGi6r1mT51wlZrqmsawyvmNDWZbUmXE+Qm1rJ3aKLDmOpVuUYNXVpXPDo04LWTKJWKWz0xD022UotgSrMSnaKEhxWtlINUKoxKkcr5sHbpaB0u0pXAbpBRLWw3OIzy3DCaRUaWnPm8GwTS8qEaBBhpWmQAiSL3mY/4TJCBiJEEE7an/80N9nTm4iqKqgCAAsARaiDCUmktkFrnrsJv0YRy+DI/6TgSfZToI4D4sBGkefLfEBYxLVoYGKxi+WyVP6PBCMIyS9DRJtY0KgoiREkUZIgwxLUgP97cYSI5SVXjCDCSCL3Qiz6KpeKlU4s62wq1sSCRmypBHEiVhEdvRebTYVNLNiuF1JQtzGxOHWmDsEw/upXydrBkT/MhGGYPHOd/GRAHPBg8imAx0LA3t3d7zAgwfDTmfYw9YqZdzcx9/SL7Hw9+Nw/EM70F9w8xdC8j9MIkw8cFzR45zYaf4LwEyy0dnc4dvR5i8crLJyk43L62O63n2Ge6Pfb4QDGNko+xsfPNE/+9PN4ql9qFuOnRMbe5Qazm7+1YrzNd+hq45u1er1Op9fqQG71Oq3ODBrfjfZqfbyCpQcWiNcP64DTNHFv8zmfzeafG4808fSfCt+cvwzTdVIzvwMmAAAAAElFTkSuQmCC') 25 25,default;}}.panel .tree-node{pointer-events:auto;}.invisible{pointer-events:none;*{pointer-events:none !important;}}.panel{transform:translateX(0);.panel-scroll-box{position:relative;width:100%;height:100%;overflow:hidden;}&.panelShow{overflow:visible;.panel-scroll-box{overflow:visible !important;.pstate{overflow:visible !important;}}}&.panelHidden{overflow:hidden;.panel-scroll-box{overflow:hidden;width:100% !important;height:100% !important;.pstate{overflow:hidden;}}}&.panelScrollX{overflow:hidden;.panel-scroll-box{overflow:hidden;height:100% !important;.pstate{overflow:hidden;}}}&.panelScrollY{overflow:hidden;.panel-scroll-box{overflow:hidden;width:100% !important;.pstate{overflow:hidden;}}}}.lr{background:transparent;opacity:1;border:none;}.clickable > .region{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(255,195,16,0.2);z-index:100;display:none;background-repeat:no-repeat;background-position:50%;border:1px solid #ff7100;}.pg{display:none;left:50%;margin-left:-20px;z-index:110;justify-content:center;align-items:center;&.stap{top:10px;}&.sleft{top:60px;}&.sright{top:120px;}&.sup{top:180px;}&.sdown{top:240px;}&.sshake{top:300px;}&.sdtap{top:300px;}}#app{width:100%;height:100%;position:absolute;background-size:100% auto;z-index:1;transform:translate(0,0);overflow:hidden;.pstate{position:absolute;overflow:hidden;width:100%;height:100%;z-index:1;}.pcanvas{display:flex;flex-direction:column;.screen-header,.screen-footer{position:relative;overflow:hidden;}.screen-footer{.footer-widgets{position:absolute;top:0;left:0;width:100%;height:100%;}}.screen-content{position:relative;flex:1;overflow:hidden;.iScrollVerticalScrollbar{z-index:2147483647 !important;}}}.pcanvas,.pstate{transition:unset !important;z-index:1;width:100%;height:100%;max-height:100%;position:absolute;left:0;top:0;background-color:transparent;background-repeat:repeat;background-position:top left;background-size:100% auto;overflow:hidden;.widgets{width:100%;height:100%;position:relative;overflow:hidden;.scontainer{position:absolute;overflow:hidden;width:100%;}}&.mouseAble{pointer-events:auto;}}}&.is-outside-visible{#app{overflow:visible;.pcanvas{overflow:visible;.screen-header,.screen-footer{overflow:visible;}.screen-content{overflow:visible;.widgets{overflow:visible;.scontainer{overflow:visible;}}}}}}&.is-mobile{#app{overflow:visible;.pcanvas{overflow:visible;}}.panel{overflow:auto;&.panelShow{overflow:visible;}}.map_view .image{overflow:auto;}}"]),WC=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"shouldHasBorderRadius",function(o,s){return!o||s!=="device"?!1:!!o.includes("iphone_14")}),e.state={homeScreen:r.screen},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=this.props,s=o.previewOptions,l=o.isImmersive,p=s.isMobile;if(p){var h=function(){setTimeout(function(){e.forceUpdate()},100)},M="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(M,h,!1)}MB.runnerController.initEventHandler(document.querySelector("#app"),{isImmersive:l,isMobile:p})}},{key:"render",value:function(){var e=this.props,o=e.project,s=e.screen,l=e.screenGlue,p=e.scale,h=e.bgcolor,M=e.isImmersive,N=e.isShowSplash,B=e.isPanelPreviewMode,U=e.isShellShow,K=e.simulatorType,Q=e.previewOptions,J=this.state.homeScreen,te=Q.isMobile,re=o.splash,ie=re===void 0?"":re,se=(0,O.Z)({backgroundColor:h},UC(s,l,o,K,Q,{isShellShow:U,isImmersive:M,scale:p})),ge=(0,ao.Wi)(s,o.device),De=K==="outside_artboard",Me=M||K!=="device";te&&(ge+=" is-mobile"),De&&Me&&(ge+=" is-outside-visible");var Fe=this.shouldHasBorderRadius(o==null?void 0:o.model,K);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(HC,{id:"simulator",className:ge,style:se,children:[(0,v.jsx)("div",{id:"app",style:{borderRadius:Fe?"12px":void 0},children:(0,v.jsx)(dC,{})}),N&&(0,v.jsx)(hC,{homeScreen:J,url:ie,isPanelPreviewMode:B}),(0,v.jsx)(BC,{}),te&&(0,v.jsx)(ZC,{})]}),te&&(0,v.jsx)(kC,{previewOptions:Q})]})}}]),t}(y.PureComponent),$C=function(n){return n.container.artboards.isShowSplash},ul=(0,H.connect)(function(i){var n=(0,ne.CL)(i),t=(0,ne.vo)(i),r=(0,ne.ku)(i),e=(0,ne.gz)(i),o=$C(i),s=(0,ne.GP)(i),l=(0,ne.yT)(i),p=(0,ne.HR)(i),h=(0,ne.z7)(i),M=(0,ne.Wf)(i);return{bgcolor:M,screen:n,project:t,screenGlue:r,previewOptions:s,isImmersive:e,isShowSplash:o,isPanelPreviewMode:l,simulatorType:p,scale:h}})(WC),of=c(79075),zC=c(56099),HP=c(62075);function GC(i,n){var t=document.querySelector("#canvas").getBoundingClientRect(),r=itemsGetBoundingRect(i),e=r.x,o=r.y,s=r.w,l=r.h;return{left:e*n+t.left,top:o*n+t.top,right:(e+s)*n+t.left,bottom:(o+l)*n+t.top,width:s*n,height:l*n}}function WP(i,n){var t=document.querySelector(".screen-viewport > .zoom-area").getBoundingClientRect(),r=GC(i,n);return{x:t.left+t.width/2-(r.left+r.width/2),y:t.top+t.height/2-(r.top+r.height/2)}}var $P=function(n){var t=n.width,r=n.height,e=n.scale,o=e/100,s=document.querySelector("#canvas").getBoundingClientRect(),l=document.querySelector(".mb-viewport").getBoundingClientRect(),p={x:(l.left+l.right)/2,y:(l.top+l.bottom)/2},h={x:(p.x-s.left)/o,y:(p.y-s.top)/o};return{top:Math.round(h.y-r/2),left:Math.round(h.x-t/2)}},zP=function(n){var t=document.querySelector("#mb-layer-panel .rn-content-body"),r=document.querySelector("#mb-layer-panel [data-cid="+n+"]");if(!(!t||!r)){var e=t.getBoundingClientRect(),o=e.height,s=e.top,l=r.getBoundingClientRect(),p=l.top-s>=o,h=l.top<s;(p||h)&&(t.scrollTop+=l.top-s)}},VC=function(n,t){if(!(!n||!t)){var r=n.getBoundingClientRect(),e=r.top,o=r.bottom,s=t.getBoundingClientRect(),l=s.bottom>=o,p=s.top<e;(l||p)&&(n.scrollTop+=s.top-e)}},KC=function(n,t){t===void 0&&(t=!1),setTimeout(function(){var r=t?".annotatePanel.preview":".annotatePanel",e=document.querySelector(r+" .panel-container"),o=document.querySelector(r+" [data-cid="+n+"]");VC(e,o)},200)},YC=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleHover",function(l){var p=r.props,h=p.widget.bind_widget_cid,M=p.dispatch;h&&M({type:"reducer:set:annotateHoverCid",payload:{annotateHoverCid:l?h:null}})}),(0,f.Z)((0,ae.Z)(r),"handlePointerDown",function(){var l=r.props,p=l.widget,h=l.dispatch;h({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:p.cid}}),h({type:"reducer:set:update:preview:annotate",payload:{annotatePanelShow:!0}}),KC(p.cid,!0),rr("\u9009\u4E2D\u6C34\u6EF4")}),(0,f.Z)((0,ae.Z)(r),"handleClickOutSide",function(){var l=r.props.dispatch;l({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:""}})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.widget,s=e.annotateSelectWidgetCid,l=e.scale,p=e.indexNumber,h=s===o.cid,M=(0,Wn.ov)(o,{isPreview:!0}),N=o.width,B=o.height,U=(0,Wn.qQ)(o,{isPreview:!0}),K=100/l,Q="scale("+K+")",J=(0,O.Z)((0,O.Z)({},U),{},{transform:Q,opacity:1,width:N,height:B,pointerEvents:"auto"});return(0,v.jsx)("div",{"data-cid":o.cid,id:"widget"+o.cid+"p",className:M,style:J,children:(0,v.jsx)(zC.w,{widget:o,isSelect:h,number:p,onHover:this.handleHover,onPointerDown:this.handlePointerDown,onClickOutSide:this.handleClickOutSide})},o.cid)}}]),t}(y.PureComponent),GP={},sf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screenMeta,s=e.itemList,l=e.scrollTop,p=e.annotateSelectWidgetCid,h=e.scale,M=e.dispatch,N=[],B={},U=[];s.forEach(function(J){J.name==="sticky"?N.push(J):J.name==="link"?B[J.cid]=J:J.name===_.l.Annotate&&U.push(J)});var K=N.map(function(J){return(0,O.Z)((0,O.Z)({},J),{},{links:(0,ri.TA)(B,J.link_cids)})}),Q=U.sort(function(J,te){return J.ctime-te.ctime});return(0,v.jsx)("div",{id:"sticky-container","data-cid":o.cid,className:st()({pcanvas:N.length>0}),onClick:this.handleClick,children:(0,v.jsxs)("div",{style:{marginTop:l||0},children:[K.map(function(J){return(0,v.jsx)(lf,{sticky:J},J.cid)}),Q.map(function(J,te){return(0,v.jsx)(YC,{indexNumber:te+1,widget:J,annotateSelectWidgetCid:p,scale:h,dispatch:M},J.cid)})]})})}}]),t}(y.PureComponent);(0,f.Z)(sf,"propTypes",{screenMeta:u().object,scrollTop:u().number,itemList:u().array,annotateSelectWidgetCid:u().string,scale:u().number,dispatch:u().func});var XC=!0,lf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleClick",function(l){var p=r.props.sticky;p.link_cids&&MB.runnerController.prepareJump(l,["tap","click"])}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.sticky,o=(0,Wn.ov)(e,{links:e.links,isPreview:XC}),s=(0,O.Z)((0,O.Z)((0,O.Z)({},(0,Wn._3)(e)),(0,of.Ex)(e)),{},{position:"absolute",top:e.top,left:e.left,width:e.width,height:e.height});return(0,v.jsx)("div",{"data-cid":e.cid,"data-link_cid":e.link_cids,id:"widget"+e.cid+"p",className:o,style:s,onClick:this.handleClick,children:(0,v.jsx)(of.bv,{widget:e,onCopy:function(){return rr("\u5361\u7247\u6279\u6CE8\u5185\u5BB9\u590D\u5236")}})},e.cid)}}]),t}(y.PureComponent);(0,f.Z)(lf,"propTypes",{sticky:u().object});var QC=function(n){var t=(0,ne.CL)(n),r=(0,ne.Uq)(n),e=r.screenInfoMap,o=r.screenScrollTopMap,s=(0,ne.gi)(n),l=(0,ne.aS)(n),p=(0,ne.yZ)(n);return{screenMeta:s[t.cid],screenInfo:e[t.cid],scrollTop:o[t.cid],annotateSelectWidgetCid:l,scale:p}},cf=(0,y.memo)(function(i){var n=i.screenMeta,t=i.screenInfo,r=i.scrollTop,e=i.annotateSelectWidgetCid,o=i.scale,s=i.dispatch;if(!(n&&t))return null;var l=t.stateCid,p=t.screenRuntimeState.itemListMap[l],h=[];return p.forEach(function(M){if(M.name==="panel"){var N=t.panelInfoMap[M.cid],B=N.currentScreenStateCid,U=N.currentScreenMetaCid;if(!N)return;var K=[],Q=N.screenDataMap[U];if(!Q||(K=Q.screenRuntimeState.itemListMap[B],!K))return;h=[].concat((0,nr.Z)(h),(0,nr.Z)(K.filter(function(J){return J.name==="sticky"}).map(function(J){var te=J.point||[0,0],re=(0,F.Z)(te,2),ie=re[0],se=re[1];return(0,O.Z)((0,O.Z)({},J),{},{top:M.top+J.top,left:M.left+J.left,point:J.point?[M.left+ie,M.top+se]:void 0})})))}}),n&&(0,v.jsx)(sf,{screenMeta:n,itemList:[].concat((0,nr.Z)(p),(0,nr.Z)(h)),scrollTop:r,annotateSelectWidgetCid:e,scale:o,dispatch:s},n.cid)});cf.propTypes={scrollTop:u().number,annotateSelectWidgetCid:u().string,scale:u().number,screenMeta:u().object,screenInfo:u().object,dispatch:u().func};var uf=(0,H.connect)(QC)(cf),VP={},_C=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"state",{isDraggingCanvas:!1}),(0,f.Z)((0,ae.Z)(r),"handleKeyDown",function(l){var p=r.props.dispatch,h=l.target.matches("input")||l.target.matches("textarea"),M=l.keyCode===32;M&&!h&&(l.preventDefault(),p({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))}),(0,f.Z)((0,ae.Z)(r),"handleKeyUp",function(){r.props.dispatch({type:"preview:reset:key:flags"})}),(0,f.Z)((0,ae.Z)(r),"handleMouseDown",function(l){var p=r.props.isSpaceDown;(l.button===1||p)&&r.initDraggingCanvas(l)}),(0,f.Z)((0,ae.Z)(r),"handleScaleChange",function(l){r.props.dispatch({type:"entry:preview:set:scale",payload:{scale:l}})}),(0,f.Z)((0,ae.Z)(r),"handleOffsetChange",function(l,p){r.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:{x:l,y:p}}})}),r}return(0,S.Z)(t,[{key:"initDraggingCanvas",value:function(e){var o=this,s=e.clientX,l=e.clientY,p=this.props.canvasOffset,h=p.x,M=p.y;this.setState({isDraggingCanvas:!0});var N=function(K){var Q={x:h+(K.clientX-s),y:M+(K.clientY-l)};o.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:Q}})},B=function U(){o.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",U)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",B)}},{key:"render",value:function(){var e=this.props,o=e.scale,s=e.canvasOffset,l=e.project,p=e.screenGlue,h=e.screen,M=e.isSpaceDown,N=e.isStickyShow,B=e.isStickyAvailable,U=e.simulatorType,K=e.isShowShell,Q=e.bgcolor,J=e.isLayerActive,te=e.isCommentActive,re=e.isFullScreenMode,ie=e.isPreviewActive,se=e.isHTMLZip,ge=this.state.isDraggingCanvas,De=s.x,Me=s.y,Fe=J||te,nt=Fe||!K||U!=="device"?"none":(0,ka.uL)(l),ot=!Fe&&(0,ao.SZ)({screenGlue:p,screen:h,project:l}),dt=h.orientation==="landscape"||h.width===l.height,fe=[h.width,dt?p.width:p.height],ue=fe[0],Se=fe[1],$e=B&&N&&!te,Ye={width:ue,height:Se,minWidth:ue,minHeight:Se,transform:"matrix(1, 0, 0, 1, "+De+", "+Me+")"},Xe={transform:"scale("+o/100+")"},ut={width:o+"%",height:o+"%"},mt={width:h.width*o/100,height:h.height*o/100},pt=st()({"wait-drag":M||ge,"is-immersive":Fe,"is-comment-active":te,"is-screen-expanded":Fe||U!=="device","is-fullscreen-mode":re}),It={backgroundColor:re?"unset":Q||"unset"};return(0,v.jsxs)(mx.Z,{x:De,y:Me,scale:o,style:It,id:"simulator-container",className:pt,isDisabled:ge,onMouseDown:this.handleMouseDown,onScaleChange:this.handleScaleChange,onOffsetChange:this.handleOffsetChange,children:[function(Ht,Vt,Vr){return(0,v.jsxs)("div",{className:"screen-viewport",style:Ye,children:[(0,v.jsxs)("div",{className:"zoom-area",style:Xe,children:[(0,v.jsx)(ul,{isShellShow:ot}),ot&&(0,v.jsx)(rl,{isHTMLZip:se,project:l,shellType:nt,isLandscape:dt}),$e&&(0,v.jsx)(uf,{})]}),(0,v.jsx)("div",{className:"no-zoom-area-wrapper",style:ut,children:(0,v.jsxs)("div",{className:"no-zoom-area",style:ie&&U==="device"?{}:mt,children:[(0,v.jsx)(aC,{}),(0,v.jsx)("div",{id:"ui-comment-marker-panel",children:(0,v.jsx)(og,{isActive:te,scale:Vr/100})})]})})]},"1")},(0,v.jsx)(Fr.Z,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}]),t}(y.PureComponent),df=(0,H.connect)(function(i){var n=i.container.common,t=n.offset,r=n.keyFlags.isSpaceDown,e=(0,ne.GP)(i),o=e.isHTMLZip,s=(0,ne.z7)(i),l=(0,ne.CL)(i),p=(0,ne.vo)(i),h=(0,ne.ku)(i),M=(0,ne.NK)(i),N=(0,ne.EZ)(i),B=(0,ne.XL)(i),U=(0,ne.nB)(i),K=U.isPreview,Q=U.isInspect,J=U.isComment,te=(0,ne.HR)(i),re=(0,ne.ki)(i),ie=(0,ne.Wf)(i);return{scale:s,bgcolor:ie,canvasOffset:t,screen:l,project:p,screenGlue:h,simulatorType:te,isSpaceDown:r,isStickyShow:N,isPreviewActive:K,isLayerActive:Q,isCommentActive:J,isFullScreenMode:B,isHTMLZip:o,isShowShell:re,isStickyAvailable:M}})(_C),pf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"initCollapseKeySet",function(){var o=e.props,s=o.activeCid,l=o.screenTreeData,p=(0,Ir._i)(s,l),h=new Set(p.map(function(M){var N=M.cid;return N}));e.setState({collapseKeySet:h})}),(0,f.Z)((0,ae.Z)(e),"handleSelectScreenMeta",function(o,s){var l=e.props,p=l.activeCid,h=l.dispatch,M=(0,Ir.Vx)(s);M||(p===s.cid?e.handleScreenMetaExpand(s):h({type:"entry:sync-runner:set-screen",payload:{cid:s.cid}}))}),(0,f.Z)((0,ae.Z)(e),"handleScreenMetaExpand",function(o){var s=o.cid,l=e.state.collapseKeySet,p=new Set(l);l.has(s)?p.delete(s):p.add(s),e.setState({collapseKeySet:p})}),(0,f.Z)((0,ae.Z)(e),"backHeader",function(o,s){return(0,v.jsxs)("div",{className:"theHeader",children:[(0,v.jsx)("div",{className:"backBtn","data-value":"",onClick:s,children:(0,v.jsx)(At.q,{name:"preview/menu/back",className:"backIcon"})}),(0,v.jsx)("div",{className:"headerTitle",children:(0,v.jsx)("div",{className:"headerName",children:o})})]})}),(0,f.Z)((0,ae.Z)(e),"renderScreenMetaItem",function(o){var s=o.depth,l=o.screenMeta,p=o.hasScreenMetaChildren,h=o.collapseScreenMetaCidSet,M=o.activeScreenMetaCid,N=o.dispatch,B=e.props,U=B.runnerState,K=B.theme,Q=l.cid,J=M===Q,te=h.has(Q),re=p||(0,Ir.Vx)(l);return(0,v.jsx)(ol,{theme:K,depth:s,screenMeta:l,isActive:J,isExpand:te,showExpander:re,actionProps:e.literalActionProps,dispatch:N,runnerState:U})}),e.state={collapseKeySet:new Set},e.literalActionProps={onExpand:e.handleScreenMetaExpand,onSelect:e.handleSelectScreenMeta},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.initCollapseKeySet()}},{key:"render",value:function(){var e=this.props,o=e.activeCid,s=e.screenTreeData,l=e.onBack,p=e.projectName,h=e.isWonderShare,M=e.runnerState,N=e.dispatch,B=e.isStatePanelShow,U=this.state.collapseKeySet;return(0,v.jsxs)(v.Fragment,{children:[!B&&(0,v.jsxs)(qp,{children:[this.backHeader(p,l),(0,v.jsx)("div",{className:st()("screen-list",{"when-ws":h}),children:(0,v.jsx)(Ss,{collapseScreenMetaCidSet:U,activeScreenMetaCid:o,isExpandTree:!1,screenTreeData:s,renderScreenMetaItem:this.renderScreenMetaItem,dispatch:N})})]}),M.activeCid!==""&&(0,v.jsx)(rf,{})]})}}]),t}(y.PureComponent);(0,f.Z)(pf,"propTypes",{theme:u().string,isWonderShare:u().bool,activeCid:u().string,screenTreeData:u().object,dispatch:u().func,onBack:u().func,projectName:u().string,runnerState:u().object,isStatePanelShow:u().bool});var JC=(0,sr.P1)([ne.gh,ne.Kv,ne.CL,ne.Uq,ne.d9],function(i,n,t,r,e){var o=t.cid;return{screenTreeData:n,activeCid:o,runnerState:r,isStatePanelShow:e,theme:i}}),qC=(0,H.connect)(function(i){return JC(i)})(pf),ff=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),e.el=document.createElement("div"),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return(0,b.createPortal)(this.props.children,this.el)}}]),t}(y.PureComponent);(0,f.Z)(ff,"propTypes",{children:u().element});var ew=ze.default.div.withConfig({displayName:"styles__StyledSharingPanel",componentId:"sc-2l9svj-0"})(["flex:1;width:100%;.theHeader{width:100%;display:flex;align-items:center;justify-content:flex-start;height:68px;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px;.backIcon{height:18px;width:18px;color:#fff;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{color:#353b48;font-weight:bold;font-size:16px;color:#415058;}.headerIntro{margin-top:4px;font-weight:none;font-size:12px;color:#8D9EA7;}}}.mb-sharing-list{width:100%;overflow-x:hidden;overflow-y:auto;height:245px;}"]),tw=ze.default.ul.withConfig({displayName:"styles__StyledStateList",componentId:"sc-1j3ri67-0"})(["&,ol,li{list-style:none;}"]),rw=ze.default.div.withConfig({displayName:"styles__StyledStateItem",componentId:"sc-1j3ri67-1"})(["display:flex;align-items:center;height:58px;border-bottom:1px solid #DBDBDB;margin-left:16px;font-weight:",";.state-name{display:flex;align-items:center;width:100%;height:100%;font-size:16px;color:#333;height:26px;padding-left:22px;}.page-size{display:flex;align-items:center;font-size:16px;color:#8D9EA7;height:26px;width:50px;margin-right:20px;}"],function(i){return i.isActive?"700":""});function nw(i){var n=i.sharingList,t=i.pageCidList,r=i.activeSharing;return(0,v.jsx)(tw,{children:(n==null?void 0:n.length)>0?n.map(function(e,o){return(0,v.jsx)(aw,{sharing:e,pageCidList:t,activeSharing:r},o)}):(0,v.jsx)(iw,{})})}function aw(i){var n=i.sharing,t=i.pageCidList,r=i.activeSharing,e=function(){r({sharing:n,isShowSharingLinkPage:!0})};return(0,v.jsxs)(rw,{onClick:e,children:[(0,v.jsx)("div",{className:"state-name",children:n.link_name}),(0,v.jsx)("div",{className:"page-size",children:(0,Li.F2)({pageCidList:t},n,I18N)})]})}function iw(){return(0,v.jsxs)(ow,{children:[(0,v.jsx)("img",{className:"top",src:"/mb-workspace/images/sharing/mobile_no_sharing.png"}),(0,v.jsx)("span",{className:"center",children:"\u65E0\u53EF\u7528\u5206\u4EAB"}),(0,v.jsx)("span",{className:"bottom",children:"\u8BF7\u5148\u5728Web\u7AEF\u6216\u684C\u9762\u5BA2\u6237\u7AEF\u521B\u5EFA"})]})}var ow=ze.default.div.withConfig({displayName:"StateList__StyledNoSharing",componentId:"sc-10jg6dj-0"})(["display:flex;justify-items:center;align-items:center;flex-direction:column;.top{width:108px;margin-top:32px;}.center{color:'#415058';font-size:16px;margin-top:24px;}.bottom{color:'#7D8B94';font-size:12px;margin-top:8px;}"]),sw=ze.default.div.withConfig({displayName:"styles__StyledSharingSetting",componentId:"sc-azj1vv-0"})(["flex:1;display:flex;flex-grow:1;flex-direction:column;.theHeader{display:flex;align-items:center;justify-content:flex-start;height:68px;color:#415058;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px;.backIcon{height:18px;width:18px;}}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{color:#353b48;font-weight:bold;font-size:16px;color:#415058;}.headerIntro{margin-top:4px;font-weight:none;font-size:12px;color:#8D9EA7;}}}.line{border-bottom:1px solid #dbdbdb;margin-left:16px;}.contentItem{display:flex;flex-direction:row;justify-content:flex-start;margin:20px 16px 16px 16px;.sharingBlock{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 24px 0 0;.sharingIconUp{border-radius:10px;height:56px;width:56px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;margin-top:4px;&.wechat{background-color:#57BA40;}&.circle{background-color:#5CC0A5;}.blockIconUp{height:36px;width:36px;}}.sharingIcon{border-radius:10px;background-color:white;height:60px;width:60px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;border:1px solid #F2F2F2;.icon-color{stroke:rgb(91,107,115);}.blockIcon{height:36px;width:36px;}}.sharingName{font-size:12px;color:#7D8694;}}}"]),lw=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"onBack",function(){var l=r.props,p=l.isMultiLink,h=l.onBackSetting;p?r.props.setActivedSharing({sharing:void 0,isShowSharingLinkPage:!1}):h()}),(0,f.Z)((0,ae.Z)(r),"circleIcon",function(l,p,h,M,N){return(0,v.jsxs)("div",{className:"sharingBlock",onClick:N,children:[(0,v.jsx)("div",{className:"sharingIconUp "+M,children:(0,v.jsx)(At.q,{isColorPure:!0,name:h,className:"blockIconUp"})}),(0,v.jsx)("div",{className:"sharingName",children:l})]})}),(0,f.Z)((0,ae.Z)(r),"shareToWX",function(){var l=r.props,p=l.currentSharing,h=l.project,M=window.location.origin+"/app/"+p.access_token;MB.messageBucket.send("shareToWX",JSON.stringify({url:M,project:h,shareName:p.link_name}))}),(0,f.Z)((0,ae.Z)(r),"shareToWXMoments",function(){var l=r.props,p=l.currentSharing,h=l.project,M=window.location.origin+"/app/"+p.access_token;MB.messageBucket.send("shareToWXMoments",JSON.stringify({url:M,project:h,shareName:p.link_name}))}),(0,f.Z)((0,ae.Z)(r),"copyLinkAddress",function(){var l=r.props.currentSharing,p=window.location.origin+"/app/"+l.access_token;MB.messageBucket.send("copyLinkAddress",JSON.stringify({url:p,shareName:l.link_name}))}),(0,f.Z)((0,ae.Z)(r),"otherIcon",function(l,p,h){return(0,v.jsxs)("div",{className:"sharingBlock",onClick:r.copyLinkAddress,children:[(0,v.jsx)("div",{className:"sharingIcon",children:(0,v.jsx)(At.q,{isColorPure:!0,name:h,className:"blockIcon"})}),(0,v.jsx)("div",{className:"sharingName",children:l})]})}),(0,f.Z)((0,ae.Z)(r),"shareHeader",function(){return(0,v.jsxs)("div",{className:"theHeader",children:[(0,v.jsx)("div",{className:"backBtn","data-value":"",onClick:r.onBack,children:(0,v.jsx)(At.q,{name:"preview/menu/back_state",className:"backIcon"})}),(0,v.jsxs)("div",{className:"headerTitle",children:[(0,v.jsx)("div",{className:"headerName",children:I18N.pPreview.mobileMenu.share}),(0,v.jsx)("div",{className:"headerIntro",children:I18N.pPreview.mobileMenu.shareTo})]})]})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isOnPremises,s=e.isWonderShare,l=e.isMultiLink;return(0,v.jsxs)(sw,{children:[this.shareHeader(),l?!o&&!s&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"contentItem",children:[this.circleIcon(I18N.pPreview.mobileMenu.weChat,null,"preview/menu/wechat","wechat",this.shareToWX),this.circleIcon(I18N.pPreview.mobileMenu.moments,null,"preview/menu/circle","circle",this.shareToWXMoments)]}),(0,v.jsx)("div",{className:"line"}),(0,v.jsx)("div",{className:"contentItem",children:this.otherIcon(I18N.pPreview.mobileMenu.copyUrl,null,"preview/menu/share_link")})]}):(0,v.jsx)(cw,{})]})}}]),t}(y.PureComponent);function cw(){return(0,v.jsxs)(uw,{children:[(0,v.jsx)("img",{className:"top",src:"/mb-workspace/images/sharing/mobile_sharing_old_version.png"}),(0,v.jsx)("span",{className:"center",children:"APP\u7248\u672C\u4F4E \u65E0\u6CD5\u5206\u4EAB"}),(0,v.jsx)("span",{className:"bottom",children:"\u8BF7\u5347\u7EA7\u81F3\u6700\u65B0\u7248\u672C"})]})}var uw=ze.default.div.withConfig({displayName:"SharingLinkPage__StyledOldVersion",componentId:"sc-1raucp0-0"})(["display:flex;justify-items:center;align-items:center;flex-direction:column;.top{width:108px;margin-top:32px;}.center{color:'#415058';font-size:16px;margin-top:24px;}.bottom{color:'#7D8B94';font-size:12px;margin-top:8px;}"]),dw=(0,sr.P1)([ne.EK,ne.cM],function(i,n){return{currentScreenMetaList:i,currentProjectShare:n}});function pw(i){var n=i.onBack,t=i.sharings,r=i.project,e=i.isOnPremises,o=i.isWonderShare,s=i.isMultiLink,l=(0,H.useSelector)(dw),p=l.currentScreenMetaList,h=l.currentProjectShare,M=p.filter(function(te){return te.orientation!=="folder"}).map(function(te){return te.cid}),N=h.access_token===r.access_token,B=(0,y.useState)({sharing:void 0,isShowSharingLinkPage:!1}),U=(0,F.Z)(B,2),K=U[0],Q=U[1],J;return N?J=t:J=t.filter(function(te){return te.access_token===h.access_token}),(0,v.jsx)(ew,{children:K.isShowSharingLinkPage||!s?(0,v.jsx)(lw,{isMultiLink:s,isOnPremises:e,isWonderShare:o,currentSharing:K.sharing,setActivedSharing:Q,project:r,onBackSetting:n}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"theHeader",children:[(0,v.jsx)("a",{className:"backBtn",onClick:n,children:(0,v.jsx)(At.q,{className:"backIcon",name:"preview/menu/back_state"})}),(0,v.jsxs)("div",{className:"headerTitle",children:[(0,v.jsx)("div",{className:"headerName",children:"\u5206\u4EAB"}),(0,v.jsx)("div",{className:"headerIntro",children:"\u9009\u62E9\u73B0\u6709\u5206\u4EAB"})]})]}),(0,v.jsx)("div",{className:"mb-sharing-list",children:(0,v.jsx)(nw,{activeSharing:Q,sharingList:J,pageCidList:M})})]})})}var hf="sharing",vf="screen",fw="a1162497883172b3a4f79d1eb0f4b949",mf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleClickScreenSeeting",function(){var o=e.props.onUpdateSetting;o(vf)}),(0,f.Z)((0,ae.Z)(e),"handleClickSharingSeeting",function(){var o=e.props.onUpdateSetting;o(hf)}),(0,f.Z)((0,ae.Z)(e),"refreshRenderTitle",function(){var o=e.props,s=o.isAppOffline,l=o.isAppCacheNeedUpToDate;return s&&l?(0,v.jsx)("div",{className:"redDot"}):null}),e.isDemo=fw===r.project.access_token,e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isWonderShare,s=e.isDummyApk,l=e.isAppCacheNeedUpToDate,p=e.project,h=e.isHighlight,M=e.isHTMLZip,N=e.onPreviewExit,B=e.onProjectPreviewReload,U=e.onUpdateProjectHighlight,K=p.name,Q=p.model,J=p.screens_count,te=p.icon,re=te?(M?".":"")+te:"/images/app_icon.svg",ie=I18N.pPreview.mobileMenu[Q]?""+I18N.pPreview.mobileMenu[Q]+I18N.pPreview.mobileMenu.project+", ":"";return(0,v.jsxs)("div",{className:"theContent",children:[(0,v.jsxs)("div",{className:"theHeader",children:[(0,v.jsx)("div",{className:"headerIcon",children:(0,v.jsx)("img",{src:re})}),(0,v.jsxs)("div",{className:"headerTitle",children:[(0,v.jsx)("div",{className:"headerName",children:K}),(0,v.jsx)("div",{className:"headerIntro",children:""+ie+J+I18N.pPreview.mobileMenu.unitScreen})]})]}),(0,v.jsxs)("div",{className:"contentItem",children:[(0,v.jsx)(Ka,{name:I18N.pPreview.mobileMenu.refresh,icon:"preview/menu/refresh",isAppCacheNeedUpToDate:l,renderName:this.refreshRenderTitle,onClick:B}),(0,v.jsx)(Ka,{className:h?o?"highlight-blue":"highlight-red":"",name:I18N.pPreview.mobileMenu.viewLink,icon:"preview/menu/link",onClick:U}),(0,v.jsx)(Ka,{name:I18N.pPreview.mobileMenu.screenList,icon:"preview/menu/list",onClick:this.handleClickScreenSeeting})]}),(0,v.jsx)("div",{className:"line"}),(0,v.jsxs)("div",{className:"contentItem",children:[(0,v.jsx)(Ka,{name:I18N.pPreview.mobileMenu.share,icon:"preview/menu/share",onClick:this.handleClickSharingSeeting}),!s&&(0,v.jsx)(Ka,{name:I18N.pPreview.mobileMenu.exitPreview,icon:"preview/menu/exit",onClick:N})]})]})}}]),t}(y.PureComponent);(0,f.Z)(mf,"propTypes",{isWonderShare:u().bool,isDummyApk:u().bool,isHighlight:u().bool,isHTMLZip:u().bool,isAppOffline:u().bool,isAppCacheNeedUpToDate:u().bool,project:u().object,onPreviewExit:u().func,onUpdateSetting:u().func,onProjectPreviewReload:u().func,onUpdateProjectHighlight:u().func});var Ka=(0,y.memo)(function(i){var n=i.icon,t=i.name,r=i.onClick,e=i.renderName,o=i.className;return(0,v.jsxs)("div",{className:st()("menuBlock",o),onClick:r,children:[(0,v.jsx)("div",{className:"menuBlockIcon",children:(0,v.jsx)(At.q,{name:n,className:"blockIcon"})}),(0,v.jsxs)("div",{className:"menuBlockName",children:[e&&e(),(0,v.jsx)("p",{className:"name",children:t||""})]})]})});Ka.propTypes={className:u().string,icon:u().string,name:u().string,renderName:u().func,onClick:u().func};var gf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$elem=o}),(0,f.Z)((0,ae.Z)(e),"handleBackPreviewSetting",function(){e.setState({currentMenuType:""})}),(0,f.Z)((0,ae.Z)(e),"handleClosePreviewSetting",function(){e.setState({isOpen:!1,currentMenuType:""}),MB.messageBucket.send("closePreviewSettingMenu")}),(0,f.Z)((0,ae.Z)(e),"handleUpdateProjectHighlight",function(){var o=e.props,s=o.isHighlight,l=o.dispatch;l({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!s}}),MB.messageBucket.send("setDisplayLinkOK",{isHighlight:!s})}),(0,f.Z)((0,ae.Z)(e),"handleProjectPreviewReload",function(){var o=e.props.isShowOfflineModal;o||MB.messageBucket.send("refreshPreview")}),(0,f.Z)((0,ae.Z)(e),"handlePreviewExit",function(){MB.messageBucket.send("exitAppPreview")}),(0,f.Z)((0,ae.Z)(e),"handleUpdateSetting",function(o){e.setState({currentMenuType:o})}),(0,f.Z)((0,ae.Z)(e),"handleShowModal",function(){MB.messageBucket.send("toggleOffline")}),(0,f.Z)((0,ae.Z)(e),"onClickOutside",function(o){var s=o.target;e.$elem.contains(s)||e.handleClosePreviewSetting()}),e.state={isOpen:!1,currentMenuType:"",sharings:[]},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var r=(0,d.Z)((0,a.Z)().mark(function o(){var s,l,p,h,M,N,B;return(0,a.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(s=this,l=document.querySelector("#workspace"),p=new(mn()).Manager(l),p.add(new(mn()).Tap({event:"doubletap",pointers:2})),p.on("doubletap",function(Q){s.setState({isOpen:!0}),MB.messageBucket.send("openPreviewSettingMenu")}),h=this.props,M=h.isAppOffline,N=h.isHTMLZip,!(!M&&!N)){K.next=11;break}return K.next=9,(0,oi.UC)({projectCid:this.props.project.cid});case 9:B=K.sent,this.setState({sharings:B.projectShares});case 11:case"end":return K.stop()}},o,this)}));function e(){return r.apply(this,arguments)}return e}()},{key:"render",value:function(){var e=this.props,o=e.project,s=e.isWonderShare,l=e.isShowOfflineModal,p=e.isHTMLZip,h=e.isOnPremises,M=e.isHighlight,N=e.isAppOffline,B=e.isAppCacheNeedUpToDate,U=e.isDummyApk,K=e.isMultiLink,Q=this.state,J=Q.isOpen,te=Q.currentMenuType,re=Q.sharings,ie=te===hf,se=te===vf,ge=te==="";return(0,v.jsxs)(v.Fragment,{children:[J&&(0,v.jsx)(_p,{className:"mask"}),(0,v.jsxs)(Jp,{className:st()({"is-open":J}),ref:this.setElementRef,children:[ge&&(0,v.jsx)(mf,{project:o,isWonderShare:s,isHTMLZip:p,isHighlight:M,isAppOffline:N,isDummyApk:U,isAppCacheNeedUpToDate:B,onUpdateSetting:this.handleUpdateSetting,onPreviewExit:this.handlePreviewExit,onProjectPreviewReload:this.handleProjectPreviewReload,onUpdateProjectHighlight:this.handleUpdateProjectHighlight,onShowModal:this.handleShowModal}),ie&&(0,v.jsx)(pw,{isMultiLink:K,project:o,sharings:re,isOnPremises:h,isWonderShare:s,onBack:this.handleBackPreviewSetting}),se&&(0,v.jsx)(qC,{onBack:this.handleBackPreviewSetting,projectName:o.name,isWonderShare:s}),l&&(0,v.jsx)(Sf,{}),(0,v.jsx)(yf,{onClose:this.handleClosePreviewSetting}),J&&(0,v.jsx)(Fr.Z,{target:document,onClick:(0,Fr.Y)(this.onClickOutside,{capture:!0})})]})]})}}]),t}(y.PureComponent);(0,f.Z)(gf,"propTypes",{isDummyApk:u().bool,isHighlight:u().bool,isHTMLZip:u().bool,isMultiLink:u().bool,isOnPremises:u().bool,isAppOffline:u().bool,isWonderShare:u().bool,isAppCacheNeedUpToDate:u().bool,isShowOfflineModal:u().bool,project:u().object,dispatch:u().func});var yf=(0,y.memo)(function(i){var n=i.onClose;return(0,v.jsx)("div",{className:"theFooter",onClick:n,children:I18N.pPreview.mobileMenu.cancel})});yf.propTypes={onClose:u().func};var Sf=(0,y.memo)(function(){return(0,v.jsx)(ff,{children:(0,v.jsx)(IC,{children:(0,v.jsxs)("div",{className:"progress-box",children:[(0,v.jsx)(il.Z,{className:"splash-loading"}),(0,v.jsx)("div",{className:"sliderName",children:I18N.pPreview.mobile_menu_downloading_Project})]})})})});Sf.propTypes={};var hw=(0,sr.P1)([ne.vo,ne.Ci,ne.uX,ne.Ei,ne.Bi,ne.GP,ne.CD,ne.IR],function(i,n,t,r,e,o,s,l){var p=o.isHTMLZip,h=o.isMultiLink,M=s.isOnPremises,N=s.isWonderShare;return{project:i,isHighlight:e,isHTMLZip:p,isOnPremises:M,isShowOfflineModal:n,isAppOffline:t,isAppCacheNeedUpToDate:r,isDummyApk:l,isWonderShare:N,isMultiLink:h}}),vw=(0,H.connect)(function(i){return hw(i)})(gf),bf,xf,Cf,wf;function co(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var mw=ze.default.div(bf||(bf=co(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  transition: all 0.2s ease-out;\n  background-color: rgba(0, 0, 0, 0.4);\n\n  .mask-enter {\n    opacity: 0;\n  }\n\n  .mask-exit-active {\n    opacity: 0;\n  }\n\n"]))),gw=ze.default.div(xf||(xf=co(["\n  position: relative;\n  margin: 15vh auto 3rem;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  min-height: 9.5rem;\n  width: 31.25rem;\n  font-size: 0.875rem;\n  background-color: #fff;\n  box-shadow: 0 2px 8px 0 rgba(0,0,0,0.1);\n  border-radius: 1px;\n  color: #5b6b73;\n  cursor: initial;\n  transition: all 0.2s ease-out;\n\n  &.is-v-centered {\n    margin: 3rem auto;\n  }\n\n  &.fade-enter, &.fade-appear{\n    opacity: 0;\n    transform: translateY(-50vh);\n  }\n\n  &.fade-exit-active {\n    opacity: 0;\n    transform: translateY(-50vh);\n  }\n\n  .header {\n    position: relative;\n    display: flex;\n    align-items: center;\n    height: 60px;\n    background: #FFFFFF;\n    border-bottom: 1px solid #E8E8E8;\n    padding: 0 1.5em;\n\n    .close-btn {\n      width: 24px;\n      height: 24px;\n\n      svg {\n        width: 24px;\n        height: 24px;\n        border-radius: 4px;\n        cursor: pointer;\n      }\n    }\n  }\n\n  .content {\n    padding: 30px 20px 35px;\n  }\n"]))),yw=ze.default.footer(Cf||(Cf=co(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: 60px;\n  margin-top: 0;\n  line-height: 1;\n  background: #F7F7F7;\n  padding-right: 16px;\n  bottom: 0;\n  width: 100%;\n\n  & .cancel-btn {\n    padding: 0px 1em;\n    min-width: 5.25rem;\n    height: 32px;\n    border-radius: 2px;\n    font-size: 14px;\n    text-align: center;\n    line-height: 22px;\n    background: #fff;\n    border: 1px solid #c8cdd0;\n    color: #415058;\n    margin-right: 10px;\n    cursor: pointer;\n    transition: all 0.2s ease-out 0s;\n    &:hover{\n      background-color: #8d9ea7;\n      border: 1px solid #7d8694;\n      color: #fff;\n    }\n  }\n\n  & .confirm-btn {\n    background: #ff6161;\n    border-radius: 2px;\n    font-size: 14px;\n    color: #fff;\n    text-align: center;\n    line-height: 22px;\n    height: 32px;\n    min-width: 7rem;\n    margin-right: 0.5em;\n    padding: 0px 1em;\n    cursor: pointer;\n    transition: all 0.2s ease-out 0s;\n    border-color: transparent;\n    &:hover{\n      background-color: #e04c4c;\n    }\n  }\n"]))),Sw=(0,ze.createGlobalStyle)(wf||(wf=co(["\n  .ModalPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    padding: 3rem 1.5rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n\n    @media (max-width: 40rem) {\n      padding: unset;\n      min-width: unset;\n    }\n  }\n"])));function bw(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function Ef(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Af(r.key),r)}}function xw(i,n,t){return n&&Ef(i.prototype,n),t&&Ef(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Cw(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),n&&dl(i,n)}function dl(i,n){return dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},dl(i,n)}function ww(i){var n=Aw();return function(){var r=uo(i),e;if(n){var o=uo(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ew(this,e)}}function Ew(i,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pa(i)}function pa(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Aw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function uo(i){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uo(i)}function ta(i,n,t){return n=Af(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Af(i){var n=Mw(i,"string");return typeof n=="symbol"?n:String(n)}function Mw(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}var Pw="ModalPortal",Mf="IBOT_MODAL_ROOT",Pf=document.body,po=document.getElementById(Mf)||Object.assign(document.createElement("div"),{id:Mf});Pf.contains(po)||Pf.appendChild(po);var Tf=function(n){return n.stopPropagation()},pl=function(i){Cw(t,i);var n=ww(t);function t(){var r;bw(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),ta(pa(r),"portal",(0,yt.Qt)(po,(0,yt.A1)([Pw,r.props.portalClassName]))),ta(pa(r),"close",function(){var l=r.props,p=l.onClose,h=l.timeout;p(),setTimeout(function(){return r.portal.remove()},h)}),ta(pa(r),"open",function(){var l=r.props,p=l.isOpen,h=l.onOpen;p&&(h(),po.appendChild(r.portal)),r.positionY()}),ta(pa(r),"onConfirm",function(){var l=r.props,p=l.onConfirm,h=l.shouldCloseOnAction,M=l.isConfirmDisabled;typeof p=="function"&&!M&&p(),h&&r.close()}),ta(pa(r),"onCancel",function(){var l=r.props,p=l.onCancel,h=l.shouldCloseOnAction,M=l.isCancelDisabled;typeof p=="function"&&!M&&p(),h&&r.close()}),ta(pa(r),"positionY",function(){return setTimeout(function(){var l=(0,yt.$)(".TransitionModal",r.portal);if(l){var p=window,h=p.innerHeight,M=l.offsetHeight,N=h<=M||(h-M)/2<h*.2?"add":"remove";l.classList[N]("is-v-centered")}})}),ta(pa(r),"onClickMask",function(l){Tf(l);var p=r.props.onClose;p&&r.close()}),r}return xw(t,[{key:"componentDidMount",value:function(){var e=this.props.isOpen;e&&this.open(),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e){var o=e.isOpen,s=this.props.isOpen;!o&&s?this.open():o&&!s&&this.close()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.positionY)}},{key:"renderModalDOM",value:function(){var e=this.props,o=e.children,s=e.isOpen,l=e.timeout,p=e.className,h=e.maskClassName,M=e.title,N=e.canClose,B=e.isCancelDisabled,U=e.cancelText,K=e.canCloseOnClickMask,Q=e.isConfirmDisabled,J=e.confirmText,te=e.onConfirm,re=e.onCancel,ie=e.shouldRenderFooter;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Sw,{}),(0,v.jsx)(oo.Z,{in:s,classNames:"mask",timeout:l,unmountOnExit:!0,children:(0,v.jsx)(mw,{className:(0,yt.A1)(["TransitionModalMask",h]),onClick:K?this.onClickMask:null})}),(0,v.jsx)(oo.Z,{in:s,classNames:"fade",timeout:l,unmountOnExit:!0,appear:!0,children:(0,v.jsxs)(gw,{className:(0,yt.A1)(["TransitionModal",p]),onClick:Tf,children:[(0,v.jsxs)("header",{className:"header",children:[M,N&&(0,v.jsx)("button",{className:"close-btn",onClick:this.close,children:(0,v.jsx)(_n.Z,{name:"times",label:"Close the Modal"})})]}),(0,v.jsx)("div",{className:"content",children:o}),ie&&(0,v.jsxs)(yw,{children:[re&&(0,v.jsx)("button",{className:"cancel-btn",onClick:this.onCancel,disabled:B,children:U}),te&&(0,v.jsx)("button",{className:"confirm-btn",onClick:this.onConfirm,disabled:Q,children:J})]})]})})]})}},{key:"render",value:function(){var e=this.props.isOpen;return e&&(0,b.createPortal)(this.renderModalDOM(),this.portal)}}]),t}(y.PureComponent);ta(pl,"propTypes",{isOpen:u().bool,children:u().node,timeout:u().number,title:u().node,className:u().string,maskClassName:u().string,portalClassName:u().string,onOpen:u().func,onClose:u().func,canClose:u().bool,canCloseOnClickMask:u().bool,shouldCloseOnAction:u().bool,shouldRenderFooter:u().bool,confirmText:u().string,onConfirm:u().func,isConfirmDisabled:u().bool,cancelText:u().string,onCancel:u().func,isCancelDisabled:u().bool}),ta(pl,"defaultProps",{isOpen:!1,timeout:200,maskClassName:"",portalClassName:"",className:"",onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},canClose:!0,canCloseOnClickMask:!0,shouldCloseOnAction:!0,shouldRenderFooter:!0,canCloseOnEsc:!0,canConfirmOnEnter:!0,cancelText:"\u53D6\u6D88",confirmText:"\u786E\u8BA4\u5220\u9664"});var Tw=(0,ze.default)(pl).withConfig({displayName:"styles__StyledPreOpenHyperlinkModal",componentId:"sc-1vnhe7-0"})(["&.pre-open-hyperlink-modal{width:560px;height:280px;overflow:hidden;border-radius:8px;header{height:38px;border-bottom:none;button{margin-top:24px;}}.content{padding:0 40px;.title{p:nth-child(1){font-size:20px;font-weight:500;line-height:28px;text-align:center;height:34px;color:#1f292e;}p:nth-child(2){line-height:20px;color:#415058;text-align:center;}}.hyperlink-container{display:flex;background-color:#f7f7f7;margin-top:24px;padding:11px 15px 11px 12px;border:1px solid #dbdbdb;border-radius:4px;.svg-container{display:flex;justify-content:center;width:36px;height:36px;background-color:#c8cdd0;border-radius:2px;svg{width:22px;color:white;}}span{width:405px;margin-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;align-self:center;color:#7d8b94;font-weight:500;}}}footer{margin-top:22px;background-color:transparent;padding-right:40px;button{height:40px;border-radius:4px;&.confirm-btn{margin-right:0;}&.cancel-btn{margin-right:16px;}}}&.is-mobile{width:295px;height:auto;padding:32px 20px 0 20px;header{display:none;}.content{padding:0;.wechat-internal-url-new-tab-tip{margin:8px 26px 20px 26px;text-align:center;font-size:18px;}.hyperlink-container{height:72px;padding:16px 12px;.svg-container{display:none;}}}.wechat-tip{margin-top:20px;margin-bottom:-10px;font-size:12px;color:#1f292e;}footer{margin-top:10px;margin-bottom:22px;padding:0;button{width:124px;}}}}"]),Iw=(0,ze.createGlobalStyle)(["#IBOT_MODAL_ROOT{.pre-open-hyperlink-protal{z-index:1052;}}"]),If=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isOpen,s=e.isMobile,l=e.displayWeChatNewTabExternalUrlTip,p=e.displayWeChatNewTabInternalUrlTip,h=e.confirmText,M=e.onConfirm,N=e.onClose,B=e.hyperlink;return(0,v.jsxs)(Tw,{isOpen:o,onClose:N,onConfirm:M,confirmText:h,canCancel:!0,onCancel:N,cancelText:I18N.Common.cancel,className:st()("pre-open-hyperlink-modal",{"is-mobile":s}),portalClassName:"pre-open-hyperlink-protal",children:[p?(0,v.jsx)("div",{className:"wechat-internal-url-new-tab-tip",children:I18N.SettingPanel.open_link_in_a_new_tab_on_wechat_tip}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"title",children:[(0,v.jsx)("p",{children:I18N.SettingPanel.about_to_jump_to_an_external_website}),(0,v.jsx)("p",{children:I18N.SettingPanel.if_you_wish_to_continue})]}),(0,v.jsxs)("div",{className:"hyperlink-container",children:[(0,v.jsx)("div",{className:"svg-container",children:(0,v.jsx)(At.q,{name:"link/link_icon"})}),(0,v.jsx)("span",{children:B})]}),l&&(0,v.jsxs)("p",{className:"wechat-tip",children:["*",I18N.SettingPanel.open_link_in_a_new_tab_on_wechat_tip]})]}),(0,v.jsx)(Iw,{})]})}}]),t}(y.PureComponent);(0,f.Z)(If,"propTypes",{isOpen:u().bool,hyperlink:u().string,isMobile:u().bool,displayWeChatNewTabInternalUrlTip:u().bool,displayWeChatNewTabExternalUrlTip:u().bool,confirmText:u().string,onConfirm:u().func,onClose:u().func});var Of=c(72555),Df,Lf,Nf;function fl(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var Ow=ze.default.div(Df||(Df=fl(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(30,41,46, 0.5);\n  transition: all 0.2s ease-out;\n  &.can-close {\n    cursor: pointer;\n  }\n  &:not(.is-open) {\n    opacity: 0;\n    pointer-events: none;\n    transition-delay: 0.2s;\n  }\n  &.is-open {\n    opacity: 1;\n  }\n"]))),Dw=ze.default.div(Lf||(Lf=fl(["\n  position: relative;\n  margin: 15vh auto 3rem;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  min-height: 12em;\n  font-size: 0.875rem;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 3px 10px 0 rgba(0,0,0,0.1);\n  cursor: initial;\n  transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.1);\n  .CoreModalMask:not(.is-open) + & {\n    opacity: 0;\n    transform: translateY(-100%);\n  }\n  .CoreModalMask.is-open + & {\n    opacity: 1;\n    transform: none;\n    transition-delay: 0.2s;\n  }\n  &.is-v-centered {\n    margin: auto;\n  }\n  > header {\n    display: flex;\n    align-items: center;\n    padding: 0 1.5em;\n    height: 3.75rem;\n    font-size: 1rem;\n    font-weight: 500;\n    border-bottom: 1px solid #dedee4;\n    color: #415058;\n  }\n  > .content {\n    padding: 1.5em;\n  }\n  > footer {\n    padding: 0 1.5em 1.5em;\n    .Button {\n      margin-right: 0.5em;\n    }\n  }\n  .close-btn {\n    margin-left: auto;\n    font-size: 1em;\n    color: #8d9ea7;\n    transition: all 0.2s ease-in;\n    &:hover {\n      color: #eb5648;\n      transition-delay: 0.1s;\n    }\n  }\n\n  &.AlertCoreModal,\n  &.FormCoreModal {\n    display: flex;\n    flex-direction: column;\n    width: 23.75rem;\n    line-height: 1.5;\n    .FormEntry {\n      &:last-child {\n        margin-bottom: -0.5em;\n      }\n      > .key {\n        flex-basis: 7em;\n      }\n    }\n  }\n  &.FormCoreModal {\n    width: 26.25rem;\n  }\n  &.FunctionalCoreModal {\n    width: 38.875rem;\n  }\n  &.DisplayCoreModal {\n    width: 40rem;\n  }\n"]))),Lw=(0,ze.createGlobalStyle)(Nf||(Nf=fl(["\n  &.CoreModalPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    display: flex;\n    padding: 3rem 1.5rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n    &:empty {\n      display: none;\n      pointer-events: none;\n    }\n  }\n"])));function Nw(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function jf(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Rf(r.key),r)}}function jw(i,n,t){return n&&jf(i.prototype,n),t&&jf(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Rw(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),n&&hl(i,n)}function hl(i,n){return hl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},hl(i,n)}function kw(i){var n=Bw();return function(){var r=fo(i),e;if(n){var o=fo(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Zw(this,e)}}function Zw(i,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ur(i)}function Ur(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Bw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function fo(i){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fo(i)}function Jr(i,n,t){return n=Rf(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Rf(i){var n=Fw(i,"string");return typeof n=="symbol"?n:String(n)}function Fw(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}var vl=function(n){return n.stopPropagation()},kf="IBOT_MODAL_ROOT",Uw="CoreModalPortal",Zf=Qi()(window,"I18N",{}),Bf=document.body,ml=document.getElementById(kf)||Object.assign(document.createElement("div"),{id:kf});Bf.contains(ml)||Bf.appendChild(ml);var Hw={alert:"AlertCoreModal",form:"FormCoreModal",functional:"FunctionalCoreModal",display:"DisplayCoreModal"},ho=function(i){Rw(t,i);var n=kw(t);function t(){var r;Nw(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),Jr(Ur(r),"state",{prevProps:r.props,isOpen:r.props.isOpen,isVisible:!1}),Jr(Ur(r),"portal",(0,yt.Qt)(ml,(0,yt.A1)([Uw,r.props.portalClassName]))),Jr(Ur(r),"maskRef",(0,y.createRef)()),Jr(Ur(r),"didOpen",function(){var l=r.props,p=l.onOpen,h=l.onToggle;(0,yt.AZ)(Ur(r)),r.positionY(),(0,yt.ci)(!0),p(),h(!0)}),Jr(Ur(r),"didClose",function(){var l=r.props,p=l.onClose,h=l.onToggle;p(),h(!1),setTimeout(function(){(0,yt.qE)(Ur(r)),(0,yt.Je)()&&(0,yt.ci)(!1)})}),Jr(Ur(r),"onTransitionEnd",function(l){var p=l.target,h=r.state.isVisible;!h&&p.matches(".CoreModalMask")&&r.setState({isOpen:!1})}),Jr(Ur(r),"open",function(){return r.setState({isOpen:!0})}),Jr(Ur(r),"close",function(){return r.setState({isVisible:!1})}),Jr(Ur(r),"toggle",function(l){return l===void 0&&(l=!r.state.isOpen),l?r.open():r.close()}),Jr(Ur(r),"positionY",function(){return setTimeout(function(){var l=r.props.type,p=(0,yt.$)(".CoreModal",r.portal);if(!(!p||l==="alert")){var h=window,M=h.innerHeight,N=p.getBoundingClientRect(),B=N.height,U=M<=B||(M-B)/2<M*.15?"add":"remove";p.classList[U]("is-v-centered")}})}),Jr(Ur(r),"onClickMask",function(l){vl(l);var p=r.props,h=p.canClose,M=p.canCloseOnClickMask,N=!!(0,yt.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open");h&&M&&!N&&r.close()}),Jr(Ur(r),"confirm",function(){var l=r.props,p=l.onConfirm,h=l.shouldCloseOnAction;p&&p(),h&&r.close()}),Jr(Ur(r),"cancel",function(){var l=r.props,p=l.onCancel,h=l.shouldCloseOnAction;p&&p(),h&&r.close()}),Jr(Ur(r),"onKeyDown",function(l){var p=l.key,h=l.target,M=r.props,N=M.canClose,B=M.canCloseOnEsc,U=M.canConfirmOnEnter,K=M.onConfirm,Q=M.onCancel,J=r.state.isOpen,te=!!(0,yt.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open");if(p==="Escape"&&!h.matches("input, textarea, select")&&!te&&J&&N&&B&&!te&&(0,yt.b7)(Ur(r))===0)return Q&&r.cancel(),r.close();if(p==="Enter"&&!h.matches("textarea, button")&&!te&&J&&U&&(0,yt.b7)(Ur(r))===0&&K)return r.confirm()}),r}return jw(t,[{key:"componentDidMount",value:function(){var e=this,o=this.state.isOpen;o&&setTimeout(function(){return e.setState({isVisible:!0},e.didOpen)}),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e,o){var s=this,l=o.isOpen,p=this.state.isOpen;!l&&p?setTimeout(function(){return s.setState({isVisible:!0},s.didOpen)}):l&&!p&&this.didClose()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),this.didClose(),window.removeEventListener("resize",this.positionY)}},{key:"render",value:function(){return this.opener}},{key:"opener",get:function(){var e=this.props,o=e.opener,s=e.openerType,l=this.state.isOpen,p=this.modal;return s==="none"?p:s==="custom"?o?(0,v.jsxs)("span",{onClick:this.toggle,children:[o,p]}):p:s==="switch"?(0,v.jsx)(Of.Z,{isChecked:l,onChange:this.toggle,children:p}):(0,v.jsxs)(yn.ZP,{type:s,onClick:this.open,children:[o,p]})}},{key:"modal",get:function(){return(0,b.createPortal)(this.modalDOM,this.portal)}},{key:"footer",get:function(){var e=this.props,o=e.onConfirm,s=e.onCancel,l=e.confirmText,p=e.cancelText,h=e.isConfirmDisabled,M=e.isCancelDisabled,N=o||s;return N&&(0,v.jsxs)("footer",{children:[o&&(0,v.jsx)(yn.YZ,{onClick:this.confirm,isDisabled:h,children:l}),s&&(0,v.jsx)(yn.K5,{onClick:this.cancel,isDisabled:M,children:p})]})}},{key:"modalDOM",get:function(){var e=this.props,o=e.type,s=e.maskClassName,l=e.className,p=e.title,h=e.children,M=e.canClose,N=e.canCloseOnClickMask,B=this.state,U=B.isOpen,K=B.isVisible,Q=this.footer;return U&&(0,v.jsxs)(y.Fragment,{children:[(0,v.jsx)(Lw,{}),(0,v.jsx)(Ow,{ref:this.maskRef,className:(0,yt.A1)(["CoreModalMask",s,K&&"is-open",M&&N?"can-close":"cant-close"]),onClick:this.onClickMask,onTransitionEnd:this.onTransitionEnd}),(0,v.jsxs)(Dw,{className:(0,yt.A1)(["CoreModal",Hw[o],l]),onTransitionEnd:vl,onClick:vl,children:[(0,v.jsxs)("header",{children:[p,M&&(0,v.jsx)(yn.ZP,{type:"text",className:"close-btn",onClick:this.close,children:(0,v.jsx)(_n.Z,{name:"times",label:"Close the Modal"})})]}),(0,v.jsx)("div",{className:"content",children:h}),Q]}),(0,v.jsx)(Fr.Z,{target:document,onKeyDown:this.onKeyDown})]})}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.isOpen;if(!ai()(s,e)){var p=e.isOpen;if(ki()(p)){if(!l&&p)return{isOpen:!0,prevProps:e};if(l&&!p)return{isVisible:!1,prevProps:e}}return{prevProps:e}}return null}}]),t}(y.PureComponent);Jr(ho,"propTypes",{isOpen:u().bool,title:u().node,children:u().node,type:u().oneOf(["alert","form","functional","display"]),opener:u().node,openerType:u().oneOf(["primary","regular","text","switch","custom","none"]),className:u().string,maskClassName:u().string,portalClassName:u().string,onOpen:u().func.isRequired,onClose:u().func.isRequired,onToggle:u().func.isRequired,canClose:u().bool,canCloseOnClickMask:u().bool,shouldCloseOnAction:u().bool,canCloseOnEsc:u().bool,canConfirmOnEnter:u().bool,onConfirm:u().func,confirmText:u().string,isConfirmDisabled:u().bool,onCancel:u().func,isCancelDisabled:u().bool,cancelText:u().string}),Jr(ho,"defaultProps",{openerType:"none",type:"functional",onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},canClose:!0,canCloseOnClickMask:!0,shouldCloseOnAction:!0,canCloseOnEsc:!0,canConfirmOnEnter:!0,cancelText:Zf.cancel||"Cancel",confirmText:Zf.confirm||"Confirm"});var Ww=function(n){return(0,it.IP)("/api/dashboard/v4/orgs/"+n+"/enable_trial")},$w=function(){return(0,it.IP)("/api/dashboard/v4/users/enable_trial")},zw=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r;return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,it.Gf)("/api/payment/v4/coupon/double_coupon",{type:t});case 3:if(r=o.sent,!r.msg){o.next=11;break}if(r.msg!=="already redeemed"){o.next=8;break}return MB.notice({text:"\uD83C\uDF89 \u4F18\u60E0\u5238\u9886\u53D6\u6210\u529F\uFF0C\u8BF7\u524D\u5F80\u5347\u7EA7"}),o.abrupt("return",!0);case 8:if(r.msg!=="coupon not found"){o.next=11;break}return MB.notice({text:"\u4F18\u60E0\u5238\u4E0D\u5B58\u5728"}),o.abrupt("return",!1);case 11:return MB.notice({text:"\uD83C\uDF89 \u4F18\u60E0\u5238\u9886\u53D6\u6210\u529F\uFF0C\u8BF7\u524D\u5F80\u5347\u7EA7"}),o.abrupt("return",!0);case 15:return o.prev=15,o.t0=o.catch(0),MB.notice({text:"\u4F18\u60E0\u5238\u9886\u53D6\u5931\u8D25"}),o.abrupt("return",!1);case 19:case"end":return o.stop()}},n,null,[[0,15]])}));return function(t){return i.apply(this,arguments)}}(),Gw=function(n){var t=n.onClick;return(0,v.jsx)("button",{className:"btn-cancel",onClick:t,children:I18N.dModals.get_some_days_business_trial.replace(/{number}/,7)})},vo=Gw,KP={},fi=c(44911),Ea=c(61134),YP=function(i){return i.Everyone="everyone",i.MemberFree="member_free",i.MemberDiscount="member_discount",i.OriginPrice="origin_price",i}({}),XP=function(n,t,r){if(r===void 0&&(r=""),getConfigConstant("isWonderShare"))return n?I18N.link.link_price_business:I18N.link.link_price_share;var e="";if(n){var o=n.cid,s={mode:"org",orgCid:o,payEntrance:t,checkoutArea:"workspace",checkoutPlace:r||"org_use_vip_mkt"};e="/workspace/"+o+"?payment_param="+encodeJSON(s)}else{var l={mode:"solo",payEntrance:t,checkoutArea:"workspace",checkoutPlace:r||"solo_use_vip_mkt"};e="/workspace/me?payment_param="+encodeJSON(l)}return e},QP=function(n,t,r){r===void 0&&(r="");var e="",o=n&&n.cid?n.cid:"me";if(n){var s=n.cid,l={mode:"org",orgCid:s,payEntrance:t,checkoutArea:"workspace",checkoutPlace:r||"org_use_vip_mkt",initialWorkspace:o};e=encodeJSON(l)}else{var p={mode:"solo",payEntrance:t,checkoutArea:"workspace",checkoutPlace:r||"solo_use_vip_mkt",initialWorkspace:o};e=encodeJSON(p)}return e},Vw=function(n,t,r,e){if(r===void 0&&(r=""),e===void 0&&(e=!1),(0,Ea.eq)("isWonderShare"))return n?I18N.link.link_price_business:I18N.link.link_price_share;var o;if(n){var s=n.cid;o={mode:"org",orgCid:s,payEntrance:t,checkoutArea:"workspace",checkoutPlace:r||"org_use_vip_mkt"}}else o={mode:e?"org":"solo",isSelectOrg:!!e,payEntrance:t,checkoutArea:"workspace",checkoutPlace:r||"solo_use_vip_mkt"};return o},Kw=function(n){var t=n.next_billing_on;return!moment().startOf("day").isBefore(moment(t).subtract(1,"day"))},Yw=function(n){if(!n)return!1;var t=Kw(n),r=n.paid;return!r&&!t},Xw=function(n){return n&&["paid_org","solo"].indexOf(n==null?void 0:n.login_plan)!==-1},Qw=function(n){var t=n.is_star,r=n.policy,e=n.is_purchased,o=n.is_owner,s=r!==void 0&&r!==ResourcesPolicy.Everyone,l=r===ResourcesPolicy.OriginPrice,p=r===ResourcesPolicy.MemberDiscount;return{isOwner:o,isStar:t,isPurchased:e,isVipTemplate:s,isVipOriginPrice:l,isVipMemberDiscount:p}},_P=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r,e){return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e===void 0&&(e=!0),!t){s.next=6;break}return s.next=4,Br.api.requestUnStarredResources(r);case 4:s.next=8;break;case 6:return s.next=8,Br.api.requestStarredResources(r);case 8:e&&MB.notice({text:t?"\u53D6\u6D88\u6536\u85CF\u6210\u529F":"\u6536\u85CF\u6210\u529F"});case 9:case"end":return s.stop()}},n)}));return function(t,r,e){return i.apply(this,arguments)}}(),JP=function(n){n&&n.scrollIntoView()},qP=function(n){var t="2022-03-22 23:59:59";return moment(n).isBefore(t)},eT=function(n){var t="2022-04-13 00:00:00";return moment(n).isBefore(t)},tT=function(n){var t="2022-06-14 00:00:00";return moment(n).isBefore(t)},rT=function(n,t,r){var e=Qw(n),o=e.isVipTemplate,s=e.isVipMemberDiscount,l=e.isPurchased,p=e.isOwner,h=Xw(t),M=Yw(r||t),N=h||M,B=!1,U=s;return p||(N?B=!l&&s:B=!l&&o),{show:B,hasDiscount:U,isPayingUser:N}},_w=function(n,t,r){return n.map(function(e){var o=e.market_templates.map(function(s){return s.cid===t?r(s):s});return _objectSpread(_objectSpread({},e),{},{market_templates:o})})},nT=function(n,t,r){var e=new Map,o=_createForOfIteratorHelper(n),s;try{for(o.s();!(s=o.n()).done;){var l=_slicedToArray(s.value,2),p=l[0],h=l[1],M=_w(h,t,r);e.set(p,M)}}catch(N){o.e(N)}finally{o.f()}return e},aT=function(n){var t=n.url,r=n.tab,e=n.width,o=n.height,s=n.tags;return{asset_cid:"findPicture_"+t,created_at:new Date().getTime(),group_cid:"findPicture_"+r,height:o,width:e,name:"\u793A\u4F8B\u56FE\u7247",size:999,image:"/res-img/org/"+t,thumb:"/res-img/thmb/"+t,timestamp:0,tags:"",img_tag:s}},Jw=c(27952);function iT(i){var n=i.nextBillingOn,t=qw(i),r=!moment().startOf("day").isBefore(moment(n).subtract(1,"day"));return!t&&r}var qw=function(n){n===void 0&&(n={});var t=n,r=t.plan,e=t.trial;return r==="org_free"&&!e},eE=function(n){n===void 0&&(n={});var t=n,r=t.plan,e=t.trial;return!r&&!e},tE=["type","isOpen","screenCount"],Ff={OrgPrototypePageNumber:"\u7F16\u8F91\u533A-\u539F\u578B_\u9875\u9762\u8D85\u9650_\u65B0\u5EFA\u9875\u9762",OrgPrototypePageNumberWhenOpen:"\u7F16\u8F91\u533A-\u9875\u9762\u8D85\u9650_\u6253\u5F00\u9875\u9762\u8D85\u9650\u7684\u7D20\u6750\u9879\u76EE",OrgVersionNumber:"\u7F16\u8F91\u533A-\u7248\u672C\u6570\u8D85\u9650_\u5347\u7EA7\u7248\u672C",OrgfreeMaterialNumber:"\u7F16\u8F91\u533A-\u4F01\u4E1A\u6A21\u677F\u9650\u5236-\u5347\u7EA7\u7248\u672C",OrgMaxPicSize:"\u7F16\u8F91\u533A-\u56FE\u7247\u8D85\u9650_\u5347\u7EA7\u7248\u672C",MaxSharingCount:"\u7F16\u8F91\u533A-\u591A\u94FE\u63A5\u5206\u4EAB_\u5347\u7EA7\u7248\u672C",OrgMaxProjectNumber:"\u7F16\u8F91\u533A-\u6587\u4EF6\u6570\u8D85\u9650_\u4F01\u4E1A"},Uf={OrgPrototypePageNumber:"workspace-proto_filepage_new_limit",OrgPrototypePageNumberWhenOpen:"workspace-filepage_open_limit",OrgVersionNumber:"workspace_fileversion_limit",OrgfreeMaterialNumber:"workspace-org_template_limit",OrgMaxPicSize:"workspace_imgsize_limit",MaxSharingCount:"workspace-linkshare_limit",OrgMaxProjectNumber:"workspace-org_file_limit"},rE=function(n){var t=n.type,r=n.isOpen,e=n.screenCount,o=(0,ma.Z)(n,tE),s=o.currentOrg,l=o.currentUser,p=o.isFromScreenList,h=o.project,M=o.isFromEntry,N=(0,H.useDispatch)(),B=(0,y.useState)([]),U=(0,F.Z)(B,2),K=U[0],Q=U[1],J=(0,y.useState)([]),te=(0,F.Z)(J,2),re=te[0],ie=te[1],se=(0,y.useState)(!1),ge=(0,F.Z)(se,2),De=ge[0],Me=ge[1],Fe=(0,fi.tD)(l,s),nt=Fe.maxScreenCount,ot=Fe.maxProjectVersionCount,dt=Fe.maxMktCount,fe=Fe.maxPicBytes,ue=Fe.maxSharingCount,Se=Fe.maxProjectCount,$e,Ye,Xe,ut,mt,pt;if(s){pt=!0;var It=s.plan,Ht=s.trial;$e=It,Ye=Ht,Xe=(0,fi.iV)($e,Ye),mt=(0,fi.pq)($e,Ye)}else{var Vt=(0,Jw.rg)(l);Vt==="free"?(ut=!0,mt=I18N.Common.free_plan):mt=I18N.Common.personal_plan}var Vr=new Set(["OrgVersionNumber","OrgMaxPicSize","OrgMaxProjectNumber"]);(0,y.useEffect)(function(){var hr=pt?s.created_at:l.created_at;if(pt){var Cr=eE(s),wr=s.paid;Me(oe()(hr,"YYYY-MM-DD HH:mm:ss").add(1,"day")>=oe()(new Date,"YYYY-MM-DD HH:mm:ss")&&!Cr&&!wr)}else{var ir=l.paid;Me(oe()(hr,"YYYY-MM-DD HH:mm:ss").add(1,"day")>=oe()(new Date,"YYYY-MM-DD HH:mm:ss")&&!ir)}},[s,l,pt]),(0,y.useEffect)(function(){function hr(){return ir.apply(this,arguments)}function ir(){return ir=(0,d.Z)((0,a.Z)().mark(function Cr(){var wr,yr;return(0,a.Z)().wrap(function(jn){for(;;)switch(jn.prev=jn.next){case 0:return jn.next=2,(0,it.EE)("/api/dashboard/v4/orgs/list");case 2:yr=jn.sent,((wr=yr.orgs)==null?void 0:wr.length)>0&&Q((0,nr.Z)(yr.orgs));case 4:case"end":return jn.stop()}},Cr)})),ir.apply(this,arguments)}hr()},[]),(0,y.useEffect)(function(){function hr(){return ir.apply(this,arguments)}function ir(){return ir=(0,d.Z)((0,a.Z)().mark(function Cr(){var wr;return(0,a.Z)().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return xn.next=2,(0,it.EE)("/api/payment/v4/coupon/coupons");case 2:wr=xn.sent,wr&&ie((0,nr.Z)(wr));case 4:case"end":return xn.stop()}},Cr)})),ir.apply(this,arguments)}hr()},[]),(0,y.useEffect)(function(){t==="OrgPrototypePageNumber"&&(pt?Xn.xd.orgTwentyPagesLimit():Xn.xd.soloTwentyPagesLimit())},[]);var $r=(0,y.useMemo)(function(){return re.every(function(hr){return hr.tid!==844})&&!ENV.IS_WONDER_SHARE},[re]),sn=(0,fi.KU)(l,s),ln=function(){N({type:"modal:update:state",payload:{managePageModal:{isOpen:!0}}})},Tr=function(){(Vr.has(t)||t==="OrgPrototypePageNumber"&&pt)&&$r&&zw("org_free_upgrade_paid"),t==="MaxSharingCount"&&(0,Li.dL)({action:"\u5347\u7EA7\u7248\u672C",linkName:"\u65E0",project:h,isFromScreenList:p});var ir=Ff[t],Cr=Uf[t];M&&t==="OrgPrototypePageNumber"&&(ir=Ff.OrgPrototypePageNumberWhenOpen,Cr=Uf.OrgPrototypePageNumberWhenOpen),N({type:"entry:start:saving"});var wr=Vw(s,ir,Cr);MB.global.popupHelper.chargeAsync((0,O.Z)((0,O.Z)({},wr),{},{fromType:t})),aa()},Kr=function(){var hr=(0,d.Z)((0,a.Z)().mark(function ir(){var Cr;return(0,a.Z)().wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:return yr.next=2,Ww(s.cid);case 2:if(Cr=yr.sent,t==="OrgPrototypePageNumber"&&Xn.xd.orgTwentyPagesLimitReceiveTryOut(),!(!Cr||!Cr.org)){yr.next=6;break}return yr.abrupt("return");case 6:MB.notice({text:I18N.dModals.get_some_days_business_trial_success.replace(/{number}/,7)}),o.onClose(),location.reload();case 9:case"end":return yr.stop()}},ir)}));return function(){return hr.apply(this,arguments)}}(),na=function(){var hr=(0,d.Z)((0,a.Z)().mark(function ir(){var Cr;return(0,a.Z)().wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:return yr.next=2,$w();case 2:if(Cr=yr.sent,Xn.xd.soloTwentyPagesLimitReceiveTryOut(),!(!Cr||!Cr.user)){yr.next=6;break}return yr.abrupt("return");case 6:MB.notice({text:I18N.dModals.get_some_days_business_trial_success.replace(/{number}/,2)}),o.onClose(),location.reload();case 9:case"end":return yr.stop()}},ir)}));return function(){return hr.apply(this,arguments)}}(),aa=function(){o.onClose()},Hn=(0,y.useMemo)(function(){if(!pt){var hr=l.plan,ir=l.trial;return hr==="solo"&&ir}return(0,fi.EX)(l,s,K||[])},[pt,l,s,K]),Ma=(0,y.useMemo)(function(){return t!=="OrgPrototypePageNumber"?!0:e&&nt?e<=nt:!0},[t,e,nt]),An=function(){N({type:"toolbar:sharingManager:open"}),o.onClose()},ia=function(){var ir;(0,gn.gn)("/workspace/"+(((ir=o.currentOrg)==null?void 0:ir.cid)||"me"),"_blank","noreferrer"),o.onClose()};return(0,v.jsxs)(ho,{isOpen:r,canCloseOnClickMask:Ma,canClose:Ma,onClose:aa,className:"apps-count-over",portalClassName:"OrgRightsAndInterestsModalPortal",title:I18N.dModals.limit_upgrade_to_unlock,children:[t&&t==="OrgPrototypePageNumber"&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsxs)("p",{children:[I18N.dModals.limit_current_is,(0,v.jsx)("span",{className:"strong",children:mt})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("span",{className:"strong",children:I18N.dModals.limit_proto_pages_max_number.replace(/{planName}/,mt).replace(/{maxScreenCount}/,nt)}),I18N.dModals.limit_proto_pages_max_number_desc]}),pt?(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:I18N.Common.free_plan}),(0,v.jsx)("th",{children:I18N.Common.team_plan}),(0,v.jsx)("th",{children:I18N.Common.business_plan})]})}),(0,v.jsx)("tbody",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:Xe?"highlight":"",children:I18N.Common.n_pages_plural.replace("{count}",20)}),(0,v.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:I18N.Common.n_pages_plural.replace("{count}",3e3)}),(0,v.jsx)("td",{children:I18N.dModals.limit_no})]})})]})}):(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:I18N.Common.free_plan}),(0,v.jsx)("th",{children:I18N.Common.personal_plan})]})}),(0,v.jsx)("tbody",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:ut?"highlight":"",children:I18N.Common.n_pages_plural.replace("{count}",20)}),(0,v.jsx)("td",{className:ut?"":"highlight",children:I18N.Common.n_pages_plural.replace("{count}",500)})]})})]})]}),(0,v.jsx)("footer",{className:"modal-footer",children:(0,v.jsxs)("div",{className:"buttons",children:[pt&&Hn&&(0,v.jsx)(vo,{onClick:Kr}),De&&!pt&&(0,v.jsx)("button",{className:"btn-cancel",onClick:na,children:I18N.dModals.get_some_days_business_trial.replace(/{number}/,2)}),(0,v.jsx)("button",{className:"btn-cancel",onClick:ln,children:I18N.dModals.limit_manage_pages}),(0,v.jsx)("button",{className:"btn-confirm",onClick:Tr,children:$r&&pt?"\u9886\u5238\u5347\u7EA7":I18N.dModals.upgrade})]})})]}),t&&t==="OrgVersionNumber"&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsxs)("p",{children:[I18N.dModals.limit_current_is,(0,v.jsx)("span",{className:"strong",children:mt})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("span",{className:"strong",children:I18N.dModals.limit_proto_version_max_number.replace(/{planName}/,mt).replace(/{maxProjectVersionCount}/,ot)}),I18N.dModals.limit_proto_version_max_number_desc]}),(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:I18N.Common.free_plan}),(0,v.jsx)("th",{children:I18N.Common.team_plan}),(0,v.jsx)("th",{children:I18N.Common.business_plan})]})}),(0,v.jsx)("tbody",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:Xe?"highlight":"",children:I18N.dModals.limit_number.replace("{projectNum}",2)}),(0,v.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:I18N.dModals.limit_number.replace("{projectNum}",10)}),(0,v.jsx)("td",{children:I18N.dModals.limit_number.replace("{projectNum}",30)})]})})]})]}),(0,v.jsx)("footer",{className:"modal-footer",children:(0,v.jsxs)("div",{className:"buttons",children:[Hn&&(0,v.jsx)(vo,{onClick:Kr}),(0,v.jsx)("button",{className:"btn-confirm",onClick:Tr,children:$r?"\u9886\u5238\u5347\u7EA7":I18N.dModals.upgrade})]})})]}),t&&t==="OrgfreeMaterialNumber"&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsxs)("p",{children:[I18N.dModals.limit_current_is,(0,v.jsx)("span",{className:"strong",children:mt})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("span",{className:"strong",children:I18N.dModals.limit_proto_material_max_number.replace("{planName}",mt).replace("{maxMktCount}",dt)})," ",I18N.dModals.limit_proto_material_max_number_desc]}),(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:I18N.Common.free_plan}),(0,v.jsx)("th",{children:I18N.Common.team_plan}),(0,v.jsx)("th",{children:I18N.Common.business_plan})]})}),(0,v.jsx)("tbody",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:Xe?"highlight":"",children:I18N.dModals.limit_number.replace("{projectNum}",5)}),(0,v.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:I18N.dModals.limit_no}),(0,v.jsx)("td",{children:I18N.dModals.limit_no})]})})]})]}),(0,v.jsx)("footer",{className:"modal-footer",children:(0,v.jsxs)("div",{className:"buttons",children:[Hn&&(0,v.jsx)(vo,{onClick:Kr}),(0,v.jsx)("button",{className:"btn-confirm",onClick:Tr,children:I18N.dModals.upgrade})]})})]}),t&&t==="OrgMaxPicSize"&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsxs)("p",{children:[I18N.dModals.limit_current_is,(0,v.jsx)("span",{className:"strong",children:mt})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("span",{className:"strong",children:I18N.dModals.limit_proto_image_max_size.replace("{planName}",mt).replace("{maxPicBytes}",fe/1024/1024)})," ",I18N.dModals.limit_proto_image_max_size_desc]}),(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:I18N.Common.free_plan}),(0,v.jsx)("th",{children:I18N.Common.team_plan}),(0,v.jsx)("th",{children:I18N.Common.business_plan})]})}),(0,v.jsx)("tbody",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:Xe?"highlight":"",children:"2MB"}),(0,v.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:"5MB"}),(0,v.jsx)("td",{children:"10MB"})]})})]})]}),(0,v.jsx)("footer",{className:"modal-footer",children:(0,v.jsxs)("div",{className:"buttons",children:[Hn&&(0,v.jsx)(vo,{onClick:Kr}),(0,v.jsx)("button",{className:"btn-confirm",onClick:Tr,children:$r?"\u9886\u5238\u5347\u7EA7":I18N.dModals.upgrade})]})})]}),t&&t==="MaxSharingCount"&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsxs)("p",{children:[I18N.dModals.limit_current_is," ",(0,v.jsx)("span",{className:"strong",children:sn})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("span",{className:"strong",children:I18N.dModals.limit_proto_share_max_num.replace("{userOrOrgPlayName}",sn).replace("{maxSharingCount}",ue)})," ",I18N.dModals.limit_proto_share_max_num_desc]}),(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:I18N.Common.free_plan}),(0,v.jsx)("th",{children:I18N.Common.personal_plan}),(0,v.jsx)("th",{children:I18N.Common.team_plan}),(0,v.jsx)("th",{children:I18N.Common.business_plan})]})}),(0,v.jsx)("tbody",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:I18N.dModals.limit_number.replace("{projectNum}",1)}),(0,v.jsx)("td",{children:I18N.dModals.limit_number.replace("{projectNum}",3)}),(0,v.jsx)("td",{children:I18N.dModals.limit_number.replace("{projectNum}",10)}),(0,v.jsx)("td",{children:I18N.dModals.limit_number.replace("{projectNum}",20)})]})})]})]}),(0,v.jsx)("footer",{className:"modal-footer",children:(0,v.jsxs)("div",{className:"buttons",children:[(0,v.jsx)("button",{className:"btn-cancel",onMouseUp:An,children:I18N.dModals.limit_manage_sharing}),(0,v.jsx)("button",{className:"btn-confirm",onClick:Tr,children:I18N.dModals.upgrade})]})})]}),t&&t==="OrgMaxProjectNumber"&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsxs)("p",{children:[I18N.dModals.limit_current_is," ",(0,v.jsx)("span",{className:"strong",children:sn})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("span",{className:"strong",children:I18N.dModals.limit_proto_files_max_num.replace("{userOrOrgPlayName}",sn).replace("{maxProjectCount}",Se)})," ",I18N.dModals.limit_proto_files_max_num_desc]}),(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:I18N.Common.free_plan}),(0,v.jsx)("th",{children:I18N.Common.team_plan}),(0,v.jsx)("th",{children:I18N.Common.business_plan})]})}),(0,v.jsx)("tbody",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:Xe?"highlight":"",children:I18N.dModals.limit_number.replace("{projectNum}",3)}),(0,v.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:I18N.dModals.limit_number.replace("{projectNum}",100)}),(0,v.jsx)("td",{children:I18N.dModals.limit_no})]})})]})]}),(0,v.jsx)("footer",{className:"modal-footer",children:(0,v.jsxs)("div",{className:"buttons",children:[(0,v.jsx)("button",{className:"btn-cancel",onClick:ia,children:I18N.dModals.limit_manage_projects}),(0,v.jsx)("button",{className:"btn-confirm",onClick:Tr,children:$r?"\u9886\u5238\u5347\u7EA7":I18N.dModals.upgrade})]})})]})]})},nE=rE,gl="400-659-9879",aE="\u987E\u95EE\u5DE5\u4F5C\u65F6\u95F4\uFF1A\u5468\u4E00\u81F3\u5468\u4E94 9:00-18:00",oT={},iE=["isOpen","beyondType"],Hf=function(n){var t=n.isOpen,r=n.beyondType,e=(0,ma.Z)(n,iE),o=(0,H.useDispatch)(),s=function(){o({type:"toolbar:sharingManager:open"}),e.onClose()};return(0,v.jsxs)(ho,{isOpen:t,canCloseOnClickMask:!0,onClose:e.onClose,className:"apps-count-over",title:"\u4F01\u4E1A\u7248\u8D85\u9650\u63D0\u9192",children:[(0,v.jsxs)("div",{className:"modal-content",children:[(0,v.jsxs)("p",{children:["\u5F53\u524D\u4E3A",(0,v.jsx)("span",{className:"strong",children:"\u4F01\u4E1A\u7248"})]}),r==="versionNumber"&&(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"\u4F01\u4E1A\u7248\u6700\u591A\u652F\u630130\u4E2A\u9879\u76EE\u7248\u672C\uFF0C"}),"\u60A8\u53EF\u4EE5\u5220\u9664\u4E0D\u5FC5\u8981\u7684\u7248\u672C\uFF0C\u82E5\u60A8\u6709\u66F4\u9AD8\u9700\u6C42\uFF0C\u6B22\u8FCE\u54A8\u8BE2\u987E\u95EE",(0,v.jsx)("span",{className:"strong",children:" "+gl+" "}),"\u4E86\u89E3\u79C1\u6709\u5316\u7248\u672C\u3002"]}),r==="picSize"&&(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"\u4F01\u4E1A\u7248\u6700\u591A\u652F\u6301\u4E0A\u4F20\u5355\u5F20\u6700\u592710MB\u7684\u56FE\u7247\uFF0C"}),"\u60A8\u53EF\u4EE5\u538B\u7F29\u540E\u4E0A\u4F20\uFF0C\u82E5\u60A8\u6709\u66F4\u9AD8\u9700\u6C42\uFF0C\u6B22\u8FCE\u54A8\u8BE2\u987E\u95EE",(0,v.jsx)("span",{className:"strong",children:" "+gl+" "}),"\u4E86\u89E3\u79C1\u6709\u5316\u7248\u672C\u3002"]}),r==="MaxSharingCount"&&(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"\u4F01\u4E1A\u7248\u5355\u4E2A\u6587\u4EF6\u6700\u591A\u652F\u630120\u4E2A\u5206\u4EAB\uFF0C"}),"\u82E5\u60A8\u6709\u66F4\u9AD8\u9700\u6C42\uFF0C\u6B22\u8FCE\u54A8\u8BE2\u987E\u95EE",(0,v.jsx)("span",{className:"strong",children:" "+gl+" "}),"\u4E86\u89E3\u79C1\u6709\u5316\u7248\u672C\u3002"]}),(0,v.jsx)("p",{children:(0,v.jsx)("span",{className:"tip",children:aE})})]}),(0,v.jsx)("footer",{className:"modal-footer",children:(0,v.jsx)("div",{className:"buttons",children:r==="MaxSharingCount"?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{className:"btn-cancel",onMouseUp:s,children:"\u7BA1\u7406\u5206\u4EAB"}),(0,v.jsx)("button",{className:"btn-confirm",onMouseUp:e.onClose,children:"\u6211\u77E5\u9053\u4E86"})]}):(0,v.jsx)("button",{className:"btn-cancel",onClick:e.onClose,children:"\u786E\u5B9A"})})})]})};Hf.propTypes={isOpen:u().bool,beyondType:u().string,onClose:u().func};var oE=Hf,Wf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleCloseModal",function(){r.props.dispatch({type:"previewModal:reset:state"})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.preOpenHyperlinkModal,s=e.orgRightsAndInterestsModal,l=e.orgfullBeyondNoticeModal;return(0,v.jsxs)(v.Fragment,{children:[o.isOpen&&(0,v.jsx)(If,(0,O.Z)((0,O.Z)({},o),{},{onClose:this.handleCloseModal})),s.isOpen&&(0,v.jsx)(nE,(0,O.Z)((0,O.Z)({},(0,O.Z)((0,O.Z)({},s),{},{currentUser:MB.user,currentOrg:MB.org||MB.currentOrg})),{},{onClose:this.handleCloseModal})),l.isOpen&&(0,v.jsx)(oE,(0,O.Z)((0,O.Z)({},l),{},{onClose:this.handleCloseModal}))]})}}]),t}(y.PureComponent);Wf.propTypes={preOpenHyperlinkModal:u().object,dispatch:u().func};var $f=(0,H.connect)(function(i){return(0,O.Z)({},i.container.modals)})(Wf),zf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleZoomIn",function(){var l=r.props.dispatch;l({type:"entry:preview:zoom-in"})}),(0,f.Z)((0,ae.Z)(r),"handleZoomOut",function(){var l=r.props.dispatch;l({type:"entry:preview:zoom-out"})}),(0,f.Z)((0,ae.Z)(r),"handleZoomSpecifiedScale",function(l){var p=r.props.dispatch;p({type:"entry:preview:set:scale",payload:{scale:l}})}),(0,f.Z)((0,ae.Z)(r),"handleZoomInitialScale",function(l){l.stopPropagation(),l.preventDefault();var p=r.props.dispatch;p({type:"entry:auto-fit:preview:scale"}),p({type:"entry:preview:reset:canvas:offset"})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.scale;return(0,v.jsx)("div",{className:"ZoomButton",children:(0,v.jsx)(qs,{scale:e,isShowZoomSelection:!1,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomInitialScale:this.handleZoomInitialScale,onZoomSpecifiedScale:this.handleZoomSpecifiedScale})})}}]),t}(y.PureComponent);(0,f.Z)(zf,"propTypes",{scale:u().number,dispatch:u().func});var sE=(0,sr.P1)([ne.z7,ne.XL],function(i,n){return{scale:i,isFullScreenMode:n}}),Gf=(0,H.connect)(function(i){return sE(i)})(zf),Vf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleShare",(0,d.Z)((0,a.Z)().mark(function l(){var p;return(0,a.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!(MB.global.experienceLoginModalHelper&&MB.global.experienceLoginModalHelper("isSave","","a32"))){M.next=2;break}return M.abrupt("return");case 2:p=r.props.dispatch,p({type:"entry:preview:toggle:sharingManager"}),MB.action&&MB.action("entry:set:task-list-track",{type:0,key:Tn._.TaskListFlag.FLAG_CLICK_SHARE_IN_DESIGN}),MB.action&&MB.action("entry:update:task-list-step",{key:Tn._.TaskListGuideKey.GUIDE_SHARE_TASK});case 6:case"end":return M.stop()}},l)}))),r}return(0,S.Z)(t,[{key:"render",value:function(){return(0,v.jsx)("div",{style:{fontSize:12},id:"preview-sharing-box",children:(0,v.jsx)(zr.Z,{direction:"down",content:I18N.pPreviewToolbar.share,children:(0,v.jsx)("div",{className:"share-menu-wrapper",onClick:this.handleShare,children:I18N.pPreviewToolbar.share})})})}}]),t}(y.PureComponent);(0,f.Z)(Vf,"propTypes",{dispatch:u().func});var lE=Vf,cE=ze.default.a.withConfig({displayName:"styles__StyledToolBarItem",componentId:"sc-4p46sd-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:44px;color:",";border-top:2px solid transparent;cursor:pointer;&.preview,&.inspect,&.comment{.svg-icon{width:32px;height:32px;}}&.active{background:",";border-top:2px solid ",';[type="tip"]{color:',";}}&:not(.active):hover{color:",";background:",';[type="tip"]{color:',";}}"],function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_text_L2}),mo=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleClick",function(){var l=r.props,p=l.type,h=l.onClick;h(p)}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.type,s=e.name,l=e.iconName,p=e.isActive;return(0,v.jsx)(zr.Z,{content:s,direction:"down",children:(0,v.jsx)(cE,{className:st()({active:p},o,"toolbar-item"),onClick:this.handleClick,children:(0,v.jsx)(At.q,{name:l})})})}}]),t}(y.PureComponent);(0,f.Z)(mo,"propTypes",{isActive:u().bool,iconName:u().string,name:u().string,type:u().string,onClick:u().func});var uE=ze.default.header.withConfig({displayName:"styles__StyledPreviewToolbar",componentId:"sc-1pj149d-0"})(["&{display:flex;align-items:center;z-index:1000;background:",";height:48px;width:100%;box-shadow:0 1px 0 ",";padding:0 16px;transition:all 0.3s ease-in-out;color:",";.svg-icon{color:",";> *{fill:currentColor;}}.toolbar-right{font-size:18px;display:flex;align-items:center;justify-content:flex-end;height:100%;.new_version_artboard_guide{margin-right:15px;text-decoration:none;display:flex;align-items:flex-end;img{width:27px;}span{margin-bottom:2px;margin-left:6px;font-size:14px;line-height:16px;color:#FFFFFF;line-height:17px;background:linear-gradient(90.17deg,#FF6D20 4.49%,#FC1616 44.72%,#FC8D16 97.02%,#FCE516 158.98%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}}.preview-seeting{width:21px;height:22px;}button.login{border:1px solid #d8d8d8;width:72px;height:32px;background:transparent;color:#333;border-radius:4px;font-size:14px;font-weight:500;margin-right:8px;&:lang(en){width:80px;&:hover{border:1px solid #000;}}&:hover{border:1px solid #fc3f55;}}button.signup{width:88px;height:32px;background:linear-gradient(230.47deg,#FFA41C -0.87%,#FE4141 25.89%,#F4153E 77.87%,#FF27C3 97.94%),#E73828;color:#fff;border-radius:4px;font-size:14px;font-weight:500;margin-right:8px;&:lang(en){width:120px;background:#FFC401;color:#000;&:hover{color:#000;border:1px solid #000;}}&:hover{color:#d9d9d9;}}.to-share{width:32px;height:32px;cursor:pointer;font-size:12px;.svg-icon{width:32px;height:32px;}}.share-menu-wrapper{display:flex;align-items:center;height:32px;padding:0 15px;margin:0 10px;font-weight:500;background:#1684FC;border-radius:8px;font-size:12px;color:#fff;transition:all 0.2s ease-in-out;white-space:nowrap;cursor:pointer;&:hover{background:#1169C9;}}a,.svg-icon{&:active,&.active{cursor:pointer;}}label.Dropdown:not(:global(.is-disabled)){&:hover{.svg-icon{color:#415058;}}}span.share-icon:hover{color:",";}}a{&[disabled]{cursor:not-allowed;color:#c8cdd0 !important;> span{color:#c8cdd0 !important;}}}.back-icon{display:flex;width:32px;height:100%;justify-content:center;align-items:center;margin-left:-8px;margin-right:-6px;color:",";font-size:16px;cursor:pointer;transition:all 0.1s linear;> div{width:32px;height:32px;}}.line{height:20px;width:1px;background:",";margin:0 25px;}.toolbar-left,.toolbar-right{flex-basis:450px;flex-shrink:0;}.toolbar-abar{display:none !important;}.toolbar-left{position:relative;display:flex;height:100%;align-items:center;.project-name{width:400px;font-size:14px;font-weight:500;color:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-left:12px;user-select:text;}svg.modao-logo{height:32px;width:62px;cursor:pointer;g{path:nth-child(2){fill:","}path:nth-child(3){fill:","}}}div.divider{border-left:1px solid #e5e5e5;margin-left:16px;margin-right:4px;height:20px;}button.to-edit{display:flex;white-space:nowrap;width:auto;border:1px solid #1684fc;margin-left:12px;padding:4px 12px;border-radius:4px;color:#1684fc;}}.toolbar-main{position:relative;height:100%;padding:0 100px;display:flex;justify-content:center;flex:1;}.preview-toolbar-nav{display:flex;height:100%;background:#fff;border-bottom:none;justify-content:space-between;.nav-icon{.svg-icon{width:28px;height:28px;}&:hover{color:#415058;}}.active .nav-icon,.active .nav-label{color:#f55d54;transition:none;.svg-icon{color:",";}}> li{width:260px;font-size:14px;border-bottom:2px solid transparent;&:not(.active){&:hover{overflow:visible;.icon{color:#415058;}}}}.background-cube{border:none;height:calc(100% + 1px);&::after{content:'';position:absolute;left:18px;bottom:-1px;width:52px;border-top:2px solid #f55d54;}}}.toolbar-main-wrapper{position:relative;display:flex;justify-content:space-around;width:200px;height:100%;}&:not(.hide-text){.toolbar-main{.toolbar-main-wrapper{.toolbar-item{&:lang(en){width:60px;}}}}}&.hide-text{height:44px;.toolbar-main{.toolbar-main-wrapper{span[type=\"tip\"]{display:none;}}}}&.is-fullscreen-mode{position:absolute;opacity:0;pointer-events:none;}}@media only screen and (max-width:985px){.toolbar-left{flex-basis:unset;.project-name{max-width:140px;}}.toolbar-right{flex-basis:140px;label.Dropdown:first-child,span.line:nth-child(2){display:none;}#preview-sharing-box{font-size:12px;}}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_split},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L3},function(i){return i.theme.color_background},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_primary_brand01}),dE=ze.default.div.withConfig({displayName:"styles__StyledZoomButton",componentId:"sc-1pj149d-1"})(["position:absolute;display:flex;align-items:center;right:60px;top:-55px;height:55px;z-index:1000;"]),Kf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleTabChange",function(l){var p=r.props.dispatch;p({type:"entry:preview:select",payload:{toolbarActiveItem:l}});var h="";switch(l){case"preview":{h="\u9884\u89C8";break}case"inspect":{h="\u6807\u6CE8";break}case"comment":{h="\u8BC4\u8BBA";break}}rr(h)}),(0,f.Z)((0,ae.Z)(r),"handleCloseGuide",function(){(0,Tt.iO)("new_version_artboard_guide_has_shown",!0,Tt.cM.Boolean)}),(0,f.Z)((0,ae.Z)(r),"handleShare",(0,d.Z)((0,a.Z)().mark(function l(){var p;return(0,a.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!(MB.global.experienceLoginModalHelper&&MB.global.experienceLoginModalHelper("isSave","","a32"))){M.next=2;break}return M.abrupt("return");case 2:p=r.props.dispatch,p({type:"entry:preview:toggle:sharingManager"});case 4:case"end":return M.stop()}},l)}))),(0,f.Z)((0,ae.Z)(r),"getCanEditByCurrentUser",function(){var l,p,h,M,N,B,U,K=(l=MB)==null||(p=l.user)==null?void 0:p.id,Q=(h=MB)==null?void 0:h.currentUserCanEdit;if(!Q&&(M=MB)!=null&&(N=M.currentProject)!=null&&N.permissions&&(B=MB)!=null&&(U=B.currentProject)!=null&&U.permissions.length){var J,te;Q=(((J=MB)==null||(te=J.currentProject)==null?void 0:te.permissions)||[]).find(function(re){return re.user_id===K})}return Q}),(0,f.Z)((0,ae.Z)(r),"onClickTopSign",function(l,p){MB.global.popupHelper.loginAsync({onConfirm:function(){setTimeout(function(){return location.reload()},50),setTimeout(function(){return rr("\u767B\u5F55")},0),(0,gn.gn)("/workspace/me","_blank","noreferrer")},type:"signin",source:"proto-preview",entryTerm:l,entry:p}),Xn.xd.userSourceTrack(l)}),r}return(0,S.Z)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.toolbarActiveItem;o!==this.props.toolbarActiveItem&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1,isSelectLayer:!1}})}},{key:"isShowNewVersionArtboardGuide",get:function(){var e=this.props,o=e.toolbarActiveItem,s=e.isShowNewVersionArtboardGuide;return o==="inspect"&&s}},{key:"render",value:function(){var e,o,s=this,l=this.props,p=l.project,h=l.dispatch,M=l.toolbarActiveItem,N=l.isHTMLZip,B=l.isProjectMain,U=l.isFullScreenMode,K=l.theme,Q=l.isOnPremises,J=l.isWonderShare,te=l.user,re=this.isShowNewVersionArtboardGuide,ie=this.getCanEditByCurrentUser;if(!B)return(0,v.jsx)(dE,{className:"zoom-button-box",children:(0,v.jsx)(Gf,{})});var se=p.name||"",ge=function(){var Fe,nt;setTimeout(function(){return rr("\u58A8\u5200logo")},0),(Fe=MB)!=null&&(nt=Fe.user)!=null&&nt.id?(0,gn.ll)(location.origin+"/workspace/me"):(typeof C.U1=="function"&&setTimeout(function(){return(0,C.U1)("enter_home_page",{source:"\u539F\u578B-\u4F01\u4E1A\u7528\u6237\u767B\u5F55\u4F46\u65E0\u6743\u8BBF\u95EE"})},0),(0,gn.ll)(location.origin))},De=ENV.IS_WONDER_SHARE?(0,v.jsx)(At.q,{name:"common/mockitt-logo",className:"modao-logo mockitt",isColorPure:!0,onClick:ge}):(0,v.jsx)(At.q,{name:"common/modao-logo",className:"modao-logo",onClick:ge});return(0,v.jsxs)(uE,{className:st()("preview-toolbar",{"is-fullscreen-mode":U},Tn._.TaskListGuideBindClass.GUIDE_SHARE_TASK_BIND),children:[(0,v.jsxs)("div",{className:"toolbar-left "+((0,$a.xM)()?"toolbar-abar":""),children:[(0,Pt.hi)()?(0,v.jsx)("a",{className:"back-icon",title:I18N.pPreviewToolbar.back,onClick:pE,children:(0,v.jsx)(Sa.Z,{name:"common/back"})}):!N&&(0,v.jsxs)(v.Fragment,{children:[De,(0,v.jsx)("div",{className:"divider"}),ie()&&(0,v.jsx)("button",{className:"to-edit",onClick:function(){setTimeout(function(){return rr("\u514D\u8D39\u4F7F\u7528")},0),(0,gn.ll)(location.origin+"/app/design/"+p.cid)},children:I18N.pPreviewToolbar.edit})]}),(0,v.jsx)("span",{className:st()("project-name",Tn._.TaskListGuideBindClass.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW_BIND),children:(0,kn.FQ)(se)})]}),(0,v.jsx)("div",{className:"toolbar-main",children:(0,v.jsxs)("div",{className:st()("toolbar-main-wrapper"),children:[(0,v.jsx)(mo,{type:"preview",name:I18N.pPreviewToolbar.preview,iconName:"toolbar/preview",isActive:M==="preview",onClick:this.handleTabChange}),(0,v.jsx)(mo,{type:"inspect",name:I18N.pPreviewToolbar.developer_mode,iconName:"design/preview/handoff",isActive:M==="inspect",onClick:this.handleTabChange}),!N&&(0,v.jsx)(mo,{type:"comment",name:I18N.pPreviewToolbar.comment,iconName:"design/preview/comment",isActive:M==="comment",onClick:this.handleTabChange})]})}),(0,v.jsxs)("div",{className:"toolbar-right "+((0,$a.xM)()?"toolbar-abar":""),children:[!Q&&re&&(0,v.jsxs)("a",{onClick:this.handleCloseGuide,className:"new_version_artboard_guide",href:"/feature/aboard/index.html",target:"_blank",children:[(0,v.jsx)("img",{src:"/mb-workspace/images/preview/toolbar-artboard-guide.png"}),(0,v.jsx)("span",{children:"\u4E0A\u65B0\uFF01\u5F00\u53D1\u6807\u6CE8\u66F4\u7CBE\u51C6\uFF0C\u62A2\u5148\u4F53\u9A8C"})]}),!((e=MB)!=null&&(o=e.user)!=null&&o.id)&&!N&&!Q?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{className:"login",onClick:function(){s.onClickTopSign("sign_top_right","a32"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Top-Signin")},children:I18N.pPreviewToolbar.login}),(0,v.jsx)("button",{className:"signup",onClick:function(){s.onClickTopSign("free_use","a32"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Top-Start for Free")},children:I18N.pPreviewToolbar.signup}),(0,v.jsx)(Sa.Z,{id:"preview-sharing-box",className:"to-share",name:"toolbar/preview/share",onClick:this.handleShare})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(no,{dispatch:h}),!N&&(0,v.jsx)(lE,{dispatch:h,isHTMLZip:N,theme:K,isOnPremises:Q,isWonderShare:J,user:te}),(0,v.jsx)(Gf,{})]})]})]})}}]),t}(y.PureComponent);(0,f.Z)(Kf,"propTypes",{project:u().object,isOnPremises:u().bool,isHTMLZip:u().bool,isProjectMain:u().bool,isFullScreenMode:u().bool,toolbarActiveItem:u().string,theme:u().string,isWonderShare:u().bool,user:u().object,dispatch:u().func,isShowNewVersionArtboardGuide:u().bool});var pE=function(){if((0,Pt.hi)()){var n,t,r,e;MB.action&&MB.action("entry:activate:screen",{screenCid:MB.webpackInterface.store.getState().container.current.screenMeta.cid}),MB.backDesign(),(n=MB)==null||n.action("entry:close:task-list-guide",{key:Tn._.TaskListGuideKey.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW,isDestroy:!0}),(t=MB)==null||t.action("reducer:flag:update-state",{isInPreview:!1}),(r=MB)==null||r.action("entry:set:task-list-track",{type:0,key:Tn._.TaskListGuideKey.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW}),(e=MB)==null||e.action("entry:init:task-list-steps")}},fE=(0,sr.P1)([ne.GP,ne.Ds,ne.vo,ne.v8,ne.XL,ne.gh,ne.CD,ne.ts,ne.pt],function(i,n,t,r,e,o,s,l,p){var h=i.isHTMLZip,M=s.isOnPremises,N=p.isShowNewVersionArtboardGuide;return{project:t,isHTMLZip:h,isProjectMain:r,isFullScreenMode:e,toolbarActiveItem:n,theme:o,isOnPremises:M,user:l,isShowNewVersionArtboardGuide:N}}),hE=(0,H.connect)(function(i){return fE(i)})(Kf),vE=ze.default.div.withConfig({displayName:"styles__StyledScreenName",componentId:"sc-19ywro-0"})(["&{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:50px;width:258px;border-radius:25px;background:rgba(31,41,46,0.5);font-size:16px;z-index:2;display:flex;justify-content:center;align-items:center;color:#fff;opacity:0;transition:opacity 0.5s ease-in-out;pointer-events:none;}span.dot{position:static;width:5px;height:5px;background:#fff;margin:10px;border-radius:50%;}div.screen-name{",";max-width:120px;}&.show{opacity:1;}"],Ha),Yf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screen,s=e.screenMetaList,l=e.shouldTextShow,p=e.reachFirstScreen,h=e.reachLastScreen,M=s.findIndex(function(B){var U=B.cid;return U===o.cid}),N;return p?N=I18N.pFullScreen.firstScreen:h?N=I18N.pFullScreen.lastScreen:N=M+1+" / "+s.length,(0,v.jsxs)(vE,{className:st()("screen-info",{show:l}),children:[(0,v.jsx)("div",{children:N}),(0,v.jsx)("span",{className:"dot"}),(0,v.jsx)("div",{className:"screen-name",children:o.name})]})}}]),t}(y.PureComponent);(0,f.Z)(Yf,"propTypes",{screen:u().object,screenMetaList:u().array,shouldTextShow:u().bool,reachFirstScreen:u().bool,reachLastScreen:u().bool});var mE=(0,ze.keyframes)(["from{opacity:0;}to{opacity:1;}"]),Xf=(0,ze.css)(["top:calc(50% - 106px);background:",";border-radius:50%;width:218px;height:218px;transition:left 0.3s ease-in-out,right 0.3s ease-in-out,background 0.5s ease-in-out;animation:"," 0.3s ease-in-out;z-index:1;& svg{position:absolute;top:50%;transform:translateY(-50%);font-size:18px;& > *{fill:",";}}&:hover{background:",";}&:active{& svg{fill:",";}}"],function(i){return i.theme.color_text_L3},mE,function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L2}),gE=ze.default.div.withConfig({displayName:"styles__StyledNavigationButton",componentId:"sc-1jlxrgo-0"})(["position:relative;width:100%;height:100%;.last-screen{position:absolute;left:-186px;",";& svg{right:32px;}&:hover{left:-146px;}}.next-screen{position:absolute;right:-186px;",";& svg{left:32px;}&:hover{right:-146px;}}"],Xf,Xf),Qf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){return(0,v.jsxs)(gE,{children:[(0,v.jsx)("span",{className:"last-screen","data-action":"last",onClick:this.props.onClick,children:(0,v.jsx)(At.q,{className:"left-arrow",name:"general/angle_bracket_left"})}),(0,v.jsx)("span",{className:"navigation-button next-screen","data-action":"next",onClick:this.props.onClick,children:(0,v.jsx)(At.q,{className:"right-arrow",name:"general/angle_bracket_right"})})]})}}]),t}(y.PureComponent);(0,f.Z)(Qf,"propTypes",{onClick:u().func});var yE=(0,ze.keyframes)(["0%{top:-45px;opacity:0;}100%{top:10px;opacity:1;}"]),_f=(0,ze.css)(["position:relative;display:inline-block;cursor:pointer;width:35px;height:35px;border-radius:20px;box-shadow:0 2px 3px 0 rgba(65,80,88,0.40);background:",";transition:width 0.3s ease-in-out,background 0.5s ease-in-out;z-index:1;&:hover{box-shadow:0 4px 8px 0 rgba(65,80,88,0.16);& svg{fill:#415058;}}&:active{box-shadow:0 4px 8px 0 rgba(65,80,88,0.16);& svg{fill:#8d9ea7;}}"],function(i){return i.theme.color_background_white_modal}),SE=ze.default.div.withConfig({displayName:"styles__StyledExitAndModeButton",componentId:"sc-10ftbs3-0"})(["&{position:absolute;right:20px;top:10px;transition:all 0.5s ease-in-out;animation:"," 0.5s ease-in-out;display:flex;.mode{",";display:flex;align-items:center;justify-content:center;svg{width:16px;height:16px;color:",";}span{display:inline-block;width:18px;height:18px;border-radius:50%;position:absolute;top:calc(50% - 9px);opacity:0;transition:opacity 0.5s ease-in-out;border:1px solid transparent;&.active{border:1px solid ",";}}span.light{right:43px;background-color:#f7f7f7;opacity:0;transition:opacity 0.5s ease-in-out;}span.dark{right:9px;background-color:#151515;opacity:0;transition:opacity 0.5s ease-in-out;}span.custom{left:9px;opacity:0;transition:opacity 0.5s ease-in-out;background-color:",";&:after{display:inline-block;content:'';width:1px;height:16px;background-color:",";position:absolute;right:-16px;}}&:hover{width:",";svg{opacity:0;}span{opacity:1;}}}.exit-full-screen{",";margin-left:10px;display:flex;justify-content:center;align-items:center;svg{width:16px;height:16px;color:",";}&:hover{svg{color:",";}}&:active{svg{color:",";}}}}"],yE,_f,function(i){return i.theme.color_text_L3},function(i){return i.theme.color_primary_proto01},function(i){return i.bgcolor},function(i){return i.theme.color_text_disabled},function(i){return i.isSetBgColor?"117px":"71px"},_f,function(i){return i.theme.color_text_L2},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L3}),Jf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isSetBgColor,s=e.bgcolor,l=e.active;return(0,v.jsxs)(SE,{isSetBgColor:o,bgcolor:s,className:"top-right-action",children:[(0,v.jsxs)("div",{className:"mode",children:[(0,v.jsx)(At.q,{name:"design/preview/daynight"}),o&&(0,v.jsx)("span",{className:st()("custom",{active:l==="custom"}),"data-mode":"custom",onClick:this.props.onClickMode}),(0,v.jsx)("span",{className:st()("light",{active:l==="light"}),"data-mode":"light",onClick:this.props.onClickMode}),(0,v.jsx)("span",{className:st()("dark",{active:l==="dark"}),"data-mode":"dark",onClick:this.props.onClickMode})]}),(0,v.jsx)("div",{className:"exit-full-screen",onClick:this.props.onClickExit,children:(0,v.jsx)(At.q,{name:"design/preview/exit"})})]})}}]),t}(y.PureComponent);(0,f.Z)(Jf,"propTypes",{active:u().string,bgcolor:u().string,isSetBgColor:u().bool,onClickMode:u().func,onClickExit:u().func});var bE=ze.default.div.withConfig({displayName:"styles__StyledFullScreenActions",componentId:"sc-kmkm3x-0"})(["&{position:absolute;bottom:0;top:0;left:0;right:0;transition:all 0.5s ease-in-out;.zoom-wrapper{position:absolute;left:260px;height:56px;z-index:1;font-size:14px;display:flex;align-items:center;&.is-Iniframe{left:20px;}a:not([disabled]) svg{fill:#8d9ea7;&:hover{fill:currentColor;}}}a{&[disabled]{cursor:not-allowed;color:#c8cdd0 !important;}}&.dark-mode{background:#151515;.top-right-action{.mode{background:#363738;}.exit-full-screen{background:#363738;svg{color:#b8bcbf;}&:hover{svg{color:#f2f4f5;}}}}.last-screen,.next-screen{background:#2c383e;& svg{fill:#8d9ea7;}&:hover{background:#3a4850;}&:active{& svg{fill:#1f292e;}}}.zoom-wrapper{a{&:not([disabled]){svg{fill:#8D9EA7;}&:hover svg{fill:#7d8694;}}&[disabled] svg{fill:#415058;}}}}&.custom-mode{background-color:",";}&.light-mode{background:#f7f7f7;.top-right-action{.mode{background:#fff;}.exit-full-screen{background:#fff;svg{color:#666;}&:hover{svg{color:#333;}}}}}}@media only screen and (max-width:985px){&{.zoom-wrapper{left:168px;}}}"],function(i){return i.bgcolor}),qf=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setMode",function(s){var l=s.target.dataset.mode;e.setState({mode:l})}),(0,f.Z)((0,ae.Z)(e),"handleKeyDown",function(s){s.keyCode===37&&e.goToScreenByStep(-1),s.keyCode===39&&e.goToScreenByStep(1)}),(0,f.Z)((0,ae.Z)(e),"handleNavigate",function(s){var l=s.currentTarget.dataset.action;l==="last"?e.goToScreenByStep(-1):l==="next"&&e.goToScreenByStep(1)}),(0,f.Z)((0,ae.Z)(e),"handleExitFullScreen",(0,d.Z)((0,a.Z)().mark(function s(){return(0,a.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!ga.isFullscreen){p.next=3;break}return p.next=3,ga.exit();case 3:e.props.dispatch({type:"entry:exit:fill-screen-mode"});case 4:case"end":return p.stop()}},s)}))),(0,f.Z)((0,ae.Z)(e),"goToScreenByStep",function(s){var l=e.props,p=l.screen,h=l.screenMetaList,M=l.dispatch,N=p.cid,B=h.findIndex(function(Q){var J=Q.cid;return J===N}),U=B+s;if(U<0)e.setState({shouldTextShow:!0,reachFirstScreen:!0});else if(U>h.length-1)e.setState({shouldTextShow:!0,reachLastScreen:!0});else{var K=h[U].cid;M({type:"entry:sync-runner:set-screen",payload:{cid:K}}),M({type:"entry:preview:reset:canvas:offset"}),e.setState({shouldTextShow:!0,reachFirstScreen:!1,reachLastScreen:!1})}});var o=r.isSetBgColor?"custom":r.theme;return e.state={mode:o,shouldTextShow:!1,reachFirstScreen:!1,reachLastScreen:!1},e}return(0,S.Z)(t,[{key:"componentDidUpdate",value:function(e){var o=this;if(this.state.shouldTextShow&&(clearTimeout(this.timer),this.timer=setTimeout(function(){return o.setState({shouldTextShow:!1})},1500)),this.props.screen!==e.screen){var s=this.props,l=s.screen,p=s.screenMetaList,h=l.cid,M=p.findIndex(function(N){var B=N.cid;return B===h});M!==0&&this.setState({reachFirstScreen:!1}),M!==p.length-1&&this.setState({reachLastScreen:!1})}}},{key:"render",value:function(){var e=this.props,o=e.screen,s=e.screenMetaList,l=e.isSetBgColor,p=e.bgcolor,h=e.previewOptions,M=this.state,N=M.mode,B=M.shouldTextShow,U=M.reachFirstScreen,K=M.reachLastScreen,Q=h.isEmbedV2;return(0,v.jsxs)(bE,{className:"full-screen-actions "+N+"-mode",bgcolor:p,children:[!Q&&(0,v.jsx)(Jf,{active:N,bgcolor:p,isSetBgColor:l,onClickMode:this.setMode,onClickExit:this.handleExitFullScreen}),(0,v.jsx)(Yf,{screen:o,screenMetaList:s,shouldTextShow:B,reachFirstScreen:U,reachLastScreen:K}),!Q&&(0,v.jsx)(Qf,{onClick:this.handleNavigate}),(0,v.jsx)(Fr.Z,{target:document,onKeyDown:this.handleKeyDown})]})}}]),t}(y.PureComponent);(0,f.Z)(qf,"propTypes",{isSetBgColor:u().bool,bgcolor:u().string,theme:u().string,screen:u().object,screenMetaList:u().array,dispatch:u().func,previewOptions:u().object});var eh=(0,H.connect)(function(i){var n=(0,ne.CL)(i),t=(0,ne.px)(i),r=(0,ne.Wf)(i),e=(0,ne.vo)(i),o=(0,ne.gh)(i),s=(0,ne.GP)(i),l=(0,ao.z9)(e);return{screen:n,screenMetaList:t,bgcolor:r,isSetBgColor:l,theme:o,previewOptions:s}})(qf),xE=function(){return(0,Tt.GQ)("close_client_load_tip")!=="true"},CE=function(){return(0,Tt.A6)("close_client_load_tip","true")},wE=function(){var n=(0,y.useState)(xE()),t=(0,F.Z)(n,2),r=t[0],e=t[1];if(!r)return null;var o=function(){e(!1),CE()},s=I18N.pPreview.client_load_a,l=I18N.pPreview.client_load_tip;return(0,v.jsxs)("div",{className:"download-client-tip",children:[(0,v.jsx)(Pn.Z,{type:"fa",name:"info-circle",className:"download-client-tip-icon"}),(0,v.jsxs)("span",{className:"download-text",children:[(0,v.jsx)("a",{href:I18N.link.link_download_client,rel:"noopener noreferrer",target:"_blank",children:s})," ",l]}),(0,v.jsx)(Pn.Z,{type:"dora",name:"times_fc",className:"download-client-close-icon",onClick:o})]})},EE=(0,y.memo)(wE),AE=ze.default.div.withConfig({displayName:"style__StyledCommercialFontTip",componentId:"sc-yw7rpt-0"})(["display:flex;position:absolute;left:50%;transform:translateX(-50%);bottom:40px;padding:20px;background-color:#ffffff;color:#8d9ea7;font-size:14px;border-radius:4px;z-index:11;"]),ME=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"state",{isOpen:!0}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({isOpen:!1}),(0,Tt.A6)(th,!0)},4e3)}},{key:"render",value:function(){var e=this.state.isOpen;return e?(0,v.jsx)(AE,{className:"commercial-font-tip",innerHeight:window.innerHeight,children:I18N.pPreview.commercial_font_tip_preview}):null}}]),t}(y.Component);function PE(i){var n=(0,Tt.GQ)(th);return n?null:(0,v.jsx)(ME,(0,O.Z)({},i))}var th="commercialFontTipShownInPreview",rh=c(67562),TE=c(10846),IE=c.n(TE),OE=c(7145),nh=c.n(OE),ah=[{tag:"p",attrs:[{name:"data-we-empty-p",value:""}],children:[{tag:"br",attrs:[],children:[]}]}],DE=function(n){return n.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("<br/>","\n")},LE=function(n){return n.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")},yl=function i(n,t){t===void 0&&(t=document.createElement("div"));var r=t;return n.forEach(function(e){var o;typeof e=="string"&&(o=document.createTextNode(DE(e))),typeof e=="object"&&(o=document.createElement(e.tag),e.attrs.forEach(function(s){o.setAttribute(s.name,s.value)}),e.children&&e.children.length>0&&i(e.children,o)),o&&r.appendChild(o)}),r},NE=function(n,t,r){var e=[t];return jE(n,t,r,e),e[0]},jE=function i(n,t,r,e){n.children&&n.children.length>0&&Array.from(n.children).every(function(o){var s=o==null?void 0:o.getBoundingClientRect();if(s){if(s.x===r.x&&s.y===r.y&&s.width===r.width&&s.height===r.height&&s.top===r.top&&s.bottom===r.bottom&&s.right===r.right&&s.left===r.left)return RE(o,t,e),!1;i(o,t,r,e)}return!0})},RE=function i(n,t,r){n.childNodes&&Array.from(n.childNodes).every(function(e){return e.nodeValue===t.nodeValue?(r[0]=e,!1):(i(e,t,r),!0)})},ih=function i(n){var t=[],r=(n==null?void 0:n.childNodes)||[];return r.forEach(function(e){var o,s=e.nodeType;if(s===3&&(o=e.textContent||"",o=LE(o)),s===1){o={},o=o,o.tag=e.nodeName.toLowerCase();for(var l=[],p=e.attributes,h=p.length||0,M=0;M<h;M++){var N=p[M];l.push({name:N.name,value:N.value})}o.attrs=l,o.children=i(e)}o&&t.push(o)}),t},kE=function i(n){n.length>0&&n.forEach(function(t,r){t!=null&&t.children&&(t.children.length>0?i(t.children):n.splice(r,1))})},sT=function(n){var t=document.createElement("div");t.classList.add("w-e-text"),t.innerHTML=n;var r=ih(t);return JSON.stringify(r)!==JSON.stringify(ah)&&kE(r),r},ZE=function(n){var t,r;if(!n||n.length===0)return!0;var e=(t=yl(n))==null?void 0:t.innerText;return n.length===1&&!["ul","ol"].includes((r=n[0])==null?void 0:r.tag)&&!e},BE=ze.default.div.withConfig({displayName:"styles__StyledAnnotateEditor",componentId:"sc-nsl0ff-0"})(["position:relative;.w-e-text-container{height:auto !important;border:1px solid ",";border-top:none;border-radius:0 0 8px 8px;background:",";min-height:32px;user-select:text;-webkit-user-select:text;.placeholder{font-size:12px;color:#999;background:",';left:16px;top:16px;}ul{list-style:disc;li{line-height:1.7;letter-spacing:0.01rem;}}ol{list-style:decimal;li{line-height:1.7;letter-spacing:0.01rem;}}.w-e-text{padding:16px;min-height:16px !important;overflow-wrap:break-word;p,h1,h2,h3,h4,h5{margin:0;letter-spacing:0.01rem;}h1,h2,h3{line-height:24px;}h1{font-size:18px !important;}h2{font-size:16px !important;}h3{font-size:14px !important;}font{&[size="2"]{font-size:12px;}&[size="3"]{font-size:14px;}&[size="4"]{font-size:16px;}&[size="5"]{font-size:18px;}&[size="6"]{font-size:20px;}&[size="7"]{font-size:22px;}&[color="#000000"]{color:',';}&[color="#666666"]{color:',";}}p{font-size:14px !important;line-height:2;}}a{cursor:auto;}a[href]{color:#1684fc;cursor:pointer;&:hover{background:rgba(22,132,252,0.24);}}[contenteditable]{-webkit-user-select:text;user-select:text;*{-webkit-user-select:text;user-select:text;}}}.w-e-toolbar{min-height:32px;display:none;align-items:center;border:1px solid ",";border-radius:8px 8px 0 0;grid-template-columns:repeat(auto-fill,24px);grid-row-gap:5px;grid-column-gap:5px;background:",";.w-e-menu{width:24px;height:24px;border-radius:4px;margin-top:4px;transition:all 0.2s ease-in-out;i{color:",";}&.w-e-active{background:",";i{color:",";}}&:not(.w-e-active):hover{background:",";}&:not(.w-e-active):active{background:",';}&[data-title="\u5B57\u53F7"],&[data-title="\u6807\u9898"],&[data-title="\u5E8F\u5217"]{.w-e-droplist{width:100px !important;background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;border:none;ul.w-e-list{padding:8px 0;li.w-e-item{color:#fff;height:24px;text-align:left;padding-left:32px;.w-e-drop-list-item::before{color:#fff;}&:not(:first-child){margin-top:2px;}&:hover{background-color:#666;}}}}}&[data-title="\u6587\u5B57\u989C\u8272"]{.w-e-droplist{width:108px !important;background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;border:none;ul.w-e-block{li.w-e-item{width:24px;height:24px;border-radius:4px;&:hover{background-color:#666;}}}}}&[data-title="\u6807\u9898"]{.w-e-droplist{ul.w-e-list{li.w-e-item{&:nth-child(4),&:nth-child(5){display:none;}}}}}&[data-title="\u5E8F\u5217"]{.w-e-droplist{right:0;left:auto;width:120px !important;ul.w-e-list{li.w-e-item{padding-left:16px;}}}}}.w-e-droplist{.w-e-dp-title{display:none;}.w-e-list{.w-e-item{h1,h2,h3,h4,h5,p{font-size:12px !important;}}}}}&.readOnly{.w-e-toolbar{display:none;}.w-e-text-container{pointer-events:auto;.w-e-text{*{user-select:text;-webkit-user-select:text;}}}}&:not(.readOnly){cursor:text;}'],function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L2},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_icon_active}),FE=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"setRef",function(o){return e.ref=o}),(0,f.Z)((0,ae.Z)(e),"isEmpty",function(){var o=e.props.widget.data;return ZE(o)}),(0,f.Z)((0,ae.Z)(e),"handleValidateHref",function(o){var s=!1,l="";try{var p=new URL(o);l=p.hostname.split(".").slice(-2).join("."),s=Ea.$h.includes(p.protocol)}catch(h){}return{isValidated:s,domain:l}}),(0,f.Z)((0,ae.Z)(e),"initXss",function(){var o={whiteList:Object.fromEntries(Object.entries(nh().whiteList).filter(function(s){var l=(0,F.Z)(s,2),p=l[1];return!p.includes("src")}).map(function(s){var l=(0,F.Z)(s,2),p=l[0],h=l[1];return p==="a"?[p,["href","target"]]:[p,h.filter(function(M){return M!=="href"})]})),onTagAttr:function(l,p,h,M){if(!M)return"";if(l==="a"){if(p==="href"){var N=e.handleValidateHref(h),B=N.isValidated;return B?"href="+h:""}else if(p==="target")return'target="_blank"'}},stripIgnoreTag:!0,stripIgnoreTagBody:["script","iframe"]};e.myxss=new(nh()).FilterXSS(o)}),(0,f.Z)((0,ae.Z)(e),"handleClickHref",function(o){var s,l=o.target;if(l&&((s=l.nodeName)==null?void 0:s.toLowerCase())==="a"){var p=l.getAttribute("href");if(p){var h=e.handleValidateHref(p),M=h.domain;if(!["wondershare.com","modao.cc"].includes(M)){o.preventDefault();var N=e.props,B=N.readOnly,U=N.dispatch,K=function(){(0,gn.gn)(p,"_blank","noreferrer")};U({type:B?"previewModal:update:state":"modal:update:state",payload:{preOpenHyperlinkModal:{isOpen:!0,hyperlink:p,isMobile:!1,displayWeChatNewTabExternalUrlTip:!1,confirmText:I18N.SettingPanel.continue,onConfirm:K}}})}}}}),(0,f.Z)((0,ae.Z)(e),"initEditorConfig",function(){var o=e.props,s=o.widget,l=o.theme,p=o.readOnly,h=new(IE())(e.$toolbarRef,e.$contentRef);h.config.menus=["head","fontSize","foreColor","bold","italic","underline","strikeThrough","list"],h.config.fontSizes={small:{name:"12px",value:"2"},normal:{name:"14px",value:"3"},large:{name:"16px",value:"4"},"x-large":{name:"18px",value:"5"},"xx-large":{name:"20px",value:"6"},"xxx-large":{name:"22px",value:"7"}};var M=l==="light"?"#000000":"#F2F4F5",N=l==="light"?"#666666":"#B8BCBF";h.config.colors=[M,"#EB3223","#FF7900","#FFDA02","#377D22","#0EB0CF","#1684FC","#3D46CE","#DA58F5","#887FE1",N,"#999999"],h.config.showFullScreen=!1,h.config.showMenuTooltips=!1,h.config.focus=!1,h.config.printLog=!1,p||(h.config.onchange=function(K){MB.f.isEditingAnnotate&&(e.handleErrorCache(),e.handleChangeData())}),h.config.placeholder=I18N.AnnotatePanel.editorPlaceholder,h.create();var B=!s.data||s.data.length===0?ah:s.data,U=yl(B);return h.txt.html(e.myxss.process(U.innerHTML)),p&&h.disable(),h}),(0,f.Z)((0,ae.Z)(e),"initDefault",function(){var o=e.props,s=o.readOnly,l=o.editingWidgetCid,p=o.widget,h=o.onUpdateData,M=o.dispatch;if(e.$contentRef){var N=l===p.cid;if(N){e.annotateEditorInstance=e.initEditorConfig();var B=e.$contentRef.querySelector('[contenteditable="true"]');B&&B.setAttribute("spellcheck","false")}else{var U=e.props.widget.data,K=document.createElement("div");K.classList.add("w-e-text-container");var Q=document.createElement("div");Q.classList.add("w-e-text"),s||(Q.setAttribute("contenteditable","true"),Q.setAttribute("spellcheck","false"));var J=yl(U,Q),te;if(J){var re=J.innerHTML;te=e.myxss.process(re);var ie=re!==te;if(Q.innerHTML=te,K.appendChild(Q),ie&&!s){var se=ih(J);h(se,p.cid)}}if(Q.oninput=function(){l!==p.cid&&(Q.innerHTML=te)},e.isEmpty()){var ge=document.createElement("div");ge.classList.add("placeholder"),ge.innerText=I18N.AnnotatePanel.editorPlaceholder,ge.style.zIndex="1",K.appendChild(ge)}e.$contentRef.appendChild(K)}}M({type:"set:annotatePanel:update",payload:{editingAnnotateEditorInstance:{instance:e.annotateEditorInstance||null,cid:p.cid}}})}),(0,f.Z)((0,ae.Z)(e),"handleDestroy",function(){e.annotateEditorInstance&&(e.annotateEditorInstance.destroy(),e.annotateEditorInstance=null)}),(0,f.Z)((0,ae.Z)(e),"createContentRef",function(o){return e.$contentRef=o}),(0,f.Z)((0,ae.Z)(e),"createToolbarRef",function(o){return e.$toolbarRef=o}),(0,f.Z)((0,ae.Z)(e),"setFocus",function(o){var s=o.focusNode,l=o.parentRect,p=o.focusOffset;if(e.annotateEditorInstance){var h=e.$contentRef.querySelector(".w-e-text");if(h)if(s&&l){var M=NE(h,s,l);if(M&&h.contains(M)){var N=window.getSelection(),B=document.createRange(),U=p;M.hasChildNodes()&&(U=M.childNodes.length),U=p>U?U:p,B.setStart(M,U),B.setEnd(M,U),N.removeAllRanges(),N.addRange(B),e.annotateEditorInstance.selection.saveRange(B)}}else e.handleSetAllRange()}}),(0,f.Z)((0,ae.Z)(e),"handleSetAllRange",function(){if(e.annotateEditorInstance){var o=e.$contentRef.querySelector(".w-e-text");if(o)if(e.isEmpty()){var s=e.annotateEditorInstance.$textElem,l=s.children(),p=l==null?void 0:l.last();e.annotateEditorInstance.selection.createRangeByElem(p,!0,!0),e.annotateEditorInstance.selection.restoreSelection()}else{var h=window.getSelection(),M=document.createRange(),N=o.childElementCount>0?o.lastChild:o,B=1;N.hasChildNodes()&&(B=N.childNodes.length),N&&B&&(M.setStart(N,B),M.setEnd(N,B),h.removeAllRanges(),h.addRange(M),e.annotateEditorInstance.selection.saveRange(M))}}}),(0,f.Z)((0,ae.Z)(e),"setBlur",function(){var o=e.$contentRef.querySelector(".w-e-text");o&&e.handleBlur()}),(0,f.Z)((0,ae.Z)(e),"handleErrorCache",function(){var o,s,l,p,h;if((o=e.annotateEditorInstance)!=null&&(s=o.history)!=null&&(l=s.content)!=null&&(p=l.cache)!=null&&(h=p.data)!=null&&h.data){var M=e.annotateEditorInstance.history.content.cache.data.data.findIndex(function(N){if((N==null?void 0:N.length)===1){var B;return((B=N[0].target)==null?void 0:B.className)==="w-e-text"}return!1});M>-1&&e.annotateEditorInstance.history.content.cache.data.data.splice(M,1)}}),(0,f.Z)((0,ae.Z)(e),"handleKeyDown",function(o){if(MB.f.isEditingAnnotate){var s=o.key===ni.Fn.Escape,l=(o.metaKey||o.ctrlKey)&&o.key===ni.Fn.Enter,p=s||l;p&&(o.preventDefault(),e.setBlur())}}),(0,f.Z)((0,ae.Z)(e),"handleChangeData",Wi()(function(){e.handleUpdateData()},500)),(0,f.Z)((0,ae.Z)(e),"handleUpdateData",function(){var o=e.props,s=o.widget,l=o.onUpdateData;if(e.annotateEditorInstance){var p=s.data,h=e.annotateEditorInstance.txt.getJSON();JSON.stringify(p)!==JSON.stringify(h)&&l(h,s.cid)}}),(0,f.Z)((0,ae.Z)(e),"handleFocus",function(){var o=e.props,s=o.readOnly,l=o.widget,p=o.onSetEditingAnnotate,h=o.onJudgeIsEditingExceedOneScreen,M=o.dispatch;s||(M({type:"entry:update:selection:select:items",payload:{cids:[l.cid]}}),p(!0,l.cid),h(l.cid))}),(0,f.Z)((0,ae.Z)(e),"handleBlur",function(){var o=e.props,s=o.show,l=o.onBlur;s&&e.handleUpdateData(),l()}),(0,f.Z)((0,ae.Z)(e),"handleClick",function(o){var s=e.props,l=s.widget,p=s.onSetEditingAnnotate,h=s.onJudgeIsEditingExceedOneScreen,M=s.editingWidgetCid;p(!0,l.cid),h(l.cid);var N=M===l.cid;if(!N)e.handleSetRange();else{var B=o?o.target.className.includes("w-e-text-container"):!0;B&&setTimeout(function(){e.handleSetAllRange()})}}),(0,f.Z)((0,ae.Z)(e),"handleSetRange",function(){var o,s=window.getSelection(),l=s==null?void 0:s.focusNode,p=l==null?void 0:l.parentElement,h=p==null||(o=p.classList)==null?void 0:o.contains("w-e-text"),M=(p==null?void 0:p.tagName)==="UL",N=(h||M)&&(l==null?void 0:l.nodeType)===1?l==null?void 0:l.getBoundingClientRect():l==null?void 0:l.parentElement.getBoundingClientRect(),B=s==null?void 0:s.focusOffset;setTimeout(function(){e.setFocus({focusNode:l,parentRect:N,focusOffset:B})})}),(0,f.Z)((0,ae.Z)(e),"handleCopy",function(){var o=e.props,s=o.onCopy,l=o.readOnly;l&&s&&s()}),r.onSetRef&&r.onSetRef((0,ae.Z)(e)),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.initXss(),this.initDefault(),document.addEventListener("click",this.handleClickHref)}},{key:"componentDidUpdate",value:function(e,o,s){var l=e.editingWidgetCid,p=e.widget.data,h=this.props,M=h.editingWidgetCid,N=h.widget,B=N.cid,U=N.data;if((l===B&&M!==B||l!==B&&M===B)&&(this.handleDestroy(),this.initDefault()),!M&&JSON.stringify(U)!==JSON.stringify(p)){for(this.handleDestroy();this.$contentRef.hasChildNodes();)this.$contentRef.firstChild&&this.$contentRef.removeChild(this.$contentRef.firstChild);this.initDefault()}}},{key:"componentWillUnmount",value:function(){this.handleDestroy(),document.removeEventListener("click",this.handleClickHref)}},{key:"render",value:function(){var e=this,o=this.props,s=o.widget,l=o.readOnly;return(0,v.jsxs)(BE,{className:st()({readOnly:l},"annotateComponent"),onKeyDown:function(h){return l?void 0:e.handleKeyDown(h)},children:[(0,v.jsx)("div",{ref:this.createToolbarRef,className:"editorToolbar"}),(0,v.jsx)("div",{ref:this.createContentRef,id:l?"annotate_preview_"+s.cid:"annotate_"+s.cid,className:"editorContent",onClick:l?void 0:this.handleClick,onCopy:this.handleCopy})]})}}]),t}(y.PureComponent),lT=c(63748),UE=24,cT=function(n){if(!/[^\d.]/.test(n)&&!/^\.|^0\./.test(n)){var t=n.split(".");if(t.length>0){var r=t.map(function(e){return parseInt(e)}).filter(function(e){return!isNaN(e)&&e!==0});return r.splice(0,MAX_ANNOTATE_DEPTH).join(".")}}return null},Sl=function(n){return n.toString().split(".").length},Ya=function(n,t){for(var r=[t];r.length;){var e=r.pop();if(e.order===n)return e;r.push.apply(r,_toConsumableArray(e.children))}},HE=function(n,t){var r=Ya(getParentOrder(n.order)||"root",t);return r==null?void 0:r.children.map(function(e){return e.data})},oh=function(n,t){var r=Ya(n,t),e=HE(r.data,t);return e&&e.length>0?e[e.length-1].order===n:!1},uT=function(n){return preOrderTraversal(n,function(t){return t.data})},WE=function(n,t){var r=t.getBoundingClientRect(),e=getComputedStyle(t),o=e.paddingTop,s=e.paddingRight,l=e.paddingBottom,p=e.paddingLeft,h=parseInt(p)+(n-1)*UE,M=parseInt(o),N=h,B=parseInt(s),U=parseInt(l);return{top:r.top,left:r.left+N,width:r.width-(N+B),height:r.height-(M+U)}},dT=function(n,t){var r=document.querySelector(".annotate-drag-container"),e=r.firstChild,o=Array.from(r.querySelectorAll(".annotate-tree-item")),s=r.getBoundingClientRect(),l=e.getBoundingClientRect(),p=[],h={},M=new Set([n.order]),N=[],B=1;preOrderTraversal(t,function(re){var ie=re.order,se=re.children;if(M.has(ie)&&se){var ge=_createForOfIteratorHelper(se),De;try{for(ge.s();!(De=ge.n()).done;){var Me=De.value;M.add(Me.order)}}catch(Fe){ge.e(Fe)}finally{ge.f()}N.push(re)}});for(var U=0,K=N;U<K.length;U++){var Q=K[U],J=getTreeNodeHeight(Q);B=Math.max(J,B)}var te=o.length;return o.forEach(function(re,ie){var se=re.dataset.order,ge=Sl(se),De=Ya(se,t),Me=re.querySelector(":scope > .annotateEditorItem"),Fe=Me.getBoundingClientRect(),nt=WE(ge,Me),ot=re.getBoundingClientRect(),dt={top:Fe.top-l.top,left:Fe.left-l.left,width:Fe.width,height:Fe.height},fe={top:nt.top-l.top,left:nt.left-l.left,width:nt.width,height:nt.height},ue={top:ot.top-l.top,left:fe.left,width:fe.width,height:ot.height};h[se]={rect:dt,contentRect:fe,treeRect:ue};var Se=dt.left,$e=dt.top,Ye=dt.width,Xe=dt.height,ut=Se+Ye,mt=$e+Xe,pt=$e+Xe/3,It=$e+Xe/3*2;if(M.has(se)){p.push({cid:se,type:null,min:{x:Se,y:$e},max:{x:ut,y:mt},isValid:!1});return}ie===0&&p.push({cid:se,type:"prevSibling",parentCid:getParentOrder(se),min:{x:Se,y:$e},max:{x:ut,y:pt},isValid:!0}),ie===te-1&&p.push({cid:se,type:"nextSibling",parentCid:getParentOrder(se),min:{x:Se,y:mt},max:{x:ut,y:s.height},isValid:!0});var Ht=MAX_ANNOTATE_DEPTH,Vt=ge+B<=Ht,Vr=ge-1+B<=Ht;if(De.children.length>0){var $r=De.children[0].order;p.push({cid:$r,type:"prevSibling",parentCid:se,min:{x:Se,y:It},max:{x:ut,y:mt},isValid:Vt})}else{var sn=Ya(getParentOrder(se),t),ln=oh(se,t)&&sn;if(ln){p.push({cid:se,type:"nextSibling",parentCid:getParentOrder(se),min:{x:h[se].contentRect.left,y:It},max:{x:ut,y:mt},isValid:Vr});for(var Tr=De,Kr=null;Tr&&oh(Tr.order,t)&&(Kr=Ya(getParentOrder(Tr.data.order),t));){var na,aa=Sl(Kr.order)-1+B<=4;p.push({cid:Kr.order,type:"nextSibling",parentCid:getParentOrder((na=Kr.data)==null?void 0:na.order),min:{x:h[Kr.order].contentRect.left,y:It},max:{x:h[Tr.order].contentRect.left,y:mt},isValid:aa}),Tr=Kr}}else p.push({cid:se,type:"nextSibling",parentCid:getParentOrder(se),min:{x:Se,y:It},max:{x:ut,y:mt},isValid:Vr})}p.push({cid:se,type:"firstChild",parentCid:se,min:{x:Se,y:$e},max:{x:ut,y:It},isValid:Vt})}),{matchDataList:p,containerRect:s,rectQueryMap:h}},pT=function i(n,t,r,e){var o=t(n,r,e);n.children.forEach(function(s,l){i(s,t,o,l)})},$E=function i(n,t,r){var e=t(n,r);e&&n.children.forEach(function(o){i(o,t,e)})},zE=function(n,t){var r=new Set;$E(n,function(h,M){var N=h.order==="root"?0:getOrderArr(h.order).length-1;if(N>t.length-1)return!1;if(M){var B=M.children[M.children.length-1],U=getCurrentPosition(B.order);r[M.order]=Math.max(U,r[h.order]||1)}return h},n);var e={};Object.entries(r).forEach(function(h){var M=_slicedToArray(h,2),N=M[0],B=M[1],U=N==="root"?0:getOrderArr(N).length;e[U]=e[U]||[],e[U].push({order:N,max:B})});for(var o=t,s=function(){var M=t.slice(0,l).join("."),N=getParentOrder(M)||"root";if(e[l-1]){var B,U=(B=e[l-1].find(function(se){var ge=se.order;return ge===N}))==null?void 0:B.max;if(U){var K=l===t.length,Q=getCurrentPosition(M),J=Q<=(K?U+1:U);if(!J){var te=N==="root"?(U+1).toString():N+"."+(U+1);return o=getOrderArr(te),"break"}}else{var re=N==="root"?"1":N+".1";return o=getOrderArr(re),"break"}}else if(l>1){var ie=N==="root"?"1":N+".1";return o=getOrderArr(ie),"break"}},l=1;l<=t.length;l++){var p=s();if(p==="break")break}return o},GE=function(n,t,r){var e=r.annotateTreeData,o=getOrderArr(n),s=zE(e,o),l=Ya(t||"root",e),p=0;preOrderTraversal(l,function(M){var N=getOrderArr(M.order).length;p=Math.max(p,N)});var h=p-getOrderArr(l.order).length+1+(s.length-1);if(h>MAX_ANNOTATE_DEPTH){MB.notice({text:I18N.AnnotatePanel.invalid_annotate_nested_level.replace(/%s/,MAX_ANNOTATE_DEPTH),type:"error"});return}return s&&s.length>0?s.join("."):null},fT=function(n,t,r){var e=r.annotateDataMap,o=r.annotateTreeMap,s={cid:"",type:null,parentCid:"",isValid:!1};if(n.startsWith(t))return s;var l=GE(n,t,r);if(l){if(l&&t.startsWith(l)){var p=getParentOrder(l);return{cid:l,type:"prevSibling",parentCid:p,isValid:!0}}var h=getParentOrder(l),M=e[h],N=o[h||"root"],B=getCurrentPosition(l);if(!N||B===1)s={cid:M==null?void 0:M.order,type:"firstChild",parentCid:M==null?void 0:M.order,isValid:!0};else{var U=getParentOrder(t),K=e[l];if(U===h&&K){var Q=getCurrentPosition(t),J=Q-B>0;s={cid:l,type:J?"prevSibling":"nextSibling",parentCid:h,isValid:!0}}else{var te=B-1;te>N.length&&(te=N.length);var re=h?h+"."+te:te.toString();if(re===t){if(te===N.length)return;s={cid:h?h+"."+(te+1):(te+1).toString(),type:"nextSibling",parentCid:M==null?void 0:M.order,isValid:!0}}else s={cid:re,type:"nextSibling",parentCid:M==null?void 0:M.order,isValid:!0}}}return s}},hT=function(n,t){return n.map(function(r){var e=getCurrentPosition(r.order),o=getAllParentOrders(r.order),s=o.find(function(M){return t[M]}),l="";if(s)l=t[s]+"."+e;else{var p=getParentOrder(r.order),h=getParentOrder(p);l=h?h+"."+e:(parseInt(p)+e-1).toString()}return l?(t[r.order]=l,_objectSpread(_objectSpread({},r),{},{order:l})):null}).filter(function(r){return r})},VE=ze.default.aside.withConfig({displayName:"styles__StyledAnnotationPanel",componentId:"sc-8trio4-0"})(["position:absolute;width:300px;height:100%;background:",";box-shadow:0 0 10px rgba(0,0,0,0.1);z-index:106;right:0;top:0;.panel-header{width:100%;height:40px;padding:0 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid ",";.panel-title{color:",";font-size:12px;font-weight:500;}}.panel-container{overflow-x:hidden;overflow-y:overlay;height:calc(100% - 40px);padding-bottom:40px;.tree-container{position:relative;}ul.annotate-children-tree{list-style:none;&:first-child{margin-bottom:420px;}}.dnd{.indicator-line{left:8px;}.indicator-circle{right:calc(100% - 8px);}.group-indicator{&::after{inset:11px 15px;border-radius:8px;}}}}&.preview{.panel-container{padding-bottom:20px;}}.border-resizer.left{right:-1px;&:hover{background-color:rgba(22,132,252,.6);}&.active{background-color:rgba(22,132,252,.6);}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_L1}),KE=ze.default.section.withConfig({displayName:"styles__StyledAnnotateEditorItem",componentId:"sc-8trio4-1"})(["background:",";padding:12px 16px;color:",";header{height:32px;display:flex;align-items:center;justify-content:space-between;padding-left:16px;padding-right:12px;background:",";border:1px solid ",";border-bottom:none;border-radius:8px 8px 0 0;.item-title{font-weight:600;font-size:12px;color:#1684fc;width:54px;display:flex;align-items:center;.child-order-container{margin-right:6px;display:flex;.child-order{display:inline-block;width:2px;height:16px;background:",";&:not(:first-child){margin-left:4px;}}}.order-input{cursor:text;&.is-editing{border-bottom:1px solid ",";textarea{background:",";color:",";font-weight:600;}}}&:hover{.order-input:not(.is-editing){border-bottom:1px solid ",";}}}.options-menu-opener{display:flex;align-items:center;&.is-open{.more{background:",";&:not(.disabled):hover{background:",";}}}&:not(.is-open):hover{.more{background:",";}}}}&:not(.isDragging):not(.active):not(:active):hover{background:",";}&.active{background:",";}&.editing{header{border-color:#1684fc;display:none;}.w-e-text-container{border-color:#1684fc;}.editorToolbar{height:32px;.w-e-toolbar{border-color:#1684fc;border-bottom:none;display:grid;}}}&.isEditingExceedOneScreen{.editorToolbar{position:fixed;z-index:10001;width:","px;top:88px;.w-e-toolbar{border-radius:0;}}.editorContent{margin-top:32px;}}&.highLight{background:",";}&.isDragging{.w-e-text-container{height:61px !important;p:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L1},function(i){return i.theme.color_background},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_background},function(i){return i.theme.color_primary_proto01},function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_background_split},function(i){return i.theme.color_background_split},function(i){return i.theme.color_background_icon_active},function(i){return i.theme.color_background_icon_hover},function(i){return i.theme.color_background_selection01},function(i){return i.width-33},function(i){return i.color_feedback_highlight_bg}),vT=ze.default.div.withConfig({displayName:"styles__StyledAnnotateEditorMoreMenu",componentId:"sc-8trio4-2"})(["span{display:flex;height:24px;padding-left:16px;color:#fff;font-size:12px;align-items:center;cursor:pointer;&:hover{background:#666;}}"]),mT=(0,ze.createGlobalStyle)(["#IBOT_DROPDOWN_MENU_ROOT{.annotate-options-menu{width:120px;background-color:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;.content{background-color:#333;margin:8px 0;padding:0;}}}"]),gT=(0,ze.createGlobalStyle)([".drag-annotate-protal{width:300px;.annotateEditorItem{background:transparent !important;opacity:0.6;.container{box-shadow:-2px 4px 8px rgba(0,0,0,0.08);header{.options-menu-opener{display:none;}}&.hasChildren{position:relative;.trailing{display:block;position:absolute;z-index:-1;width:268px;height:93px;box-shadow:-2px 4px 8px rgba(0,0,0,0.08);top:8px;left:-8px;border-radius:8px;background:",";overflow:hidden;&::after{content:'';display:block;width:100%;height:61px;margin-top:32px;background:",";border-radius:0 0 8px 8px;}}}}}}"],function(i){return i.theme.color_background},function(i){return i.theme.color_background_white}),sh=200,YE=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"setElementRef",function(l){return r.$elem=l}),(0,f.Z)((0,ae.Z)(r),"handleClick",function(l){l.stopPropagation();var p=r.props.dispatch;p({type:"reducer:toggle:annotatePanelShow"}),p({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:""}}),rr("\u5173\u95ED\u6C34\u6EF4\u6279\u6CE8\u9762\u677F")}),(0,f.Z)((0,ae.Z)(r),"handleResizeStart",function(){return r.$elem.style.transition="none"}),(0,f.Z)((0,ae.Z)(r),"handleResizeEnd",function(){return r.$elem.style.transition=""}),(0,f.Z)((0,ae.Z)(r),"handleWidthChange",function(l){var p=r.props.dispatch;p({type:"reducer:set:update:preview:annotate",payload:{annotatePanelWidth:l}})}),(0,f.Z)((0,ae.Z)(r),"handleClickCard",function(l){var p=r.props,h=p.mode,M=p.dispatch;M({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:l.cid}}),M({type:"entry:preview:zoom:annotate",payload:{widget:l,mode:h}}),rr("\u9009\u4E2D\u6C34\u6EF4\u5361\u7247")}),(0,f.Z)((0,ae.Z)(r),"getDefaultTransitionStyles",function(){var l=r.props.annotatePanelWidth;return{right:-l-8,transition:"right "+sh+"ms ease-in-out"}}),(0,f.Z)((0,ae.Z)(r),"getTransitionStyles",function(){var l=r.props.annotatePanelWidth;return{entering:{right:-l-8},entered:{right:0,borderRight:"1px solid rgba(0, 0, 0, 0.1)"},exiting:{right:-l-8}}}),(0,f.Z)((0,ae.Z)(r),"handleHover",function(l,p,h){if(l.stopPropagation(),l.preventDefault(),!!p){var M=p.bind_widget_cid,N=r.props.dispatch;M&&N({type:"reducer:set:annotateHoverCid",payload:{annotateHoverCid:h?M:null}})}}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.annotateSortList,l=o.selectCid,p=o.show,h=o.annotatePanelWidth,M=o.dispatch,N=this.getDefaultTransitionStyles(),B=this.getTransitionStyles();return(0,v.jsx)(rh.ZP,{in:p,timeout:sh,children:function(K){if(K===rh.ZP.EXITED)return null;var Q=(0,O.Z)((0,O.Z)({width:h},N),B[K]);return(0,v.jsxs)(VE,{className:st()("annotatePanel","preview"),ref:e.setElementRef,style:Q,children:[(0,v.jsxs)("header",{className:"panel-header",children:[(0,v.jsx)("span",{className:"panel-title",children:I18N.AnnotatePanel.annotatePanelTitle.replace(/%size/,s.length)}),(0,v.jsx)(Sa.Z,{name:"common/close",onClick:e.handleClick})]}),(0,v.jsx)("div",{className:"panel-container",children:s.map(function(J,te){var re=Sl(J.order||te+1)-1,ie=new Array(re).fill(1);return(0,v.jsx)(KE,{"data-cid":J.cid,className:st()("annotateEditorItem","preview",{active:J.cid===l}),onClick:function(){return e.handleClickCard(J)},onMouseEnter:function(ge){return e.handleHover(ge,J,!0)},onMouseLeave:function(ge){return e.handleHover(ge,J,!1)},children:(0,v.jsxs)("div",{className:"container",children:[(0,v.jsx)("header",{children:(0,v.jsxs)("div",{className:"item-title",children:[re!==0&&(0,v.jsx)("div",{className:"child-order-container",children:ie.map(function(se,ge){return(0,v.jsx)("span",{className:"child-order"},ge)})}),(0,v.jsx)("span",{className:"order",children:J.order||te+1})]})}),(0,v.jsx)(FE,{widget:J,dispatch:M,readOnly:!0,onCopy:function(){return rr("\u590D\u5236\u6C34\u6EF4\u6279\u6CE8\u5185\u5BB9")}})]})},J.cid)})}),p&&(0,v.jsx)(ba,{placement:"left",className:"v-resizer",value:h,min:Or.AI,max:window.innerWidth/2,onResizeStart:e.handleResizeStart,onResizeEnd:e.handleResizeEnd,onChange:e.handleWidthChange})]})}})}}]),t}(y.PureComponent),XE=(0,sr.P1)([ne.aS,ne.Ds,ne.Dx,ne.JH,ne.oD],function(i,n,t,r,e){var o=r.annotateSortList,s=r.show;return{selectCid:i,annotateSortList:o,show:s,annotatePanelWidth:e}}),bl=(0,H.connect)(function(i){return XE(i)})(YE),QE=ze.default.div.withConfig({displayName:"styles__StyledSignUpPrompt",componentId:"sc-1ewo4qr-0"})(["svg.close-btn{cursor:pointer;width:24px;height:24px;border-radius:4px;transition:background-color 0.2s ease-in-out;&:hover{background:#f2f2f2;}&:active{background:#e5e5e5;}}position:absolute;display:flex;align-items:center;flex-direction:row;left:50%;top:98px;transform:translateX(-50%);padding:16px;width:420px;height:64px;background-color:#fff;box-shadow:0 2px 10px rgba(82,94,113,0.1);border-radius:4px;pointer-events:auto;.content{display:flex;flex-direction:column;> span:first-child{font-weight:500;font-size:14px;line-height:14px;color:#333;margin-bottom:4px;}}.login-btn{cursor:pointer;&:lang(en){color:#5303AF;}}button.signup-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-left:auto;margin-right:12px;padding:8px 15px;white-space:nowrap;width:77px;height:28px;color:#fff;border-radius:4px;&:lang(en){background:#FFC401;color:#000;&:hover{border:1px solid #000;}}}svg.close-btn{bottom:36px;}svg.logo{width:62px;height:32px;margin-right:16px;}.login-btn{color:#f33;}button.signup-btn{background:linear-gradient(230.47deg,#ffa41c -0.87%,#fe4141 25.89%,#f4153e 77.87%,#ff27c3 97.94%),#e73828;}"]),lh="local_signup_prompt_close",_E=function(n){var t=n.withOffset,r=n.mode,e=function(){setTimeout(function(){return location.reload()},50),(0,gn.gn)("/workspace/me","_blank","noreferrer")},o=function(){var N="a32",B="sign_middle";MB.global.popupHelper.loginAsync({onConfirm:e,type:"signin",source:"proto-preview",entryTerm:B,entry:N}),Xn.xd.userSourceTrack(B),rr("\u767B\u5F55\uFF08\u70B9\u51FB\u6D6E\u52A8\u6761\u6309\u94AE\uFF09"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Middle-Signin")},s=function(){var N="a32",B="join_now";MB.global.popupHelper.loginAsync({onConfirm:e,type:"signup",source:"proto-preview",entryTerm:B,entry:N}),Xn.xd.userSourceTrack(B),rr("\u7ACB\u5373\u52A0\u5165\uFF08\u70B9\u51FB\u6D6E\u52A8\u6761\u7684\u6309\u94AE\uFF09"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Middle-Join now")},l=(0,Tt.RD)(lh,null,Tt.cM.Object),p=l?oe()().isAfter(l.expired):!0,h=r===xr.c6?I18N.SignUpPrompt.after_sigin_1:r===xr.nh?I18N.SignUpPrompt.after_sigin_2:r===xr.Ab?I18N.SignUpPrompt.after_sigin_3:"";return(0,v.jsx)(v.Fragment,{children:p&&(0,v.jsxs)(QE,{withOffset:t,children:[(0,v.jsx)(At.q,{className:"logo",name:ENV.IS_WONDER_SHARE?"common/mockitt-logo/new":"common/modao-logo",isColorPure:!0}),(0,v.jsxs)("div",{className:"content",children:[(0,v.jsx)("span",{children:I18N.SignUpPrompt.welcome}),(0,v.jsxs)("span",{children:[(0,v.jsx)("span",{className:"login-btn",onClick:o,children:I18N.SignUpPrompt.signin}),(0,v.jsxs)("span",{children:[" ",h]})]})]}),(0,v.jsx)("button",{className:"signup-btn",onClick:s,children:I18N.SignUpPrompt.join_now}),(0,v.jsx)(At.q,{className:"close-btn",onClick:function(N){N.currentTarget.parentElement.style.display="none";var B=oe()().add(1,"week").startOf("week").format("YYYY-MM-DD");(0,Tt.iO)(lh,{expired:B},Tt.cM.Object),rr("\u5173\u95ED\u6D6E\u52A8\u6761")},name:"common/close_sm"})]})})},ra=c(46486),yT=c(72969),ST=c(96106),JE=c(69834),qE=ze.default.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1bbydy0-0"})(["position:fixed;left:50%;max-width:480px;transform:translateX(-50%);z-index:1052;&.can-auto-close{pointer-events:none;}&.new-workspace{max-width:unset;}"]),eA=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"closeCallback",null),(0,f.Z)((0,ae.Z)(e),"handleDisappear",function(){e.setState({isShow:!1}),typeof e.closeCallback=="function"&&e.closeCallback(),e.priority=0}),e.state={isShow:!1,text:"",type:"success",showClose:!1,isReactDom:!1,CustomChildComponent:void 0},e.priority=0,e.el=document.createElement("div"),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this;document.body.appendChild(this.el),MB.notice=function(o){var s=o.text,l=o.type,p=l===void 0?"success":l,h=o.CustomChildComponent,M=h===void 0?void 0:h,N=o.duration,B=N===void 0?2e3:N,U=o.showClose,K=U===void 0?!1:U,Q=o.isReactDom,J=Q===void 0?!1:Q,te=o.closeCallback,re=te===void 0?null:te,ie=o.priority,se=ie===void 0?0:ie;e.priority>se||(clearTimeout(e.timer),e.setState({isShow:!0,text:s,type:p,showClose:K,isReactDom:J,CustomChildComponent:M}),e.timer=B&&setTimeout(e.handleDisappear,B),e.closeCallback=re,e.priority=se)},MB.closeNotice=this.handleDisappear}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.top,o;e?o=e:o=56;var s=this.state,l=s.isShow,p=s.type,h=s.text,M=s.showClose,N=s.isReactDom,B=s.CustomChildComponent;return(0,b.createPortal)((0,v.jsx)(qE,{className:st()({"can-auto-close":!M&&B===void 0,"new-workspace":p==="new-workspace"}),style:{top:o},children:(0,v.jsx)(JE.Z,{isShow:l,type:p,showClose:M,onDisappear:this.handleDisappear,isReactDom:N,text:h,CustomChildComponent:B})}),this.el)}}]),t}(y.PureComponent),tA=(0,ze.css)(["&.svg-icon-path-icon.fill{[fill]{fill:currentColor;stroke:none;}[stroke]{stroke:currentColor;fill:none;}[fill='none']{fill:none;}[fill='none'][stroke]{stroke:currentColor;}[stroke='none']{stroke:none;}[stroke='none'][fill]{fill:currentColor;}&:not([fill]),&:not([stroke]){fill:currentColor;}}"]),rA=ze.default.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-jk0psb-0"})(["&{width:100%;height:100%;display:flex;flex-direction:column;background:",";.svg-icon{",";}.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}&.full-screen{#preview_scrollBar_viewport{transition:opacity 0.5s ease-in-out;}}.download-client-tip{display:flex;justify-content:space-around;align-items:center;position:absolute;left:50%;bottom:26px;transform:translate(-50%);padding:0 12px 0 10px;height:34px;border-radius:22px;background:#fff;box-shadow:0 -2px 30px 0 rgba(39,54,78,0.11);.download-text{color:#415058;margin:0 10px;}span{color:#415058;a{color:",";}}.download-client-tip-icon{font-size:22px;color:",";}.download-client-close-icon{cursor:pointer;color:#c8cdd0;&:hover{color:#8d9ea7;}}}.marign-top-20{margin-top:20px;}&.is-offline-mode{.screen-actions .viewmode,.download-client-tip{display:none;}.event-gift{display:none;}.preview-sub-toolbar{.mode{min-width:initial;.picker{display:none;}}.param{margin-left:0;}}}&.is-uichina{header{background:transparent;.toolbar-main{order:1;flex:unset;flex-basis:240px;.toolbar-main-wrapper{display:none;flex:unset;}}.toolbar-left{flex:1;order:2;justify-content:center;.project-name{text-align:center;margin-left:0;}}.toolbar-right{order:3;}}}@media only screen and (max-width:985px){&.is-uichina{header{.toolbar-main{flex-basis:140px;padding:0;}}}}}"],function(i){return i.theme.color_background_icon_hover},tA,function(i){return i.theme.color_primary_brand01},function(i){return i.theme.color_interaction_reference_line}),xl={keys:{"ctrl+enter":{type:"entry:enter:full-screen-mode"},"command+enter":{type:"entry:enter:full-screen-mode"},esc:{type:"entry:preview:escape:key"},"ctrl+numpad_add":{type:"entry:preview:zoom-in"},"command+numpad_add":{type:"entry:preview:zoom-in"},"ctrl+=":{type:"entry:preview:zoom-in"},"ctrl++":{type:"entry:preview:zoom-in"},"command+=":{type:"entry:preview:zoom-in"},"command++":{type:"entry:preview:zoom-in"},"ctrl+numpad_subtract":{type:"entry:preview:zoom-out"},"command+numpad_subtract":{type:"entry:preview:zoom-out"},"ctrl+-":{type:"entry:preview:zoom-out"},"command+-":{type:"entry:preview:zoom-out"},"ctrl+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"ctrl+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"ctrl+[":{type:"entry:preview-setting:toggle:isMinimized"},"command+[":{type:"entry:preview-setting:toggle:isMinimized"}}},go;(function(i){function n(r,e){for(var o=(0,O.Z)({},e),s=0,l=Object.entries(r);s<l.length;s++){var p=(0,F.Z)(l[s],2),h=p[0],M=p[1];o[h]===void 0&&(o[h]=M)}return o}i.merge=n;function t(r,e){for(var o={},s=0,l=Object.entries(r);s<l.length;s++){var p=(0,F.Z)(l[s],2),h=p[0],M=p[1];o[h]=e(M)}return o}i.mapValues=t})(go||(go={}));var ch;(function(i){function n(t){for(var r={},e=0,o=Object.entries(t);e<o.length;e++){var s=(0,F.Z)(o[e],2),l=s[0],p=s[1];p.shortcut!==void 0&&p.action!==void 0&&p.system!==!0&&(r[p.shortcut]=p.action)}return r}i.toKeys=n})(ch||(ch={}));var uh=(0,y.memo)(function(i){var n=(0,y.useContext)(ra.XC),t=(0,H.useDispatch)();return(0,y.useEffect)(function(){var r=go.mapValues(i.sheet.keys,function(o){return function(){return Array.isArray(o)?o.map(function(s){return t(s)}):t(o)}}),e=(0,O.Z)((0,O.Z)({},i.sheet),{},{keys:r});return n.bind(e),function(){n.unbind(e)}}),null}),nA=(0,y.memo)(function(i){var n=(0,y.useContext)(ra.XC),t=(0,H.useDispatch)();return(0,y.useEffect)(function(){var r=go.mapValues(i.sheet.keys,function(s){return function(){return Array.isArray(s)?s.map(function(l){return t(l)}):t(s)}}),e=(0,O.Z)((0,O.Z)({},i.sheet),{},{keys:r}),o=(0,nr.Z)(n.sheetsBound);return o.forEach(function(s){return n.unbind(s)}),n.bind(e),function(){n.unbind(e),o.forEach(function(s){return n.bind(s)})}}),null}),aA=c(23666),iA=ze.default.div.withConfig({displayName:"styles__StyledSharingManager",componentId:"sc-v74t3y-0"})(["min-width:376px;height :550px;background:",";color:",";position:absolute;transform:",";top:48px;border-radius:8px;border:1px solid ",";box-shadow:",";overflow:hidden;cursor:auto;z-index:100;"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_L2},function(i){return i.isLogined?"translateX(-84%)":"translateX(-48%)"},function(i){return i.theme.color_background_split},function(i){return i.theme.shadow_5}),oA=(0,sr.P1)([ne.gh,ne.vo,ne.T4,ne.EK],function(i,n,t,r){return{theme:i,currentProject:n,isShowSharingManager:t,screenMetaList:r}});function sA(){var i=(0,H.useSelector)(function(N){return oA(N)}),n=i.theme,t=i.currentProject,r=i.isShowSharingManager,e=i.screenMetaList,o=(0,H.useDispatch)(),s=(0,y.useState)(void 0),l=(0,F.Z)(s,2),p=l[0],h=l[1],M=function(B){var U=document.elementFromPoint(B.clientX,B.clientY),K=document.querySelector("#preview-sharing-box"),Q=B.target.closest("#preview-sharing-box"),J=document.querySelector("#IBOT_MODAL_ROOT");if(!J.contains(U)&&Q===null){var te=K.contains(U);if(!te){var re=B.target.closest(".context-menu-mask");re===null&&o({type:"entry:preview:toggle:sharingManager"})}}};return(0,y.useEffect)(function(){var N=function(){o({type:"entry:preview:toggle:sharingManager"})},B=function(J){var te=J.sharings;o({type:"current:update:state",payload:{sharings:te}})},U=function(J){var te=J.whichModal;o(te==="MaxOrgSize"?{type:"previewModal:update:state",payload:{orgfullBeyondNoticeModal:{isOpen:!0,beyondType:"MaxSharingCount"}}}:{type:"previewModal:update:state",payload:{orgRightsAndInterestsModal:{isOpen:!0,type:"MaxSharingCount",project:t}}})},K=window.SharingEventEmitter;return r&&(K.on("imock:sharing:update",B),K.on("sharing:exit",N),K.on("sharing:count",U)),function(){K.off("imock:sharing:update",B),K.off("sharing:exit",N),K.off("sharing:count",U)}},[r]),(0,y.useEffect)(function(){r&&h(document.getElementById("preview-sharing-box"))},[r,p]),!p||!r?null:(0,b.createPortal)((0,v.jsxs)(iA,{isLogined:MB.user.id!==void 0,children:[(0,aA.m)({sharingProject:t,theme:n,className:"workspace",user:MB.user,screenMetaList:e}),(0,v.jsx)(Fr.Z,{target:document,onClick:function(B){return M(B)}})]}),p)}var lA=c(68235),dh=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"keyboardManager",new ra.Sm),(0,f.Z)((0,ae.Z)(r),"handleFullScreenChange",function(){ga.isFullscreen||r.props.dispatch({type:"entry:exit:fill-screen-mode"})}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){ga.on("change",this.handleFullScreenChange),(0,$a.gB)(JSON.stringify({type:$a.Kk.currentTheme,payload:{theme:this.props.theme}}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"entry:preview:clear"}),ga.off("change",this.handleFullScreenChange)}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,o=e.previewOptions,s=e.previewSetting,l=e.mode,p=e.isWonderShare,h=e.isOnPremises,M=e.user,N=o.isMobile,B=o.isEmbedV1,U=o.isHTMLZip,K=o.isUIChina,Q=o.isForum,J=o.isElectron;if(N||B){var te=s.appVeresion,re=!!te;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ul,{}),re&&(0,v.jsx)(vw,{}),(0,v.jsx)($f,{})]})}var ie=s.toolbarActiveItem,se=s.isFullScreenMode,ge=ie===xr.c6,De=ie===xr.nh,Me=!J&&!U&&De&&c0,Fe=st()("preview-app",{"is-offline-mode":U,"is-uichina":K||Q,"full-screen":se}),nt=!h&&!U&&!(M!=null&&M.id);return(0,v.jsxs)(rA,{className:Fe,onContextMenu:this.preventDefault,children:[(0,v.jsx)(nA,{sheet:xl}),(0,v.jsx)(hE,{}),se&&(0,v.jsx)(eh,{}),(0,v.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[(0,v.jsx)(Ks,{}),(0,v.jsx)(df,{}),(0,v.jsx)(Dp,{}),(0,v.jsx)(qd,{}),(0,v.jsx)(bl,{mode:Ti.previewOrShare})]}),(0,v.jsxs)("div",{className:"fixed_area",children:[nt&&(0,v.jsx)(_E,{mode:l}),(0,v.jsx)(y0,{}),ge&&!p&&(0,v.jsx)(PE,{}),(0,v.jsx)(sA,{}),(0,v.jsx)(eA,{})]}),(0,v.jsx)($f,{}),Me&&(0,v.jsx)(EE,{isWonderShare:p}),(0,v.jsx)(cl,{}),(0,v.jsx)(lA.Be,{})]})}}]),t}(y.PureComponent);(0,f.Z)(dh,"propTypes",{user:u().object,isOnPremises:u().bool,mode:u().string,theme:u().string,previewOptions:u().object,previewSetting:u().object,dispatch:u().func,isWonderShare:u().bool});var cA=(0,H.connect)(function(i){var n=(0,ne.kc)(i),t=(0,ne.GP)(i),r=(0,ne.CD)(i),e=r.isWonderShare,o=r.isOnPremises,s=(0,ne.Ds)(i),l=(0,ne.ts)(i),p=(0,ne.gh)(i);return{user:l,mode:s,theme:p,previewOptions:t,previewSetting:n,isWonderShare:e,isOnPremises:o}})(dh),ph="loading",uA=function(n,t){t===void 0&&(t="");var r=document.createElement("div");r.id=ph,document.body.insertBefore(r,document.body.firstChild),b.render((0,v.jsxs)(v.Fragment,{children:[n==="zh-CN"?(0,v.jsx)(il.Z,{isNormal:!1,className:"logo"}):(0,v.jsx)("div",{className:"logo"}),t&&(0,v.jsxs)("span",{id:"loading-text",children:[n==="zh-CN"?"\u6B63\u5728\u52A0\u8F7D":"Loading","... ",t]})]}),r)},dA=function(){var n=document.getElementById(ph);n&&(n.style.display="none")},Cl=c(24011),pA=window,Sn=pA.MB;Sn.f.inSharing=!0;var fA=function(n){var t=n.initialData,r=n.designOptions,e=n.previewOptions,o=n.popupHelper,s=n.initStoreRelated,l=n.api,p=l.requestProjectFullDataByAccessToken,h=l.requestSketchArtboardList,M=l.requestSketchArtboardById,N=l.requestSliceByArtboardId,B=l.requestSliceZipByArtboardId,U=l.checkSharingPermission,K=l.fetchProjectComment,Q=l.fetchProjectScreenCommentThreadCountMap,J=l.requestProjectShare,te=l.requestUserCommonGuidesData,re=l.updateUserCommonGuidesData,ie=l.fetchCreateCommentThread,se=l.fetchCreateComment,ge=l.fetchDeleteCommentThread,De=l.fetchDeleteComment,Me=l.updateProjectBasicsInfo,Fe=e.isMobile,nt=e.isIOSClient,ot=e.isStandAlone;Sn.config.minFS=(0,L.T_)(),(ot||nt)&&(document.documentElement.style.height="100vh");var dt=Fg(cA),fe=dt.runnerController,ue=dt.messageBucket,Se=dt.webpackInterface,$e=dt.PreviewApp;return Rv({api:{requestSketchArtboardList:h,requestSketchArtboardById:M,requestSliceByArtboardId:N,requestSliceZipByArtboardId:B,checkSharingPermission:U,fetchProjectComment:K,fetchProjectScreenCommentThreadCountMap:Q,requestUserCommonGuidesData:te,updateUserCommonGuidesData:re,fetchCreateCommentThread:ie,fetchCreateComment:se,fetchDeleteCommentThread:ge,fetchDeleteComment:De,updateProjectBasicsInfo:Me}}),Object.assign(Sn,{runnerController:fe,messageBucket:ue,webpackInterface:Se,global:{popupHelper:o,designOptions:r}}),Sn.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:e}}),{requestData:function(){var Ye=(0,d.Z)((0,a.Z)().mark(function ut(mt){var pt,It,Ht,Vt,Vr,$r,sn,ln,Tr,Kr,na,aa,Hn,Ma,An,ia,hr,ir,Cr,wr,yr,xn,jn,gi,Xa,bo,yi,xo,Qa,Co,Si,wo;return(0,a.Z)().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:return pt=mt.projectAccessToken,It=mt.projectEncryptedPassword,Ht=mt.isPasswordRequired,Vt=t.user,Vr=t.org,$r=t.preference,sn=t.MBSketchPluginDownloadURL,ln=t.canEditByCurrentUser,Tr=s(Vt&&!Fe?Vt.id:null),Kr=Tr.autoSaver,na=Tr.socketStore,aa=Tr.projectExchange,Hn=Tr.snapshotStore,Object.assign(window,{AutoSaver:Kr,ProjectExchange:aa,MBSketchPluginDownloadURL:sn}),Hn&&Object.assign(window,{SnapshotStore:Hn}),cn.next=7,na.getSocketConnectPromise();case 7:return Ma=s0(p),cn.next=10,Ma({projectAccessToken:pt,projectEncryptedPassword:It,isPasswordRequired:Ht});case 10:if(An=cn.sent,An){cn.next=13;break}return cn.abrupt("return");case 13:return ia=An.projectMeta,hr=An.screenGlueList,ir=An.screenMetaList,Cr=An.projectScreenObjectList,wr=An.projectBasic,cn.next=16,J(wr.cid,pt);case 16:return yr=cn.sent,xn=yr.projectShare,jn=ln&&(ia.is_org_project?!(wr!=null&&wr.expired):!(wr!=null&&wr.expired)||Vt.apps.length<=Vt.free_projects_count),Object.assign(Sn,{user:Vt||{},canEditByCurrentUser:jn,org:Vr||void 0,tag:wr.version,currentUserCanEdit:ln}),gi=JSON.parse(JSON.stringify(ir)),Xa=ir,bo=xn.screen_visible_switch,yi=xn.screen_visible_list,xo=hr.find(function(fa){return fa.type===ji._H.PROJECT_MAIN}),Qa=xo.cid,bo&&(Co=new Set(yi),Xa=ir.filter(function(fa){return fa.screen_glue_cid!==Qa||Co.has(fa.cid)})),cn.next=28,ProjectExchange.openProject({projectMeta:ia,screenGlueList:hr,screenMetaList:Xa,projectScreenObjectList:Cr});case 28:return Si=(0,E.K)(wr),Sn.webpackInterface.store.dispatch({type:"entry:state:init"}),dA(),document.title=(0,kn.FQ)(Si.name),wo=ir.filter(function(fa){return fa.screen_glue_cid===Qa}),Sn.webpackInterface.store.dispatch({type:"preview:originalScreenMetaList:update",payload:{originalScreenMetaList:gi}}),Sn.webpackInterface.store.dispatch({type:"preview:screenMetaList:set",payload:{screenMetaList:wo}}),Sn.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:xn}}),Sn.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:$r||{}}}),Vt&&(0,C.$b)(Vt.id),cn.abrupt("return",{projectAlike:Si,projectMeta:ia});case 39:case"end":return cn.stop()}},ut)}));function Xe(ut){return Ye.apply(this,arguments)}return Xe}(),renderPreview:function(Xe,ut,mt){var pt=(0,Kn.rt)(ut.cid).find(function(ln){return ln.type==="project-main"}),It=(0,Kn.bO)(ut.cid,pt.cid),Ht=It.find(function(ln){return ln.cid===mt})||(0,g.o)(It);if(!Ht){var Vt;return setTimeout(function(){return Vl("\u9875\u9762\u4E3A\u7A7A")},0),Sn==null||(Vt=Sn.messageBucket)==null||Vt.send("mobileLoadProjectError",{errMsg:I18N.dModule.zero_screen_err_title}),(0,v.jsx)(T.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:function(){return Hg("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}})}var Vr=new ra.Sm,$r=new URLSearchParams(location.search),sn=Fe?"preview":$r.has("inspect")?"inspect":$r.has("comment")?"comment":"preview";return setTimeout(function(){(0,$a.u0)()},1e3),(0,v.jsx)(ra.XC.Provider,{value:Vr,children:(0,v.jsx)(Cl.Z,{children:(0,v.jsx)($e,{store:Sn.webpackInterface.store,previewMode:sn,projectAlike:Xe,projectMeta:ut,screenGlue:pt,screenMeta:Ht})})})}}},fh={popupAlertModal:{isOpen:!1},loginModal:{isOpen:!1},teamSelectModal:{isOpen:!1},sharingModal:{isOpen:!1},chargeOverlay:{isOpen:!1},previewAuthModal:{isOpen:!1,isWrongPwd:!1}};function hA(i,n){i===void 0&&(i=fh);var t=n.type,r=n.payload;switch(t){case"modal:update:state":return(0,O.Z)((0,O.Z)({},i),r);case"modal:reset:state":return fh;default:return i}}var vA=(0,ze.default)(pi).withConfig({displayName:"styles__StyledPreviewAuthModal",componentId:"sc-1lojk56-0"})(["width:380px;height:240px;display:flex;flex-direction:column;border-radius:8px;align-items:center;@media (max-width:40rem){width:306px;margin:20vh auto;}span.title{margin-top:62px;color:#333;width:auto;white-space:nowrap;margin-bottom:40px;font-weight:600;font-size:18px;line-height:25px;}div.wrapper{display:flex;.input-wrapper{display:flex;flex-direction:column;input{padding-left:12px;font-size:14px;line-height:16px;width:152px;height:40px;border:1px solid #1684fc;border-radius:4px;margin-right:10px;}span{margin-top:4px;color:#ff2e4a;font-size:12px;line-height:17px;}}}button.confirm-btn{color:#fff;background-color:#1684fc;width:64px;height:40px;font-size:14px;font-weight:500;border-radius:4px;&:hover{background-color:#1169c9;}&:active{background-color:#1169c9;color:rgba(255,255,255,0.61);}}"]),mA=function(n){var t=n.onConfirm,r=n.isWrongPwd,e=(0,y.useState)(""),o=(0,F.Z)(e,2),s=o[0],l=o[1],p=function(M){M.key===ni.Fn.Enter&&t(s)};return(0,v.jsxs)(vA,{className:"preview-auth-modal",isOpen:!0,canCloseOnEsc:!1,canCloseOnClickMask:!1,canConfirmOnEnter:!1,children:[(0,v.jsx)("span",{className:"title",children:"\u8BF7\u8F93\u5165\u5BC6\u7801\u8BBF\u95EE\u9879\u76EE"}),(0,v.jsxs)("div",{className:"wrapper",children:[(0,v.jsxs)("div",{className:"input-wrapper",children:[(0,v.jsx)("input",{type:"password",onChange:function(M){return l(M.currentTarget.value)}}),r&&(0,v.jsx)("span",{className:"warning",children:"\u5BC6\u7801\u9519\u8BEF"})]}),(0,v.jsx)("button",{className:"confirm-btn",onClick:function(){return t(s)},children:"\u786E\u5B9A"})]}),(0,v.jsx)(Fr.Z,{target:document,onKeyDown:p})]})},gA=c(14974),wl=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"setComponentRef",function(l){return r.modal=l}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this;window.onmessage=(0,d.Z)((0,a.Z)().mark(function o(s){var l,p;return(0,a.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:s.data==="loginSuccess"||s.data==="registerSuccess"?(l=btoa("client=web&type=to_url&url="+location.href),p="https://accounts.wondershare.com/v3/user/oauth-client/authorize?response_type=code&redirect_uri="+location.origin+"/wondershare/callback&scope=user%20normal&state="+l+"&source=37&app_key=689b3b14b4e225a9ddadd80a5ef81ca3&product_id=8038",(0,gn.ll)(p)):s.data==="close"&&e.modal.close();case 1:case"end":return M.stop()}},o)}))}},{key:"render",value:function(){var e=this.props,o=e.isOpen,s=e.onClose,l=e.type,p="https://accounts.wondershare.com/web/"+(l==="signin"?"login":"register")+"?redirect_uri="+location.origin+"&source=37&site=mockitt.wondershare.com&mode=1";return(0,v.jsx)(gA.I,{isOpen:o,onClose:s,ref:this.setComponentRef,className:"login-modal",children:(0,v.jsx)("iframe",{src:p})})}}]),t}(y.PureComponent);(0,f.Z)(wl,"propTypes",{isOpen:u().bool,type:u().string,onClose:u().func}),(0,f.Z)(wl,"defaultProps",{type:"signin"});var yA=function(){return(0,Ea.eq)("isWonderShare")?wl:as.Z},SA=yA,hh=c(66636),bA=(0,ze.default)(hh.Z).withConfig({displayName:"styles__StyledTeamSelectModal",componentId:"sc-slosbn-0"})(["width:775px;border-radius:2px;height:448px;background-color:#fff;margin:auto;header{display:none;}.content{width:100%;height:100%;padding:0;}iframe{width:100%;height:100%;border:0;}"]),vh=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"setIframeRef",function(l){return r.$iframe=l}),(0,f.Z)((0,ae.Z)(r),"onhandleFunc",function(l){l.data==="close"?r.close():l.data.msg==="submit"&&r.onSubmit(l.data.param)}),(0,f.Z)((0,ae.Z)(r),"onSubmit",(0,d.Z)((0,a.Z)().mark(function l(p){var h,M;return(0,a.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:h=p.target,M=r.props.onConfirm,r.close(),M(h);case 4:case"end":return B.stop()}},l)}))),(0,f.Z)((0,ae.Z)(r),"close",function(){var l=r.props.onClose;l()}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var r=(0,d.Z)((0,a.Z)().mark(function o(){return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:window.addEventListener("message",this.onhandleFunc,!1);case 1:case"end":return l.stop()}},o,this)}));function e(){return r.apply(this,arguments)}return e}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onhandleFunc,!1)}},{key:"render",value:function(){var e=this.props,o=e.isOpen,s=e.projectCid,l={title:I18N.Popups.save_to,from:"workspace",projectCidList:s?[s]:[]};return(0,v.jsx)(bA,{isOpen:o,className:(0,yt.A1)(["TargetSelectingModal","select-common"]),onClose:this.close,children:(0,v.jsx)("iframe",{ref:this.setIframeRef,src:"/embed/folder_select?param="+JSON.stringify(l)})})}}]),t}(y.PureComponent);(0,f.Z)(vh,"propTypes",{onClose:u().func,onConfirm:u().func,isOpen:u().bool,projectCid:u().string});var mh,gh,yh,Sh;function yo(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var xA=ze.default.span(mh||(mh=yo(["\n  align-self: flex-start;\n  display: flex;\n  align-items: center;\n  flex-basis: 7em;\n  height: 34px;\n  .required-sign {\n    margin: 0 0.25em;\n    color: #eb5648;\n  }\n"]))),CA=ze.default.span(gh||(gh=yo(["\n  flex: 1;\n  & > .Input, .CoreInput {\n    display: block;\n    width: 100%;\n    .small{\n      margin-top: 12px;\n      margin-bottom: 12px;\n    }\n  }\n  .Textarea,\n  .CoreTextarea {\n    display: block;\n    width: 100%;\n  }\n  .CoreCheck,\n  .Radio,\n  .CoreRadio,\n  .CheckGroup,\n  .CoreCheckGroup,\n  .RadioGroup,\n  .CoreRadioGroup {\n    margin-top: calc((34px - 1.5em)/2);\n  }\n"]))),wA=ze.default.div(yh||(yh=yo(["\n  display: flex;\n  align-items: center;\n  margin: 0.5em 0;\n  min-height: 34px;\n"]))),EA=ze.default.label(Sh||(Sh=yo(["\n  display: flex;\n  align-items: center;\n  margin: 0.5em 0;\n  min-height: 34px;\n"])));function bh(i,n){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,r)}return t}function xh(i){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?bh(Object(t),!0).forEach(function(r){AA(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):bh(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function AA(i,n,t){return n=MA(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function MA(i){var n=PA(i,"string");return typeof n=="symbol"?n:String(n)}function PA(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function El(i){var n=i.name,t=i.children,r=i.isRequired;return(0,v.jsxs)(v.Fragment,{children:[n&&(0,v.jsxs)(xA,{className:"FormEntry-Key key",children:[n,r&&(0,v.jsx)("span",{className:"required-sign",children:"*"})]}),(0,v.jsx)(CA,{className:"FormEntry-Val val",children:t})]})}El.propTypes={children:u().node,name:u().any,isRequired:u().bool};function TA(i){var n=i.className,t=i.type;return(0,v.jsx)(wA,{className:(0,yt.A1)(["FormEntry",n]),type:t,children:(0,v.jsx)(El,xh({},i))})}TA.propTypes={className:u().string,type:u().string};function Ch(i){var n=i.className,t=i.type;return(0,v.jsx)(EA,{className:(0,yt.A1)(["FormEntry",n]),type:t,children:(0,v.jsx)(El,xh({},i))})}Ch.propTypes={className:u().string,type:u().string};var IA=(0,ze.default)(hh.Z).withConfig({displayName:"styles__StyledPopupHelp",componentId:"sc-sc1ghl-0"})(["&{min-width:unset;}&.is-open{z-index:1100;}&.Modal{background-color:#fff;border-radius:8px;color:#1f292e;header{font-weight:500;}@media (max-width:40rem){width:100%;}}a{&:link,&:visited{color:#eb5648;}&:hover,&:active{text-decoration:none;}}.desc{&{margin:0.25em 0;}& + .FormEntry{margin-top:1em;}}.Punctuation .Ellipsis{max-width:5em;}.desc.tertiary{margin:1em 0 0;font-size:12px;color:#8d9ea6;}.recycle{margin:0 0.25em;padding:0.4em 0.5em;border:1px solid #e5e5e5;border-radius:1px;color:#5b6b73;}.icon-recycle{font-size:1.1em;vertical-align:-0.15em;color:#eb5648;}footer{background-color:#f7f7f7;border-bottom-left-radius:8px;border-bottom-right-radius:8px;}.confirm-btn{height:32px;width:84px;border-radius:2px;background-color:#ff6161;cursor:pointer;color:#fff;font-weight:unset;}.confirm-btn:active{background-color:#ec4954;color:rgba(255,255,255,0.6);}.confirm-btn:enabled:hover{background-color:#ec4954;color:#fff;}.cancel-btn{height:32px;width:84px;border-radius:2px;cursor:pointer;color:#415058;background:#fff;border:1px solid #c8cdd0;transition:all ease-in-out 0.2s;&:enabled:hover{color:#fff;background:#8d9ea7;border-color:#7d8694;}&:active{color:#fff;background:#5b6b73;border-color:#415058;}}"]),Al=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){return(0,P.Z)(this,t),n.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isOpen,s=e.type,l=e.alertType,p=e.title,h=e.desc,M=h===void 0?p:h,N=e.isHTML,B=e.onClose,U=e.onCancel,K=U===void 0?function(){return null}:U,Q=e.onConfirm,J=e.canClose,te=e.canCancel,re=e.canConfirm,ie=e.cancelText,se=ie===void 0?I18N.dModule.cancel:ie,ge=e.confirmText,De=ge===void 0?I18N.dModule.confirm:ge,Me=function(){typeof K=="function"&&K(),B()},Fe=te?function(){K&&K(),B&&B()}:void 0,nt=re?function(){Q&&Q(),B&&B()}:void 0;return(0,v.jsxs)(IA,{isOpen:o,type:s,className:(0,Ea.eq)("isWonderShare")?"wonder-share":"",portalClassName:(0,gr.tq)()?"popup-helper-portal is-mobile":"popup-helper-portal",title:p===M||!p?I18N.dModule.reminder:p,onClose:Me,canClose:J,onCancel:Fe,onConfirm:nt,cancelText:se,confirmText:De,children:[N?(0,v.jsx)("p",{className:"desc",dangerouslySetInnerHTML:{__html:M}}):(0,v.jsx)("div",{className:"desc",children:M}),l==="prompt"&&(0,v.jsx)(Ch,{name:I18N.dModule.password,children:(0,v.jsx)(Vo,{type:"password",className:"prompt-pwd"})})]})}}]),t}(y.PureComponent);(0,f.Z)(Al,"propTypes",{isOpen:u().bool,type:u().string,alertType:u().oneOf(["confirm","alert","prompt"]),onClose:u().func,onCancel:u().func,onConfirm:u().func,canClose:u().bool,canCancel:u().bool,canConfirm:u().bool,confirmText:u().string,cancelText:u().string,title:u().string,desc:u().any,isHTML:u().bool}),(0,f.Z)(Al,"defaultProps",{type:"alert"});var wh=function(n){return encodeURIComponent(JSON.stringify(n))},bT=function(n){return JSON.parse(decodeURIComponent(n))},OA=(0,ze.default)(pi).withConfig({displayName:"styles__StyledNewOrderOverlay",componentId:"sc-1h4aqqn-0"})(["height:670px;width:1200px;border-radius:18px;iframe{width:100%;height:100%;border:none;border-radius:18px;}svg{position:absolute;width:24px;height:24px;right:14px;top:15px;cursor:pointer}"]),xT=(0,ze.createGlobalStyle)(["#IBOT_OVERLAY_ROOT{.OrderChargeOverlay{z-index:1051;height:auto;padding:0;.OverlayCloseButton{z-index:2;&:hover{color:#eb5648;}}}}"]),qr=c(7221),_t=c(35517),en=c(11230),Eh=function(n){return(0,it.EE)("/api/upper/web_v1/design/initial?project_cid="+n)},DA=function(){return(0,it.EE)("/api/web/v3/guide/guide_data")},LA=function(n){return(0,it._Z)("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:n}})},NA=function(n){return(0,it._Z)("/api/web/v3/guide/workspace_guides_2203",{guide:{workspace_guides_2203:n}})},jA=function(n,t){return(0,it.IP)("/api/upper/web_v1/basics/"+n,(0,O.Z)({},t))},RA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,it.EE)("/api/library/v3/orgs/"+t+"/library_accesses");case 2:return r=s.sent,e=r.library_accesses,s.abrupt("return",{libraryAccesses:e});case 5:case"end":return s.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),kA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,it.EE)("/api/web/v3/dashboard/orgs/dashboard_data/members?org_cid="+t);case 2:return r=s.sent,e=r.members,s.abrupt("return",e);case 5:case"end":return s.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),ZA=function(){return(0,it.EE)("/api/web/v3/configuration/design_activity")},BA=function(){return(0,it.EE)("/api/web/v3/configuration/square_topic")},FA=function(){return(0,it.EE)("/api/web/v3/configuration/workspace")},UA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r;return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=[],o.prev=1,o.next=4,(0,it.EE)("/api/web/v3/configuration/square_search_keywords");case 4:r=o.sent,r!=null&&r.keywords&&(t=r==null?void 0:r.keywords.split(/[,]/)),o.next=12;break;case 8:return o.prev=8,o.t0=o.catch(1),o.next=12,(0,_t.Vz)(o.t0);case 12:return o.abrupt("return",t);case 13:case"end":return o.stop()}},n,null,[[1,8]])}));return function(){return i.apply(this,arguments)}}(),HA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r;return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=[],o.prev=1,o.next=4,(0,it.EE)("/api/library/v4/recent_keywords");case 4:r=o.sent,r!=null&&r.keywords&&(t=r==null?void 0:r.keywords),o.next=12;break;case 8:return o.prev=8,o.t0=o.catch(1),o.next=12,(0,_t.Vz)(o.t0);case 12:return o.abrupt("return",t);case 13:case"end":return o.stop()}},n,null,[[1,8]])}));return function(){return i.apply(this,arguments)}}(),WA=function(){return(0,it._E)("/api/library/v4/recent_keywords")},$A=function(n){return(0,it.Mn)("/api/library/v4/recent_keywords",{keyword:n})},zA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r;return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=null,o.prev=1,o.next=4,(0,it.EE)("/api/library/v4/workspace_labels");case 4:r=o.sent,r!=null&&r.keywords&&(t=r==null?void 0:r.keywords),o.next=12;break;case 8:return o.prev=8,o.t0=o.catch(1),o.next=12,(0,_t.Vz)(o.t0);case 12:return o.abrupt("return",t);case 13:case"end":return o.stop()}},n,null,[[1,8]])}));return function(){return i.apply(this,arguments)}}(),GA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r;return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(0,en.p)()){o.next=4;break}return o.abrupt("return",VA());case 4:return o.prev=4,o.next=7,(0,it.EE)("/api/library/v3/project_upper/user_combo_groups");case 7:r=o.sent,o.next=15;break;case 10:return o.prev=10,o.t0=o.catch(4),o.next=14,(0,_t.Vz)(o.t0);case 14:return o.abrupt("return",{});case 15:return o.abrupt("return",{userComboGroupList:(t=r)==null?void 0:t.user_combo_groups});case 16:case"end":return o.stop()}},n,null,[[4,10]])}));return function(){return i.apply(this,arguments)}}(),VA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=MB.user.solo_org.cid,s.prev=1,s.next=4,(0,it.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+r);case 4:e=s.sent,s.next=12;break;case 7:return s.prev=7,s.t0=s.catch(1),s.next=11,(0,_t.Vz)(s.t0);case 11:return s.abrupt("return",{});case 12:return s.abrupt("return",{userComboGroupList:(t=e)==null?void 0:t.org_combo_groups});case 13:case"end":return s.stop()}},n,null,[[1,7]])}));return function(){return i.apply(this,arguments)}}(),Ah=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r;return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(0,en.p)()){o.next=4;break}return o.abrupt("return",Mh(t));case 4:return o.prev=4,o.next=7,(0,it.bX)("/api/library/v4/users/combo_groups/"+t.cid,(0,O.Z)({},t));case 7:r=o.sent,o.next=15;break;case 10:return o.prev=10,o.t0=o.catch(4),o.next=14,(0,_t.Vz)(o.t0);case 14:return o.abrupt("return",{});case 15:return o.abrupt("return",r);case 16:case"end":return o.stop()}},n,null,[[4,10]])}));return function(t){return i.apply(this,arguments)}}(),Mh=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=MB.user.solo_org.cid,s.prev=1,s.next=4,(0,it.bX)("/api/library/v4/orgs/combo_groups/"+t.cid,(0,O.Z)((0,O.Z)({},t),{},{org_cid:r}));case 4:e=s.sent,s.next=12;break;case 7:return s.prev=7,s.t0=s.catch(1),s.next=11,(0,_t.Vz)(s.t0);case 11:return s.abrupt("return",{});case 12:return s.abrupt("return",(0,O.Z)((0,O.Z)({},e),{},{user_combo_group:e.org_combo_group}));case 13:case"end":return s.stop()}},n,null,[[1,7]])}));return function(t){return i.apply(this,arguments)}}(),KA=function(n){return(0,it.IP)("/api/proto7/web_v1/screen_aligns/"+n.cid,(0,O.Z)({},n))},YA=function(n){if((0,en.p)())return XA(n);(0,it._E)("/api/library/v3/project_upper/user_combo_groups/"+n)},XA=function(n){return(0,it._E)("/api/library/v3/project_upper/org_combo_groups/"+n)},QA=function(n){(0,en.p)()?_A(n):Ah(n)},_A=function(n){return Mh(n)},JA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=t.orgCid,l.prev=1,l.next=4,(0,it.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+e);case 4:o=l.sent,l.next=12;break;case 7:return l.prev=7,l.t0=l.catch(1),l.next=11,(0,_t.Vz)(l.t0);case 11:return l.abrupt("return",{});case 12:return l.abrupt("return",{orgComboGroupList:(r=o)==null?void 0:r.org_combo_groups});case 13:case"end":return l.stop()}},n,null,[[1,7]])}));return function(t){return i.apply(this,arguments)}}(),qA=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r){var e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,it.bX)("/api/library/v4/orgs/combo_groups/"+t.cid+"?org_cid="+r,(0,O.Z)({},t));case 3:e=s.sent,s.next=11;break;case 6:return s.prev=6,s.t0=s.catch(0),s.next=10,(0,_t.Vz)(s.t0);case 10:return s.abrupt("return",{});case 11:return s.abrupt("return",e);case 12:case"end":return s.stop()}},n,null,[[0,6]])}));return function(t,r){return i.apply(this,arguments)}}(),e1=function(n){return(0,it._E)("/api/library/v3/project_upper/org_combo_groups/"+n)},t1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,it.IP)("/api/library/v3/project_upper/org_combo_groups/"+t.cid,(0,O.Z)({},t));case 2:return r=s.sent,e=r.org_combo_group,s.abrupt("return",{org_combo_group:e});case 5:case"end":return s.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),r1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r,e){var o,s,l,p;return(0,a.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return o=r.upperCid,s=r.projectMetaCid,l=e.nextUpperCid,p=e.nextProjectMetaCid,M.prev=2,M.next=5,(0,it.Gf)("/project-buffer/prototype/check-transfer/screen-glue?upperCid="+o,{projectMetaCid:s,screenGlueCidList:t,nextUpperCid:l,nextProjectMetaCid:p});case 5:M.next=11;break;case 7:return M.prev=7,M.t0=M.catch(2),M.next=11,(0,_t.Vz)(M.t0);case 11:case"end":return M.stop()}},n,null,[[2,7]])}));return function(t,r,e){return i.apply(this,arguments)}}(),n1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N;return(0,a.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return r=t.orgComboGroupCid,U.prev=1,U.next=4,(0,it.EE)("/api/library/v3/project_upper/org_combo_groups/"+r);case 4:e=U.sent,U.next=12;break;case 7:return U.prev=7,U.t0=U.catch(1),U.next=11,(0,_t.Vz)(U.t0);case 11:return U.abrupt("return",{});case 12:return o=e,s=o.project_meta,l=o.screen_glues,p=o.screen_metas,h=o.screen_aligns,M=[s],U.next=16,On({projectMetaList:M,screenMetaList:p});case 16:return N=U.sent,U.abrupt("return",{projectMeta:s,screenGlueList:l,screenMetaList:p,projectScreenObjectList:N,screenAligns:h});case 18:case"end":return U.stop()}},n,null,[[1,7]])}));return function(t){return i.apply(this,arguments)}}(),a1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N;return(0,a.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(r=t.userComboGroupCid,!(0,en.p)()){U.next=5;break}return U.abrupt("return",i1({userComboGroupCid:r}));case 5:return U.prev=5,U.next=8,(0,it.EE)("/api/library/v3/project_upper/user_combo_groups/"+r);case 8:e=U.sent,U.next=16;break;case 11:return U.prev=11,U.t0=U.catch(5),U.next=15,(0,_t.Vz)(U.t0);case 15:return U.abrupt("return",{});case 16:return o=e,s=o.project_meta,l=o.screen_glues,p=o.screen_metas,h=o.screen_aligns,M=[s],U.next=20,On({projectMetaList:M,screenMetaList:p});case 20:return N=U.sent,U.abrupt("return",{projectMeta:s,screenGlueList:l,screenMetaList:p,projectScreenObjectList:N,screenAligns:h});case 22:case"end":return U.stop()}},n,null,[[5,11]])}));return function(t){return i.apply(this,arguments)}}(),i1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B;return(0,a.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return r=t.userComboGroupCid,e=MB.user.solo_org.cid,K.prev=2,K.next=5,(0,it.EE)("/api/library/v3/project_upper/org_combo_groups/"+r+"?org_cid="+e);case 5:o=K.sent,K.next=13;break;case 8:return K.prev=8,K.t0=K.catch(2),K.next=12,(0,_t.Vz)(K.t0);case 12:return K.abrupt("return",{});case 13:return s=o,l=s.project_meta,p=s.screen_glues,h=s.screen_metas,M=s.screen_aligns,N=[l],K.next=17,On({projectMetaList:N,screenMetaList:h});case 17:return B=K.sent,K.abrupt("return",{projectMeta:l,screenGlueList:p,screenMetaList:h,projectScreenObjectList:B,screenAligns:M});case 19:case"end":return K.stop()}},n,null,[[2,8]])}));return function(t){return i.apply(this,arguments)}}(),o1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B;return(0,a.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return r=t.userLocale,e=t.projectBasicCid,K.prev=1,K.next=4,Jg({userLocale:r,projectBasicCid:e});case 4:o=K.sent,s=(0,F.Z)(o.projectMetaList,1),l=s[0],p=o.screenGlueList,h=o.screenMetaList,M=o.projectScreenObjectList,N=o.projectBasic,B=o.screenAlignList;try{h.length>=3500&&((0,w.n_)({level:"warning",message:"pb="+N.cid+" pm="+l.cid+" sg#"+p.length+" sm#"+h.length+" pso#"+M.length}),(0,w.uT)("\u7F16\u8F91\u5927\u9879\u76EE "+new Date().toISOString().slice(0,7)))}catch(Q){console.error(Q)}return K.abrupt("return",{projectMeta:l,screenGlueList:p,screenMetaList:h,projectScreenObjectList:M,projectBasic:N,screenAlignList:B});case 16:K.prev=16,K.t0=K.catch(1),MB.global.popupHelper.alertAsync({desc:I18N.dModule.project_load_failed,isHTML:!0,confirmText:I18N.dModule.confirm}).then(function(){MB.global.onBackButtonClick()}),console.warn(K.t0);try{(0,w.uT)("\u9879\u76EE\u6253\u4E0D\u5F00 "+new Date().toISOString().slice(0,7))}catch(Q){console.error(Q)}case 21:case"end":return K.stop()}},n,null,[[1,16]])}));return function(t){return i.apply(this,arguments)}}(),s1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B,U,K,Q,J,te,re,ie,se,ge,De,Me,Fe,nt,ot,dt,fe,ue,Se,$e,Ye,Xe,ut;return(0,a.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,(0,qr.Mv)(t);case 2:if(r=pt.sent,e=r.project_metas,o=r.screen_metas,s=r.screen_glues,l=r.market_template,p=r.icon_group,h=l.category,M=h===V,N=h===W,!N){pt.next=21;break}return B=p.title,U=p.source,pt.next=15,(0,it.EE)(U);case 15:return K=pt.sent,Q=Ve[B]||"svg",J=Ke(K,Q),te=J.iconGroupData,re=J.iconData,pt.abrupt("return",{marketTemplate:l,iconGroupData:te,iconData:re});case 21:if(ie=[],M){se={},o.forEach(function(It){se[It.screen_glue_cid]=It.cid}),ge=(0,Re.Z)(s);try{for(ge.s();!(De=ge.n()).done;)Me=De.value,Fe=Me.cid,nt=Me.name,ot=Me.project_meta_cid,ie.push({cid:Fe,name:nt,type:l.category,projectBasicCid:l.cid,projectMetaCid:ot,screenGlue:Me,screenMetaCid:se[Me.cid]||""})}catch(It){ge.e(It)}finally{ge.f()}}else{dt=s.find(function(It){return It.type==="project-main"}),fe=(0,Re.Z)(o);try{for(fe.s();!(ue=fe.n()).done;)Se=ue.value,$e=Se.cid,Ye=Se.name,Xe=Se.project_meta_cid,ut=Se.screen_glue_cid,dt.cid===ut&&ie.push({cid:$e,name:Ye,type:l.category,projectBasicCid:l.cid,projectMetaCid:Xe,screenGlue:dt,screenMetaCid:$e})}catch(It){fe.e(It)}finally{fe.f()}}return pt.abrupt("return",{marketTemplate:l,marketTemplateItemList:ie,projectMetaList:e,screenGlueList:s,screenMetaList:o});case 24:case"end":return pt.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),l1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r,e,o,s,l,p,h,M,N,B,U,K,Q;return(0,a.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,qr.Wk)(V);case 2:return t=te.sent,te.next=5,(0,qr.Wk)(W);case 5:return r=te.sent,te.next=8,(0,qr.Wk)(G);case 8:e=te.sent,o=t.concat(r).concat(e),s=o.filter(function(re){var ie=re.category;return[V,G].includes(ie)}),l=o.filter(function(re){var ie=re.category;return ie===W}),p=new Map,h=new Map,M=(0,Re.Z)(o);try{for(M.s();!(N=M.n()).done;)B=N.value,U=B.category,K=B.cid,Q=U===W,Q?h.set(K,B):p.set(K,B)}catch(re){M.e(re)}finally{M.f()}return te.abrupt("return",{marketTemplateList:s,iconLibraryList:l,marketTemplateListMap:p,iconLibraryListMap:h});case 17:case"end":return te.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),c1=function(n){var t=n.marketTemplateCid;return(0,it._E)("/api/web/v3/market_template/use/"+t)},u1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l;return(0,a.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=t.projectMetaList,e=t.screenGlueList,o=t.screenMetaList,h.next=3,On({projectMetaList:r,screenMetaList:o});case 3:return s=h.sent,l=Ph(r,e,o,s),h.abrupt("return",{marketTemplateDataMap:l});case 6:case"end":return h.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),d1=function(){return(0,it.EE)("/api/web/v3/icon_group/builtin_icon_group")},p1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B;return(0,a.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,qr.Mv)(t.cid);case 2:return r=K.sent,e=r.icon_group,o=e.title,s=e.source,l=r.market_template,K.next=9,(0,it.EE)(s);case 9:return p=K.sent,h=Ve[o]||"svg",M=Ke(p,h),N=M.iconGroupData,B=M.iconData,K.abrupt("return",{iconGroupData:N,iconData:B,marketTemplate:l});case 13:case"end":return K.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),Ph=function(n,t,r,e){var o={},s=(0,Re.Z)(n),l;try{for(s.s();!(l=s.n()).done;){var p=l.value;o[p.cid]={projectMeta:p,screenGlueList:[],screenMetaList:[],projectScreenObjectList:[]}}}catch(ge){s.e(ge)}finally{s.f()}var h=(0,Re.Z)(t),M;try{for(h.s();!(M=h.n()).done;){var N=M.value;o[N.project_meta_cid].screenGlueList.push(N)}}catch(ge){h.e(ge)}finally{h.f()}var B=(0,Re.Z)(r),U;try{for(B.s();!(U=B.n()).done;){var K=U.value;o[K.project_meta_cid].screenMetaList.push(K)}}catch(ge){B.e(ge)}finally{B.f()}for(var Q=0,J=Object.values(o);Q<J.length;Q++){var te=J[Q];if(te.screenMetaList.length){var re=(0,Re.Z)(te.screenMetaList),ie;try{var se=function(){var De=ie.value,Me=e.find(function(Fe){return Fe.cid===De.cid});Me&&te.projectScreenObjectList.push(Me)};for(re.s();!(ie=re.n()).done;)se()}catch(ge){re.e(ge)}finally{re.f()}}}return o},Ml=function(){return Date.now()},Th=function(n,t,r,e){return(0,it.kt)("/node-history-statistics/new_history",{action:n,project_cid:t,team_cid:r,org_cid:e,time:Ml()})},f1=function(n){var t=n.projectCid,r=n.teamCid,e=n.orgCid;Th(0,t,r,e)},Pl=null,h1=function(n){var t=n.projectCid,r=n.teamCid,e=n.orgCid;Pl&&Ml()-Pl<60*5*1e3||(Pl=Ml(),Th(1,t,r,e))},v1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r;return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(0,en.p)()){o.next=4;break}return o.abrupt("return",m1());case 4:return o.prev=4,o.next=7,(0,it.sE)("/api/library/v3/asset_data/me/asset_groups");case 7:return t=o.sent,r=t.asset_groups,o.abrupt("return",{userAssetGroupList:r});case 12:return o.prev=12,o.t0=o.catch(4),o.next=16,(0,_t.Vz)(o.t0);case 16:case"end":return o.stop()}},n,null,[[4,12]])}));return function(){return i.apply(this,arguments)}}(),m1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=MB.user.solo_org.cid,s.prev=1,s.next=4,(0,it.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+t);case 4:return r=s.sent,e=r.asset_groups,s.abrupt("return",{userAssetGroupList:e});case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,(0,_t.Vz)(s.t0);case 13:case"end":return s.stop()}},n,null,[[1,9]])}));return function(){return i.apply(this,arguments)}}(),g1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=t.orgCid,l.prev=1,l.next=4,(0,it.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+r);case 4:return e=l.sent,o=e.asset_groups,l.abrupt("return",{orgAssetGroupList:o});case 9:return l.prev=9,l.t0=l.catch(1),l.next=13,(0,_t.Vz)(l.t0);case 13:case"end":return l.stop()}},n,null,[[1,9]])}));return function(t){return i.apply(this,arguments)}}(),y1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(0,en.p)()){l.next=4;break}return l.abrupt("return",S1(t));case 4:return l.prev=4,l.next=7,(0,it.NS)("/api/library/v3/asset_data/me/search_by_url",{image_url:t});case 7:return r=l.sent,e=r.asset,o=r.user_asset,l.abrupt("return",{asset:e,user_asset:o});case 13:return l.prev=13,l.t0=l.catch(4),l.next=17,(0,_t.Vz)(l.t0);case 17:case"end":return l.stop()}},n,null,[[4,13]])}));return function(t){return i.apply(this,arguments)}}(),S1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s;return(0,a.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=MB.user.solo_org.cid,p.prev=1,p.next=4,(0,it.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:t,org_cid:r});case 4:return e=p.sent,o=e.asset,s=e.org_asset,p.abrupt("return",{asset:o,user_asset:s});case 10:return p.prev=10,p.t0=p.catch(1),p.next=14,(0,_t.Vz)(p.t0);case 14:case"end":return p.stop()}},n,null,[[1,10]])}));return function(t){return i.apply(this,arguments)}}(),b1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r){var e,o,s;return(0,a.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,(0,it.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:t,org_cid:r});case 3:return e=p.sent,o=e.asset,s=e.org_asset,p.abrupt("return",{asset:o,org_asset:s});case 9:return p.prev=9,p.t0=p.catch(0),p.next=13,(0,_t.Vz)(p.t0);case 13:case"end":return p.stop()}},n,null,[[0,9]])}));return function(t,r){return i.apply(this,arguments)}}(),x1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(0,en.p)()){s.next=4;break}return s.abrupt("return",C1(t));case 4:return s.prev=4,s.next=7,(0,it.bX)("/api/library/v4/users/asset_groups/"+t.cid,(0,O.Z)({},t));case 7:return r=s.sent,e=r.user_asset_group,s.abrupt("return",{user_asset_group:e});case 12:return s.prev=12,s.t0=s.catch(4),s.next=16,(0,_t.Vz)(s.t0);case 16:case"end":return s.stop()}},n,null,[[4,12]])}));return function(t){return i.apply(this,arguments)}}(),C1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=MB.user.solo_org.cid,l.prev=1,l.next=4,(0,it.bX)("/api/library/v4/orgs/asset_groups/"+t.cid,(0,O.Z)((0,O.Z)({},t),{},{org_cid:r}));case 4:return e=l.sent,o=e.org_asset_group,l.abrupt("return",{user_asset_group:o});case 9:return l.prev=9,l.t0=l.catch(1),l.next=13,(0,_t.Vz)(l.t0);case 13:case"end":return l.stop()}},n,null,[[1,9]])}));return function(t){return i.apply(this,arguments)}}(),w1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,it.bX)("/api/library/v4/orgs/asset_groups/"+t.cid,(0,O.Z)({},t));case 3:return r=s.sent,e=r.org_asset_group,s.abrupt("return",{org_asset_group:e});case 8:return s.prev=8,s.t0=s.catch(0),s.next=12,(0,_t.Vz)(s.t0);case 12:case"end":return s.stop()}},n,null,[[0,8]])}));return function(t){return i.apply(this,arguments)}}(),E1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,en.p)()){e.next=4;break}return e.abrupt("return",A1(t));case 4:return e.prev=4,e.next=7,(0,it.bX)("/api/library/v3/asset_data/me/assets/"+t.asset_cid,(0,O.Z)({},t));case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),e.next=14,(0,_t.Vz)(e.t0);case 14:case"end":return e.stop()}},n,null,[[4,10]])}));return function(t){return i.apply(this,arguments)}}(),A1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r;return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=MB.user.solo_org.cid,o.prev=1,o.next=4,(0,it.bX)("/api/library/v3/orgs/assets/"+t.asset_cid,(0,O.Z)((0,O.Z)({},t),{},{org_cid:r}));case 4:return o.abrupt("return",o.sent);case 7:return o.prev=7,o.t0=o.catch(1),o.next=11,(0,_t.Vz)(o.t0);case 11:case"end":return o.stop()}},n,null,[[1,7]])}));return function(t){return i.apply(this,arguments)}}(),M1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,it.bX)("/api/library/v3/orgs/assets/"+t.cid+"?org_cid="+t.org_cid,(0,O.Z)({},t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,(0,_t.Vz)(e.t0);case 10:case"end":return e.stop()}},n,null,[[0,6]])}));return function(t){return i.apply(this,arguments)}}(),P1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=t.cid,e=t.name,o=t.groupCid,!(0,en.p)()){l.next=5;break}return l.abrupt("return",T1({cid:r,name:e,groupCid:o}));case 5:return l.prev=5,l.next=8,(0,it.NS)("/api/library/v3/asset_data/me/assets",{cid:r,name:e,group_cid:o});case 8:l.next=14;break;case 10:return l.prev=10,l.t0=l.catch(5),l.next=14,(0,_t.Vz)(l.t0);case 14:case"end":return l.stop()}},n,null,[[5,10]])}));return function(t){return i.apply(this,arguments)}}(),T1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s;return(0,a.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=t.cid,e=t.name,o=t.groupCid,s=MB.user.solo_org.cid,p.prev=2,p.next=5,(0,it.NS)("/api/library/v3/orgs/assets",{cid:r,name:e,group_cid:o,org_cid:s});case 5:p.next=11;break;case 7:return p.prev=7,p.t0=p.catch(2),p.next=11,(0,_t.Vz)(p.t0);case 11:case"end":return p.stop()}},n,null,[[2,7]])}));return function(t){return i.apply(this,arguments)}}(),I1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l;return(0,a.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=t.orgCid,e=t.cid,o=t.name,s=t.groupCid,h.prev=1,h.next=4,(0,it.NS)("/api/library/v3/orgs/assets",{cid:e,org_cid:r,name:o,group_cid:s});case 4:return l=h.sent,h.abrupt("return",l==null?void 0:l.cid);case 8:return h.prev=8,h.t0=h.catch(1),h.next=12,(0,_t.Vz)(h.t0);case 12:case"end":return h.stop()}},n,null,[[1,8]])}));return function(t){return i.apply(this,arguments)}}(),O1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=t.user_asset_group_cid,e=t.org_cid,o=t.org_asset_group_cid,l.prev=1,l.abrupt("return",(0,it.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:r,org_cid:e,org_asset_group_cid:o}));case 5:return l.prev=5,l.t0=l.catch(1),l.next=9,(0,_t.Vz)(l.t0);case 9:case"end":return l.stop()}},n,null,[[1,5]])}));return function(t){return i.apply(this,arguments)}}(),D1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B,U,K;return(0,a.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return r=t.orgCid,e=r===void 0?"me":r,o=t.keyword,s=t.type,l=s===void 0?"all":s,J.next=3,(0,it.EE)("/api/library/v3/asset_data/search?org_cid="+e+"&keyword="+o+"&type="+l);case 3:return p=J.sent,h=p.assets,M=p.combos,N=p.asset_groups,B=p.combo_groups,U=p.related_asset_groups,K=p.related_combo_groups,J.abrupt("return",{assets:h.map(function(te){return(0,O.Z)({cid:te.asset_cid},te)}),combos:M,assetGroups:N,comboGroups:B,relatedAssetGroups:U,relatedComboGroups:K});case 11:case"end":return J.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),L1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(0,en.p)()){l.next=4;break}return l.abrupt("return",N1(t));case 4:return l.prev=4,l.next=7,(0,it.sE)("/api/library/v3/asset_data/me/asset_groups/"+t);case 7:return r=l.sent,e=r.user_asset_group,o=r.user_assets,l.abrupt("return",{user_asset_group:e,userAssets:o});case 13:return l.prev=13,l.t0=l.catch(4),l.next=17,(0,_t.Vz)(l.t0);case 17:case"end":return l.stop()}},n,null,[[4,13]])}));return function(t){return i.apply(this,arguments)}}(),N1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,it.sE)("/api/library/v3/orgs/asset_groups/"+t);case 3:return r=l.sent,e=r.org_asset_group,o=r.org_assets,l.abrupt("return",{user_asset_group:e,userAssets:o});case 9:return l.prev=9,l.t0=l.catch(0),l.next=13,(0,_t.Vz)(l.t0);case 13:case"end":return l.stop()}},n,null,[[0,9]])}));return function(t){return i.apply(this,arguments)}}(),j1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,it.sE)("/api/library/v3/orgs/asset_groups/"+t);case 3:return r=l.sent,e=r.org_asset_group,o=r.org_assets,l.abrupt("return",{org_asset_group:e,orgAssets:o});case 9:return l.prev=9,l.t0=l.catch(0),l.next=13,(0,_t.Vz)(l.t0);case 13:case"end":return l.stop()}},n,null,[[0,9]])}));return function(t){return i.apply(this,arguments)}}(),R1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,en.p)()){e.next=4;break}return e.abrupt("return",k1({assetCid:t}));case 4:return e.next=6,(0,it._E)("/api/library/v3/asset_data/me/assets/"+t);case 6:case"end":return e.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),k1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=t.assetCid,e=MB.user.solo_org.cid,s.next=4,(0,it._E)("/api/library/v3/orgs/assets/"+r+"?org_cid="+e);case 4:case"end":return s.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),Z1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,it._E)("/api/library/v3/orgs/assets/"+t.cid+"?org_cid="+t.org_cid);case 2:case"end":return e.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),B1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,en.p)()){e.next=4;break}return e.abrupt("return",F1(t));case 4:return e.next=6,(0,it._E)("/api/library/v3/asset_data/me/asset_groups/"+t);case 6:case"end":return e.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),F1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,it._E)("/api/library/v3/orgs/asset_groups/"+t);case 2:case"end":return e.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),U1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,it._E)("/api/library/v3/orgs/asset_groups/"+t);case 2:case"end":return e.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),H1=function(n){return(0,it.EE)("/update_web_version?next_web_version="+n)},W1=function(n){return(0,it._Z)("/preferences/update",(0,O.Z)({},n))},$1=function(n,t){return(0,en.p)()?z1(n,t):(0,it.bX)("/api/library/v4/users/combo_groups/"+n,(0,O.Z)({},t))},z1=function(n,t){return(0,it.bX)("/api/library/v4/orgs/combo_groups/"+n,(0,O.Z)({},t))},G1=function(n){return function(t,r){var e=(0,O.Z)((0,O.Z)({},r),{},{org_cid:n});return(0,it.bX)("/api/library/v4/orgs/combo_groups/"+t,(0,O.Z)({},e))}},V1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r){return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(0,en.p)()){o.next=4;break}return o.abrupt("return",K1(t,r));case 4:return o.prev=4,o.next=7,(0,it.bX)("/api/library/v4/users/asset_groups/"+t,(0,O.Z)({},r));case 7:return o.abrupt("return",o.sent);case 10:return o.prev=10,o.t0=o.catch(4),o.next=14,(0,_t.Vz)(o.t0);case 14:case"end":return o.stop()}},n,null,[[4,10]])}));return function(t,r){return i.apply(this,arguments)}}(),K1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r){var e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=MB.user.solo_org.cid,s.prev=1,s.next=4,(0,it.bX)("/api/library/v4/orgs/asset_groups/"+t,(0,O.Z)((0,O.Z)({},r),{},{org_cid:e}));case 4:return s.abrupt("return",s.sent);case 7:return s.prev=7,s.t0=s.catch(1),s.next=11,(0,_t.Vz)(s.t0);case 11:case"end":return s.stop()}},n,null,[[1,7]])}));return function(t,r){return i.apply(this,arguments)}}(),Y1=function(n){return(0,d.Z)((0,a.Z)().mark(function t(r,e){var o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,o=(0,O.Z)((0,O.Z)({},e),{},{org_cid:n}),l.next=4,(0,it.bX)("/api/library/v4/orgs/asset_groups/"+r,(0,O.Z)({},o));case 4:return l.abrupt("return",l.sent);case 7:return l.prev=7,l.t0=l.catch(0),l.next=11,(0,_t.Vz)(l.t0);case 11:case"end":return l.stop()}},t,null,[[0,7]])}))},X1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r){var e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=null,l.prev=1,l.next=4,(0,it.Gf)("/api/market_template/v4/workspace",{category:t,plabel:r});case 4:o=l.sent,o!=null&&o.market_templates&&(e=o==null?void 0:o.market_templates),l.next=12;break;case 8:return l.prev=8,l.t0=l.catch(1),l.next=12,(0,_t.Vz)(l.t0);case 12:return l.abrupt("return",e);case 13:case"end":return l.stop()}},n,null,[[1,8]])}));return function(t,r){return i.apply(this,arguments)}}(),Q1=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=null,s.prev=1,s.next=4,(0,it.Gf)("/api/market_template/v4/workspace_search",t);case 4:e=s.sent,e!=null&&e.data&&(r=e==null?void 0:e.data),s.next=12;break;case 8:return s.prev=8,s.t0=s.catch(1),s.next=12,(0,_t.Vz)(s.t0);case 12:return s.abrupt("return",r);case 13:case"end":return s.stop()}},n,null,[[1,8]])}));return function(t){return i.apply(this,arguments)}}(),CT=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,it.EE)("/api/market_template/v4/workspace/new_page_types?platform="+t));case 1:case"end":return e.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),wT=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B,U,K,Q;return(0,a.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:for(r=t.tagCid,e=t.subTagCid,o=t.platform,s=t.keyword,l={first_type_cid:r,second_type_cid:e,platform:o,query:s},p=new URLSearchParams,p=Object.assign(p,l),h=0,M=Object.entries(p);h<M.length;h++)N=(0,F.Z)(M[h],2),B=N[0],U=N[1],U?U==="default"?p.delete(B):p.set(B,U):p.delete(B);return te.prev=5,te.next=8,(0,it.EE)("/api/market_template/v4/workspace/new_page_list?"+p.toString());case 8:return K=te.sent,Q=K.market_templates,te.abrupt("return",Q);case 13:return te.prev=13,te.t0=te.catch(5),console.log(te.t0),te.abrupt("return",[]);case 17:case"end":return te.stop()}},n,null,[[5,13]])}));return function(t){return i.apply(this,arguments)}}(),ET=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e;return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,it.EE)("/api/dashboard/v5/projects/"+t);case 2:return r=s.sent,e=r.project,s.abrupt("return",e);case 5:case"end":return s.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),AT=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t,r,e,o){return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,it.Gf)("/flpak/w-migrate-proto1-screen-meta/"+r+"?mode=normal&pmCid="+t,{topScreenMetaCidList:e,screenMetaCidList:o});case 3:return l.abrupt("return",!0);case 6:return l.prev=6,l.t0=l.catch(0),l.next=10,(0,_t.Vz)(l.t0);case 10:case"end":return l.stop()}},n,null,[[0,6]])}));return function(t,r,e,o){return i.apply(this,arguments)}}(),MT=function(n){return fetchGetJSON("/api/dashboard/v5/orgs/"+n)},PT={requestProjectFullData:o1,requestUserComboGroupList:GA,requestOrgComboGroupList:JA,requestCreateUserComboGroup:Ah,requestCreateOrgComboGroup:qA,requestDeleteUserComboGroup:YA,requestUpdateUserComboGroup:QA,requestDeleteOrgComboGroup:e1,requestUpdateOrgComboGroup:t1,requestProjectTransferScreenGlue:r1,requestUserComboGroupDataFromCid:a1,requestOrgComboGroupDataFromCid:n1,requestSketchArtboardList:os,requestSketchArtboardById:ss,requestSliceByArtboardId:ls,requestSliceZipByArtboardId:cs,requestUserCommonGuidesData:DA,updateUserCommonGuidesData:LA,updateUser2203GuidesData:NA,checkSharingPermission:us,fetchProjectComment:ds,fetchProjectScreenCommentThreadCountMap:ps,requestMarketTemplateDataForLibrary:l1,requestMarketTemplateDataFromCid:s1,requestMarketTemplateItemListDataForLibrary:u1,requestMarketTemplateItemUnused:c1,fetchCreateCommentThread:fs,fetchCreateComment:hs,fetchDeleteCommentThread:vs,fetchDeleteComment:ms,updateProjectBasicsInfo:jA,getProjectAllVersions:Qv,postCreateNewVersion:_v,putUpdateVersionInfo:Jv,postCheckoutVersion:qv,getProjectOnlineCollaborators:tm,deleteVersion:em,requestProjectShare:oi.o7,updateCurrentProjectShare:oi.Of,getAllSharings:oi.UC,trackViewProject:f1,trackEditProject:h1,requestUserAssetGroupList:v1,requestOrgAssetGroupList:g1,requestMeAssetDataBySearchUrl:y1,requestOrgAssetDataBySearchUrl:b1,requestUpdateUserAssetGroup:x1,requestUpdateOrgAssetGroup:w1,requestUpdateUserAsset:E1,requestUpdateOrgAsset:M1,requestDeleteUserAsset:R1,requestDeleteOrgAsset:Z1,requestDeleteUserAssetGroup:B1,requestDeleteOrgAssetGroup:U1,requestCreateOrgAsset:I1,requestCreateUserAsset:P1,requestUserAssetGroupToOrgAssetGroup:O1,requestLibrarySearchData:D1,requestOrgMembers:kA,requestAllLibraryAccess:RA,requestDesignInitialData:Eh,requestBuiltinIconGroup:d1,collectProjectMetaDataMap:Ph,requestConfigurationData:ZA,requestConfigurationSquareTopicData:BA,requestWorkspaceConfiguration:FA,requestConfigurationHotKeyWords:UA,requestRecentKeywords:HA,requestDeleteRecentKeywords:WA,requestAddRecentKeywords:$A,requestConfigurationWorkspaceLabels:zA,requestUpdateRecentImportResources:qr.Im,requestUserAssetsDataFromCid:L1,requestOrgAssetsDataFromCid:j1,requestUserStarredList:qr.Wk,requestUserUsedResources:qr.jj,requestStarredResources:qr.kU,requestUnStarredResources:qr.ZW,requestResourcesDetailData:qr.Mv,requestRecentResourcesList:qr.pS,requestHotIcons:qr.w3,requestResourceHisotry:qr.D4,requestResourcesListForSource:qr.AY,requestIconGroupIconDataForCid:p1,requestResourcesListByCategory:qr._l,requestUpdateScreenAlign:KA,requestUpdateWebVersion:H1,requestUpdatePreference:W1,requestSortUserAssetGroup:V1,requestSortOrgAssetGroup:Y1,requestSortUserComboGroup:$1,requestSortOrgComboGroup:G1,requestFindMarketTemplates:X1,requestSearchResourcesData:Q1},Ih=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleMessage",(0,d.Z)((0,a.Z)().mark(function o(s){var l,p,h,M,N,B,U,K,Q,J,te,re,ie,se,ge;return(0,a.Z)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(Me.prev=0,s.data==="isHasOrgUnpaid"){Me.next=18;break}if(l=JSON.parse(s.data),p=l.msg,h=l.value,p!=="closeChargeModal"){Me.next=8;break}e.setState({isOpen:!1}),window.open(h),Me.next=18;break;case 8:if(p!=="chargePaymentSuccess"){Me.next=18;break}return M=MB.__store__.getState().current.rootProject.cid,Me.next=12,Eh(M);case 12:N=Me.sent,B=N.user,U=N.org,K=N.team,Q=N.orgList,J=N.user_fcg,te=N.org_fcg,re=N.space,ie=(0,en.t)({user:B,org:U}),se=ie.currentUser,ge=ie.currentOrg,Object.assign(MB,{user:se||{},currentOrg:ge}),MB.action("current:update:state",{currentOrg:ge,currentTeam:K,currentUser:se,orgList:Q,user_fcg:J,org_fcg:te,currentSpace:re}),e.setState({paid:!0});case 18:Me.next=22;break;case 20:Me.prev=20,Me.t0=Me.catch(0);case 22:case"end":return Me.stop()}},o,null,[[0,20]])}))),(0,f.Z)((0,ae.Z)(e),"onCloseEffect",function(){var o=e.props.onClose;setTimeout(function(){o()},30)}),e.state={paid:!1},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage)}},{key:"render",value:function(){var e=this.props,o=e.mode,s=e.payEntrance,l=e.orgCid,p=e.isOpen,h=e.from,M=e.productId,N=e.hours,B=e.isSelectOrg,U=e.checkoutPlace,K=e.checkoutArea,Q={mode:o,payEntrance:s,orgCid:l,from:h||"workspace",productId:M,hours:N,isSelectOrg:B,checkoutPlace:U,checkoutArea:K,initialWorkspace:l||"me"};return(0,v.jsxs)(OA,{isOpen:p,onClose:this.onCloseEffect,portalClassName:"OrderChargeOverlay",children:[(0,v.jsx)("iframe",{src:location.origin+"/embed/payment_modal?param="+wh(Q)}),(0,v.jsx)(At.q,{name:"common/close_ninth",onClick:this.onCloseEffect,isColorPure:!0})]})}}]),t}(y.PureComponent);(0,f.Z)(Ih,"propTypes",{isOpen:u().bool,mode:u().string,orgCid:u().string,onClose:u().func,payEntrance:u().string,from:u().string,productId:u().number,hours:u().string});var Oh,Dh,Lh;function Tl(i,n){return n||(n=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(n)}}))}var _1=ze.default.div(Oh||(Oh=Tl(["\n  position: relative;\n  margin: auto;\n  padding: 0 3rem;\n  transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n  .OverlayMask:not(.is-open) ~ & {\n    opacity: 0;\n    transform: translateY(-10vh);\n  }\n  .OverlayMask.is-open ~ & {\n    opacity: 1;\n    transform: none;\n    transition-delay: 0.4s;\n  }\n  h1 {\n    margin: 0.5em 0 1.5em;\n    font-size: 1.5rem;\n    font-weight: 500;\n    color: #415058;\n  }\n  footer {\n    margin-top: 4em;\n\n    button:not(:last-child) {\n      margin-right: 1em;\n    }\n  }\n"]))),J1=ze.default.div(Dh||(Dh=Tl(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(255,255,255,0.98);\n  color: #5b6b73;\n  transition: opacity 0.3s ease-in;\n  &:not(.is-open) {\n    opacity: 0;\n    pointer-events: none;\n  }\n"]))),q1=(0,ze.createGlobalStyle)(Lh||(Lh=Tl(["\n  &.OverlayPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    display: flex;\n    padding: 5rem 3rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n    &:empty {\n      display: none;\n      pointer-events: none;\n    }\n    .OverlayCloseButton {\n      position: fixed;\n      top: 1em;\n      left: 100vw;\n      transform: translateX(calc(-100% - 1em));\n      font-size: 3rem;\n      color: #dedee4;\n      opacity: 0.8;\n      transition: all 0.2s ease-out;\n      & .fore {\n        fill: #8d9ea7;\n        transition: all 0.2s ease-out;\n        transition-duration: 0.3s;\n      }\n      &:enabled:hover {\n        color: #eb5648;\n        opacity: 1;\n      }\n      &:enabled:hover .fore {\n        fill: #fff;\n        transition-duration: 0.1s;\n      }\n    }\n    .OverlayMask:not(.is-open) ~ .OverlayCloseButton {\n      opacity: 0;\n    }\n    .OverlayMask.is-open ~ .OverlayCloseButton {\n      opacity: 1;\n    }\n  }\n"])));function eM(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function Nh(i,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,jh(r.key),r)}}function tM(i,n,t){return n&&Nh(i.prototype,n),t&&Nh(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function rM(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),n&&Il(i,n)}function Il(i,n){return Il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Il(i,n)}function nM(i){var n=iM();return function(){var r=So(i),e;if(n){var o=So(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return aM(this,e)}}function aM(i,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bn(i)}function bn(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function iM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function So(i){return So=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},So(i)}function En(i,n,t){return n=jh(n),n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function jh(i){var n=oM(i,"string");return typeof n=="symbol"?n:String(n)}function oM(i,n){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}var Rh="IBOT_OVERLAY_ROOT",sM="OverlayPortal",lM=function(n){return n.stopPropagation()},kh=document.body,Ol=document.getElementById(Rh)||Object.assign(document.createElement("div"),{id:Rh});kh.contains(Ol)||kh.appendChild(Ol);var Dl=function(i){rM(t,i);var n=nM(t);function t(){var r;eM(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),En(bn(r),"state",{prevProps:r.props,isOpen:r.props.isOpen,isVisible:!1}),En(bn(r),"portal",(0,yt.Qt)(Ol,(0,yt.A1)([sM,r.props.portalClassName]))),En(bn(r),"open",function(){return r.setState({isOpen:!0})}),En(bn(r),"close",function(){return r.setState({isVisible:!1})}),En(bn(r),"didOpen",function(){var l=r.props,p=l.onOpen,h=l.onToggle;(0,yt.AZ)(bn(r)),p(),h(!0),(0,yt.ci)(!0)}),En(bn(r),"didClose",function(){var l=r.props,p=l.onClose,h=l.onToggle;p(),h(!1),setTimeout(function(){(0,yt.qE)(bn(r)),(0,yt.Je)()&&(0,yt.ci)(!1)})}),En(bn(r),"toggle",function(l){return l===void 0&&(l=!r.state.isOpen),l?r.open():r.close()}),En(bn(r),"confirm",function(){var l=r.props.onConfirm;l(),r.close()}),En(bn(r),"cancel",function(){var l=r.props.onCancel;l(),r.close()}),En(bn(r),"onTransitionEnd",function(l){var p=l.target,h=r.state.isVisible;!h&&p.matches(".OverlayMask")&&r.setState({isOpen:!1})}),r}return tM(t,[{key:"componentDidMount",value:function(){var e=this,o=this.state.isOpen;o&&setTimeout(function(){return e.setState({isVisible:!0},e.didOpen)})}},{key:"componentDidUpdate",value:function(e,o){var s=this,l=o.isOpen,p=this.state.isOpen;!l&&p?setTimeout(function(){return s.setState({isVisible:!0},s.didOpen)}):l&&!p&&this.didClose()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),this.didClose()}},{key:"render",value:function(){return this.opener}},{key:"opener",get:function(){var e=this.props,o=e.opener,s=e.openerType,l=this.state.isOpen,p=(0,b.createPortal)(this.overlay,this.portal);return s==="none"?p:s==="custom"?o?(0,v.jsxs)("span",{onClick:this.open,children:[o,p]}):p:s==="switch"?(0,v.jsx)(Of.Z,{isChecked:l,onChange:this.toggle,children:p}):(0,v.jsxs)(yn.ZP,{type:s,onClick:this.open,children:[o,p]})}},{key:"overlay",get:function(){var e=this.props,o=e.maskClassName,s=e.className,l=e.title,p=e.children,h=e.canClose,M=e.canConfirm,N=e.canCancel,B=e.onConfirm,U=e.onCancel,K=e.confirmText,Q=e.cancelText,J=this.state,te=J.isVisible,re=J.isOpen,ie=B||U;return re&&(0,v.jsxs)(y.Fragment,{children:[(0,v.jsx)(q1,{}),(0,v.jsx)(J1,{className:(0,yt.A1)(["OverlayMask",te&&"is-open",o]),onTransitionEnd:this.onTransitionEnd,onClick:lM}),h&&(0,v.jsx)(yn.ZP,{type:"text",className:"OverlayCloseButton",onClick:this.close,children:(0,v.jsx)(_n.Z,{name:"close",label:"Close the Overlay"})}),(0,v.jsxs)(_1,{className:(0,yt.A1)(["Overlay",s]),children:[l&&(0,v.jsx)("h1",{children:l}),p,ie&&(0,v.jsxs)("footer",{children:[B&&(0,v.jsx)(yn.YZ,{onClick:this.confirm,isDisabled:!M,children:K}),U&&(0,v.jsx)(yn.K5,{onClick:this.cancel,isDisabled:!N,children:Q})]})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.isOpen;if(!ai()(s,e)){var p=e.isOpen;if(ki()(p)){if(!l&&p)return{isOpen:!0,prevProps:e};if(l&&!p)return{isVisible:!1,prevProps:e}}return{prevProps:e}}return null}}]),t}(y.PureComponent);En(Dl,"propTypes",{isOpen:u().bool,openerType:u().oneOf(["primary","regular","text","switch","custom","none"]),opener:u().node,portalClassName:u().string,maskClassName:u().string,className:u().string,canClose:u().bool,canConfirm:u().bool,canCancel:u().bool,onOpen:u().func.isRequired,onClose:u().func.isRequired,onToggle:u().func.isRequired,onConfirm:u().func,onCancel:u().func,confirmText:u().string,cancelText:u().string,title:u().node,children:u().node}),En(Dl,"defaultProps",{openerType:"none",canClose:!0,onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},confirmText:"Confirm",cancelText:"Cancel"});var cM=(0,ze.default)(Dl).withConfig({displayName:"styles__StyledNewOrderOverlay4WS",componentId:"sc-1yl0r50-0"})(["width:100%;margin:0 auto;padding:0;iframe{width:100%;height:100%;border:none;}"]),uM=(0,ze.createGlobalStyle)(["#IBOT_OVERLAY_ROOT{.OrderChargeOverlay{z-index:1051;height:auto;padding:0;.OverlayCloseButton{z-index:2;&:hover{color:#4257ff;}}}}"]),Zh=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"state",{isOpen:!1}),(0,f.Z)((0,ae.Z)(r),"handleCloseModal",function(l){l.state&&l.state.target==="MeanSure"&&(r.setState({isOpen:!1}),window.history.forward())}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=this.props.isOpen;this.setState({isOpen:o}),setTimeout(function(){window.history.state&&window.history.state.target==="Final"||(window.history.pushState({target:"MeanSure",random:Math.random()},"",location.href),window.history.pushState({target:"Final",random:Math.random()},"",location.href)),window.addEventListener("popstate",function(s){return e.handleCloseModal(s)},!1)},500)}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("popstate",function(o){return e.handleCloseModal(o)},!1)}},{key:"render",value:function(){var e=this.props,o=e.mode,s=e.payEntrance,l=e.orgCid,p=e.onClose,h=e.from,M=e.productId,N=e.hours,B=this.state.isOpen,U={mode:o,payEntrance:s,orgCid:l,from:h||"workspace",productId:M,hours:N};return(0,v.jsxs)(cM,{isOpen:B,onClose:p,portalClassName:"OrderChargeOverlay",children:[(0,v.jsx)("iframe",{src:location.origin+"/embed/payment_modal?param="+wh(U)}),(0,v.jsx)(uM,{})]})}}]),t}(y.PureComponent);(0,f.Z)(Zh,"propTypes",{isOpen:u().bool,mode:u().string,orgCid:u().string,onClose:u().func,payEntrance:u().string,from:u().string,productId:u().number,hours:u().string});var dM=function(){return(0,Ea.eq)("isWonderShare")?Zh:Ih},pM=dM,fM=(0,ze.createGlobalStyle)([".popup-helper-portal{&.ModalPortal{z-index:9999;&.is-mobile{padding:unset;min-width:unset;.Modal{width:unset;}}}.wonder-share .confirm-btn{background-color:#4257ff;color:#fff;&:hover{background-color:#7584ff;}}}"]),Bh=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"handleCloseModal",function(){var l=r.props.dispatch;l({type:"modal:reset:state"})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.loginModal,s=e.popupAlertModal,l=e.teamSelectModal,p=e.chargeOverlay,h=e.previewAuthModal,M=e.dispatch,N=pM(),B=SA();return(0,v.jsxs)(y.Fragment,{children:[o.isOpen&&(0,v.jsx)(B,(0,O.Z)((0,O.Z)({},o),{},{onClose:this.handleCloseModal,dispatch:M})),l.isOpen&&(0,v.jsx)(vh,(0,O.Z)((0,O.Z)({},l),{},{onClose:this.handleCloseModal,dispatch:M})),s.isOpen&&(0,v.jsx)(Al,(0,O.Z)((0,O.Z)({},s),{},{onClose:this.handleCloseModal,dispatch:M})),p.isOpen&&(0,v.jsx)(N,(0,O.Z)((0,O.Z)({},p),{},{onClose:this.handleCloseModal,dispatch:M})),h.isOpen&&(0,v.jsx)(mA,(0,O.Z)({},h)),(0,v.jsx)(fM,{})]})}}]),t}(y.PureComponent);(0,f.Z)(Bh,"propTypes",{loginModal:u().object,popupAlertModal:u().object,teamSelectModal:u().object,sharingModal:u().object,chargeOverlay:u().object,previewAuthModal:u().object,dispatch:u().func});var hM=(0,H.connect)(function(i){return(0,O.Z)({},i)})(Bh),vM={isInNewGuide:!1,isOnPremises:!1,canUploadToSquare:!1},mM=function(n){n===void 0&&(n="POPUP-HELPER-ROOT");var t=document.createElement("div");t.id=n,document.body.appendChild(t);var r=(0,Ra.createStore)(hA);b.render((0,v.jsx)(H.Provider,{store:r,children:(0,v.jsx)(hM,{})}),t);var e=gM(r.dispatch),o=e.confirmAsync,s=e.alertAsync,l=e.alertAsyncWide,p=e.alertAsyncBlocked,h=e.promptGetPasswordAsync,M=e.loginAsync,N=e.teamSelectModalAsync,B=e.sharingAsync,U=e.chargeAsync;return{confirmAsync:o,alertAsync:s,alertAsyncWide:l,alertAsyncBlocked:p,promptGetPasswordAsync:h,loginAsync:M,teamSelectModalAsync:N,sharingAsync:B,chargeAsync:U,destroy:function(){b.unmountComponentAtNode(t),t.remove()}}},gM=function(n){var t=function(B){var U=B.title,K=B.desc,Q=B.isHTML,J=B.confirmText,te=B.cancelText,re=B.isClose;return new Promise(function(ie){return n({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:U,desc:K,isHTML:Q,type:"alert",alertType:"confirm",canClose:re!==!1,canCancel:!0,canConfirm:!0,cancelText:te,confirmText:J,onCancel:function(){return ie(!1)},onConfirm:function(){return ie(!0)}}}})})},r=function(B){var U=B.title,K=B.desc,Q=B.isHTML,J=B.confirmText;return new Promise(function(te){return n({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:U,desc:K,isHTML:Q,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:J,onConfirm:function(){return te()}}}})})},e=function(B){var U=B.title,K=B.desc,Q=B.isHTML,J=B.confirmText;return new Promise(function(te){return n({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:U,desc:K,isHTML:Q,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:J,onConfirm:function(){return te()}}}})})},o=function(B){var U=B.title,K=B.desc,Q=B.isHTML,J=B.confirmText;return new Promise(function(te){return n({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:U,desc:K,isHTML:Q,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:J,onConfirm:function(){return te()}}}})})},s=function(B,U){return new Promise(function(K){return n({type:"modal:update:state",payload:{previewAuthModal:{isOpen:B,isWrongPwd:U,onConfirm:function(J){return J&&K(J)}}}})})},l=function(B){var U=B.onCancel,K=U===void 0?hi:U,Q=B.onConfirm,J=Q===void 0?hi:Q,te=B.type,re=te===void 0?"signin":te,ie=B.source,se=B.entryTerm,ge=se===void 0?"":se,De=B.entry,Me=De===void 0?"":De;return n({type:"modal:update:state",payload:{loginModal:{source:ie,isOpen:!0,type:re,entry:Me,entryTerm:ge,onCancel:K,onConfirm:J}}})},p=function(B){var U=B.projectCid,K=U===void 0?"":U,Q=B.onCancel,J=Q===void 0?hi:Q,te=B.onConfirm,re=te===void 0?hi:te;return n({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,projectCid:K,onCancel:J,onConfirm:re}}})},h=function(B){var U=B.project,K=B.theme,Q=B.isGuestMode,J=B.screenMetaList,te=J===void 0?[]:J,re=B.onUpdateProject,ie=re===void 0?hi:re,se=B.extraInfo,ge=se===void 0?vM:se,De=B.screenMetaCidToVisit,Me=B.user;return n({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:U,theme:K,extraInfo:ge,isGuestMode:Q,screenMetaList:te,onUpdateProject:ie,screenMetaCidToVisit:De,user:Me}}})},M=function(B){return n({type:"modal:update:state",payload:{chargeOverlay:(0,O.Z)({isOpen:!0},B)}})};return{confirmAsync:t,alertAsync:r,alertAsyncWide:e,alertAsyncBlocked:o,promptGetPasswordAsync:s,loginAsync:l,teamSelectModalAsync:p,sharingAsync:h,chargeAsync:M}},hi=function(){},yM=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B,U,K,Q,J,te,re,ie,se,ge,De,Me,Fe,nt;return(0,a.Z)().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return r=t.initialData,e=t.previewOptions,o=t.api,s=t.initStoreRelated,l=t.projectAccessToken,p=t.projectEncryptedPassword,h=t.isPasswordRequired,M=t.$root,N={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!r.is_on_premises,isWonderShare:!!r.is_wonder_share},B=fA({api:o,initialData:r,popupHelper:mM(),previewOptions:e,designOptions:N,initStoreRelated:s}),U=B.requestData,K=B.renderPreview,Q=performance.now(),h&&setTimeout(function(){return Vl("\u5BC6\u7801\u67E5\u770B-\u9700\u8F93\u5165\u5BC6\u7801")},0),dt.next=7,U({projectAccessToken:l,projectEncryptedPassword:p,isPasswordRequired:h});case 7:J=dt.sent,te=J.projectAlike,re=J.projectMeta,ie=performance.now(),se=Math.ceil((ie-Q)/1e3);try{Xn.xd.trackViewSharing({project_type:"\u539F\u578B",load_time:se,project_name:te.name,project_cid:te.cid,view_by:(0,Li.QS)(),sign_in_out:(ge=MB)!=null&&(De=ge.user)!=null&&De.id?1:0,view_permission:MB.canEditByCurrentUser?"\u53EF\u7F16\u8F91":"\u4EC5\u67E5\u770B",my_project:((Me=((te==null?void 0:te.permissions)||[]).find(function(fe){var ue,Se;return fe.user_id===((ue=MB)==null||(Se=ue.user)==null?void 0:Se.id)}))==null?void 0:Me.role)==="project_owner"?1:0})}catch(fe){(0,w.Tb)(fe)}Fe=location.hash||"",nt=Fe&&Fe.startsWith("#screen=")&&Fe.substr(8),b.render(K(te,re,nt),M);case 16:case"end":return dt.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),SM=c(17402),bM=c(54347),Aa="hzv3",xM="pid",Fh="pbj",CM="psol",Uh="psv2am";function Nn(){"use strict";Nn=function(){return i};var i={},n=Object.prototype,t=n.hasOwnProperty,r=Object.defineProperty||function(fe,ue,Se){fe[ue]=Se.value},e=typeof Symbol=="function"?Symbol:{},o=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",l=e.toStringTag||"@@toStringTag";function p(fe,ue,Se){return Object.defineProperty(fe,ue,{value:Se,enumerable:!0,configurable:!0,writable:!0}),fe[ue]}try{p({},"")}catch(fe){p=function(Se,$e,Ye){return Se[$e]=Ye}}function h(fe,ue,Se,$e){var Ye=ue&&ue.prototype instanceof B?ue:B,Xe=Object.create(Ye.prototype),ut=new nt($e||[]);return r(Xe,"_invoke",{value:ge(fe,Se,ut)}),Xe}function M(fe,ue,Se){try{return{type:"normal",arg:fe.call(ue,Se)}}catch($e){return{type:"throw",arg:$e}}}i.wrap=h;var N={};function B(){}function U(){}function K(){}var Q={};p(Q,o,function(){return this});var J=Object.getPrototypeOf,te=J&&J(J(ot([])));te&&te!==n&&t.call(te,o)&&(Q=te);var re=K.prototype=B.prototype=Object.create(Q);function ie(fe){["next","throw","return"].forEach(function(ue){p(fe,ue,function(Se){return this._invoke(ue,Se)})})}function se(fe,ue){function Se(Ye,Xe,ut,mt){var pt=M(fe[Ye],fe,Xe);if(pt.type!=="throw"){var It=pt.arg,Ht=It.value;return Ht&&typeof Ht=="object"&&t.call(Ht,"__await")?ue.resolve(Ht.__await).then(function(Vt){Se("next",Vt,ut,mt)},function(Vt){Se("throw",Vt,ut,mt)}):ue.resolve(Ht).then(function(Vt){It.value=Vt,ut(It)},function(Vt){return Se("throw",Vt,ut,mt)})}mt(pt.arg)}var $e;r(this,"_invoke",{value:function(Xe,ut){function mt(){return new ue(function(pt,It){Se(Xe,ut,pt,It)})}return $e=$e?$e.then(mt,mt):mt()}})}function ge(fe,ue,Se){var $e="suspendedStart";return function(Ye,Xe){if($e==="executing")throw new Error("Generator is already running");if($e==="completed"){if(Ye==="throw")throw Xe;return dt()}for(Se.method=Ye,Se.arg=Xe;;){var ut=Se.delegate;if(ut){var mt=De(ut,Se);if(mt){if(mt===N)continue;return mt}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if($e==="suspendedStart")throw $e="completed",Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);$e="executing";var pt=M(fe,ue,Se);if(pt.type==="normal"){if($e=Se.done?"completed":"suspendedYield",pt.arg===N)continue;return{value:pt.arg,done:Se.done}}pt.type==="throw"&&($e="completed",Se.method="throw",Se.arg=pt.arg)}}}function De(fe,ue){var Se=ue.method,$e=fe.iterator[Se];if($e===void 0)return ue.delegate=null,Se==="throw"&&fe.iterator.return&&(ue.method="return",ue.arg=void 0,De(fe,ue),ue.method==="throw")||Se!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),N;var Ye=M($e,fe.iterator,ue.arg);if(Ye.type==="throw")return ue.method="throw",ue.arg=Ye.arg,ue.delegate=null,N;var Xe=Ye.arg;return Xe?Xe.done?(ue[fe.resultName]=Xe.value,ue.next=fe.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=void 0),ue.delegate=null,N):Xe:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,N)}function Me(fe){var ue={tryLoc:fe[0]};1 in fe&&(ue.catchLoc=fe[1]),2 in fe&&(ue.finallyLoc=fe[2],ue.afterLoc=fe[3]),this.tryEntries.push(ue)}function Fe(fe){var ue=fe.completion||{};ue.type="normal",delete ue.arg,fe.completion=ue}function nt(fe){this.tryEntries=[{tryLoc:"root"}],fe.forEach(Me,this),this.reset(!0)}function ot(fe){if(fe){var ue=fe[o];if(ue)return ue.call(fe);if(typeof fe.next=="function")return fe;if(!isNaN(fe.length)){var Se=-1,$e=function Ye(){for(;++Se<fe.length;)if(t.call(fe,Se))return Ye.value=fe[Se],Ye.done=!1,Ye;return Ye.value=void 0,Ye.done=!0,Ye};return $e.next=$e}}return{next:dt}}function dt(){return{value:void 0,done:!0}}return U.prototype=K,r(re,"constructor",{value:K,configurable:!0}),r(K,"constructor",{value:U,configurable:!0}),U.displayName=p(K,l,"GeneratorFunction"),i.isGeneratorFunction=function(fe){var ue=typeof fe=="function"&&fe.constructor;return!!ue&&(ue===U||(ue.displayName||ue.name)==="GeneratorFunction")},i.mark=function(fe){return Object.setPrototypeOf?Object.setPrototypeOf(fe,K):(fe.__proto__=K,p(fe,l,"GeneratorFunction")),fe.prototype=Object.create(re),fe},i.awrap=function(fe){return{__await:fe}},ie(se.prototype),p(se.prototype,s,function(){return this}),i.AsyncIterator=se,i.async=function(fe,ue,Se,$e,Ye){Ye===void 0&&(Ye=Promise);var Xe=new se(h(fe,ue,Se,$e),Ye);return i.isGeneratorFunction(ue)?Xe:Xe.next().then(function(ut){return ut.done?ut.value:Xe.next()})},ie(re),p(re,l,"Generator"),p(re,o,function(){return this}),p(re,"toString",function(){return"[object Generator]"}),i.keys=function(fe){var ue=Object(fe),Se=[];for(var $e in ue)Se.push($e);return Se.reverse(),function Ye(){for(;Se.length;){var Xe=Se.pop();if(Xe in ue)return Ye.value=Xe,Ye.done=!1,Ye}return Ye.done=!0,Ye}},i.values=ot,nt.prototype={constructor:nt,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Fe),!ue)for(var Se in this)Se.charAt(0)==="t"&&t.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=void 0)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var Se=this;function $e(It,Ht){return ut.type="throw",ut.arg=ue,Se.next=It,Ht&&(Se.method="next",Se.arg=void 0),!!Ht}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Xe=this.tryEntries[Ye],ut=Xe.completion;if(Xe.tryLoc==="root")return $e("end");if(Xe.tryLoc<=this.prev){var mt=t.call(Xe,"catchLoc"),pt=t.call(Xe,"finallyLoc");if(mt&&pt){if(this.prev<Xe.catchLoc)return $e(Xe.catchLoc,!0);if(this.prev<Xe.finallyLoc)return $e(Xe.finallyLoc)}else if(mt){if(this.prev<Xe.catchLoc)return $e(Xe.catchLoc,!0)}else{if(!pt)throw new Error("try statement without catch or finally");if(this.prev<Xe.finallyLoc)return $e(Xe.finallyLoc)}}}},abrupt:function(ue,Se){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var Ye=this.tryEntries[$e];if(Ye.tryLoc<=this.prev&&t.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var Xe=Ye;break}}Xe&&(ue==="break"||ue==="continue")&&Xe.tryLoc<=Se&&Se<=Xe.finallyLoc&&(Xe=null);var ut=Xe?Xe.completion:{};return ut.type=ue,ut.arg=Se,Xe?(this.method="next",this.next=Xe.finallyLoc,N):this.complete(ut)},complete:function(ue,Se){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&Se&&(this.next=Se),N},finish:function(ue){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var $e=this.tryEntries[Se];if($e.finallyLoc===ue)return this.complete($e.completion,$e.afterLoc),Fe($e),N}},catch:function(ue){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var $e=this.tryEntries[Se];if($e.tryLoc===ue){var Ye=$e.completion;if(Ye.type==="throw"){var Xe=Ye.arg;Fe($e)}return Xe}}throw new Error("illegal catch attempt")},delegateYield:function(ue,Se,$e){return this.delegate={iterator:ot(ue),resultName:Se,nextLoc:$e},this.method==="next"&&(this.arg=void 0),N}},i}function Hh(i,n,t,r,e,o,s){try{var l=i[o](s),p=l.value}catch(h){t(h);return}l.done?n(p):Promise.resolve(p).then(r,e)}function vi(i){return function(){var n=this,t=arguments;return new Promise(function(r,e){var o=i.apply(n,t);function s(p){Hh(o,r,e,s,l,"next",p)}function l(p){Hh(o,r,e,s,l,"throw",p)}s(void 0)})}}var TT=function(){return isBasicObject(window[TAG_HTML_ZIP_V3])},mi=function(){return(0,bM.hK)(window[Aa],"missing htmlZipV3 data")},wM=function(){var i=vi(Nn().mark(function n(){return Nn().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return mi(),r.abrupt("return",window[Aa][xM]);case 2:case"end":return r.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),EM=function(){var i=vi(Nn().mark(function n(){var t,r,e,o,s,l,p;return Nn().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return mi(),t=window[Aa][Fh],r=t.project_basic,e=t.screen_aligns,o=t.project_metas,s=t.screen_glues,l=t.screen_metas,p=window[Aa][CM],M.abrupt("return",{projectBasic:r,screenAlignList:e,projectMetaList:o,screenGlueList:s,screenMetaList:l,projectScreenObjectList:p});case 4:case"end":return M.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),AM=function(){var i=vi(Nn().mark(function n(){return Nn().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return mi(),r.abrupt("return",{artboards:Object.values(window[Aa][Uh]).map(function(e){var o=e.artboard;return o})});case 2:case"end":return r.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),MM=function(){var i=vi(Nn().mark(function n(t){return Nn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return mi(),e.abrupt("return",window[Aa][Uh][t]);case 2:case"end":return e.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),PM=function(){var i=vi(Nn().mark(function n(){var t;return Nn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return mi(),t=window[Aa][Fh].project_share,e.abrupt("return",{projectShare:t});case 3:case"end":return e.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),TM=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o,s,l,p,h,M,N,B;return(0,a.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return r=t.projectEncryptedPassword,K.next=3,EM();case 3:if(e=K.sent,o=(0,F.Z)(e.projectMetaList,1),s=o[0],l=e.screenGlueList,p=e.screenMetaList,h=e.projectScreenObjectList,M=e.projectBasic,N=e.screenAlignList,B=M.password,!(B&&r!==B)){K.next=14;break}throw new Error("error password");case 14:return K.abrupt("return",{projectMeta:s,screenGlueList:l,screenMetaList:p,projectScreenObjectList:h,projectBasic:M,screenAlignList:N});case 15:case"end":return K.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),IM=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(t){var r,e,o;return(0,a.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,PM(t);case 2:return r=l.sent,e=r.projectShare,o=(0,O.Z)((0,O.Z)({},e),{},{screen_visible_switch:!1,screen_visible_list:[]}),l.abrupt("return",{projectShare:o});case 6:case"end":return l.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),Wh={requestPreviewInitialData:wM,requestProjectFullDataByAccessToken:TM,requestSketchArtboardList:AM,requestSketchArtboardById:MM,requestProjectShare:IM},OM=ze.default.div.withConfig({displayName:"styles__StyledAppContainer",componentId:"sc-8844k3-0"})(["flex:1;overflow:hidden;position:relative;.app-placeholder{position:relative;min-width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;.app-content{background:black;&.hide-back{background:inherit;}}&.wait-drag{cursor:grab;}}"]),DM=ze.default.div.withConfig({displayName:"style__StyledSquareOptionList",componentId:"sc-grea7k-0"})(["position:absolute;left:16px;top:16px;.option-list-wrapper{background:#fff;box-shadow:0 2px 6px rgba(39,54,78,0.08);border-radius:2px;pointer-events:auto;width:32px;height:36px;overflow-y:hidden;&.isExpand{height:100%;overflow:unset;}&.shell-wrapper{margin:16px 0 0 0;.svg-icon{width:24px;height:24px;}}}.nav{border-radius:0 0 2px 2px;&:hover{border:2px solid rgb(22,132,252);}.svg-icon{width:24px;height:24px;}& > .svg-icon path{fill:#fff;}}.expand-btn{display:flex;justify-content:center;width:32px;height:20px;margin:4px 0 0 0;background:#fff;box-shadow:0 2px 6px rgba(39,54,78,0.08);border-radius:4px;cursor:pointer;.svg-icon{transition:all 0.2s ease-in-out;&.isExpand{transform:rotate(-180deg);}}}.command-wrapper{height:36px;display:flex;justify-content:center;align-items:center;cursor:pointer;&:first-child{border-radius:2px 2px 0 0;}&:hover{background:#e8e8e8;}&.active{background:#1684fc;.svg-icon path{fill:#fff !important;}}}.wrapper-top{margin-bottom:8px;border-radius:2px;background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);}.locate{width:12px;height:16px;}.rotate{width:16px;height:16px;}.link{width:11px;height:16px;}.sticky-icon{width:14px;height:16px;}"],function(i){return i.theme.color_background_white}),LM=DM,$h=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"state",{isExpand:!1}),(0,f.Z)((0,ae.Z)(r),"handleToggleHighlight",function(){var l=r.props,p=l.isHighlight,h=l.isEmbedV2,M=p?"\u9AD8\u4EAE\u663E\u793A\u5173":"\u9AD8\u4EAE\u663E\u793A\u5F00";r.props.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!p}}),h&&(0,C.U1)("embed_share_links_click",{operation_type:M})}),(0,f.Z)((0,ae.Z)(r),"handleToggleStatePanel",function(){var l=r.props,p=l.dispatch,h=l.isEmbedV2,M=l.isStatePanelShow;if(h){p({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!M}});var N=M?"\u72B6\u6001\u9762\u677F\u5173":"\u72B6\u6001\u9762\u677F\u5F00";(0,C.U1)("embed_share_links_click",{operation_type:N})}}),(0,f.Z)((0,ae.Z)(r),"handleToggleSticky",function(){var l=r.props,p=l.isStickyShow,h=l.isEmbedV2,M=p?"\u6279\u6CE8\u9690\u85CF":"\u6279\u6CE8\u663E\u793A";r.props.dispatch({type:"entry:preview-setting:update:is-sticky-show",payload:{isStickyShow:!p}}),r.props.dispatch({type:"reducer:toggle:annotatePanelShow"}),h&&(0,C.U1)("embed_share_links_click",{operation_type:M})}),(0,f.Z)((0,ae.Z)(r),"handleExpandList",function(){var l=r.props.isEmbedV2;r.setState({isExpand:!r.state.isExpand}),l&&(0,C.U1)("embed_share_links_click",{operation_type:"\u4E0B\u62C9\u83DC\u5355\u70B9\u51FB"})}),(0,f.Z)((0,ae.Z)(r),"handleToggleShellType",function(){var l=r.props,p=l.isShowShell,h=l.dispatch,M=!p;h({type:"entry:preview-setting:update:show:shell",payload:{isShowShell:M}})}),r}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isHighlight,s=e.isStickyShow,l=e.isStickyAvailable,p=e.dispatch,h=e.simulatorType,M=e.isShowOutsideArtboardNav,N=e.isShowShell,B=e.project,U=e.isEmbedV2,K=e.isStatePanelShow,Q=this.state.isExpand,J=h==="device";return(0,v.jsxs)(LM,{children:[U&&(0,v.jsx)(zr.Z,{content:I18N.pMainContent.statePanel,direction:"right",children:(0,v.jsx)("a",{className:st()("command-wrapper wrapper-top",{active:K}),onClick:this.handleToggleStatePanel,children:(0,v.jsx)(At.q,{name:"art_board/state",style:{fontSize:"24px"}})})}),(0,v.jsxs)("div",{className:st()("option-list-wrapper",{isExpand:Q}),children:[(0,v.jsx)(zr.Z,{content:I18N.pSquareOptionsList.highlighted,direction:"left",children:(0,v.jsx)("div",{className:st()("command-wrapper",{active:o}),onClick:this.handleToggleHighlight,children:(0,v.jsx)(At.q,{name:"square/preview/link",className:"link"})})}),l&&(0,v.jsx)(zr.Z,{content:I18N.pMainContent.sticky_visible,direction:"left",children:(0,v.jsx)("div",{className:st()("command-wrapper",{active:s}),onClick:this.handleToggleSticky,children:(0,v.jsx)(At.q,{name:"square/preview/sticky",className:"sticky-icon"})})}),(0,v.jsx)(gp,{isInspect:!1,simulatorType:h,isShowOutsideArtboardNav:M,dispatch:p,isEmbedV2:U})]}),Q&&J&&(0,v.jsx)("div",{className:"option-list-wrapper shell-wrapper",children:(0,v.jsx)(zr.Z,{content:N?""+yp(B):I18N.pMainContent.hide_border,direction:"right",children:(0,v.jsx)("div",{className:st()("command-wrapper","shell",{active:N}),onClick:this.handleToggleShellType,children:N?(0,v.jsx)(At.q,{name:"art_board/shell/open"}):(0,v.jsx)(At.q,{name:"art_board/shell/close"})})})}),(0,v.jsx)("div",{className:"expand-btn",onClick:this.handleExpandList,children:(0,v.jsx)(At.q,{name:"common/triangle-down",className:st()({isExpand:Q})})})]})}}]),t}(y.PureComponent);(0,f.Z)($h,"propTypes",{isHighlight:u().bool,isStickyShow:u().bool,simulatorType:u().string,isStickyAvailable:u().bool,isShowOutsideArtboardNav:u().bool,isShowShell:u().bool,isEmbedV2:u().bool,isStatePanelShow:u().bool,project:u().object,dispatch:u().func});var NM=(0,H.connect)(function(i){var n=i.container.previewSetting.isHighlight,t=i.container.previewSetting.isStickyShow,r=i.container.previewSetting.isStickyAvailable,e=i.container.previewSetting.simulatorType,o=i.container.previewSetting.isShowOutsideArtboardNav,s=i.container.previewSetting.isShowShell,l=i.container.current.rootProject,p=i.container.previewSetting.isStatePanelShow;return{isHighlight:n,isStickyShow:t,isStickyAvailable:r,simulatorType:e,isShowOutsideArtboardNav:o,isShowShell:s,project:l,isStatePanelShow:p}})($h),zh=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"state",{isDraggingCanvas:!1}),(0,f.Z)((0,ae.Z)(r),"setElementRef",function(l){return r.$elem=l}),(0,f.Z)((0,ae.Z)(r),"handleKeyDown",function(l){var p=r.props.dispatch,h=l.target.matches("input")||l.target.matches("textarea"),M=l.keyCode===32;M&&!h&&(l.preventDefault(),p({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))}),(0,f.Z)((0,ae.Z)(r),"handleKeyUp",function(){r.props.dispatch({type:"preview:reset:key:flags"})}),(0,f.Z)((0,ae.Z)(r),"handleWheel",function(l){var p=r.props,h=p.scale,M=p.dispatch,N=p.canvasOffset,B=N.x,U=N.y,K=r.state.isDisabled;if(!K){l.preventDefault();var Q=Math.max(-1,Math.min(l.deltaY,1));if(l.ctrlKey||l.metaKey){var J=r.$elem.getBoundingClientRect(),te=J.top,re=J.left,ie=J.right,se=J.bottom,ge=(re+ie)/2,De=(te+se)/2,Me=h<=100?h-Q*5:h-h*Q*.05,Fe=l.pageX-ge,nt=l.pageY-De;Me=Math.min(Math.max(Me,Or.vL),Or.Fv);var ot=Me/h;if(ot===1)return;var dt=Fe+ot*(B-Fe),fe=nt+ot*(U-nt),ue={x:dt,y:fe};M({type:"entry:preview:set:scale",payload:{scale:Me}}),M({type:"preview:set:canvas:offset",payload:{offset:ue}})}else M({type:"preview:set:canvas:offset",payload:{offset:{x:B-l.deltaX,y:U-l.deltaY}}})}}),(0,f.Z)((0,ae.Z)(r),"handleMouseDown",function(l){var p=r.props,h=p.isSpaceDown,M=p.previewOptions.isEmbedV2;l.button===1||l.button===2?(r.initDraggingCanvas(l),M&&(0,C.U1)("embed_share_links_click",{operation_type:"\u62D6\u52A8\u753B\u5E03"})):h&&(r.initDraggingCanvas(l),M&&(0,C.U1)("embed_share_links_click",{operation_type:"\u62D6\u52A8\u753B\u5E03"}))}),r}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.$elem.addEventListener("wheel",this.handleWheel,{passive:!1}),this.$elem.addEventListener("mousedown",this.handleMouseDown,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.$elem.removeEventListener("wheel",this.handleWheel,{passive:!1}),this.$elem.removeEventListener("mouseDown",this.handleMouseDown,{passive:!1})}},{key:"initDraggingCanvas",value:function(e){var o=this,s=e.clientX,l=e.clientY,p=this.props,h=p.canvasOffset,M=h.x,N=h.y,B=p.dispatch;this.setState({isDraggingCanvas:!0});var U=function(J){var te={x:M+(J.clientX-s),y:N+(J.clientY-l)};B({type:"preview:set:canvas:offset",payload:{offset:te}})},K=function Q(){o.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",Q)};document.addEventListener("mousemove",U),document.addEventListener("mouseup",K)}},{key:"render",value:function(){var e=this.props,o=e.scale,s=e.project,l=e.screenGlue,p=e.screen,h=e.isShowShell,M=e.simulatorType,N=e.previewOptions,B=e.isStickyShow,U=e.canvasOffset,K=e.isSpaceDown,Q=e.annotateBtnShow,J=e.zoomOptionBarRight,te=e.dispatch,re=this.state.isDraggingCanvas,ie=o/100,se=p.orientation==="landscape",ge=M==="device"&&h?(0,ka.uL)(s):"none",De=U.x,Me=U.y,Fe=(0,ka.sD)(s,ge,se,N.isSquare),nt=Fe.width,ot=Fe.height,dt={width:nt*ie,height:ot*ie,transform:"matrix(1, 0, 0, 1, "+Math.round(De)+", "+Math.round(Me)+")"},fe={transform:"scale("+ie+")",width:se?l.height:l.width,height:se?l.width:l.height},ue=N.isSquare,Se=N.isEmbedV2;M!=="device"&&(fe.height=Math.min(fe.height,p.height));var $e=(0,ao.SZ)({screenGlue:l,screen:p,project:s}),Ye=ue||Se;return(0,v.jsxs)(OM,{ref:this.setElementRef,children:[(0,v.jsx)("div",{className:st()("app-placeholder",{"wait-drag":K||re}),style:dt,children:(0,v.jsxs)("div",{className:st()("app-content",!$e&&"hide-back"),style:fe,children:[(0,v.jsx)(ul,{isShellShow:$e}),$e&&(0,v.jsx)(rl,{isHTMLZip:!1,project:s,shellType:ge,isLandscape:se}),B&&(0,v.jsx)(uf,{})]})}),Se&&(0,v.jsx)(Pp,{}),Ye&&(0,v.jsx)(NM,{isEmbedV2:Se}),Ye&&(0,v.jsx)(Tp,{isEmbedV2:Se,zoomOptionBarRight:J}),(0,v.jsx)(Ip,{isShowResetButton:!1,annotateBtnShow:Q,dispatch:te}),(0,v.jsx)(Fr.Z,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}]),t}(y.PureComponent);(0,f.Z)(zh,"propTypes",{simulatorType:u().string,scale:u().number,screen:u().object,project:u().object,screenGlue:u().object,isShowShell:u().bool,isStickyShow:u().bool,dispatch:u().func,previewOptions:u().object,canvasOffset:u().object,isSpaceDown:u().bool,annotateBtnShow:u().bool,zoomOptionBarRight:u().number});var jM=(0,H.connect)(function(i){var n=(0,ne.z7)(i),t=(0,ne.CL)(i),r=(0,ne.vo)(i),e=(0,ne.ku)(i),o=(0,ne.HR)(i),s=(0,ne.ki)(i),l=(0,ne.GP)(i),p=(0,ne.EZ)(i),h=(0,ne._L)(i),M=(0,ne.W9)(i),N=(0,ne.H9)(i),B=!(h.x===N.x&&h.y===N.y),U=(0,ne.Dx)(i),K=(0,ne.JH)(i),Q=K.annotateSortList,J=K.show,te=(0,ne.oD)(i),re=!U&&Q.length>0&&p,ie=J?te+16:16;return{scale:n,screen:t,project:r,screenGlue:e,simulatorType:o,isShowShell:s,previewOptions:l,isStickyShow:p,canvasOffset:h,isSpaceDown:M,isDisplaced:B,annotateBtnShow:re,zoomOptionBarRight:ie}})(zh),RM=184,kM=520,ZM=184,BM=c(12105),FM=ze.default.div.withConfig({displayName:"styles__StyledSquareLeftPanel",componentId:"sc-1nwb7ql-0"})(['position:relative;.screen-panel{width:100%;height:100%;display:flex;flex-direction:column;background-color:#F7F7F7;overflow:hidden;.screen-header{display:flex;padding:8px 12px;justify-content:space-between;align-items:center;background-color:#363738;.title{font-weight:900;font-size:12px;line-height:17px;color:#FFFFFF;}.toggle-icon{width:16px;color:#363738;cursor:pointer;&:hover{path{stroke:#0099FF;}}}}.screen-search{padding:8px;[type="search"]{flex:1;}input{background-color:',";border-color:",";border-radius:4px;}}.screen-count{display:flex;padding:8px;justify-content:space-between;align-items:center;.info{font-weight:700;font-size:10px;line-height:14px;color:#333333;}.expand-button{font-weight:400;font-size:10px;line-height:14px;color:#0099FF;cursor:pointer;}}.screen-list-container{flex:1;overflow-x:hidden;overflow-y:auto;.thumbnail-list{padding:10px;.thumbnail-item{width:158px;height:158px;padding:6px;border-radius:7px;box-sizing:border-box;border:3px solid transparent;cursor:pointer;&:hover{border-color:",";}&.active{border:3px solid ",";}.image-wrapper{background:url(",");width:100%;height:100%;border-radius:4px;object-fit:cover;overflow:hidden;border-width:0px;padding:0px;&:hover{border-width:0px;padding:0px;}&.active{border-width:0px;padding:0px;}img{width:100%;height:100%;object-fit:contain;}.screen-name{font-size:12px;line-height:17px;color:#1f292e;text-align:center;margin:5px 0;}}}}}}.border-resizer.right{position:absolute;right:-1px;&:hover{background-color:rgba(22,132,252,.6);}&.active{background-color:rgba(22,132,252,.6);}}"],function(i){return i.theme.color_background_white},function(i){return i.theme.color_background_white},function(i){return i.theme.color_text_disabled},function(i){return i.theme.color_primary_proto01},BM.r),UM=(0,sr.P1)([ne.Eg],function(i){return i.filter(function(n){return!(0,Ir.Vx)(n)}).length}),Gh=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(r){var e;return(0,P.Z)(this,t),e=n.call(this,r),(0,f.Z)((0,ae.Z)(e),"handleWidthChange",function(o){e.setState({screenListWidth:o})}),e.state={screenListWidth:ZM},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.screensCount,o=this.state.screenListWidth;return(0,v.jsxs)(FM,{style:{width:o},children:[(0,v.jsx)(Nu,{isHTMLZip:!1,screensCount:e,from:Jn.community}),(0,v.jsx)(ba,{placement:"right",className:"v-resizer",value:o,min:RM,max:kM,onChange:this.handleWidthChange})]})}}]),t}(y.PureComponent);(0,f.Z)(Gh,"propTypes",{screensCount:u().number});var HM=(0,H.connect)(function(i){return{screensCount:UM(i)}})(Gh),WM=ze.default.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-72l7dj-0"})(["width:100%;height:100%;display:flex;background:",";"],function(i){return i.theme.color_background_icon_hover}),Vh=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"keyboardManager",new ra.Sm),r}return(0,S.Z)(t,[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,o=e.previewOptions,s=e.previewSetting,l=o.isSquare,p=o.isEmbedV2,h=s.isFullScreenMode,M=h,N=l&&!M,B=p;return(0,v.jsx)(ra.XC.Provider,{value:this.keyboardManager,children:(0,v.jsx)(Cl.Z,{children:(0,v.jsxs)(WM,{onContextMenu:this.preventDefault,children:[M&&(0,v.jsx)(eh,{}),N&&(0,v.jsx)(HM,{}),B&&(0,v.jsx)(Ks,{}),(0,v.jsx)(jM,{}),(0,v.jsx)(bl,{mode:Ti.isEmbed}),(0,v.jsx)(uh,{sheet:xl}),(0,v.jsx)(cl,{})]})})})}}]),t}(y.PureComponent);(0,f.Z)(Vh,"propTypes",{previewOptions:u().object,previewSetting:u().object});var IT=(0,H.connect)(function(i){var n=(0,ne.kc)(i),t=(0,ne.GP)(i);return{previewOptions:t,previewSetting:n}})(Vh),$M=ze.default.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-cjiynp-0"})(["width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}"],function(i){return i.theme.color_background_icon_hover}),OT=function(i){(0,D.Z)(t,i);var n=(0,I.Z)(t);function t(){var r;(0,P.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o)),(0,f.Z)((0,ae.Z)(r),"keyboardManager",new ra.Sm),r}return(0,S.Z)(t,[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){return(0,v.jsx)(ra.XC.Provider,{value:this.keyboardManager,children:(0,v.jsx)(Cl.Z,{children:(0,v.jsxs)($M,{onContextMenu:this.preventDefault,children:[(0,v.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[(0,v.jsx)(Ks,{}),(0,v.jsx)(df,{}),(0,v.jsx)(Dp,{}),(0,v.jsx)(qd,{}),(0,v.jsx)(bl,{mode:Ti.version})]}),(0,v.jsx)(uh,{sheet:xl}),(0,v.jsx)(cl,{})]})})})}}]),t}(y.PureComponent),zM=function(n){var t=n||{},r=t.isEmbedV1,e=r===void 0?!1:r;return(0,O.Z)({isAndroid:(0,gr.Dt)(),isDesktop:!((0,gr.tq)()||e),isInApp:!1,isMultiLink:!1,isMobile:(0,gr.tq)(),isIOSClient:(0,gr.B0)(),isStandAlone:(0,gr.IF)(),isEmbedV1:e,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,gr.Md)(),isForum:(0,gr._j)(),isElectron:(0,gr.d)(),isSquare:!1,isVersionEmbedded:!1,isFeishu:(0,gr.Rv)(),isWechat:(0,gr.CL)()},n)},DT=function(n){var t=n.isMobile,r=n.isEmbedV2,e=n.isSquare,o=n.isVersionEmbedded;if(t)return AppContent;if(r||e)return SquareContainer;if(o)return VersionsPreviewContainer;throw new Error("\u9875\u9762\u52A0\u8F7D\u5931\u8D25")},GM=c(76938);c.p="./mb-workspace/";var VM=function(){var i=(0,d.Z)((0,a.Z)().mark(function n(){var t,r,e,o,s,l,p,h,M,N;return(0,a.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return t=zM({isHTMLZip:!0}),(0,gr.tq)()&&$("body").addClass("mobile"),U.next=4,Wh.requestPreviewInitialData();case 4:return r=U.sent,e=r.locale,o=r.projectName,s=r.is_on_premises,l=r.is_wonder_share,U.next=8,(0,GM.Q)(e);case 8:return p=U.sent,uA(p,o),!s&&(0,C.wb)(),(0,Ea.N_)("isOnPremises",!!s),(0,Ea.N_)("isWonderShare",!!l),h=r.projectAccessToken,M=r.projectEncryptedPassword,N=r.isPasswordRequired,U.next=16,yM({initialData:r,previewOptions:t,api:Wh,initStoreRelated:SM.U,projectAccessToken:h,projectEncryptedPassword:M,isPasswordRequired:N,$root:document.getElementById("workspace")});case 16:case"end":return U.stop()}},n)}));return function(){return i.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",(0,d.Z)((0,a.Z)().mark(function i(){return(0,a.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VM();case 2:case"end":return t.stop()}},i)})))},25797:function(ce,Z,c){"use strict";c.d(Z,{$I:function(){return L},Bh:function(){return g},EE:function(){return y},Gf:function(){return P},IP:function(){return k},Mn:function(){return C},NS:function(){return D},_E:function(){return m},_Z:function(){return f},bX:function(){return u},kt:function(){return E},sE:function(){return x},xi:function(){return A}});var a=c(91520),d=c(64555),b=c(72005),w=function(F,j){var W=new Error("[NO SENTRY] "+F);return Object.assign(W,j),W},T=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j){var W;return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fetch(j,{credentials:"same-origin"});case 2:if(W=G.sent,W.ok){G.next=5;break}throw w("[fetchGetHead] failed with "+W.status+": "+j,{status:W.status});case 5:case"end":return G.stop()}},F)}));return function(j){return O.apply(this,arguments)}}(),y=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j){var W,V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{credentials:"same-origin"});case 2:return W=R.sent,R.prev=3,R.next=6,W.json();case 6:V=R.sent,R.next=12;break;case 9:R.prev=9,R.t0=R.catch(3),V={};case 12:if(W.ok){R.next=14;break}throw w("[fetchGetJSON] failed with "+W.status+": "+j,(0,a.Z)((0,a.Z)({},V),{},{status:W.status}));case 14:return R.abrupt("return",V);case 15:case"end":return R.stop()}},F,null,[[3,9]])}));return function(j){return O.apply(this,arguments)}}(),x=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j){var W,V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});case 2:return W=R.sent,R.prev=3,R.next=6,W.json();case 6:V=R.sent,R.next=12;break;case 9:R.prev=9,R.t0=R.catch(3),V={};case 12:if(W.ok){R.next=14;break}throw w("[fetchGetJSON] failed with "+W.status+": "+j,(0,a.Z)((0,a.Z)({},V),{},{status:W.status}));case 14:return R.abrupt("return",V);case 15:case"end":return R.stop()}},F,null,[[3,9]])}));return function(j){return O.apply(this,arguments)}}(),A=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j){var W,V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{credentials:"same-origin"});case 2:if(W=R.sent,V=W.headers,W.ok){R.next=18;break}return R.t0=w,R.t1="[fetchGetJSON] failed with "+W.status+": "+j,R.t2=a.Z,R.t3=a.Z,R.t4={},R.next=12,W.json();case 12:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:W.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 18:return R.next=20,W.json();case 20:return W=R.sent,R.abrupt("return",{result:W,headers:V});case 22:case"end":return R.stop()}},F)}));return function(j){return O.apply(this,arguments)}}(),m=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j){var W;return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fetch(j,{method:"DELETE",credentials:"same-origin"});case 2:if(W=G.sent,W.ok){G.next=5;break}throw w("[fetchDeleteHead] failed with "+W.status+": "+j,{status:W.status});case 5:case"end":return G.stop()}},F)}));return function(j){return O.apply(this,arguments)}}(),L=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j){var W;return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fetch(j,{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});case 2:if(W=G.sent,W.ok){G.next=5;break}throw w("[fetchDeleteHead] failed with "+W.status+": "+j,{status:W.status});case 5:case"end":return G.stop()}},F)}));return function(j){return O.apply(this,arguments)}}(),g=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j){var W;return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fetch(j,{method:"DELETE",credentials:"same-origin"});case 2:if(W=G.sent,W.ok){G.next=17;break}return G.t0=w,G.t1="[fetchDeleteJSON] failed with "+W.status+": "+j,G.t2=a.Z,G.t3=a.Z,G.t4={},G.next=11,W.json();case 11:throw G.t5=G.sent,G.t6=(0,G.t3)(G.t4,G.t5),G.t7={},G.t8={status:W.status},G.t9=(0,G.t2)(G.t6,G.t7,G.t8),(0,G.t0)(G.t1,G.t9);case 17:return G.abrupt("return",W.json());case 18:case"end":return G.stop()}},F)}));return function(j){return O.apply(this,arguments)}}(),E=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",fetch(j,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(W)}));case 1:case"end":return G.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),C=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,E(j,W);case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchPostHead] failed with "+V.status+": "+j,{status:V.status});case 5:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),P=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(W)});case 2:if(V=R.sent,V.ok){R.next=17;break}return R.t0=w,R.t1="[fetchPostJSON] failed with "+V.status+": "+j,R.t2=a.Z,R.t3=a.Z,R.t4={},R.next=11,V.json();case 11:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:V.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 17:return R.abrupt("return",V.json());case 18:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),S=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(W)});case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchPostBlob] failed with "+V.status+": "+j,{status:V.status});case 5:return R.abrupt("return",V.blob());case 6:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),D=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{method:"POST",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(W)});case 2:if(V=R.sent,V.ok){R.next=17;break}return R.t0=w,R.t1="[fetchPostJSON] failed with "+V.status+": "+j,R.t2=a.Z,R.t3=a.Z,R.t4={},R.next=11,V.json();case 11:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:V.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 17:return R.abrupt("return",V.json());case 18:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),I=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{method:"POST",headers:{"content-type":"application/json"},credentials:"same-origin",body:W});case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchDeleteJSON] failed with "+V.status+": "+j,{url:j,status:V.status});case 5:return R.abrupt("return",V.json());case 6:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),f=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(W)});case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchPutHead] failed with "+V.status+": "+j,{status:V.status});case 5:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),k=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(W)});case 2:if(V=R.sent,V.ok){R.next=17;break}return R.t0=w,R.t1="[fetchPutJSON] failed with "+V.status+": "+j,R.t2=a.Z,R.t3=a.Z,R.t4={},R.next=11,V.json();case 11:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:V.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 17:return R.abrupt("return",V.json());case 18:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),u=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(W)});case 2:if(V=R.sent,V.ok){R.next=17;break}return R.t0=w,R.t1="[fetchPutJSON] failed with "+V.status+": "+j,R.t2=a.Z,R.t3=a.Z,R.t4={},R.next=11,V.json();case 11:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:V.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 17:return R.abrupt("return",V.json());case 18:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}(),H=function(){var O=(0,b.Z)((0,d.Z)().mark(function F(j,W){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(j,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(W)});case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchDeleteBodyHead] failed with "+V.status+": "+j);case 5:case"end":return R.stop()}},F)}));return function(j,W){return O.apply(this,arguments)}}()},70956:function(ce,Z,c){"use strict";c.d(Z,{FQ:function(){return b},MI:function(){return O},U8:function(){return A},VV:function(){return g},X5:function(){return D},j4:function(){return E},pn:function(){return y},rA:function(){return f}});var a=c(48290),d=c(70423);function b(F,j){j===void 0&&(j=!1);var W=document.createElement("div");return W.innerHTML=j?F||"":(F||"").replace(/</g,"&lt;").replace(/>/g,"&gt;"),W.innerText}function w(){var F=document.createElement("div");return document.body.appendChild(F),F}function T(F){var j=F.getBoundingClientRect(),W=getComputedStyle(F),V=W.paddingTop,G=W.paddingLeft,R=W.paddingRight,z=W.paddingBottom,Y=parseInt(V),X=parseInt(G),q=parseInt(R),_=parseInt(z);return{top:j.top+Y,left:j.left+X,width:j.width-(X+q),height:j.height-(Y+_)}}function y(F){var j=F.getBoundingClientRect(),W=j.top,V=j.left,G=j.right,R=j.bottom,z=document.elementFromPoint((V+G)/2,(W+R)/2);return F.contains(z)}function x(){var F=document.getSelection();if(!(F.rangeCount>0))return{};var j=F.getRangeAt(0),W={},V=j.commonAncestorContainer;V.nodeName==="DIV"&&V.className==="text"&&(V=j.startContainer);for(var G="text_editor";V&&V.nodeName!=="P"&&V.id!==G;){if(V.nodeType===1)switch(V.nodeName){case"I":W.italic=!0;break;case"B":W.bold=!0;break;case"U":W.underline=!0;break;case"STRIKE":W.lineThrough=!0;break;case"FONT":{W.tc=V.color;var R=V.style.backgroundColor;R&&(W.bg=rgb2hex(R));break}case"SPAN":W.bg=rgb2hex(V.style.backgroundColor)}V=V.parentNode}return W}var A=function(j){j.stopPropagation(),j.nativeEvent.stopImmediatePropagation()},m=function(j,W){var V=Object.assign(document.createElement("a"),{download:j,href:W});document.body.appendChild(V),V.click(),document.body.removeChild(V)},L=function(j){var W=j.onDragStart,V=j.onDrag,G=j.onDrop,R=0,z=function(q){if(R<5)return R++;R===5&&W(q),V(q.clientX,q.clientY)},Y=function X(q){G(q),document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",X)};document.addEventListener("mousemove",z),document.addEventListener("mouseup",Y)},g=function(j){if(/^<p>/.test(j))return j.replace(/\n/g,"");for(var W="",V=j.split(/\n/),G=0,R=V.length;G<R;G++){var z=V[G];z||(z="&nbsp;"),W+="<p>"+z+"</p>"}return W},E=function(j){var W={"&amp;":"&","&lt;":"<","&gt;":">"};return j.replace(/(&amp;|&lt;|&gt;)/g,function(V){return W[V]})},C="top",P="left",S={top:function(j){return{start:j.scrollTop,property:"scrollTop"}},left:function(j){return{start:j.scrollLeft,property:"scrollLeft"}}},D=function(j,W,V,G){G=G||C;var R,z=S[G](j),Y=z.start,X=z.property,q=W-Y,_=20;R=0;var ee=function oe(){R+=_;var pe=I(R,Y,q,V);j[X]=pe,R<V&&setTimeout(oe,_)};ee()},I=function(j,W,V,G){return j/=G/2,j<1?V/2*j*j+W:(j--,-V/2*(j*(j-2)-1)+W)},f=function(j){var W="100%";return j&&j.scrollHeight>j.clientHeight&&(W="calc(100% - 2px)"),W},k={top:["top","bottom"],bottom:["top","bottom"],left:["left","right"],right:["left","right"]},u=function(j,W,V){var G=k[V];return j[G[0]]>=W[G[0]]&&j[G[1]]<=W[G[1]]},H=function(j,W,V,G,R){R===void 0&&(R=200);var z=j.querySelectorAll(V);if(!(z.length>1)&&z.length>0){var Y=W.getBoundingClientRect(),X=z[0].getBoundingClientRect(),q=u(X,Y,G);if(q)return;var _=z[0].getBoundingClientRect(),ee=j.getBoundingClientRect();D(W,_[G]-ee[G],R,G)}},O=function(j,W,V){var G=(0,d.Rv)()?"_self":W;return window.open(j,G,V)}},40159:function(ce,Z,c){"use strict";c.d(Z,{JT:function(){return m},uP:function(){return L}});var a=c(64555),d=c(72005),b=c(10775),w=c(44911),T=c(1e3),y=c(59729),x=c(77321),A=/^image\/(png|jpg|jpeg|gif|svg|svg\+xml)$/i,m=2,L=5,g=5,E=function(k,u,H,O,F){if(!A.test(k.type))throw Object.assign(new Error(I18N.dUtils.damaged_file),{desc:I18N.dUtils.support_file_type,asset:k});var j=getLimitation(H,O),W=j.trial,V=j.plan,G=j.maxPicBytes,R=G/1024/1024,z=getOrgCurrentPlanName(V,W),Y=!!MB.currentOrg,X=MB.user.current_plan,q=Y?R:X==="free"?m:L;if(k.size>q*1024*1024)throw u==="library"?(ModalHelper&&ModalHelper.libraryNotice&&ModalHelper.libraryNotice("\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8FC7\u5927","error"),new Error("dashboard upload failed")):O?(z&&(z===I18N.Common.business_plan||z===I18N.Common.business_trial_plan)?MB.action("modal:update:state",{orgfullBeyondNotice:{isOpen:!0,beyondType:"picSize"}}):MB.action("modal:update:state",{rightsAndInterestsModal:{isOpen:!0,type:LimitationNoticeType.OrgMaxPicSize}}),popupTrack(H,O,"\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8D85\u9650",V,W),new Error("NoErrorTips")):(saTrack("fail_action",{action:u==="design"?"\u4E0A\u4F20\u56FE\u7247":"\u66FF\u6362\u56FE\u7247",current_plan_product:z,capacity:k.size}),MB.action("modal:update:state",{rightsAndInterestsModal:{isOpen:!0,type:LimitationNoticeType.SoloMaxPicSize}}),popupTrack(H,O,"\u4E0A\u4F20\u56FE\u7247\u5BB9\u91CF\u8D85\u9650",V,W),new Error("NoErrorTips"))},C=function(){var f=(0,d.Z)((0,a.Z)().mark(function k(u){var H,O;return(0,a.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,new Promise(function(W,V){var G=new FileReader;G.onerror=function(){return V(new Error(I18N.dUtils.unsupported))},G.onload=function(R){return W(R.target.result)},G.readAsDataURL(u)});case 2:return H=j.sent,j.next=5,new Promise(function(W,V){var G=new Image;G.onerror=function(){return V(new Error(I18N.dUtils.unsupported))},G.onload=function(){return W(G)},G.src=H});case 5:return O=j.sent,j.abrupt("return",{data:H,width:O.width,height:O.height});case 7:case"end":return j.stop()}},k)}));return function(u){return f.apply(this,arguments)}}(),P=function(k){k.payload&&k.payload.status===401?MB.global.popupHelper.alertAsync({title:I18N.dUtils.err_info_modal.INVALID_COOKIE.title,desc:I18N.dUtils.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dUtils.confirm}).then(function(){refreshLocationHref(location.origin+"/signin")}):MB.global.popupHelper.alertAsync({title:k.message,desc:k.desc,isHTML:k.isHTML,confirmText:k.confirmText}).then(function(){k.type==="free"&&MB.global.popupHelper.chargeAsync({mode:"solo",productId:8988,hours:"yearly",payEntrance:"\u56FE\u7247\u9650\u5236-\u5347\u7EA7\u4E2A\u4EBA"})})},S=function(k,u){return k.endsWith(u)?k:k+("-"+u)},D=function(k,u){return k.startsWith("#")?"#"+S(k.slice(1),u):null},I=function f(k,u){if(k.attributes){var H=k.getAttribute("id");H&&H.length>0&&k.setAttribute("id",S(H,u));var O=k.getAttribute("class");if(O&&O.length>0){var F=O.split(/\s+/).map(function(Ve){return S(Ve,u)}).join(" ");k.setAttribute("class",F)}for(var j=0,W=["href","xlink:href"];j<W.length;j++){var V=W[j],G=k.getAttribute(V);if(G&&G.length>0){var R=D(G,u);R&&k.setAttribute(V,R)}}for(var z=["clip-path","color-profile","fill","filter","marker-start","marker-mid","marker-end","mask","stroke","style"],Y=0,X=z;Y<X.length;Y++){var q=X[Y],_=k.getAttribute(q);if(_&&_.length>0){var ee=_.replace(/url\((.*?)\)/gi,function(Ve,ht){var Ge=D(ht,u);return Ge==null?Ve:"url("+Ge+")"});ee&&k.setAttribute(q,ee)}}for(var oe=0,pe=["begin","end"];oe<pe.length;oe++){var ve=pe[oe],Pe=k.getAttribute(ve);if(Pe&&Pe.length>0){var Re=Pe.split(/\s*;\s+/).map(function(Ve){if(Ve.endsWith(".end")||Ve.endsWith(".start")){var ht=Ve.split("."),Ge=_slicedToArray(ht,2),vt=Ge[0],St=Ge[1];return S(vt,u)+"."+St}return Ve});k.setAttribute(ve,Re.join("; "))}}if(k.childNodes){var Ne=_createForOfIteratorHelper(k.childNodes),Be;try{for(Ne.s();!(Be=Ne.n()).done;){var Ke=Be.value;f(Ke,u)}}catch(Ve){Ne.e(Ve)}finally{Ne.f()}}}}},21800:function(ce,Z,c){"use strict";c.d(Z,{$e:function(){return P},SP:function(){return g}});var a=c(18582),d=c(54635),b="Italic",w=500,T={invisible:0,thin:100,extraLight:200,light:300,regular:400,medium:500,semiBold:600,bold:700,extraBold:800,black:900,extraBlack:1e3},y=function(I){var f=I.includes(b);return f?I.replace(b,""):I},x=function(I){return I.includes(b)},A=function(I){var f=y(I);return T[f]>=w},m=a.filter(function(D){var I=D.isShowOnMBServer;return!I}),L=function(I){var f=I.label,k=I.family,u=I.limitedDevices;return{label:f,value:k,limitedDevices:u}},g=m.map(L),E=function(I){return I.includes(b)?""+I18N.dUtils.rich_text_settings.weight[I.replace(b,"")]+I18N.dUtils.rich_text_settings.weight.italic:I18N.dUtils.rich_text_settings.weight[I]},C=function(I){var f=a.find(function(k){var u=k.family;return u===I});return f?f.typeList.map(function(k){return{label:E(k),value:k}}):[]},P=function(I,f){var k=m.find(function(u){var H=u.family;return H===I});return k?k.label+"-"+E(f):I+"-"+f},S=(0,d.LL)(C)},48075:function(ce,Z,c){"use strict";c.d(Z,{hZ:function(){return T}});var a=c(69770),d=c(88468),b=c(29846),w=function(A){switch(A.link_type){case Link.TYPE.screen_link:return A.target_cid&&A.target_cid!==""&&A.targetstate_cid&&A.transition;case Link.TYPE.screen_link_from_dynamic_panel:case Link.TYPE.state_link:return A.targetstate_cid;case isStateLinkFromDynamicPanel(A):case Link.TYPE.panel_link:return A.target_cid&&A.targetstate_cid;case Link.TYPE.hyperlink:return typeof A.target_cid<"u"&&A.transition;case Link.TYPE.scroll_link:return A.target_cid&&A.transition;case Link.TYPE.visibility_link:return A.target_cid&&A.transition;default:return!1}},T=function(A,m,L){var g=new Set,E=new Set,C=new Set,P=ProjectExchange.getProjectStore(A),S=P.getLocalScreenGlueList().find(function(Ke){return Ke.type==="project-trashcan"}),D=S?S.cid:"",I=P.getLocalScreenMetaByCid(m);if(!I)return{screenStateSet:g,screenDataSet:E,panelDataSet:C};var f=P.getLocalScreenMetaList(),k=(0,a.Z)(f),u;try{for(k.s();!(u=k.n()).done;){var H=u.value,O=H.cid,F=H.screen_glue_cid;if(F!==D){E.add(O);var j=P.getLocalScreenRuntimeStateByCid(O);if(j)for(var W=j.screenMetaCid,V=j.dataMap,G=j.itemListMap,R=0,z=Object.keys(V);R<z.length;R++){var Y=z[R];if(g.add(W+"-"+Y),Y===L){var X=G[L],q=(0,a.Z)(X),_;try{for(q.s();!(_=q.n()).done;){var ee=_.value;if(ee.name==="panel"){var oe=ee.cid,pe=ee.screen_meta_cid,ve=P.getLocalScreenRuntimeStateByCid(pe);if(ve)for(var Pe=ve.dataMap,Re=0,Ne=Object.keys(Pe);Re<Ne.length;Re++){var Be=Ne[Re];C.add(oe+"-"+Be)}}}}catch(Ke){q.e(Ke)}finally{q.f()}}}}}}catch(Ke){k.e(Ke)}finally{k.f()}return function(Ke){if(Ke.link_type===d.rU.TYPE.screen_link){var Ve=Ke.target_cid,ht=Ke.targetstate_cid;return Ke.target_cid===d.eB?!0:E.has(Ve)&&(d.Zv.includes(ht)||g.has(Ve+"-"+ht))}if(!(0,b.a)(Ke)&&Ke.link_type===d.rU.TYPE.state_link){var Ge=Ke.screen_cid,vt=Ke.targetstate_cid;return d.n$.includes(vt)||g.has(Ge+"-"+vt)}if(Ke.link_type===d.rU.TYPE.panel_link){var St=Ke.target_cid,wt=Ke.targetstate_cid;return d.pY.includes(wt)||C.has(St+"-"+wt)}if(Ke.link_type===d.rU.TYPE.hyperlink){var zt=Ke.transition;return d.yE.includes(zt)}return!0}},y=function(A){var m;try{m=new URL(A)}catch(L){return!1}return m.protocol==="http:"||m.protocol==="https:"}},2909:function(ce,Z,c){"use strict";c.d(Z,{CB:function(){return w},No:function(){return d}});var a=c(41768),d=function(y){switch(y){case"iphone":case"ipad":case"apple_watch":return"ios";case"android":return"android";default:return"others"}},b=function(y,x){var A=x.width,m=x.orientation,L=m==="landscape",g="customize";return!L&&y.width===A||L&&y.height===A?g=y.device:Object.entries(MODEL_NAME_WIDTH_HEIGHT_MAP).forEach(function(E){var C=_slicedToArray(E,1),P=C[0];(!L&&P.width===A||L&&P.height===A)&&(g=P.device)}),!y.template&&!y.combo&&["android","ipad","iphone"].includes(y.device)&&["android","ipad","iphone"].includes(g)},w=function(y){return!y.template&&!y.combo&&["android","ipad","iphone"].includes(y.device)}},79887:function(ce,Z,c){"use strict";c.d(Z,{DH:function(){return y},G1:function(){return m},bj:function(){return A},fL:function(){return a}});function a(C){var P=1/0,S=1/0,D=-1/0,I=-1/0;return C.forEach(function(f){P=Math.min(f.top,P),S=Math.min(f.left,S),D=Math.max(f.left+f.width,D),I=Math.max(f.top+f.height,I)}),{top:P,left:S,right:D,bottom:I,width:D-S,height:I-P}}function d(C,P){var S=document.querySelector("#canvas").getBoundingClientRect(),D=document.querySelector("#screens").getBoundingClientRect(),I=S.left-D.left,f=S.top-D.top,k=100/P;return T(C,{offsetX:I,offsetY:f,ratio:k})}function b(C,P,S){var D=C.startX,I=C.startY,f=C.endX,k=C.endY;P===void 0&&(P=90),S===void 0&&(S=0);var u=Math.atan2(k-I,f-D)/Math.PI*180,H=Math.hypot(f-D,k-I),O=S+P*Math.round((u-S)/P),F=H*Math.cos((u-O)/180*Math.PI);return{startX:D,startY:I,endX:D+Math.round(F*Math.cos(O/180*Math.PI).toFixed(2)),endY:I+Math.round(F*Math.sin(O/180*Math.PI).toFixed(2))}}function w(C){var P=C.startX,S=C.startY,D=C.endX,I=C.endY,f=Math.min(S,I),k=Math.min(P,D),u=Math.abs(D-P),H=Math.abs(I-S);return{top:Math.round(f),left:Math.round(k),width:Math.round(u),height:Math.round(H)}}function T(C,P){var S=C.startX,D=C.startY,I=C.endX,f=C.endY,k=P.offsetX,u=P.offsetY,H=P.ratio;return{startX:Math.round((S-k)*H),startY:Math.round((D-u)*H),endX:Math.round((I-k)*H),endY:Math.round((f-u)*H)}}var y=function(P,S){return["top","left","width","height"].every(function(D){return P[D]===S[D]})},x=function(P,S){return P.top>S.top&&P.left>S.left&&P.right<S.right&&P.bottom<S.bottom},A=function(P,S){var D=m(P,S);return D.width<P.width+S.width&&D.height<P.height+S.height},m=function(P,S){var D=Math.min(P.top||0,S.top||0),I=Math.max((P.top||0)+P.height,(S.top||0)+S.height),f=Math.min(P.left||0,S.left||0),k=Math.max((P.left||0)+P.width,(S.left||0)+S.width);return{top:D,left:f,width:k-f,height:I-D}},L=function(P,S,D){return g(P,D)&&E(S,D)},g=function(P,S){return P>S.left&&P<S.left+S.width},E=function(P,S){return P>S.top&&P<S.top+S.height}},33258:function(ce,Z,c){"use strict";c.d(Z,{SZ:function(){return w},Wi:function(){return T},z9:function(){return m}});var a=c(2909),d=c(70423),b=c(58057),w=function(g){var E=g.screenGlue,C=g.project,P=g.screen;return E.type==="project-main"&&(C.width===P.width&&P.height>=C.height||C.height===P.width&&P.height>=C.width)},T=function(g,E,C){C===void 0&&(C=!1);var P=(0,a.No)(E),S=g.orientation,D=(0,d.V5)()?"mac":(0,d.ED)()?"windows":"other-os",I=C?"isQuickAnnotateClass":"";return"mb-screen "+D+" "+P+" "+E+" "+S+" "+I},y=function(g){var E=getProjectPlatformByDevice(g),C=isMac()?"mac":isWindows()?"windows":"other-os";return"mb-dragging-puppet "+C+" "+E},x=function(g){for(var E=g.name+"_"+g.stateName,C=getProjectScreenMetaList(g.project_meta_cid,g.screen_glue_cid);g=C.find(function(P){return P.cid===g.parent_cid});)E=""+E;return E},A=function(g,E){var C=findScreenTreeNodeByCid(g.parent_cid||"root",E),P=C.children.map(function(I){return I.data}),S=P.findIndex(function(I){return I.cid===g.cid}),D=S+1;P.splice(D,0,null),P.forEach(function(I,f){I&&(I.parent_cid!==g.parent_cid||I.position!==f+1)&&updateScreenMeta(_objectSpread(_objectSpread({},I),{},{position:f+1}))})},m=function(g){return g.attr instanceof Object&&!!g.attr.bgcolor}},21586:function(ce,Z,c){"use strict";c.d(Z,{o:function(){return w}});var a=c(512),d=c(29661),b=function(y){var x=new Set(y.map(function(A){return A.cid}));return y.filter(function(A){return!x.has(A.parent_cid)}).sort(function(A,m){return A.position-m.position})[0]},w=function(y){var x=(0,d.pb)(y),A=x.screenTreeData;return(0,a.wd)(A)}},512:function(ce,Z,c){"use strict";c.d(Z,{$m:function(){return D},Vx:function(){return x},Y2:function(){return V},_i:function(){return S},qv:function(){return L},tX:function(){return C},wd:function(){return A}});var a=c(91520),d=c(67741),b=c(9575),w=c(46506),T=["data","children"],y=["data","children"],x=function(R){return R.orientation==="folder"},A=function(R){var z=C(R,function(Y){if(Y.data&&!x(Y.data))return Y.data});return z[0]},m=function(R){var z=new Set,Y=new Set;return C(R,function(X){x(X.data)?Y.add(X.data.cid):z.add(X.data.cid)}),{pageCidSet:z,folderCidSet:Y,pageCount:z.size,folderCount:Y.size}},L=function(R){return C(R,function(z){return z.data})},g=function(R){return C(R,function(z){return z.cid})},E=function(R,z){for(var Y=[R];Y.length;){var X=Y.pop(),q=z(X);q||Y.push.apply(Y,_toConsumableArray(X.children))}},C=function G(R,z){var Y,X=[],q=z(R);return q&&X.push(q),R==null||(Y=R.children)==null||Y.forEach(function(_){X.push.apply(X,(0,b.Z)(G(_,z)))}),X},P=function(R,z){for(var Y=[z];Y.length;){var X=Y.pop();if(X.cid===R)return X;Y.push.apply(Y,_toConsumableArray(X.children))}},S=function(R,z){var Y=function X(q,_){if(_.cid===R)return q;var ee=[];return _.children.forEach(function(oe){ee.push.apply(ee,(0,b.Z)(X([].concat((0,b.Z)(q),[_]),oe)))}),ee};return Y([],z).slice(1)},D=function(R,z){if(z){var Y=new RegExp((0,w.yI)(z),"i");return I(R,function(X){return Y.test(X.name)})}else return R},I=function G(R,z){var Y=R.data,X=R.children,q=(0,d.Z)(R,T),_=Y?z(Y):!0,ee=X.map(function(oe){return G(oe,z)}).filter(function(oe){return oe});return _||ee.length?(0,a.Z)({data:Y,children:ee},q):null},f=function G(R){var z=1;if(R.children.length){var Y=R.children.map(function(X){return G(X)});z+=Math.max.apply(null,Y)}return z},k=function(R,z){var Y=S(R,z);return Y.length+1},u=function(R,z){var Y=P(R.parent_cid||"root",z);return Y.children.map(function(X){return X.data})},H=function(R,z){var Y=P(R,z),X=u(Y.data,z);return X[X.length-1].cid===R},O=function(R,z){var Y=[];return R&&R.length>0&&(Y=R.map(function(X){var q=P(X||"root",z);return F(q)})),new Set(Y.flat())},F=function G(R){var z,Y=[];return R&&((z=R.children)==null?void 0:z.length)>0&&R.children.forEach(function(X){var q;Y.push((q=X.data)==null?void 0:q.cid),Y.push.apply(Y,_toConsumableArray(G(X)))}),Y},j=function G(R){var z,Y,X=[];if(R&&(((z=R.children)==null?void 0:z.length)>0||((Y=R.data)==null?void 0:Y.orientation)==="folder")){var q;R.data&&X.push(R.data.cid),((q=R.children)==null?void 0:q.length)>0&&R.children.forEach(function(_){X.push.apply(X,_toConsumableArray(G(_)))})}return X},W=function G(R){var z=[],Y=R.data,X=R.children,q=(0,d.Z)(R,y);return Y&&z.push((0,a.Z)({data:Y,children:[]},q)),(X==null?void 0:X.length)>0&&X.forEach(function(_){z.push.apply(z,(0,b.Z)(G(_)))}),z},V=function(R,z){var Y=new RegExp((0,w.yI)(z),"i"),X=W(R),q=X.filter(function(_){var ee=_.data;return Y.test(ee.name)});return{cid:"root",children:q,data:void 0}}},30733:function(ce,Z,c){"use strict";c.d(Z,{A6:function(){return w},GQ:function(){return b},RD:function(){return x},cM:function(){return y},iO:function(){return A},q:function(){return T}});var a=function(){var L={getItem(){return null},setItem(){},removeItem(){},clear(){}},g=function(){try{return window.localStorage.setItem("localStorage",1),window.localStorage.removeItem("localStorage"),!0}catch(C){return!1}};return g()?window.localStorage:L},d=a(),b=function(L){return d.getItem(L)},w=function(L,g){return d.setItem(L,g)},T=function(L){return d.removeItem(L)},y={String:1,Number:2,Boolean:3,Object:4,Array:5},x=function(L,g,E){var C=d.getItem(L);if(C===null)return g;switch(E){case y.String:return C;case y.Number:return Number(C);case y.Boolean:return JSON.parse(C);case y.Object:return JSON.parse(C);case y.Array:return JSON.parse(C)}},A=function(L,g,E){switch(E){case y.String:return d.setItem(L,String(g));case y.Number:return d.setItem(L,Number(g));case y.Boolean:return d.setItem(L,JSON.stringify(g));case y.Object:return d.setItem(L,JSON.stringify(g));case y.Array:return d.setItem(L,JSON.stringify(g))}}},72204:function(ce){/*
 * node-timeago
 * Cam Pedersen
 * <diffference@gmail.com>
 * Oct 6, 2011
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 0.10.0
 * @requires jQuery v1.2.3+
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2011, Ryan McGeary (ryanonjavascript -[at]- mcgeary [*dot*] org)
 */ce.exports=function(w){if(w instanceof Date)return d(w);if(typeof w=="string")return d(a(w));if(typeof w=="number")return d(new Date(w))};var Z={allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[],wordSeparator:" "}},c=Z.strings;ce.exports.settings=Z,c.inWords=function(w){var T=c.prefixAgo,y=c.suffixAgo;Z.allowFuture&&w<0&&(T=c.prefixFromNow,y=c.suffixFromNow);var x=Math.abs(w)/1e3,A=x/60,m=A/60,L=m/24,g=L/365;function E(S,D){var I=typeof S=="function"?S(D,w):S,f=c.numbers&&c.numbers[D]||D;return I.replace(/%d/i,f)}var C=x<45&&E(c.seconds,Math.round(x))||x<90&&E(c.minute,1)||A<45&&E(c.minutes,Math.round(A))||A<90&&E(c.hour,1)||m<24&&E(c.hours,Math.round(m))||m<48&&E(c.day,1)||L<30&&E(c.days,Math.floor(L))||L<60&&E(c.month,1)||L<365&&E(c.months,Math.floor(L/30))||g<2&&E(c.year,1)||E(c.years,Math.floor(g)),P=c.wordSeparator||"";return c.wordSeparator===void 0&&(P=" "),[T,C,y].join(P).toString().trim()};function a(w){if(w){var T=w.trim();return T=T.replace(/\.\d\d\d+/,""),T=T.replace(/-/,"/").replace(/-/,"/"),T=T.replace(/T/," ").replace(/Z/," UTC"),T=T.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(T)}}c.parse=a;function d(w){return c.inWords(b(w))}function b(w){return new Date().getTime()-w.getTime()}},1e3:function(ce,Z,c){"use strict";c.d(Z,{$b:function(){return A},Mn:function(){return g},U1:function(){return T},tv:function(){return x},wb:function(){return w}});var a=c(64555),d=c(72005),b=c(37931),w=ENV.NO_TRACK?function(){}:b.wb,T=ENV.NO_TRACK?function(){}:b.U1,y=ENV.NO_TRACK?function(){}:function(E){var C=E.paramName,P=E.defaultValue,S=E.valueType,D=E.callback;return(0,b.be)({paramName:C,defaultValue:P,valueType:S,callback:D})},x=ENV.NO_TRACK?function(){}:b.pj,A=ENV.IS_WONDER_SHARE?function(){}:function(E){if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:E,transport_type:"beacon"})},m={"https://mockitt.wondershare.com/app":"B1-V7\u539F\u578B\u5185\u5206\u4EAB"},L=function(){var C=Object.keys(m).sort(function(P,S){return S.length-P.length});return m[C.find(function(P){return window.location.href.indexOf(P)!==-1})]},g=function(){var E=(0,d.Z)((0,a.Z)().mark(function C(P){return(0,a.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,fetch("https://mockitt.wondershare.com/invite_track?entry="+L()+"&entry_term="+P);case 3:D.next=8;break;case 5:D.prev=5,D.t0=D.catch(0),console.error(D.t0);case 8:case"end":return D.stop()}},C,null,[[0,5]])}));return function(P){return E.apply(this,arguments)}}()},70423:function(ce,Z,c){"use strict";c.d(Z,{B0:function(){return E},CL:function(){return T},Dt:function(){return m},ED:function(){return b},IF:function(){return C},Md:function(){return P},Rv:function(){return w},V5:function(){return d},_j:function(){return S},d:function(){return a},li:function(){return D},tq:function(){return A},vU:function(){return x}});var a=function(){return window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent)},d=function(){return/(Macintosh)/i.test(navigator.userAgent)},b=function(){return/(Windows)/i.test(navigator.userAgent)},w=function(){return/(Lark)/i.test(navigator.userAgent)},T=function(){return/MicroMessenger/i.test(navigator.userAgent)},y=function(){return/Chrome/i.test(navigator.userAgent)},x=function(){return/Firefox/i.test(navigator.userAgent)},A=function(){return/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent)},m=function(){return/Android/i.test(navigator.userAgent)},L=function(){return/(iPad)/.test(navigator.userAgent)},g=function(){return/(iPod|iPhone|iPad)/.test(navigator.userAgent)},E=function(){return!!(window.webkit&&window.webkit.messageHandlers)},C=function(){return navigator.standalone},P=function(){return/\/uichina$/.test(location.pathname)},S=function(){return/\/forum$/.test(location.pathname)},D=function(){return/(MobileClient)/.test(navigator.userAgent)}},32638:function(ce,Z,c){"use strict";c.d(Z,{gh:function(){return E},oS:function(){return g}});var a=function(S,D){return A(S,D,T)},d=function(S,D){return A(S,D,x)},b=function(S,D){var I=mapItemsToTrees(S),f=[];I.forEach(function(k){f.push(k.widget),a(k.children,[])}),a(f,D)},w=/(\s\d+)?$/,T=function(S){return S.display_name.replace(w,"")},y=/(\sCopy(\s\d+)?)?$/,x=function(S){return S.display_name.replace(y," Copy")},A=function(S,D,I){var f={};S.forEach(function(u){if(!(u.name==="rich_text"&&!u.display_name)){var H=I(u);f[H]=f[H]||[],f[H].push(u)}});var k={};D.forEach(function(u){var H=I(u);if(f[H]){k[H]=k[H]||new Set;var O=m(u.display_name,H);k[H].add(O)}}),Object.entries(f).forEach(function(u){var H=_slicedToArray(u,2),O=H[0],F=H[1],j=k[O]||new Set,W=L(j,F.length);F.forEach(function(V,G){var R=W[G],z=R===1?O:O+" "+R;V.display_name=z})})},m=function(S,D){try{var I=/[`~!@#$%^&*()_+<>?:"{},./;'[\]]/im,f=D.replace(I,""),k=S.replace(I,""),u=new RegExp("^"+f+"(\\s\\d+)?$"),H=u.exec(k);if(H){var O=H[1]||1;return Number(O)}return 0}catch(F){return 0}},L=function(S,D){for(var I=[],f=1;f<=S.size+D;f++)S.has(f)||I.push(f);return I},g=function(S){return S.name==="rich_text"?E(S):S.display_name},E=function(S){return S.display_name||C(S.text)},C=function(S){var D=Array.isArray(S)?S:JSON.parse(S);return D.reduce(function(I,f){var k=f.children.reduce(function(u,H){return u+H.text},"");return I+k},"")}},61537:function(ce,Z,c){"use strict";c.d(Z,{UO:function(){return S},yb:function(){return E}});var a=c(68633),d=c(50866),b=c(1372),w=c(9795),T=c(60217),y=c(51404),x=c(8465),A=function(u,H){var O=H.trim().split(/\s+/),F=O.map(function(j){return{literal:j,regular:new RegExp("\\b"+escapeRegex(j),"i"),chinese:new RegExp(""+escapeRegex(j))}});return u.filter(function(j){return g(F,j)})},m=/[\u4E00-\u9FFF]/,L=(0,x.V)(function(){return{All:I18N.dConst.icons.all,"Web Application":I18N.dConst.icons.web_app,Medical:I18N.dConst.icons.medical,"Text Editor":I18N.dConst.icons.text_editor,Spinner:I18N.dConst.icons.spinner,"File Type":I18N.dConst.icons.file_type,Directional:I18N.dConst.icons.directional,"Video Player":I18N.dConst.icons.video_player,"Form Control":I18N.dConst.icons.form_control,Transportation:I18N.dConst.icons.transportation,Chart:I18N.dConst.icons.chart,Brand:I18N.dConst.icons.brand,Hand:I18N.dConst.icons.hand,Payment:I18N.dConst.icons.payment,Currency:I18N.dConst.icons.currency,Accessibility:I18N.dConst.icons.accessibility,Gender:I18N.dConst.icons.gender,AV:I18N.dConst.icons.av,Action:I18N.dConst.icons.action,Alert:I18N.dConst.icons.alert,Communication:I18N.dConst.icons.communication,Content:I18N.dConst.icons.content,Device:I18N.dConst.icons.device,Editor:I18N.dConst.icons.text_editor,File:I18N.dConst.icons.file,Hardware:I18N.dConst.icons.hardware,Image:I18N.dConst.icons.image,Maps:I18N.dConst.icons.maps,"Navi.":I18N.dConst.icons.navi,"Notif.":I18N.dConst.icons.notif,Places:I18N.dConst.icons.places,Social:I18N.dConst.icons.social,Toggle:I18N.dConst.icons.toggle,Widgets:I18N.dConst.icons.widgets,Tool:I18N.dConst.icons.tool,Arrow:I18N.dConst.icons.directional,Miscellaneous:I18N.dConst.icons.miscellaneous,"Brand and Logos":I18N.dConst.icons.brand,Application:"App",Data:I18N.dConst.icons.data,Suggested:I18N.dConst.icons.suggested}}),g=function(u,H){var O=L(window.MBLocale),F=[H.id,H.keywords,H.aliases,H.cat,O[H.cat]].join();return u.some(function(j){var W=j.literal,V=j.regular,G=j.chinese;return V.test(F)||m.test(W)&&G.test(F)})},E=function(u){return u==="icon_button"||u==="svg_icon_button"||u==="svg_icon_path"},C=function(u){var H=itemCreateMap.svg_icon_path(),O=loadWidgetAttr(_objectSpread(_objectSpread({cid:getRandomItemCid()},H),u));return O.top=0,O.left=0,O},P=/^(fa|md|mb|ci|fa5|antOutline|antFill)-/,S=function(u){var H=P.test(u),O=(u||"").replace(P,""),F=H?u.split("-")[0]:"fa",j=F,W=j+"-"+O,V=w.F[W]||w.f[W],G=null;if(F==="fa5"&&V){var R=(0,T.Ps)({prefix:V.lib,iconName:V.id}),z=R.viewBox,Y=R.path;G={view_box:z,path:'<path d="'+Y+'"></path>'}}else if(F==="fa"&&V){var X=(0,T.$M)(V.id),q=X.viewBox,_=X.path;G={view_box:q,path:_}}else if(F==="md"){var ee=(0,T.iw)(O),oe=ee.path;G={view_box:"0 0 24 24",path:oe}}else if(F==="ci"){var pe=(0,T.rG)(O),ve=pe.path;G={view_box:"0 0 1024 1024",path:ve}}else if(F==="mb"){var Pe=(0,T.Ai)(O),Re=Pe.path;G={view_box:"0 0 32 32",path:Re}}else if(F==="antOutline"){var Ne=(0,T.bN)(O),Be=Ne.viewBox,Ke=Ne.path;G={view_box:Be,path:Ke}}else if(F==="antFill"){var Ve=(0,T.Mc)(O),ht=Ve.viewBox,Ge=Ve.path;G={view_box:ht,path:Ge}}return G},D=function(u){var H=u.indexOf("-"),O=u.lastIndexOf("-"),F="fa"+u.slice(H,O),j=u.slice(O+1);return j+" "+F},I=function(u,H){H===void 0&&(H="design");var O=_createForOfIteratorHelper(u),F;try{for(O.s();!(F=O.n()).done;){var j=F.value;if(["design","preview"].includes(H)){var W=j.tc,V=j.view_box,G=j.is,R=j.display_name,z=j.path,Y=typeof W=="number"?rgbaCSSFromHex8Number(W):W,X='<svg xmlns="http://www.w3.org/2000/svg" viewBox="'+V+'" width="'+G+'" height="'+G+'" style="fill: '+Y+';">'+z+"</svg>";f(X,"image/svg",R+".svg")}else{var q=j.type,_=j.view_box,ee=j.id,oe=j.path,pe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="'+_+'" width="24" height="24">'+oe+"</svg>";f(pe,"image/svg",q+"-"+ee+".svg")}}}catch(ve){O.e(ve)}finally{O.f()}},f=function(u,H,O){var F=new Blob([u],{type:H}),j=document.createElement("a");j.download=O,j.href=URL.createObjectURL(F),j.dataset.downloadurl=[H,j.download,j.href].join(":"),j.style.display="none",document.body.appendChild(j),j.click(),document.body.removeChild(j),setTimeout(function(){URL.revokeObjectURL(j.href)},1500)}},66302:function(ce,Z,c){"use strict";c.d(Z,{$l:function(){return L},BK:function(){return D},DV:function(){return E},Oz:function(){return I},QP:function(){return S},dG:function(){return C},ud:function(){return P}});var a=c(91520),d=c(61519),b=c(5207),w=c(81786),T=c(48075),y=c(35576),x=c(58057),A=function(k,u,H){var O=getScreenServerStateByCid(k,u),F=O.itemListMap,j={},W={};Object.entries(F).forEach(function(Y){var X=_slicedToArray(Y,2),q=X[0],_=X[1],ee={};_.forEach(function(oe){var pe;oe.name!=="link"&&(oe.name==="rich_text"&&!Array.isArray(oe.text)||(ee[oe.cid]=oe,j[pe=oe.cid]||(j[pe]=[]),j[oe.cid].push({screenCid:u,stateCid:q,data:oe})))}),W[q]=ee});var V=W[H],G=_objectWithoutProperties(W,[H].map(_toPropertyKey)),R=new Set;Object.entries(G).forEach(function(Y){var X=_slicedToArray(Y,2),q=X[0],_=X[1];q!==H&&Object.values(_).forEach(function(ee){V[ee.cid]||ee.name!=="group"&&R.add(ee.cid)})});var z=Array.from(R);return{itemQueryMap:j,ghostItemCids:z}},m=function(k,u){return/default/.test(k)?I18N.dUtils.default_state:I18N.dUtils.state+" "+(u+1)},L=function(k,u){var H=(0,x.FJ)(k,u),O=H.dataMap;return Object.values(O).sort(function(F,j){return F.position-j.position}).map(function(F,j){var W=F.name||m(F.cid,j),V=F.hh||0,G=F.fh||0;return(0,a.Z)((0,a.Z)({},F),{},{name:W,hh:V,fh:G,screen_cid:u})})},g=function(k,u,H){var O=(0,x.Dm)(k,u,H);return O.filter(function(F){return F.name==="panel"?(0,w._s)(F,k,u):!0})},E=function(k,u,H){var O=(0,x.Dm)(k,u,H);return O.filter(function(F){return F.name!=="link"&&(F.name==="panel"?(0,w._s)(F,k,u):!0)}).map(function(F){return(0,b.W3)(F,u,H,k)})},C=function(k,u,H){var O=(0,x.Dm)(k,u,H);return O.filter(function(F){return F.name==="panel"&&(0,w._s)(F,k,u)}).map(function(F){return(0,b.W3)(F,u,H,k)})},P=function f(k){var u=k.projectMetaCid,H=k.screenCid,O=k.screenStateCid,F=k.skipPanel,j=F===void 0?!1:F,W=k.activeScreenStateCidMap,V=W===void 0?{}:W,G=[],R={},z=(0,T.hZ)(u,H,O),Y=(0,x.Dm)(u,H,O);return Y.forEach(function(X){if(X.name==="link"){var q=(0,b.W3)(X,H,O);if(!z(q))return;G.push(q)}else if(X.name==="panel"){if(j)return;var _=X.cid,ee=X.screen_meta_cid,oe=V.get(_),pe=X.cid+"-"+ee+"-"+oe;if(!(0,w._s)(X,u,H))return;R[pe]=R[pe]||[X.cid,ee,oe]}}),Object.values(R).forEach(function(X){var q=(0,d.Z)(X,3),_=q[0],ee=q[1],oe=q[2],pe=f({projectMetaCid:u,screenCid:ee,screenStateCid:oe,skipPanel:!0});pe.forEach(function(ve){Object.assign(ve,{_panelCid:_}),G.push(ve)})}),G},S=function(k,u,H){var O=(0,T.hZ)(k,u,H),F={},j=[],W=(0,x.Dm)(k,u,H);return Object.values(W).forEach(function(V){V.name==="link"&&(F[V.cid]=(0,b.W3)(V,u,H),V.widget_cids===u&&j.push(V.cid)),V.name==="pg"&&j.push(V.link_cids)}),(0,y.H9)(j.map(function(V){return F[V]}).filter(function(V){return V&&O(V)}))},D=function(k,u,H){var O=(0,T.hZ)(k,u,H),F=g(k,u,H),j=S(k,u,H).filter(function(R){return parseFloat(R.timer)>0}),W={},V=[];F.forEach(function(R){R.name!=="pg"&&(R.name==="link"&&(W[R.cid]=(0,b.W3)(R,u,H)),R.link_cids&&V.push(R.link_cids))});var G=[];return V.forEach(function(R){var z=W[R];z&&parseFloat(z.timer)>0&&O(z)&&G.push(z)}),j.concat(G)},I=function(k,u,H){H===void 0&&(H=[]);var O={},F=[];return H.forEach(function(j){j.name==="link"&&(O[j.cid]=(0,b.W3)(j,k,u),j.widget_cids===k&&F.push(j.cid)),j.name==="pg"&&F.push(j.link_cids)}),(0,y.H9)(F.map(function(j){return O[j]}).filter(function(j){return j}))}},77466:function(ce,Z,c){"use strict";c.d(Z,{IO:function(){return C},l$:function(){return D},zc:function(){return m}});var a=c(91520),d=c(67741),b=c(9575),w=c(77506),T=c(46506),y=c(11685),x=null,A=["value","children"],m=function f(k,u){u===void 0&&(u=!1);var H=[],O=k.type,F=k.widget,j=k.children;if(!(u&&O===y.l.Annotate))return O==="group"?j.forEach(function(W){return H.push.apply(H,(0,b.Z)(f(W,u)))}):H.push(F),H},L=function f(k){var u=[],H=k.type,O=k.children;return H==="group"?O.forEach(function(F){return u.push.apply(u,_toConsumableArray(f(F)))}):u.push(k),u},g=function f(k){var u=[],H=k.type,O=k.widget,F=k.children;return u.push(O),H==="group"&&F.forEach(function(j){return u.push.apply(u,_toConsumableArray(f(j)))}),u},E=function f(k){var u=[];return k!=null&&k.widget.locked||(u.push(k==null?void 0:k.widget),(k==null?void 0:k.type)==="group"&&(k==null||k.children.forEach(function(H){return u.push.apply(u,_toConsumableArray(f(H)))}))),u},C=function f(k){var u=[];return k.parent&&(u.push(k.parent),u.push.apply(u,(0,b.Z)(f(k.parent)))),u},P=function(k,u){if(u){var H=new RegExp(escapeRegex(u),"i");return S(k,function(O){return H.test(getLayerItemDisplayName(O))})}else return k},S=function f(k,u){var H=k.widget,O=k.children,F=k.type,j=_objectWithoutProperties(k,x),W=H?u(H):!0,V=F===NodeType.panel?[]:O.map(function(G){return f(G,u)}).filter(function(G){return G});return W||V.length?_objectSpread({widget:H,children:V,links:k.links},j):null},D=function(k,u){if(u){var H=new RegExp((0,T.yI)(u),"i");return k.map(function(O){return I(O,function(F){return H.test(F.name)})}).filter(function(O){return!!O})}else return k},I=function f(k,u){var H=k.value,O=k.children,F=O===void 0?[]:O,j=(0,d.Z)(k,A),W=H?u(H):!0,V=W?F:F.map(function(G){return f(G,u)}).filter(function(G){return G});return W||V.length?(0,a.Z)({value:H,children:V},j):null}},87645:function(){(function(ce,Z,c){var a=ce.requestAnimationFrame||ce.webkitRequestAnimationFrame||ce.mozRequestAnimationFrame||ce.oRequestAnimationFrame||ce.msRequestAnimationFrame||function(y){ce.setTimeout(y,16.666666666666668)},d=function(){var y={},x=Z.createElement("div").style,A=function(){for(var g=["t","webkitT","MozT","msT","OT"],E,C=0,P=g.length;C<P;C++)if(E=g[C]+"ransform",E in x)return g[C].substr(0,g[C].length-1);return!1}();function m(g){return A===!1?!1:A===""?g:A+g.charAt(0).toUpperCase()+g.substr(1)}y.getTime=Date.now||function(){return new Date().getTime()},y.extend=function(g,E){for(var C in E)g[C]=E[C]},y.addEvent=function(g,E,C,P){g.addEventListener(E,C,!!P)},y.removeEvent=function(g,E,C,P){g.removeEventListener(E,C,!!P)},y.prefixPointerEvent=function(g){return ce.MSPointerEvent?"MSPointer"+g.charAt(7).toUpperCase()+g.substr(8):g},y.momentum=function(g,E,C,P,S,D){var I=g-E,f=c.abs(I)/C,k,u;return D=D===void 0?6e-4:D,k=g+f*f/(2*D)*(I<0?-1:1),u=f/D,k<P?(k=S?P-S/2.5*(f/8):P,I=c.abs(k-g),u=I/f):k>0&&(k=S?S/2.5*(f/8):0,I=c.abs(g)+k,u=I/f),{destination:c.round(k),duration:u}};var L=m("transform");return y.extend(y,{hasTransform:L!==!1,hasPerspective:m("perspective")in x,hasTouch:"ontouchstart"in ce,hasPointer:!!(ce.PointerEvent||ce.MSPointerEvent),hasTransition:m("transition")in x}),y.isBadAndroid=function(){var g=ce.navigator.appVersion;if(/Android/.test(g)&&!/Chrome\/\d/.test(g)){var E=g.match(/Safari\/(\d+.\d)/);return E&&typeof E=="object"&&E.length>=2?parseFloat(E[1])<535.19:!0}else return!1}(),y.extend(y.style={},{transform:L,transitionTimingFunction:m("transitionTimingFunction"),transitionDuration:m("transitionDuration"),transitionDelay:m("transitionDelay"),transformOrigin:m("transformOrigin"),touchAction:m("touchAction")}),y.hasClass=function(g,E){var C=new RegExp("(^|\\s)"+E+"(\\s|$)");return C.test(g.className)},y.addClass=function(g,E){if(!y.hasClass(g,E)){var C=g.className.split(" ");C.push(E),g.className=C.join(" ")}},y.removeClass=function(g,E){if(y.hasClass(g,E)){var C=new RegExp("(^|\\s)"+E+"(\\s|$)","g");g.className=g.className.replace(C," ")}},y.offset=function(g){for(var E=-g.offsetLeft,C=-g.offsetTop;g=g.offsetParent;)E-=g.offsetLeft,C-=g.offsetTop;return{left:E,top:C}},y.preventDefaultException=function(g,E){for(var C in E)if(E[C].test(g[C]))return!0;return!1},y.extend(y.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),y.extend(y.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(E){return E*(2-E)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(E){return c.sqrt(1- --E*E)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(E){var C=4;return(E=E-1)*E*((C+1)*E+C)+1}},bounce:{style:"",fn:function(E){return(E/=1)<1/2.75?7.5625*E*E:E<2/2.75?7.5625*(E-=1.5/2.75)*E+.75:E<2.5/2.75?7.5625*(E-=2.25/2.75)*E+.9375:7.5625*(E-=2.625/2.75)*E+.984375}},elastic:{style:"",fn:function(E){var C=.22,P=.4;return E===0?0:E==1?1:P*c.pow(2,-10*E)*c.sin((E-C/4)*(2*c.PI)/C)+1}}}),y.tap=function(g,E){var C=Z.createEvent("Event");C.initEvent(E,!0,!0),C.pageX=g.pageX,C.pageY=g.pageY,g.target.dispatchEvent(C)},y.click=function(g){var E=g.target,C;/(SELECT|INPUT|TEXTAREA)/i.test(E.tagName)||(C=Z.createEvent(ce.MouseEvent?"MouseEvents":"Event"),C.initEvent("click",!0,!0),C.view=g.view||ce,C.detail=1,C.screenX=E.screenX||0,C.screenY=E.screenY||0,C.clientX=E.clientX||0,C.clientY=E.clientY||0,C.ctrlKey=!!g.ctrlKey,C.altKey=!!g.altKey,C.shiftKey=!!g.shiftKey,C.metaKey=!!g.metaKey,C.button=0,C.relatedTarget=null,C._constructed=!0,E.dispatchEvent(C))},y.getTouchAction=function(g,E){var C="none";return g==="vertical"?C="pan-y":g==="horizontal"&&(C="pan-x"),E&&C!="none"&&(C+=" pinch-zoom"),C},y.getRect=function(g){if(g instanceof SVGElement){var E=g.getBoundingClientRect();return{top:E.top,left:E.left,width:E.width,height:E.height}}else return{top:g.offsetTop,left:g.offsetLeft,width:g.offsetWidth,height:g.offsetHeight}},y}();function b(y,x){this.wrapper=typeof y=="string"?Z.querySelector(y):y,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!d.hasPointer,disableTouch:d.hasPointer||!d.hasTouch,disableMouse:d.hasPointer||d.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:typeof ce.onmousedown>"u"};for(var A in x)this.options[A]=x[A];this.translateZ=this.options.HWCompositing&&d.hasPerspective?" translateZ(0)":"",this.options.useTransition=d.hasTransition&&this.options.useTransition,this.options.useTransform=d.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?d.ease[this.options.bounceEasing]||d.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===void 0?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),!this.options.useTransition&&!this.options.useTransform&&(/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative")),this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.probeType==3&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}b.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(x){x.target!=this.scroller||!this.isInTransition||(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(x){if(d.eventType[x.type]!=1){var A;if(x.which?A=x.button:A=x.button<2?0:x.button==4?1:2,A!==0)return}if(!(!this.enabled||this.initiated&&d.eventType[x.type]!==this.initiated)&&!(this.options.ignoreEventException&&this.options.ignoreEventException(x))){this.options.preventDefault&&!d.isBadAndroid&&!d.preventDefaultException(x.target,this.options.preventDefaultException)&&x.preventDefault();var m=x.touches?x.touches[0]:x,L;this.initiated=d.eventType[x.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=d.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,L=this.getComputedPosition(),this._translate(c.round(L.x),c.round(L.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=m.pageX,this.pointY=m.pageY,this._execEvent("beforeScrollStart")}},_move:function(x){if(!(!this.enabled||d.eventType[x.type]!==this.initiated)&&!(this.options.ignoreEventException&&this.options.ignoreEventException(x))){this.options.preventDefault&&x.preventDefault();var A=x.touches?x.touches[0]:x,m=A.pageX-this.pointX,L=A.pageY-this.pointY,g=d.getTime(),E,C,P,S;if(this.pointX=A.pageX,this.pointY=A.pageY,this.distX+=m,this.distY+=L,P=c.abs(this.distX),S=c.abs(this.distY),!(g-this.endTime>300&&P<10&&S<10)){if(!this.directionLocked&&!this.options.freeScroll&&(P>S+this.options.directionLockThreshold?this.directionLocked="h":S>=P+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")x.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}L=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")x.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}m=0}m=this.hasHorizontalScroll?m:0,L=this.hasVerticalScroll?L:0,E=this.x+m,C=this.y+L,(E>0||E<this.maxScrollX)&&(E=this.options.bounce?this.x+m/3:E>0?0:this.maxScrollX),(C>0||C<this.maxScrollY)&&(C=this.options.bounce?this.y+L/3:C>0?0:this.maxScrollY),this.directionX=m>0?-1:m<0?1:0,this.directionY=L>0?-1:L<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(E,C),g-this.startTime>300&&(this.startTime=g,this.startX=this.x,this.startY=this.y,this.options.probeType==1&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(x){if(!(!this.enabled||d.eventType[x.type]!==this.initiated)){this.options.preventDefault&&!d.preventDefaultException(x.target,this.options.preventDefaultException)&&x.preventDefault();var A=x.changedTouches?x.changedTouches[0]:x,m,L,g=d.getTime()-this.startTime,E=c.round(this.x),C=c.round(this.y),P=c.abs(E-this.startX),S=c.abs(C-this.startY),D=0,I="";if(this.isInTransition=0,this.initiated=0,this.endTime=d.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(E,C),!this.moved){this.options.tap&&d.tap(x,this.options.tap),this.options.click&&d.click(x),this._execEvent("scrollCancel");return}if(this._events.flick&&g<200&&P<100&&S<100){this._execEvent("flick");return}if(this.options.momentum&&g<300&&(m=this.hasHorizontalScroll?d.momentum(this.x,this.startX,g,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:E,duration:0},L=this.hasVerticalScroll?d.momentum(this.y,this.startY,g,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:C,duration:0},E=m.destination,C=L.destination,D=c.max(m.duration,L.duration),this.isInTransition=1),this.options.snap){var f=this._nearestSnap(E,C);this.currentPage=f,D=this.options.snapSpeed||c.max(c.max(c.min(c.abs(E-f.x),1e3),c.min(c.abs(C-f.y),1e3)),300),E=f.x,C=f.y,this.directionX=0,this.directionY=0,I=this.options.bounceEasing}if(E!=this.x||C!=this.y){(E>0||E<this.maxScrollX||C>0||C<this.maxScrollY)&&(I=d.ease.quadratic),this.scrollTo(E,C,D,I);return}this._execEvent("scrollEnd")}}},_resize:function(){var x=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){x.refresh()},this.options.resizePolling)},resetPosition:function(x){var A=this.x,m=this.y;return x=x||0,!this.hasHorizontalScroll||this.x>0?A=0:this.x<this.maxScrollX&&(A=this.maxScrollX),!this.hasVerticalScroll||this.y>0?m=0:this.y<this.maxScrollY&&(m=this.maxScrollY),A==this.x&&m==this.y?!1:(this.scrollTo(A,m,x,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){d.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var x=d.getRect(this.scroller);this.scrollerWidth=x.width,this.scrollerHeight=x.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,d.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[d.style.touchAction]=d.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[d.style.touchAction]||(this.wrapper.style[d.style.touchAction]=d.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=d.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(x,A){this._events[x]||(this._events[x]=[]),this._events[x].push(A)},off:function(x,A){if(this._events[x]){var m=this._events[x].indexOf(A);m>-1&&this._events[x].splice(m,1)}},_execEvent:function(x){if(this._events[x]){var A=0,m=this._events[x].length;if(m)for(;A<m;A++)this._events[x][A].apply(this,[].slice.call(arguments,1))}},scrollBy:function(x,A,m,L){x=this.x+x,A=this.y+A,m=m||0,this.scrollTo(x,A,m,L)},scrollTo:function(x,A,m,L){L=L||d.ease.circular,this.isInTransition=this.options.useTransition&&m>0;var g=this.options.useTransition&&L.style;!m||g?(g&&(this._transitionTimingFunction(L.style),this._transitionTime(m)),this._translate(x,A)):this._animate(x,A,m,L.fn)},scrollToElement:function(x,A,m,L,g){if(x=x.nodeType?x:this.scroller.querySelector(x),!!x){var E=d.offset(x);E.left-=this.wrapperOffset.left,E.top-=this.wrapperOffset.top;var C=d.getRect(x),P=d.getRect(this.wrapper);m===!0&&(m=c.round(C.width/2-P.width/2)),L===!0&&(L=c.round(C.height/2-P.height/2)),E.left-=m||0,E.top-=L||0,E.left=E.left>0?0:E.left<this.maxScrollX?this.maxScrollX:E.left,E.top=E.top>0?0:E.top<this.maxScrollY?this.maxScrollY:E.top,A=A==null||A==="auto"?c.max(c.abs(this.x-E.left),c.abs(this.y-E.top)):A,this.scrollTo(E.left,E.top,A,g)}},_transitionTime:function(x){if(this.options.useTransition){x=x||0;var A=d.style.transitionDuration;if(A){if(this.scrollerStyle[A]=x+"ms",!x&&d.isBadAndroid){this.scrollerStyle[A]="0.0001ms";var m=this;a(function(){m.scrollerStyle[A]==="0.0001ms"&&(m.scrollerStyle[A]="0s")})}if(this.indicators)for(var L=this.indicators.length;L--;)this.indicators[L].transitionTime(x)}}},_transitionTimingFunction:function(x){if(this.scrollerStyle[d.style.transitionTimingFunction]=x,this.indicators)for(var A=this.indicators.length;A--;)this.indicators[A].transitionTimingFunction(x)},_translate:function(x,A){if(this.options.useTransform?this.scrollerStyle[d.style.transform]="translate("+x+"px,"+A+"px)"+this.translateZ:(x=c.round(x),A=c.round(A),this.scrollerStyle.left=x+"px",this.scrollerStyle.top=A+"px"),this.x=x,this.y=A,this.indicators)for(var m=this.indicators.length;m--;)this.indicators[m].updatePosition()},_initEvents:function(x){var A=x?d.removeEvent:d.addEvent,m=this.options.bindToWrapper?this.wrapper:ce;A(ce,"orientationchange",this),A(ce,"resize",this),this.options.click&&A(this.wrapper,"click",this,!0),this.options.disableMouse||(A(this.wrapper,"mousedown",this),A(m,"mousemove",this),A(m,"mousecancel",this),A(m,"mouseup",this)),d.hasPointer&&!this.options.disablePointer&&(A(this.wrapper,d.prefixPointerEvent("pointerdown"),this),A(m,d.prefixPointerEvent("pointermove"),this),A(m,d.prefixPointerEvent("pointercancel"),this),A(m,d.prefixPointerEvent("pointerup"),this)),d.hasTouch&&!this.options.disableTouch&&(A(this.wrapper,"touchstart",this),A(m,"touchmove",this),A(m,"touchcancel",this),A(m,"touchend",this)),A(this.scroller,"transitionend",this),A(this.scroller,"webkitTransitionEnd",this),A(this.scroller,"oTransitionEnd",this),A(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var x=ce.getComputedStyle(this.scroller,null),A,m;return this.options.useTransform?(x=x[d.style.transform].split(")")[0].split(", "),A=+(x[12]||x[4]),m=+(x[13]||x[5])):(A=+x.left.replace(/[^-\d.]/g,""),m=+x.top.replace(/[^-\d.]/g,"")),{x:A,y:m}},_initIndicators:function(){var x=this.options.interactiveScrollbars,A=typeof this.options.scrollbars!="string",m=[],L,g=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(L={el:w("v",x,this.options.scrollbars),interactive:x,defaultScrollbars:!0,customStyle:A,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(L.el),m.push(L)),this.options.scrollX&&(L={el:w("h",x,this.options.scrollbars),interactive:x,defaultScrollbars:!0,customStyle:A,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(L.el),m.push(L))),this.options.indicators&&(m=m.concat(this.options.indicators));for(var E=m.length;E--;)this.indicators.push(new T(this,m[E]));function C(P){if(g.indicators)for(var S=g.indicators.length;S--;)P.call(g.indicators[S])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){C(function(){this.fade()})}),this.on("scrollCancel",function(){C(function(){this.fade()})}),this.on("scrollStart",function(){C(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){C(function(){this.fade(1,!0)})})),this.on("refresh",function(){C(function(){this.refresh()})}),this.on("destroy",function(){C(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){d.addEvent(this.wrapper,"wheel",this),d.addEvent(this.wrapper,"mousewheel",this),d.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,d.removeEvent(this.wrapper,"wheel",this),d.removeEvent(this.wrapper,"mousewheel",this),d.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(x){if(this.enabled){if(x.metaKey||x.ctrlKey||x.buttons===4)return!0;x.preventDefault();var A,m,L,g,E=this;if(this.wheelTimeout===void 0&&E._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){E.options.snap||E._execEvent("scrollEnd"),E.wheelTimeout=void 0},400),"deltaX"in x)x.deltaMode===1?(A=-x.deltaX*this.options.mouseWheelSpeed,m=-x.deltaY*this.options.mouseWheelSpeed):(A=-x.deltaX,m=-x.deltaY);else if("wheelDeltaX"in x)A=x.wheelDeltaX/120*this.options.mouseWheelSpeed,m=x.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in x)A=m=x.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in x)A=m=-x.detail/3*this.options.mouseWheelSpeed;else return;if(A*=this.options.invertWheelDirection,m*=this.options.invertWheelDirection,this.options.snap){L=this.currentPage.pageX,g=this.currentPage.pageY,A>0?L--:A<0&&L++,m>0?g--:m<0&&g++,this.goToPage(L,g);return}L=this.x+c.round(this.hasHorizontalScroll?A:0),g=this.y+c.round(this.hasVerticalScroll?m:0),this.directionX=A>0?-1:A<0?1:0,this.directionY=m>0?-1:m<0?1:0,L>0?L=0:L<this.maxScrollX&&(L=this.maxScrollX),g>0?g=0:g<this.maxScrollY&&(g=this.maxScrollY),this.scrollTo(L,g,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var x=0,A,m=0,L,g,E,C=0,P,S=this.options.snapStepX||this.wrapperWidth,D=this.options.snapStepY||this.wrapperHeight,I,f;if(this.pages=[],!(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight)){if(this.options.snap===!0)for(g=c.round(S/2),E=c.round(D/2);C>-this.scrollerWidth;){for(this.pages[x]=[],A=0,P=0;P>-this.scrollerHeight;)this.pages[x][A]={x:c.max(C,this.maxScrollX),y:c.max(P,this.maxScrollY),width:S,height:D,cx:C-g,cy:P-E},P-=D,A++;C-=S,x++}else for(I=this.options.snap,A=I.length,L=-1;x<A;x++)f=d.getRect(I[x]),(x===0||f.left<=d.getRect(I[x-1]).left)&&(m=0,L++),this.pages[m]||(this.pages[m]=[]),C=c.max(-f.left,this.maxScrollX),P=c.max(-f.top,this.maxScrollY),g=C-c.round(f.width/2),E=P-c.round(f.height/2),this.pages[m][L]={x:C,y:P,width:f.width,height:f.height,cx:g,cy:E},C>this.maxScrollX&&m++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var x=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,x)})},_nearestSnap:function(x,A){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var m=0,L=this.pages.length,g=0;if(c.abs(x-this.absStartX)<this.snapThresholdX&&c.abs(A-this.absStartY)<this.snapThresholdY)return this.currentPage;for(x>0?x=0:x<this.maxScrollX&&(x=this.maxScrollX),A>0?A=0:A<this.maxScrollY&&(A=this.maxScrollY);m<L;m++)if(x>=this.pages[m][0].cx){x=this.pages[m][0].x;break}for(L=this.pages[m].length;g<L;g++)if(A>=this.pages[0][g].cy){A=this.pages[0][g].y;break}return m==this.currentPage.pageX&&(m+=this.directionX,m<0?m=0:m>=this.pages.length&&(m=this.pages.length-1),x=this.pages[m][0].x),g==this.currentPage.pageY&&(g+=this.directionY,g<0?g=0:g>=this.pages[0].length&&(g=this.pages[0].length-1),A=this.pages[0][g].y),{x,y:A,pageX:m,pageY:g}},goToPage:function(x,A,m,L){L=L||this.options.bounceEasing,x>=this.pages.length?x=this.pages.length-1:x<0&&(x=0),A>=this.pages[x].length?A=this.pages[x].length-1:A<0&&(A=0);var g=this.pages[x][A].x,E=this.pages[x][A].y;m=m===void 0?this.options.snapSpeed||c.max(c.max(c.min(c.abs(g-this.x),1e3),c.min(c.abs(E-this.y),1e3)),300):m,this.currentPage={x:g,y:E,pageX:x,pageY:A},this.scrollTo(g,E,m,L)},next:function(x,A){var m=this.currentPage.pageX,L=this.currentPage.pageY;m++,m>=this.pages.length&&this.hasVerticalScroll&&(m=0,L++),this.goToPage(m,L,x,A)},prev:function(x,A){var m=this.currentPage.pageX,L=this.currentPage.pageY;m--,m<0&&this.hasVerticalScroll&&(m=0,L--),this.goToPage(m,L,x,A)},_initKeys:function(x){var A={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},m;if(typeof this.options.keyBindings=="object")for(m in this.options.keyBindings)typeof this.options.keyBindings[m]=="string"&&(this.options.keyBindings[m]=this.options.keyBindings[m].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(m in A)this.options.keyBindings[m]=this.options.keyBindings[m]||A[m];d.addEvent(ce,"keydown",this),this.on("destroy",function(){d.removeEvent(ce,"keydown",this)})},_key:function(x){if(this.enabled){var A=this.options.snap,m=A?this.currentPage.pageX:this.x,L=A?this.currentPage.pageY:this.y,g=d.getTime(),E=this.keyTime||0,C=.25,P;switch(this.options.useTransition&&this.isInTransition&&(P=this.getComputedPosition(),this._translate(c.round(P.x),c.round(P.y)),this.isInTransition=!1),this.keyAcceleration=g-E<200?c.min(this.keyAcceleration+C,50):0,x.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?m+=A?1:this.wrapperWidth:L+=A?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?m-=A?1:this.wrapperWidth:L-=A?1:this.wrapperHeight;break;case this.options.keyBindings.end:m=A?this.pages.length-1:this.maxScrollX,L=A?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:m=0,L=0;break;case this.options.keyBindings.left:m+=A?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:L+=A?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:m-=A?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:L-=A?1:5+this.keyAcceleration>>0;break;default:return}if(A){this.goToPage(m,L);return}m>0?(m=0,this.keyAcceleration=0):m<this.maxScrollX&&(m=this.maxScrollX,this.keyAcceleration=0),L>0?(L=0,this.keyAcceleration=0):L<this.maxScrollY&&(L=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(m,L,0),this.keyTime=g}},_animate:function(x,A,m,L){var g=this,E=this.x,C=this.y,P=d.getTime(),S=P+m;function D(){var I=d.getTime(),f,k,u;if(I>=S){g.isAnimating=!1,g._translate(x,A),g.resetPosition(g.options.bounceTime)||g._execEvent("scrollEnd");return}I=(I-P)/m,u=L(I),f=(x-E)*u+E,k=(A-C)*u+C,g._translate(f,k),g.isAnimating&&a(D),g.options.probeType==3&&g._execEvent("scroll")}this.isAnimating=!0,D()},handleEvent:function(x){switch(x.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(x);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(x);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(x);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(x);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(x);break;case"keydown":this._key(x);break;case"click":this.enabled&&!x._constructed&&(x.preventDefault(),x.stopPropagation());break}}};function w(y,x,A){var m=Z.createElement("div"),L=Z.createElement("div");return A===!0&&(m.style.cssText="position:absolute;z-index:9999",L.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),L.className="iScrollIndicator",y=="h"?(A===!0&&(m.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",L.style.height="100%"),m.className="iScrollHorizontalScrollbar"):(A===!0&&(m.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",L.style.width="100%"),m.className="iScrollVerticalScrollbar"),m.style.cssText+=";overflow:hidden",x||(m.style.pointerEvents="none"),m.appendChild(L),m}function T(y,x){this.wrapper=typeof x.el=="string"?Z.querySelector(x.el):x.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=y,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var A in x)this.options[A]=x[A];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(d.addEvent(this.indicator,"touchstart",this),d.addEvent(ce,"touchend",this)),this.options.disablePointer||(d.addEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this),d.addEvent(ce,d.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(d.addEvent(this.indicator,"mousedown",this),d.addEvent(ce,"mouseup",this))),this.options.fade){this.wrapperStyle[d.style.transform]=this.scroller.translateZ;var m=d.style.transitionDuration;if(!m)return;this.wrapperStyle[m]=d.isBadAndroid?"0.0001ms":"0ms";var L=this;d.isBadAndroid&&a(function(){L.wrapperStyle[m]==="0.0001ms"&&(L.wrapperStyle[m]="0s")}),this.wrapperStyle.opacity="0"}}T.prototype={handleEvent:function(x){switch(x.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(x);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(x);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(x);break}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(d.removeEvent(this.indicator,"touchstart",this),d.removeEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this),d.removeEvent(this.indicator,"mousedown",this),d.removeEvent(ce,"touchmove",this),d.removeEvent(ce,d.prefixPointerEvent("pointermove"),this),d.removeEvent(ce,"mousemove",this),d.removeEvent(ce,"touchend",this),d.removeEvent(ce,d.prefixPointerEvent("pointerup"),this),d.removeEvent(ce,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(x){var A=x.touches?x.touches[0]:x;x.preventDefault(),x.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=A.pageX,this.lastPointY=A.pageY,this.startTime=d.getTime(),this.options.disableTouch||d.addEvent(ce,"touchmove",this),this.options.disablePointer||d.addEvent(ce,d.prefixPointerEvent("pointermove"),this),this.options.disableMouse||d.addEvent(ce,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(x){var A=x.touches?x.touches[0]:x,m,L,g,E,C=d.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,m=A.pageX-this.lastPointX,this.lastPointX=A.pageX,L=A.pageY-this.lastPointY,this.lastPointY=A.pageY,g=this.x+m,E=this.y+L,this._pos(g,E),this.scroller.options.probeType==1&&C-this.startTime>300?(this.startTime=C,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),x.preventDefault(),x.stopPropagation()},_end:function(x){if(this.initiated){if(this.initiated=!1,x.preventDefault(),x.stopPropagation(),d.removeEvent(ce,"touchmove",this),d.removeEvent(ce,d.prefixPointerEvent("pointermove"),this),d.removeEvent(ce,"mousemove",this),this.scroller.options.snap){var A=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),m=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-A.x),1e3),c.min(c.abs(this.scroller.y-A.y),1e3)),300);(this.scroller.x!=A.x||this.scroller.y!=A.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=A,this.scroller.scrollTo(A.x,A.y,m,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(x){x=x||0;var A=d.style.transitionDuration;if(A&&(this.indicatorStyle[A]=x+"ms",!x&&d.isBadAndroid)){this.indicatorStyle[A]="0.0001ms";var m=this;a(function(){m.indicatorStyle[A]==="0.0001ms"&&(m.indicatorStyle[A]="0s")})}},transitionTimingFunction:function(x){this.indicatorStyle[d.style.transitionTimingFunction]=x},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(d.addClass(this.wrapper,"iScrollBothScrollbars"),d.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(d.removeClass(this.wrapper,"iScrollBothScrollbars"),d.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),d.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var x=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,A=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(x<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=c.max(this.indicatorWidth+x,8),this.indicatorStyle.width=this.width+"px"),x=this.minBoundaryX):x>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=c.max(this.indicatorWidth-(x-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",x=this.maxPosX+this.indicatorWidth-this.width):x=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),A<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=c.max(this.indicatorHeight+A*3,8),this.indicatorStyle.height=this.height+"px"),A=this.minBoundaryY):A>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=c.max(this.indicatorHeight-(A-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",A=this.maxPosY+this.indicatorHeight-this.height):A=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=x,this.y=A,this.scroller.options.useTransform?this.indicatorStyle[d.style.transform]="translate("+x+"px,"+A+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=x+"px",this.indicatorStyle.top=A+"px")},_pos:function(x,A){x<0?x=0:x>this.maxPosX&&(x=this.maxPosX),A<0?A=0:A>this.maxPosY&&(A=this.maxPosY),x=this.options.listenX?c.round(x/this.sizeRatioX):this.scroller.x,A=this.options.listenY?c.round(A/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(x,A)},fade:function(x,A){if(!(A&&!this.visible)){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var m=x?250:500,L=x?0:300;x=x?"1":"0",this.wrapperStyle[d.style.transitionDuration]=m+"ms",this.fadeTimeout=setTimeout(function(g){this.wrapperStyle.opacity=g,this.visible=+g}.bind(this,x),L)}}},b.utils=d,ce.IScroll=b})(window,document,Math)},82888:function(ce){(function(Z){var c,a={},d={16:!1,18:!1,17:!1,91:!1},b="all",w={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},T={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220,numpad_subtract:109,numpad_add:107,numpad_0:96,numpad_1:97,numpad_2:98},y=function(Y){return T[Y]||Y.toUpperCase().charCodeAt(0)},x=[];for(c=1;c<20;c++)T["f"+c]=111+c;function A(z,Y){for(var X=z.length;X--;)if(z[X]===Y)return X;return-1}function m(z,Y){if(z.length!=Y.length)return!1;for(var X=0;X<z.length;X++)if(z[X]!==Y[X])return!1;return!0}var L={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function g(z){for(c in d)d[c]=z[L[c]]}function E(z){var Y,X,q,_,ee,oe;if(Y=z.keyCode,A(x,Y)==-1&&x.push(Y),(Y==93||Y==224)&&(Y=91),Y in d){d[Y]=!0;for(q in w)w[q]==Y&&(S[q]=!0);return}if(g(z),!!S.filter.call(this,z)&&Y in a){for(oe=O(),_=0;_<a[Y].length;_++)if(X=a[Y][_],X.scope==oe||X.scope=="all"){ee=X.mods.length>0;for(q in d)(!d[q]&&A(X.mods,+q)>-1||d[q]&&A(X.mods,+q)==-1)&&(ee=!1);(X.mods.length==0&&!d[16]&&!d[18]&&!d[17]&&!d[91]||ee)&&(S.track.call(this,X),X.method(z,X)===!1&&(z.preventDefault?z.preventDefault():z.returnValue=!1,z.stopPropagation&&z.stopPropagation(),z.cancelBubble&&(z.cancelBubble=!0)))}}}function C(z){var Y=z.keyCode,X,q=A(x,Y);if(q>=0&&x.splice(q,1),(Y==93||Y==224)&&(Y=91),Y in d){d[Y]=!1;for(X in w)w[X]==Y&&(S[X]=!1)}}function P(){for(c in d)d[c]=!1;for(c in w)S[c]=!1}function S(z,Y,X){var q,_;q=j(z),X===void 0&&(X=Y,Y="all");for(var ee=0;ee<q.length;ee++)_=[],z=q[ee].split("+"),z.length>1&&(_=W(z),z=[z[z.length-1]]),z=z[0],z=y(z),z in a||(a[z]=[]),a[z].push({shortcut:q[ee],scope:Y,method:X,key:q[ee],mods:_})}function D(z,Y){var X,q,_=[],ee,oe,pe;for(X=j(z),oe=0;oe<X.length;oe++){if(q=X[oe].split("+"),q.length>1&&(_=W(q)),z=q[q.length-1],z=y(z),Y===void 0&&(Y=O()),!a[z])return;for(ee=0;ee<a[z].length;ee++)pe=a[z][ee],pe.scope===Y&&m(pe.mods,_)&&(a[z][ee]={})}}function I(z){return typeof z=="string"&&(z=y(z)),A(x,z)!=-1}function f(){return x.slice(0)}function k(z){var Y=(z.target||z.srcElement).tagName;return!(Y=="INPUT"||Y=="SELECT"||Y=="TEXTAREA")}function u(z){}for(c in w)S[c]=!1;function H(z){b=z||"all"}function O(){return b||"all"}function F(z){var Y,X,q;for(Y in a)for(X=a[Y],q=0;q<X.length;)X[q].scope===z?X.splice(q,1):q++}function j(z){var Y;return z=z.replace(/\s/g,""),Y=z.split(","),Y[Y.length-1]==""&&(Y[Y.length-2]+=","),Y}function W(z){for(var Y=z.slice(0,z.length-1),X=0;X<Y.length;X++)Y[X]=w[Y[X]];return Y}function V(z,Y,X){z.addEventListener?z.addEventListener(Y,X,!1):z.attachEvent&&z.attachEvent("on"+Y,function(){X(window.event)})}V(document,"keydown",function(z){E(z)}),V(document,"keyup",C),V(window,"focus",P);var G=Z.key;function R(){var z=Z.key;return Z.key=G,z}Z.key=S,Z.key.setScope=H,Z.key.getScope=O,Z.key.deleteScope=F,Z.key.filter=k,Z.key.isPressed=I,Z.key.getPressedKeyCodes=f,Z.key.noConflict=R,Z.key.unbind=D,Z.key.track=u,ce.exports=S})(window)},34268:function(){(function(ce,Z){ce.Shake=Z(ce,ce.document)})(typeof window<"u"?window:this,function(ce,Z){"use strict";function c(a){if(this.hasDeviceMotion="ondevicemotion"in ce,this.options={threshold:15,timeout:1e3},typeof a=="object")for(var d in a)a.hasOwnProperty(d)&&(this.options[d]=a[d]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,typeof Z.CustomEvent=="function")this.event=new Z.CustomEvent("shake",{bubbles:!0,cancelable:!0});else if(typeof Z.createEvent=="function")this.event=Z.createEvent("Event"),this.event.initEvent("shake",!0,!0);else return!1}return c.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},c.prototype.start=function(){this.reset(),this.hasDeviceMotion&&ce.addEventListener("devicemotion",this,!1)},c.prototype.stop=function(){this.hasDeviceMotion&&ce.removeEventListener("devicemotion",this,!1),this.reset()},c.prototype.devicemotion=function(a){var d=a.accelerationIncludingGravity;if(d){var b,w,T=0,y=0,x=0;if(this.lastX===null&&this.lastY===null&&this.lastZ===null){this.lastX=d.x,this.lastY=d.y,this.lastZ=d.z;return}T=Math.abs(this.lastX-d.x),y=Math.abs(this.lastY-d.y),x=Math.abs(this.lastZ-d.z),(T>this.options.threshold&&y>this.options.threshold||T>this.options.threshold&&x>this.options.threshold||y>this.options.threshold&&x>this.options.threshold)&&(b=new Date,w=b.getTime()-this.lastTime.getTime(),w>this.options.timeout&&(ce.dispatchEvent(this.event),this.lastTime=new Date)),this.lastX=d.x,this.lastY=d.y,this.lastZ=d.z}},c.prototype.handleEvent=function(a){if(typeof this[a.type]=="function")return this[a.type](a)},c})},68633:function(ce,Z,c){"use strict";c.d(Z,{$t:function(){return y},Js:function(){return g},OK:function(){return A},Py:function(){return a},Qd:function(){return m},Qg:function(){return L},TG:function(){return w},Uf:function(){return S},_G:function(){return O},aj:function(){return b},dM:function(){return D},jk:function(){return E},qb:function(){return T},v1:function(){return C},w_:function(){return d},y7:function(){return x}});var a="projectMetaCid",d="refProjectMetaCid",b="screenGlueCid",w="refScreenGlueCid",T="screenMetaCid",y="refScreenMetaCid",x="screenStateCid",A="refScreenStateCid",m="itemGroupCid",L="itemCid",g="refItemCid",E="refExternalUpperCid",C="refExternalArtboardCid",P="default",S={[a]:"p",[b]:"sg",[T]:"s",[x]:"ss",[m]:"ig",[L]:"i"},D=function(W){return""+(W||"")+Date.now().toString(36)+Math.random().toString(36).slice(2,8)},I=function(){return D(S[a])},f=function(){return D(S[T])},k=function(){return D(S[b])},u=function(){return D(S[x])},H=function(){return D(S[m])},O=function(){return D(S[L])},F=function(V,G){return V===void 0&&(V=new Map),G===void 0&&(G=new Set),{cidMap:V,dedupCidSet:G,onCid:function(z,Y){if(!(Y===d||Y===w||Y===y||Y===A||Y===g||Y===E||Y===C||V.has(z))){var X;do X=D(S[Y]);while(G.has(X));V.set(z,X),G.add(X)}},getCid:function(z,Y){return Y===E||Y===C?z:V.get(z)||z}}},j=function(V,G){return V===void 0&&(V=new Map),G===void 0&&(G=new Set),{cidMap:V,dedupCidSet:G,onCid:function(z,Y){if(!(Y===d||Y===w||Y===y||Y===A||Y===g||Y===E||Y===C||Y===T||Y===x||z===P||V.has(z))){var X;do X=D(S[Y]);while(G.has(X));V.set(z,X),G.add(X)}},getCid:function(z,Y){return Y===E||Y===C?z:V.get(z)||z}}}},46048:function(ce,Z,c){"use strict";c.d(Z,{$:function(){return ee},$h:function(){return ve},A1:function(){return q},A6:function(){return P.A6},AZ:function(){return Y},J4:function(){return P.GQ},Je:function(){return z},Jn:function(){return Re},Lc:function(){return Ke},Qt:function(){return pe},RD:function(){return P.RD},U2:function(){return S.U2},Wj:function(){return L},b7:function(){return R},cM:function(){return P.cM},ci:function(){return Pe},iO:function(){return P.iO},l1:function(){return _},l_:function(){return Ne},lu:function(){return E.lu},mb:function(){return g.m},qE:function(){return X},xc:function(){return ht}});var a=c(98059),d=c.n(a),b=c(25370),w=c.n(b),T=c(14839),y=c.n(T),x=c(48441),A=c.n(x),m=c(7485),L=c(55584),g=c(7683),E=c(52948),C=c(47297),P=c(50969),S=c(73914);function D(Ge,vt){return k(Ge)||f(Ge,vt)||O(Ge,vt)||I()}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(Ge,vt){var St=Ge==null?null:typeof Symbol<"u"&&Ge[Symbol.iterator]||Ge["@@iterator"];if(St!=null){var wt,zt,Wt,Lt,Nt=[],Gt=!0,Kt=!1;try{if(Wt=(St=St.call(Ge)).next,vt===0){if(Object(St)!==St)return;Gt=!1}else for(;!(Gt=(wt=Wt.call(St)).done)&&(Nt.push(wt.value),Nt.length!==vt);Gt=!0);}catch(vr){Kt=!0,zt=vr}finally{try{if(!Gt&&St.return!=null&&(Lt=St.return(),Object(Lt)!==Lt))return}finally{if(Kt)throw zt}}return Nt}}function k(Ge){if(Array.isArray(Ge))return Ge}function u(Ge){return j(Ge)||F(Ge)||O(Ge)||H()}function H(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(Ge,vt){if(Ge){if(typeof Ge=="string")return W(Ge,vt);var St=Object.prototype.toString.call(Ge).slice(8,-1);if(St==="Object"&&Ge.constructor&&(St=Ge.constructor.name),St==="Map"||St==="Set")return Array.from(Ge);if(St==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(St))return W(Ge,vt)}}function F(Ge){if(typeof Symbol<"u"&&Ge[Symbol.iterator]!=null||Ge["@@iterator"]!=null)return Array.from(Ge)}function j(Ge){if(Array.isArray(Ge))return W(Ge)}function W(Ge,vt){(vt==null||vt>Ge.length)&&(vt=Ge.length);for(var St=0,wt=new Array(vt);St<vt;St++)wt[St]=Ge[St];return wt}var V=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,G={OPEN_MODAL_STACK:[]};function R(Ge){return G.OPEN_MODAL_STACK.indexOf(Ge)}function z(){var Ge=G.OPEN_MODAL_STACK;return Ge.length===0||Ge.every(function(vt){return!vt.state.isOpen})}function Y(Ge){return Object.assign(G,{OPEN_MODAL_STACK:[Ge].concat(u(G.OPEN_MODAL_STACK))})}function X(Ge){return Object.assign(G,{OPEN_MODAL_STACK:G.OPEN_MODAL_STACK.filter(function(vt){return vt!==Ge})})}function q(Ge){return w()(Ge).join(" ")}function _(Ge,vt){var St=Ge.propTypes,wt=St===void 0?{}:St,zt=Object.keys(wt);return Object.entries(vt).reduce(function(Wt,Lt){var Nt=D(Lt,2),Gt=Nt[0],Kt=Nt[1];return zt.includes(Gt)?Wt:Object.assign(Wt,{[Gt]:Kt})},{})}function ee(Ge,vt){return vt===void 0&&(vt=document),vt.querySelector(Ge)}function oe(Ge,vt){return vt===void 0&&(vt=document),Array.from(vt.querySelectorAll(Ge))}function pe(Ge,vt){var St=Object.assign(document.createElement("div"),{className:vt});return Ge.appendChild(St),St}function ve(Ge){!Ge||!(Ge instanceof Element)||Ge.addEventListener("wheel",function(vt){var St=Ge.scrollTop,wt=Ge.scrollHeight,zt=Ge.getBoundingClientRect(),Wt=zt.height,Lt=vt.deltaY*-1,Nt=Lt>0,Gt=function(){return vt.stopPropagation(),vt.preventDefault(),!1};if(!Nt&&-Lt>wt-Wt-St)return Ge.scrollTop=wt,Gt();if(Nt&&Lt>St)return Ge.scrollTop=0,Gt()})}function Pe(Ge){var vt=document.documentElement,St=document.body,wt=ee(".ContentRoot"),zt=window,Wt=zt.innerWidth,Lt=zt.scrollX,Nt=zt.scrollY,Gt=d()(Ge)?Ge:St.classList.toggle("is-content-fixed");return d()(Ge)&&St.classList[Ge?"add":"remove"]("is-content-fixed"),wt&&(Gt?(wt.style.left="-"+Lt+"px",wt.style.top="-"+Nt+"px",window.scrollTo(Math.max((vt.scrollWidth-Wt)/2,0),0)):window.scrollTo(Math.abs(parseInt(wt.style.left,10)),Math.abs(parseInt(wt.style.top,10)))),Gt}function Re(Ge,vt){return A()(Ge)||y()(Ge)||(0,m.isValidElement)(Ge)?Ge:Ge[vt||"label"]?Ge[vt||"label"]:void 0}function Ne(Ge){return A()(Ge)||y()(Ge)?String(Ge):Ge.value||Ge.label?String(Ge.value||Ge.label):void 0}function Be(Ge){return new Set(Array.from(Ge||[]).map(String))}function Ke(Ge,vt){return!!vt&&Ne(Ge)===String(vt)}function Ve(Ge,vt){return Be(vt).has(Ne(Ge))}function ht(Ge){return Ge!==""&&y()(Number(Ge))?Number(Ge):""}},97279:function(ce){var Z={utf8:{stringToBytes:function(a){return Z.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(Z.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var d=[],b=0;b<a.length;b++)d.push(a.charCodeAt(b)&255);return d},bytesToString:function(a){for(var d=[],b=0;b<a.length;b++)d.push(String.fromCharCode(a[b]));return d.join("")}}};ce.exports=Z},55983:function(ce){(function(){var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c={rotl:function(d,b){return d<<b|d>>>32-b},rotr:function(d,b){return d<<32-b|d>>>b},endian:function(d){if(d.constructor==Number)return c.rotl(d,8)&16711935|c.rotl(d,24)&4278255360;for(var b=0;b<d.length;b++)d[b]=c.endian(d[b]);return d},randomBytes:function(d){for(var b=[];d>0;d--)b.push(Math.floor(Math.random()*256));return b},bytesToWords:function(d){for(var b=[],w=0,T=0;w<d.length;w++,T+=8)b[T>>>5]|=d[w]<<24-T%32;return b},wordsToBytes:function(d){for(var b=[],w=0;w<d.length*32;w+=8)b.push(d[w>>>5]>>>24-w%32&255);return b},bytesToHex:function(d){for(var b=[],w=0;w<d.length;w++)b.push((d[w]>>>4).toString(16)),b.push((d[w]&15).toString(16));return b.join("")},hexToBytes:function(d){for(var b=[],w=0;w<d.length;w+=2)b.push(parseInt(d.substr(w,2),16));return b},bytesToBase64:function(d){for(var b=[],w=0;w<d.length;w+=3)for(var T=d[w]<<16|d[w+1]<<8|d[w+2],y=0;y<4;y++)w*8+y*6<=d.length*8?b.push(Z.charAt(T>>>6*(3-y)&63)):b.push("=");return b.join("")},base64ToBytes:function(d){d=d.replace(/[^A-Z0-9+\/]/ig,"");for(var b=[],w=0,T=0;w<d.length;T=++w%4)T!=0&&b.push((Z.indexOf(d.charAt(w-1))&Math.pow(2,-2*T+8)-1)<<T*2|Z.indexOf(d.charAt(w))>>>6-T*2);return b}};ce.exports=c})()},58569:function(ce){function Z(me,He){return d(me)||a(me,He)||T(me,He)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(me,He){var Ze=me==null?null:typeof Symbol<"u"&&me[Symbol.iterator]||me["@@iterator"];if(Ze!=null){var tt,gt,Mt,Rt,or=[],bt=!0,Ut=!1;try{if(Mt=(Ze=Ze.call(me)).next,He===0){if(Object(Ze)!==Ze)return;bt=!1}else for(;!(bt=(tt=Mt.call(Ze)).done)&&(or.push(tt.value),or.length!==He);bt=!0);}catch(Yt){Ut=!0,gt=Yt}finally{try{if(!bt&&Ze.return!=null&&(Rt=Ze.return(),Object(Rt)!==Rt))return}finally{if(Ut)throw gt}}return or}}function d(me){if(Array.isArray(me))return me}function b(me){return x(me)||y(me)||T(me)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(me,He){if(me){if(typeof me=="string")return A(me,He);var Ze=Object.prototype.toString.call(me).slice(8,-1);if(Ze==="Object"&&me.constructor&&(Ze=me.constructor.name),Ze==="Map"||Ze==="Set")return Array.from(me);if(Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return A(me,He)}}function y(me){if(typeof Symbol<"u"&&me[Symbol.iterator]!=null||me["@@iterator"]!=null)return Array.from(me)}function x(me){if(Array.isArray(me))return A(me)}function A(me,He){(He==null||He>me.length)&&(He=me.length);for(var Ze=0,tt=new Array(He);Ze<He;Ze++)tt[Ze]=me[Ze];return tt}function m(me,He){if(typeof He!="function"&&He!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(He&&He.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),He&&L(me,He)}function L(me,He){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,gt){return tt.__proto__=gt,tt},L(me,He)}function g(me){var He=P();return function(){var tt=S(me),gt;if(He){var Mt=S(this).constructor;gt=Reflect.construct(tt,arguments,Mt)}else gt=tt.apply(this,arguments);return E(this,gt)}}function E(me,He){if(He&&(typeof He=="object"||typeof He=="function"))return He;if(He!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(me)}function C(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(me){return!1}}function S(me){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ze){return Ze.__proto__||Object.getPrototypeOf(Ze)},S(me)}function D(me,He){if(!(me instanceof He))throw new TypeError("Cannot call a class as a function")}function I(me,He){for(var Ze=0;Ze<He.length;Ze++){var tt=He[Ze];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(me,k(tt.key),tt)}}function f(me,He,Ze){return He&&I(me.prototype,He),Ze&&I(me,Ze),Object.defineProperty(me,"prototype",{writable:!1}),me}function k(me){var He=u(me,"string");return typeof He=="symbol"?He:String(He)}function u(me,He){if(typeof me!="object"||me===null)return me;var Ze=me[Symbol.toPrimitive];if(Ze!==void 0){var tt=Ze.call(me,He||"default");if(typeof tt!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(He==="string"?String:Number)(me)}function H(me){return me instanceof Map?me.clear=me.delete=me.set=function(){throw new Error("map is read-only")}:me instanceof Set&&(me.add=me.clear=me.delete=function(){throw new Error("set is read-only")}),Object.freeze(me),Object.getOwnPropertyNames(me).forEach(function(He){var Ze=me[He];typeof Ze=="object"&&!Object.isFrozen(Ze)&&H(Ze)}),me}var O=H,F=H;O.default=F;var j=function(){function me(He){D(this,me),He.data===void 0&&(He.data={}),this.data=He.data,this.isMatchIgnored=!1}return f(me,[{key:"ignoreMatch",value:function(){this.isMatchIgnored=!0}}]),me}();function W(me){return me.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function V(me){var He=Object.create(null);for(var Ze in me)He[Ze]=me[Ze];for(var tt=arguments.length,gt=new Array(tt>1?tt-1:0),Mt=1;Mt<tt;Mt++)gt[Mt-1]=arguments[Mt];return gt.forEach(function(Rt){for(var or in Rt)He[or]=Rt[or]}),He}var G="</span>",R=function(He){return!!He.kind},z=function(){function me(He,Ze){D(this,me),this.buffer="",this.classPrefix=Ze.classPrefix,He.walk(this)}return f(me,[{key:"addText",value:function(Ze){this.buffer+=W(Ze)}},{key:"openNode",value:function(Ze){if(R(Ze)){var tt=Ze.kind;Ze.sublanguage||(tt=""+this.classPrefix+tt),this.span(tt)}}},{key:"closeNode",value:function(Ze){R(Ze)&&(this.buffer+=G)}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(Ze){this.buffer+='<span class="'+Ze+'">'}}]),me}(),Y=function(){function me(){D(this,me),this.rootNode={children:[]},this.stack=[this.rootNode]}return f(me,[{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}},{key:"add",value:function(Ze){this.top.children.push(Ze)}},{key:"openNode",value:function(Ze){var tt={kind:Ze,children:[]};this.add(tt),this.stack.push(tt)}},{key:"closeNode",value:function(){if(this.stack.length>1)return this.stack.pop()}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(Ze){return this.constructor._walk(Ze,this.rootNode)}}],[{key:"_walk",value:function(Ze,tt){var gt=this;return typeof tt=="string"?Ze.addText(tt):tt.children&&(Ze.openNode(tt),tt.children.forEach(function(Mt){return gt._walk(Ze,Mt)}),Ze.closeNode(tt)),Ze}},{key:"_collapse",value:function(Ze){typeof Ze!="string"&&Ze.children&&(Ze.children.every(function(tt){return typeof tt=="string"})?Ze.children=[Ze.children.join("")]:Ze.children.forEach(function(tt){me._collapse(tt)}))}}]),me}(),X=function(me){m(Ze,me);var He=g(Ze);function Ze(tt){var gt;return D(this,Ze),gt=He.call(this),gt.options=tt,gt}return f(Ze,[{key:"addKeyword",value:function(gt,Mt){gt!==""&&(this.openNode(Mt),this.addText(gt),this.closeNode())}},{key:"addText",value:function(gt){gt!==""&&this.add(gt)}},{key:"addSublanguage",value:function(gt,Mt){var Rt=gt.root;Rt.kind=Mt,Rt.sublanguage=!0,this.add(Rt)}},{key:"toHTML",value:function(){var gt=new z(this,this.options);return gt.value()}},{key:"finalize",value:function(){return!0}}]),Ze}(Y);function q(me){return new RegExp(me.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function _(me){return me?typeof me=="string"?me:me.source:null}function ee(){for(var me=arguments.length,He=new Array(me),Ze=0;Ze<me;Ze++)He[Ze]=arguments[Ze];var tt=He.map(function(gt){return _(gt)}).join("");return tt}function oe(){for(var me=arguments.length,He=new Array(me),Ze=0;Ze<me;Ze++)He[Ze]=arguments[Ze];var tt="("+He.map(function(gt){return _(gt)}).join("|")+")";return tt}function pe(me){return new RegExp(me.toString()+"|").exec("").length-1}function ve(me,He){var Ze=me&&me.exec(He);return Ze&&Ze.index===0}var Pe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Re(me,He){He===void 0&&(He="|");var Ze=0;return me.map(function(tt){Ze+=1;for(var gt=Ze,Mt=_(tt),Rt="";Mt.length>0;){var or=Pe.exec(Mt);if(!or){Rt+=Mt;break}Rt+=Mt.substring(0,or.index),Mt=Mt.substring(or.index+or[0].length),or[0][0]==="\\"&&or[1]?Rt+="\\"+String(Number(or[1])+gt):(Rt+=or[0],or[0]==="("&&Ze++)}return Rt}).map(function(tt){return"("+tt+")"}).join(He)}var Ne=/\b\B/,Be="[a-zA-Z]\\w*",Ke="[a-zA-Z_]\\w*",Ve="\\b\\d+(\\.\\d+)?",ht="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Ge="\\b(0b[01]+)",vt="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",St=function(He){He===void 0&&(He={});var Ze=/^#![ ]*\//;return He.binary&&(He.begin=ee(Ze,/.*\b/,He.binary,/\b.*/)),V({className:"meta",begin:Ze,end:/$/,relevance:0,"on:begin":function(gt,Mt){gt.index!==0&&Mt.ignoreMatch()}},He)},wt={begin:"\\\\[\\s\\S]",relevance:0},zt={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[wt]},Wt={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[wt]},Lt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Nt=function(He,Ze,tt){tt===void 0&&(tt={});var gt=V({className:"comment",begin:He,end:Ze,contains:[]},tt);return gt.contains.push(Lt),gt.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),gt},Gt=Nt("//","$"),Kt=Nt("/\\*","\\*/"),vr=Nt("#","$"),xt={className:"number",begin:Ve,relevance:0},Ee={className:"number",begin:ht,relevance:0},Le={className:"number",begin:Ge,relevance:0},Ae={className:"number",begin:Ve+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},we={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[wt,{begin:/\[/,end:/\]/,relevance:0,contains:[wt]}]}]},Ce={className:"title",begin:Be,relevance:0},Te={className:"title",begin:Ke,relevance:0},Ie={begin:"\\.\\s*"+Ke,relevance:0},Ue=function(He){return Object.assign(He,{"on:begin":function(tt,gt){gt.data._beginMatch=tt[1]},"on:end":function(tt,gt){gt.data._beginMatch!==tt[1]&&gt.ignoreMatch()}})},Oe=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Ne,IDENT_RE:Be,UNDERSCORE_IDENT_RE:Ke,NUMBER_RE:Ve,C_NUMBER_RE:ht,BINARY_NUMBER_RE:Ge,RE_STARTERS_RE:vt,SHEBANG:St,BACKSLASH_ESCAPE:wt,APOS_STRING_MODE:zt,QUOTE_STRING_MODE:Wt,PHRASAL_WORDS_MODE:Lt,COMMENT:Nt,C_LINE_COMMENT_MODE:Gt,C_BLOCK_COMMENT_MODE:Kt,HASH_COMMENT_MODE:vr,NUMBER_MODE:xt,C_NUMBER_MODE:Ee,BINARY_NUMBER_MODE:Le,CSS_NUMBER_MODE:Ae,REGEXP_MODE:we,TITLE_MODE:Ce,UNDERSCORE_TITLE_MODE:Te,METHOD_GUARD:Ie,END_SAME_AS_BEGIN:Ue});function ye(me,He){var Ze=me.input[me.index-1];Ze==="."&&He.ignoreMatch()}function be(me,He){He&&me.beginKeywords&&(me.begin="\\b("+me.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",me.__beforeBegin=ye,me.keywords=me.keywords||me.beginKeywords,delete me.beginKeywords,me.relevance===void 0&&(me.relevance=0))}function ke(me,He){Array.isArray(me.illegal)&&(me.illegal=oe.apply(void 0,b(me.illegal)))}function le(me,He){if(me.match){if(me.begin||me.end)throw new Error("begin & end are not supported with match");me.begin=me.match,delete me.match}}function xe(me,He){me.relevance===void 0&&(me.relevance=1)}var je=["of","and","for","in","not","or","if","then","parent","list","value"],We="keyword";function he(me,He,Ze){Ze===void 0&&(Ze=We);var tt={};return typeof me=="string"?gt(Ze,me.split(" ")):Array.isArray(me)?gt(Ze,me):Object.keys(me).forEach(function(Mt){Object.assign(tt,he(me[Mt],He,Mt))}),tt;function gt(Mt,Rt){He&&(Rt=Rt.map(function(or){return or.toLowerCase()})),Rt.forEach(function(or){var bt=or.split("|");tt[bt[0]]=[Mt,de(bt[0],bt[1])]})}}function de(me,He){return He?Number(He):_e(me)?0:1}function _e(me){return je.includes(me.toLowerCase())}function Qe(me,He){var Ze=He.plugins;function tt(bt,Ut){return new RegExp(_(bt),"m"+(me.case_insensitive?"i":"")+(Ut?"g":""))}var gt=function(){function bt(){D(this,bt),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return f(bt,[{key:"addRule",value:function(Yt,$t){$t.position=this.position++,this.matchIndexes[this.matchAt]=$t,this.regexes.push([$t,Yt]),this.matchAt+=pe(Yt)+1}},{key:"compile",value:function(){this.regexes.length===0&&(this.exec=function(){return null});var Yt=this.regexes.map(function($t){return $t[1]});this.matcherRe=tt(Re(Yt),!0),this.lastIndex=0}},{key:"exec",value:function(Yt){this.matcherRe.lastIndex=this.lastIndex;var $t=this.matcherRe.exec(Yt);if(!$t)return null;var br=$t.findIndex(function(ha,fn){return fn>0&&ha!==void 0}),dr=this.matchIndexes[br];return $t.splice(0,br),Object.assign($t,dr)}}]),bt}(),Mt=function(){function bt(){D(this,bt),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return f(bt,[{key:"getMatcher",value:function(Yt){if(this.multiRegexes[Yt])return this.multiRegexes[Yt];var $t=new gt;return this.rules.slice(Yt).forEach(function(br){var dr=Z(br,2),ha=dr[0],fn=dr[1];return $t.addRule(ha,fn)}),$t.compile(),this.multiRegexes[Yt]=$t,$t}},{key:"resumingScanAtSamePosition",value:function(){return this.regexIndex!==0}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(Yt,$t){this.rules.push([Yt,$t]),$t.type==="begin"&&this.count++}},{key:"exec",value:function(Yt){var $t=this.getMatcher(this.regexIndex);$t.lastIndex=this.lastIndex;var br=$t.exec(Yt);if(this.resumingScanAtSamePosition()&&!(br&&br.index===this.lastIndex)){var dr=this.getMatcher(0);dr.lastIndex=this.lastIndex+1,br=dr.exec(Yt)}return br&&(this.regexIndex+=br.position+1,this.regexIndex===this.count&&this.considerAll()),br}}]),bt}();function Rt(bt){var Ut=new Mt;return bt.contains.forEach(function(Yt){return Ut.addRule(Yt.begin,{rule:Yt,type:"begin"})}),bt.terminatorEnd&&Ut.addRule(bt.terminatorEnd,{type:"end"}),bt.illegal&&Ut.addRule(bt.illegal,{type:"illegal"}),Ut}function or(bt,Ut){var Yt,$t=bt;if(bt.isCompiled)return $t;[le].forEach(function(dr){return dr(bt,Ut)}),me.compilerExtensions.forEach(function(dr){return dr(bt,Ut)}),bt.__beforeBegin=null,[be,ke,xe].forEach(function(dr){return dr(bt,Ut)}),bt.isCompiled=!0;var br=null;if(typeof bt.keywords=="object"&&(br=bt.keywords.$pattern,delete bt.keywords.$pattern),bt.keywords&&(bt.keywords=he(bt.keywords,me.case_insensitive)),bt.lexemes&&br)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return br=br||bt.lexemes||/\w+/,$t.keywordPatternRe=tt(br,!0),Ut&&(bt.begin||(bt.begin=/\B|\b/),$t.beginRe=tt(bt.begin),bt.endSameAsBegin&&(bt.end=bt.begin),!bt.end&&!bt.endsWithParent&&(bt.end=/\B|\b/),bt.end&&($t.endRe=tt(bt.end)),$t.terminatorEnd=_(bt.end)||"",bt.endsWithParent&&Ut.terminatorEnd&&($t.terminatorEnd+=(bt.end?"|":"")+Ut.terminatorEnd)),bt.illegal&&($t.illegalRe=tt(bt.illegal)),bt.contains||(bt.contains=[]),bt.contains=(Yt=[]).concat.apply(Yt,b(bt.contains.map(function(dr){return qe(dr==="self"?bt:dr)}))),bt.contains.forEach(function(dr){or(dr,$t)}),bt.starts&&or(bt.starts,Ut),$t.matcher=Rt($t),$t}if(me.compilerExtensions||(me.compilerExtensions=[]),me.contains&&me.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return me.classNameAliases=V(me.classNameAliases||{}),or(me)}function et(me){return me?me.endsWithParent||et(me.starts):!1}function qe(me){return me.variants&&!me.cachedVariants&&(me.cachedVariants=me.variants.map(function(He){return V(me,{variants:null},He)})),me.cachedVariants?me.cachedVariants:et(me)?V(me,{starts:me.starts?V(me.starts):null}):Object.isFrozen(me)?V(me):me}var at="10.7.3";function Je(me){return!!(me||me==="")}function rt(me){var He={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!me.getLanguage(this.language))return console.warn('The language "'+this.language+'" you specified could not be found.'),this.unknownLanguage=!0,W(this.code);var tt={};return this.autoDetect?(tt=me.highlightAuto(this.code),this.detectedLanguage=tt.language):(tt=me.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),tt.value},autoDetect(){return!this.language||Je(this.autodetect)},ignoreIllegals(){return!0}},render(tt){return tt("pre",{},[tt("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},Ze={install(tt){tt.component("highlightjs",He)}};return{Component:He,VuePlugin:Ze}}var Et={"after:highlightElement":function(He){var Ze=He.el,tt=He.result,gt=He.text,Mt=lt(Ze);if(Mt.length){var Rt=document.createElement("div");Rt.innerHTML=tt.value,tt.value=Ot(Mt,lt(Rt),gt)}}};function ft(me){return me.nodeName.toLowerCase()}function lt(me){var He=[];return function Ze(tt,gt){for(var Mt=tt.firstChild;Mt;Mt=Mt.nextSibling)Mt.nodeType===3?gt+=Mt.nodeValue.length:Mt.nodeType===1&&(He.push({event:"start",offset:gt,node:Mt}),gt=Ze(Mt,gt),ft(Mt).match(/br|hr|img|input/)||He.push({event:"stop",offset:gt,node:Mt}));return gt}(me,0),He}function Ot(me,He,Ze){var tt=0,gt="",Mt=[];function Rt(){return!me.length||!He.length?me.length?me:He:me[0].offset!==He[0].offset?me[0].offset<He[0].offset?me:He:He[0].event==="start"?me:He}function or($t){function br(dr){return" "+dr.nodeName+'="'+W(dr.value)+'"'}gt+="<"+ft($t)+[].map.call($t.attributes,br).join("")+">"}function bt($t){gt+="</"+ft($t)+">"}function Ut($t){($t.event==="start"?or:bt)($t.node)}for(;me.length||He.length;){var Yt=Rt();if(gt+=W(Ze.substring(tt,Yt[0].offset)),tt=Yt[0].offset,Yt===me){Mt.reverse().forEach(bt);do Ut(Yt.splice(0,1)[0]),Yt=Rt();while(Yt===me&&Yt.length&&Yt[0].offset===tt);Mt.reverse().forEach(or)}else Yt[0].event==="start"?Mt.push(Yt[0].node):Mt.pop(),Ut(Yt.splice(0,1)[0])}return gt+W(Ze.substr(tt))}var kt={},Jt=function(He){console.error(He)},lr=function(He){for(var Ze,tt=arguments.length,gt=new Array(tt>1?tt-1:0),Mt=1;Mt<tt;Mt++)gt[Mt-1]=arguments[Mt];(Ze=console).log.apply(Ze,["WARN: "+He].concat(gt))},qt=function(He,Ze){kt[He+"/"+Ze]||(console.log("Deprecated as of "+He+". "+Ze),kt[He+"/"+Ze]=!0)},mr=W,cr=V,ur=Symbol("nomatch"),jr=function(He){var Ze=Object.create(null),tt=Object.create(null),gt=[],Mt=!0,Rt=/(^(<[^>]+>|\t|)+|\n)/gm,or="Could not find the language '{}', did you forget to load/include a language module?",bt={disableAutodetect:!0,name:"Plain text",contains:[]},Ut={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:X};function Yt(ct){return Ut.noHighlightRe.test(ct)}function $t(ct){var Ct=ct.className+" ";Ct+=ct.parentNode?ct.parentNode.className:"";var Bt=Ut.languageDetectRe.exec(Ct);if(Bt){var ar=Cn(Bt[1]);return ar||(lr(or.replace("{}",Bt[1])),lr("Falling back to no-highlight mode for this block.",ct)),ar?Bt[1]:"no-highlight"}return Ct.split(/\s+/).find(function(Sr){return Yt(Sr)||Cn(Sr)})}function br(ct,Ct,Bt,ar){var Sr="",Rn="";typeof Ct=="object"?(Sr=ct,Bt=Ct.ignoreIllegals,Rn=Ct.language,ar=void 0):(qt("10.7.0","highlight(lang, code, ...args) has been deprecated."),qt("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),Rn=ct,Sr=Ct);var un={code:Sr,language:Rn};hn("before:highlight",un);var tn=un.result?un.result:dr(un.language,un.code,Bt,ar);return tn.code=un.code,hn("after:highlight",tn),tn}function dr(ct,Ct,Bt,ar){function Sr(jt,Ft){var Qt=zn.case_insensitive?Ft[0].toLowerCase():Ft[0];return Object.prototype.hasOwnProperty.call(jt.keywords,Qt)&&jt.keywords[Qt]}function Rn(){if(!Xt.keywords){Hr.addText(Er);return}var jt=0;Xt.keywordPatternRe.lastIndex=0;for(var Ft=Xt.keywordPatternRe.exec(Er),Qt="";Ft;){Qt+=Er.substring(jt,Ft.index);var Ar=Sr(Xt,Ft);if(Ar){var Wr=Z(Ar,2),Yr=Wr[0],Xr=Wr[1];if(Hr.addText(Qt),Qt="",Oa+=Xr,Yr.startsWith("_"))Qt+=Ft[0];else{var La=zn.classNameAliases[Yr]||Yr;Hr.addKeyword(Ft[0],La)}}else Qt+=Ft[0];jt=Xt.keywordPatternRe.lastIndex,Ft=Xt.keywordPatternRe.exec(Er)}Qt+=Er.substr(jt),Hr.addText(Qt)}function un(){if(Er!==""){var jt=null;if(typeof Xt.subLanguage=="string"){if(!Ze[Xt.subLanguage]){Hr.addText(Er);return}jt=dr(Xt.subLanguage,Er,!0,Ei[Xt.subLanguage]),Ei[Xt.subLanguage]=jt.top}else jt=fn(Er,Xt.subLanguage.length?Xt.subLanguage:null);Xt.relevance>0&&(Oa+=jt.relevance),Hr.addSublanguage(jt.emitter,jt.language)}}function tn(){Xt.subLanguage!=null?un():Rn(),Er=""}function sa(jt){return jt.className&&Hr.openNode(zn.classNameAliases[jt.className]||jt.className),Xt=Object.create(jt,{parent:{value:Xt}}),Xt}function vn(jt,Ft,Qt){var Ar=ve(jt.endRe,Qt);if(Ar){if(jt["on:end"]){var Wr=new j(jt);jt["on:end"](Ft,Wr),Wr.isMatchIgnored&&(Ar=!1)}if(Ar){for(;jt.endsParent&&jt.parent;)jt=jt.parent;return jt}}if(jt.endsWithParent)return vn(jt.parent,Ft,Qt)}function $n(jt){return Xt.matcher.regexIndex===0?(Er+=jt[0],1):(ti=!0,0)}function Do(jt){for(var Ft=jt[0],Qt=jt.rule,Ar=new j(Qt),Wr=[Qt.__beforeBegin,Qt["on:begin"]],Yr=0,Xr=Wr;Yr<Xr.length;Yr++){var La=Xr[Yr];if(La&&(La(jt,Ar),Ar.isMatchIgnored))return $n(Ft)}return Qt&&Qt.endSameAsBegin&&(Qt.endRe=q(Ft)),Qt.skip?Er+=Ft:(Qt.excludeBegin&&(Er+=Ft),tn(),!Qt.returnBegin&&!Qt.excludeBegin&&(Er=Ft)),sa(Qt),Qt.returnBegin?0:Ft.length}function Ia(jt){var Ft=jt[0],Qt=Ct.substr(jt.index),Ar=vn(Xt,jt,Qt);if(!Ar)return ur;var Wr=Xt;Wr.skip?Er+=Ft:(Wr.returnEnd||Wr.excludeEnd||(Er+=Ft),tn(),Wr.excludeEnd&&(Er=Ft));do Xt.className&&Hr.closeNode(),!Xt.skip&&!Xt.subLanguage&&(Oa+=Xt.relevance),Xt=Xt.parent;while(Xt!==Ar.parent);return Ar.starts&&(Ar.endSameAsBegin&&(Ar.starts.endRe=Ar.endRe),sa(Ar.starts)),Wr.returnEnd?0:Ft.length}function Lo(){for(var jt=[],Ft=Xt;Ft!==zn;Ft=Ft.parent)Ft.className&&jt.unshift(Ft.className);jt.forEach(function(Qt){return Hr.openNode(Qt)})}var la={};function wi(jt,Ft){var Qt=Ft&&Ft[0];if(Er+=jt,Qt==null)return tn(),0;if(la.type==="begin"&&Ft.type==="end"&&la.index===Ft.index&&Qt===""){if(Er+=Ct.slice(Ft.index,Ft.index+1),!Mt){var Ar=new Error("0 width match regex");throw Ar.languageName=ct,Ar.badRule=la.rule,Ar}return 1}if(la=Ft,Ft.type==="begin")return Do(Ft);if(Ft.type==="illegal"&&!Bt){var Wr=new Error('Illegal lexeme "'+Qt+'" for mode "'+(Xt.className||"<unnamed>")+'"');throw Wr.mode=Xt,Wr}else if(Ft.type==="end"){var Yr=Ia(Ft);if(Yr!==ur)return Yr}if(Ft.type==="illegal"&&Qt==="")return 1;if(wn>1e5&&wn>Ft.index*3){var Xr=new Error("potential infinite loop, way more iterations than matches");throw Xr}return Er+=Qt,Qt.length}var zn=Cn(ct);if(!zn)throw Jt(or.replace("{}",ct)),new Error('Unknown language: "'+ct+'"');var No=Qe(zn,{plugins:gt}),ei="",Xt=ar||No,Ei={},Hr=new Ut.__emitter(Ut);Lo();var Er="",Oa=0,ca=0,wn=0,ti=!1;try{for(Xt.matcher.considerAll();;){wn++,ti?ti=!1:Xt.matcher.considerAll(),Xt.matcher.lastIndex=ca;var Da=Xt.matcher.exec(Ct);if(!Da)break;var jo=Ct.substring(ca,Da.index),Ai=wi(jo,Da);ca=Da.index+Ai}return wi(Ct.substr(ca)),Hr.closeAllNodes(),Hr.finalize(),ei=Hr.toHTML(),{relevance:Math.floor(Oa),value:ei,language:ct,illegal:!1,emitter:Hr,top:Xt}}catch(jt){if(jt.message&&jt.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:jt.message,context:Ct.slice(ca-100,ca+100),mode:jt.mode},sofar:ei,relevance:0,value:mr(Ct),emitter:Hr};if(Mt)return{illegal:!1,relevance:0,value:mr(Ct),emitter:Hr,language:ct,top:Xt,errorRaised:jt};throw jt}}function ha(ct){var Ct={relevance:0,emitter:new Ut.__emitter(Ut),value:mr(ct),illegal:!1,top:bt};return Ct.emitter.addText(ct),Ct}function fn(ct,Ct){Ct=Ct||Ut.languages||Object.keys(Ze);var Bt=ha(ct),ar=Ct.filter(Cn).filter(qa).map(function(vn){return dr(vn,ct,!1)});ar.unshift(Bt);var Sr=ar.sort(function(vn,$n){if(vn.relevance!==$n.relevance)return $n.relevance-vn.relevance;if(vn.language&&$n.language){if(Cn(vn.language).supersetOf===$n.language)return 1;if(Cn($n.language).supersetOf===vn.language)return-1}return 0}),Rn=Z(Sr,2),un=Rn[0],tn=Rn[1],sa=un;return sa.second_best=tn,sa}function Ao(ct){return Ut.tabReplace||Ut.useBR?ct.replace(Rt,function(Ct){return Ct==="\n"?Ut.useBR?"<br>":Ct:Ut.tabReplace?Ct.replace(/\t/g,Ut.tabReplace):Ct}):ct}function bi(ct,Ct,Bt){var ar=Ct?tt[Ct]:Bt;ct.classList.add("hljs"),ar&&ct.classList.add(ar)}var _a={"before:highlightElement":function(Ct){var Bt=Ct.el;Ut.useBR&&(Bt.innerHTML=Bt.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":function(Ct){var Bt=Ct.result;Ut.useBR&&(Bt.value=Bt.value.replace(/\n/g,"<br>"))}},Fl=/^(<[^>]+>|\t)+/gm,Ul={"after:highlightElement":function(Ct){var Bt=Ct.result;Ut.tabReplace&&(Bt.value=Bt.value.replace(Fl,function(ar){return ar.replace(/\t/g,Ut.tabReplace)}))}};function Ja(ct){var Ct=null,Bt=$t(ct);if(!Yt(Bt)){hn("before:highlightElement",{el:ct,language:Bt}),Ct=ct;var ar=Ct.textContent,Sr=Bt?br(ar,{language:Bt,ignoreIllegals:!0}):fn(ar);hn("after:highlightElement",{el:ct,result:Sr,text:ar}),ct.innerHTML=Sr.value,bi(ct,Bt,Sr.language),ct.result={language:Sr.language,re:Sr.relevance,relavance:Sr.relevance},Sr.second_best&&(ct.second_best={language:Sr.second_best.language,re:Sr.second_best.relevance,relavance:Sr.second_best.relevance})}}function Hl(ct){ct.useBR&&(qt("10.3.0","'useBR' will be removed entirely in v11.0"),qt("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),Ut=cr(Ut,ct)}var Wl=function ct(){if(!ct.called){ct.called=!0,qt("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead.");var Ct=document.querySelectorAll("pre code");Ct.forEach(Ja)}};function $l(){qt("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),xi=!0}var xi=!1;function Mo(){if(document.readyState==="loading"){xi=!0;return}var ct=document.querySelectorAll("pre code");ct.forEach(Ja)}function nr(){xi&&Mo()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",nr,!1);function sr(ct,Ct){var Bt=null;try{Bt=Ct(He)}catch(ar){if(Jt("Language definition for '{}' could not be registered.".replace("{}",ct)),Mt)Jt(ar);else throw ar;Bt=bt}Bt.name||(Bt.name=ct),Ze[ct]=Bt,Bt.rawDefinition=Ct.bind(null,He),Bt.aliases&&Ci(Bt.aliases,{languageName:ct})}function ne(ct){delete Ze[ct];for(var Ct=0,Bt=Object.keys(tt);Ct<Bt.length;Ct++){var ar=Bt[Ct];tt[ar]===ct&&delete tt[ar]}}function Po(){return Object.keys(Ze)}function oa(ct){qt("10.4.0","requireLanguage will be removed entirely in v11."),qt("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");var Ct=Cn(ct);if(Ct)return Ct;var Bt=new Error("The '{}' language is required, but not loaded.".replace("{}",ct));throw Bt}function Cn(ct){return ct=(ct||"").toLowerCase(),Ze[ct]||Ze[tt[ct]]}function Ci(ct,Ct){var Bt=Ct.languageName;typeof ct=="string"&&(ct=[ct]),ct.forEach(function(ar){tt[ar.toLowerCase()]=Bt})}function qa(ct){var Ct=Cn(ct);return Ct&&!Ct.disableAutodetect}function To(ct){ct["before:highlightBlock"]&&!ct["before:highlightElement"]&&(ct["before:highlightElement"]=function(Ct){ct["before:highlightBlock"](Object.assign({block:Ct.el},Ct))}),ct["after:highlightBlock"]&&!ct["after:highlightElement"]&&(ct["after:highlightElement"]=function(Ct){ct["after:highlightBlock"](Object.assign({block:Ct.el},Ct))})}function Wn(ct){To(ct),gt.push(ct)}function hn(ct,Ct){var Bt=ct;gt.forEach(function(ar){ar[Bt]&&ar[Bt](Ct)})}function Io(ct){return qt("10.2.0","fixMarkup will be removed entirely in v11.0"),qt("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),Ao(ct)}function Oo(ct){return qt("10.7.0","highlightBlock will be removed entirely in v12.0"),qt("10.7.0","Please use highlightElement now."),Ja(ct)}Object.assign(He,{highlight:br,highlightAuto:fn,highlightAll:Mo,fixMarkup:Io,highlightElement:Ja,highlightBlock:Oo,configure:Hl,initHighlighting:Wl,initHighlightingOnLoad:$l,registerLanguage:sr,unregisterLanguage:ne,listLanguages:Po,getLanguage:Cn,registerAliases:Ci,requireLanguage:oa,autoDetection:qa,inherit:cr,addPlugin:Wn,vuePlugin:rt(He).VuePlugin}),He.debugMode=function(){Mt=!1},He.safeMode=function(){Mt=!0},He.versionString=at;for(var Ta in Oe)typeof Oe[Ta]=="object"&&O(Oe[Ta]);return Object.assign(He,Oe),He.addPlugin(_a),He.addPlugin(Et),He.addPlugin(Ul),He},Zt=jr({});ce.exports=Zt},21546:function(ce){var Z=function(L){return{IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[L.APOS_STRING_MODE,L.QUOTE_STRING_MODE]}}},c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],a=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],d=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],b=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();function T(m){return m?typeof m=="string"?m:m.source:null}function y(m){return x("(?=",m,")")}function x(){for(var m=arguments.length,L=new Array(m),g=0;g<m;g++)L[g]=arguments[g];var E=L.map(function(C){return T(C)}).join("");return E}function A(m){var L=Z(m),g={className:"built_in",begin:/[\w-]+(?=\()/},E={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},C="and or not only",P=/@-?\w[\w]*(-\w+)*/,S="[a-zA-Z-][a-zA-Z0-9_-]*",D=[m.APOS_STRING_MODE,m.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[m.C_BLOCK_COMMENT_MODE,E,m.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+S,relevance:0},L.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+d.join("|")+")"},{begin:"::("+b.join("|")+")"}]},{className:"attribute",begin:"\\b("+w.join("|")+")\\b"},{begin:":",end:"[;}]",contains:[L.HEXCOLOR,L.IMPORTANT,m.CSS_NUMBER_MODE].concat(D,[{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},g])},{begin:y(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:P},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:C,attribute:a.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"}].concat(D,[m.CSS_NUMBER_MODE])}]},{className:"selector-tag",begin:"\\b("+c.join("|")+")\\b"}]}}ce.exports=A},4826:function(ce){var Z=function(A){return{IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[A.APOS_STRING_MODE,A.QUOTE_STRING_MODE]}}},c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],a=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],d=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],b=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse(),T=d.concat(b);function y(x){var A=Z(x),m=T,L="and or not only",g="[\\w-]+",E="("+g+"|@\\{"+g+"\\})",C=[],P=[],S=function(G){return{className:"string",begin:"~?"+G+".*?"+G}},D=function(G,R,z){return{className:G,begin:R,relevance:z}},I={$pattern:/[a-z-]+/,keyword:L,attribute:a.join(" ")},f={begin:"\\(",end:"\\)",contains:P,keywords:I,relevance:0};P.push(x.C_LINE_COMMENT_MODE,x.C_BLOCK_COMMENT_MODE,S("'"),S('"'),x.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},A.HEXCOLOR,f,D("variable","@@?"+g,10),D("variable","@\\{"+g+"\\}"),D("built_in","~?`[^`]*?`"),{className:"attribute",begin:g+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},A.IMPORTANT);var k=P.concat({begin:/\{/,end:/\}/,contains:C}),u={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(P)},H={begin:E+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},{className:"attribute",begin:"\\b("+w.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:P}}]},O={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:I,returnEnd:!0,contains:P,relevance:0}},F={className:"variable",variants:[{begin:"@"+g+"\\s*:",relevance:15},{begin:"@"+g}],starts:{end:"[;}]",returnEnd:!0,contains:k}},j={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:E,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[x.C_LINE_COMMENT_MODE,x.C_BLOCK_COMMENT_MODE,u,D("keyword","all\\b"),D("variable","@\\{"+g+"\\}"),{begin:"\\b("+c.join("|")+")\\b",className:"selector-tag"},D("selector-tag",E+"%?",0),D("selector-id","#"+E),D("selector-class","\\."+E,0),D("selector-tag","&",0),A.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+d.join("|")+")"},{className:"selector-pseudo",begin:"::("+b.join("|")+")"},{begin:"\\(",end:"\\)",contains:k},{begin:"!important"}]},W={begin:g+":(:)?"+("("+m.join("|")+")"),returnBegin:!0,contains:[j]};return C.push(x.C_LINE_COMMENT_MODE,x.C_BLOCK_COMMENT_MODE,O,F,W,H,j),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:C}}ce.exports=y},81582:function(ce){var Z=function(x){return{IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[x.APOS_STRING_MODE,x.QUOTE_STRING_MODE]}}},c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],a=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],d=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],b=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();function T(y){var x=Z(y),A=b,m=d,L="@[a-z-]+",g="and or not only",E="[a-zA-Z-][a-zA-Z0-9_-]*",C={className:"variable",begin:"(\\$"+E+")\\b"};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[y.C_LINE_COMMENT_MODE,y.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},x.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+c.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+m.join("|")+")"},{className:"selector-pseudo",begin:"::("+A.join("|")+")"},C,{begin:/\(/,end:/\)/,contains:[y.CSS_NUMBER_MODE]},{className:"attribute",begin:"\\b("+w.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:":",end:";",contains:[C,x.HEXCOLOR,y.CSS_NUMBER_MODE,y.QUOTE_STRING_MODE,y.APOS_STRING_MODE,x.IMPORTANT]},{begin:"@(page|font-face)",lexemes:L,keywords:"@page @font-face"},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:g,attribute:a.join(" ")},contains:[{begin:L,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},C,y.QUOTE_STRING_MODE,y.APOS_STRING_MODE,x.HEXCOLOR,y.CSS_NUMBER_MODE]}]}}ce.exports=T},6216:function(ce){var Z=function(x){return{IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[x.APOS_STRING_MODE,x.QUOTE_STRING_MODE]}}},c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],a=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],d=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],b=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();function T(y){var x=Z(y),A="and or not only",m={className:"variable",begin:"\\$"+y.IDENT_RE},L=["charset","css","debug","extend","font-face","for","import","include","keyframes","media","mixin","page","warn","while"],g="(?=[.\\s\\n[:,(])",E=["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"];return{name:"Stylus",aliases:["styl"],case_insensitive:!1,keywords:"if else for in",illegal:"("+E.join("|")+")",contains:[y.QUOTE_STRING_MODE,y.APOS_STRING_MODE,y.C_LINE_COMMENT_MODE,y.C_BLOCK_COMMENT_MODE,x.HEXCOLOR,{begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*"+g,className:"selector-class"},{begin:"#[a-zA-Z][a-zA-Z0-9_-]*"+g,className:"selector-id"},{begin:"\\b("+c.join("|")+")"+g,className:"selector-tag"},{className:"selector-pseudo",begin:"&?:("+d.join("|")+")"+g},{className:"selector-pseudo",begin:"&?::("+b.join("|")+")"+g},x.ATTRIBUTE_SELECTOR_MODE,{className:"keyword",begin:/@media/,starts:{end:/[{;}]/,keywords:{$pattern:/[a-z-]+/,keyword:A,attribute:a.join(" ")},contains:[y.CSS_NUMBER_MODE]}},{className:"keyword",begin:"@((-(o|moz|ms|webkit)-)?("+L.join("|")+"))\\b"},m,y.CSS_NUMBER_MODE,{className:"function",begin:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",illegal:"[\\n]",returnBegin:!0,contains:[{className:"title",begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{className:"params",begin:/\(/,end:/\)/,contains:[x.HEXCOLOR,m,y.APOS_STRING_MODE,y.CSS_NUMBER_MODE,y.QUOTE_STRING_MODE]}]},{className:"attribute",begin:"\\b("+w.join("|")+")\\b",starts:{end:/;|$/,contains:[x.HEXCOLOR,m,y.APOS_STRING_MODE,y.QUOTE_STRING_MODE,y.CSS_NUMBER_MODE,y.C_BLOCK_COMMENT_MODE,x.IMPORTANT],illegal:/\./,relevance:0}}]}}ce.exports=T},85766:function(ce){function Z(z,Y){var X=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!X){if(Array.isArray(z)||(X=d(z))||Y&&z&&typeof z.length=="number"){X&&(z=X);var q=0,_=function(){};return{s:_,n:function(){return q>=z.length?{done:!0}:{done:!1,value:z[q++]}},e:function(Pe){throw Pe},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ee=!0,oe=!1,pe;return{s:function(){X=X.call(z)},n:function(){var Pe=X.next();return ee=Pe.done,Pe},e:function(Pe){oe=!0,pe=Pe},f:function(){try{!ee&&X.return!=null&&X.return()}finally{if(oe)throw pe}}}}function c(z){return w(z)||b(z)||d(z)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(z,Y){if(z){if(typeof z=="string")return T(z,Y);var X=Object.prototype.toString.call(z).slice(8,-1);if(X==="Object"&&z.constructor&&(X=z.constructor.name),X==="Map"||X==="Set")return Array.from(z);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return T(z,Y)}}function b(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function w(z){if(Array.isArray(z))return T(z)}function T(z,Y){(Y==null||Y>z.length)&&(Y=z.length);for(var X=0,q=new Array(Y);X<Y;X++)q[X]=z[X];return q}function y(z){return z?typeof z=="string"?z:z.source:null}function x(z){return A("(?=",z,")")}function A(){for(var z=arguments.length,Y=new Array(z),X=0;X<z;X++)Y[X]=arguments[X];var q=Y.map(function(_){return y(_)}).join("");return q}function m(){for(var z=arguments.length,Y=new Array(z),X=0;X<z;X++)Y[X]=arguments[X];var q="("+Y.map(function(_){return y(_)}).join("|")+")";return q}var L=function(Y){return A(/\b/,Y,/\w$/.test(Y)?/\b/:/\B/)},g=["Protocol","Type"].map(L),E=["init","self"].map(L),C=["Any","Self"],P=["associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],S=["false","nil","true"],D=["assignment","associativity","higherThan","left","lowerThan","none","right"],I=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],f=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],k=m(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),u=m(k,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),H=A(k,u,"*"),O=m(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),F=m(O,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),j=A(O,F,"*"),W=A(/[A-Z]/,F,"*"),V=["autoclosure",A(/convention\(/,m("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",A(/objc\(/,j,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","testable","UIApplicationMain","unknown","usableFromInline"],G=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function R(z){var Y={match:/\s+/,relevance:0},X=z.COMMENT("/\\*","\\*/",{contains:["self"]}),q=[z.C_LINE_COMMENT_MODE,X],_={className:"keyword",begin:A(/\./,x(m.apply(void 0,c(g).concat(c(E))))),end:m.apply(void 0,c(g).concat(c(E))),excludeBegin:!0},ee={match:A(/\./,m.apply(void 0,P)),relevance:0},oe=P.filter(function(Je){return typeof Je=="string"}).concat(["_|0"]),pe=P.filter(function(Je){return typeof Je!="string"}).concat(C).map(L),ve={variants:[{className:"keyword",match:m.apply(void 0,c(pe).concat(c(E)))}]},Pe={$pattern:m(/\b\w+/,/#\w+/),keyword:oe.concat(I),literal:S},Re=[_,ee,ve],Ne={match:A(/\./,m.apply(void 0,f)),relevance:0},Be={className:"built_in",match:A(/\b/,m.apply(void 0,f),/(?=\()/)},Ke=[Ne,Be],Ve={match:/->/,relevance:0},ht={className:"operator",relevance:0,variants:[{match:H},{match:"\\.(\\.|"+u+")+"}]},Ge=[Ve,ht],vt="([0-9]_*)+",St="([0-9a-fA-F]_*)+",wt={className:"number",relevance:0,variants:[{match:"\\b("+vt+")(\\.("+vt+"))?"+("([eE][+-]?("+vt+"))?\\b")},{match:"\\b0x("+St+")(\\.("+St+"))?"+("([pP][+-]?("+vt+"))?\\b")},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},zt=function(rt){return rt===void 0&&(rt=""),{className:"subst",variants:[{match:A(/\\/,rt,/[0\\tnr"']/)},{match:A(/\\/,rt,/u\{[0-9a-fA-F]{1,8}\}/)}]}},Wt=function(rt){return rt===void 0&&(rt=""),{className:"subst",match:A(/\\/,rt,/[\t ]*(?:[\r\n]|\r\n)/)}},Lt=function(rt){return rt===void 0&&(rt=""),{className:"subst",label:"interpol",begin:A(/\\/,rt,/\(/),end:/\)/}},Nt=function(rt){return rt===void 0&&(rt=""),{begin:A(rt,/"""/),end:A(/"""/,rt),contains:[zt(rt),Wt(rt),Lt(rt)]}},Gt=function(rt){return rt===void 0&&(rt=""),{begin:A(rt,/"/),end:A(/"/,rt),contains:[zt(rt),Lt(rt)]}},Kt={className:"string",variants:[Nt(),Nt("#"),Nt("##"),Nt("###"),Gt(),Gt("#"),Gt("##"),Gt("###")]},vr={match:A(/`/,j,/`/)},xt={className:"variable",match:/\$\d+/},Ee={className:"variable",match:"\\$"+F+"+"},Le=[vr,xt,Ee],Ae={match:/(@|#)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:G,contains:[].concat(Ge,[wt,Kt])}]}},we={className:"keyword",match:A(/@/,m.apply(void 0,V))},Ce={className:"meta",match:A(/@/,j)},Te=[Ae,we,Ce],Ie={match:x(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:A(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,F,"+")},{className:"type",match:W,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:A(/\s+&\s+/,x(W)),relevance:0}]},Ue={begin:/</,end:/>/,keywords:Pe,contains:[].concat(q,Re,Te,[Ve,Ie])};Ie.contains.push(Ue);var Oe={match:A(j,/\s*:/),keywords:"_|0",relevance:0},ye={begin:/\(/,end:/\)/,relevance:0,keywords:Pe,contains:["self",Oe].concat(q,Re,Ke,Ge,[wt,Kt],Le,Te,[Ie])},be={beginKeywords:"func",contains:[{className:"title",match:m(vr.match,j,H),endsParent:!0,relevance:0},Y]},ke={begin:/</,end:/>/,contains:[].concat(q,[Ie])},le={begin:m(x(A(j,/\s*:/)),x(A(j,/\s+/,j,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:j}]},xe={begin:/\(/,end:/\)/,keywords:Pe,contains:[le].concat(q,Re,Ge,[wt,Kt],Te,[Ie,ye]),endsParent:!0,illegal:/["']/},je={className:"function",match:x(/\bfunc\b/),contains:[be,ke,xe,Y],illegal:[/\[/,/%/]},We={className:"function",match:/\b(subscript|init[?!]?)\s*(?=[<(])/,keywords:{keyword:"subscript init init? init!",$pattern:/\w+[?!]?/},contains:[ke,xe,Y],illegal:/\[|%/},he={beginKeywords:"operator",end:z.MATCH_NOTHING_RE,contains:[{className:"title",match:H,endsParent:!0,relevance:0}]},de={beginKeywords:"precedencegroup",end:z.MATCH_NOTHING_RE,contains:[{className:"title",match:W,relevance:0},{begin:/{/,end:/}/,relevance:0,endsParent:!0,keywords:[].concat(D,S),contains:[Ie]}]},_e=Z(Kt.variants),Qe;try{for(_e.s();!(Qe=_e.n()).done;){var et=Qe.value,qe=et.contains.find(function(Je){return Je.label==="interpol"});qe.keywords=Pe;var at=[].concat(Re,Ke,Ge,[wt,Kt],Le);qe.contains=[].concat(c(at),[{begin:/\(/,end:/\)/,contains:["self"].concat(c(at))}])}}catch(Je){_e.e(Je)}finally{_e.f()}return{name:"Swift",keywords:Pe,contains:[].concat(q,[je,We,{className:"class",beginKeywords:"struct protocol class extension enum",end:"\\{",excludeEnd:!0,keywords:Pe,contains:[z.inherit(z.TITLE_MODE,{begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})].concat(Re)},he,de,{beginKeywords:"import",end:/$/,contains:[].concat(q),relevance:0}],Re,Ke,Ge,[wt,Kt],Le,Te,[Ie,ye])}}ce.exports=R},52606:function(ce){function Z(T){return T?typeof T=="string"?T:T.source:null}function c(T){return d("(?=",T,")")}function a(T){return d("(",T,")?")}function d(){for(var T=arguments.length,y=new Array(T),x=0;x<T;x++)y[x]=arguments[x];var A=y.map(function(m){return Z(m)}).join("");return A}function b(){for(var T=arguments.length,y=new Array(T),x=0;x<T;x++)y[x]=arguments[x];var A="("+y.map(function(m){return Z(m)}).join("|")+")";return A}function w(T){var y=d(/[A-Z_]/,a(/[A-Z0-9_.-]*:/),/[A-Z0-9_.-]*/),x=/[A-Za-z0-9._:-]+/,A={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},m={begin:/\s/,contains:[{className:"meta-keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},L=T.inherit(m,{begin:/\(/,end:/\)/}),g=T.inherit(T.APOS_STRING_MODE,{className:"meta-string"}),E=T.inherit(T.QUOTE_STRING_MODE,{className:"meta-string"}),C={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:x,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[A]},{begin:/'/,end:/'/,contains:[A]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[m,E,g,L,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[m,L,E,g]}]}]},T.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},A,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[C],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[C],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:d(/</,c(d(y,b(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:y,relevance:0,starts:C}]},{className:"tag",begin:d(/<\//,c(d(y,/>/))),contains:[{className:"name",begin:y,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}ce.exports=w},85884:function(ce){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */ce.exports=function(a){return a!=null&&(Z(a)||c(a)||!!a._isBuffer)};function Z(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function c(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&Z(a.slice(0,0))}},92850:function(ce,Z,c){var a=c(30536),d=c(88625);function b(w,T,y){(y!==void 0&&!d(w[T],y)||y===void 0&&!(T in w))&&a(w,T,y)}ce.exports=b},94541:function(ce,Z,c){var a=c(63757),d=c(92850),b=c(5027),w=c(61317),T=c(14193),y=c(87102),x=c(27032);function A(m,L,g,E,C){m!==L&&b(L,function(P,S){if(C||(C=new a),T(P))w(m,L,S,g,A,E,C);else{var D=E?E(x(m,S),P,S+"",m,L,C):void 0;D===void 0&&(D=P),d(m,S,D)}},y)}ce.exports=A},61317:function(ce,Z,c){var a=c(92850),d=c(29687),b=c(61329),w=c(7058),T=c(26163),y=c(26242),x=c(62360),A=c(55928),m=c(50728),L=c(10265),g=c(14193),E=c(1656),C=c(56678),P=c(27032),S=c(90469);function D(I,f,k,u,H,O,F){var j=P(I,k),W=P(f,k),V=F.get(W);if(V){a(I,k,V);return}var G=O?O(j,W,k+"",I,f,F):void 0,R=G===void 0;if(R){var z=x(W),Y=!z&&m(W),X=!z&&!Y&&C(W);G=W,z||Y||X?x(j)?G=j:A(j)?G=w(j):Y?(R=!1,G=d(W,!0)):X?(R=!1,G=b(W,!0)):G=[]:E(W)||y(W)?(G=j,y(j)?G=S(j):(!g(j)||L(j))&&(G=T(W))):R=!1}R&&(F.set(W,G),H(G,W,u,O,F),F.delete(W)),a(I,k,G)}ce.exports=D},40498:function(ce,Z,c){var a=c(31143),d=c(61517),b=c(90446),w=c(49251),T=c(63874),y=c(67103),x=200;function A(m,L,g){var E=-1,C=d,P=m.length,S=!0,D=[],I=D;if(g)S=!1,C=b;else if(P>=x){var f=L?null:T(m);if(f)return y(f);S=!1,C=w,I=new a}else I=L?[]:D;e:for(;++E<P;){var k=m[E],u=L?L(k):k;if(k=g||k!==0?k:0,S&&u===u){for(var H=I.length;H--;)if(I[H]===u)continue e;L&&I.push(u),D.push(k)}else C(I,u,g)||(I!==D&&I.push(u),D.push(k))}return D}ce.exports=A},6714:function(ce,Z,c){var a=c(79570),d=c(98223);function b(w){return a(function(T,y){var x=-1,A=y.length,m=A>1?y[A-1]:void 0,L=A>2?y[2]:void 0;for(m=w.length>3&&typeof m=="function"?(A--,m):void 0,L&&d(y[0],y[1],L)&&(m=A<3?void 0:m,A=1),T=Object(T);++x<A;){var g=y[x];g&&w(T,g,x,m)}return T})}ce.exports=b},7571:function(ce,Z,c){var a=c(59691),d=c(72588),b=c(20766);function w(T){return function(y,x,A){var m=Object(y);if(!d(y)){var L=a(x,3);y=b(y),x=function(C){return L(m[C],C,m)}}var g=T(y,x,A);return g>-1?m[L?y[g]:g]:void 0}}ce.exports=w},49913:function(ce,Z,c){var a=c(4437),d=c(48026),b=c(926),w=c(90384),T=a.isFinite,y=Math.min;function x(A){var m=Math[A];return function(L,g){if(L=b(L),g=g==null?0:y(d(g),292),g&&T(L)){var E=(w(L)+"e").split("e"),C=m(E[0]+"e"+(+E[1]+g));return E=(w(C)+"e").split("e"),+(E[0]+"e"+(+E[1]-g))}return m(L)}}ce.exports=x},63874:function(ce,Z,c){var a=c(52766),d=c(62002),b=c(67103),w=1/0,T=a&&1/b(new a([,-0]))[1]==w?function(y){return new a(y)}:d;ce.exports=T},98223:function(ce,Z,c){var a=c(88625),d=c(72588),b=c(17440),w=c(14193);function T(y,x,A){if(!w(A))return!1;var m=typeof x;return(m=="number"?d(A)&&b(x,A.length):m=="string"&&x in A)?a(A[x],y):!1}ce.exports=T},27032:function(ce){function Z(c,a){if(!(a==="constructor"&&typeof c[a]=="function")&&a!="__proto__")return c[a]}ce.exports=Z},51514:function(ce,Z,c){var a=c(7571),d=c(5189),b=a(d);ce.exports=b},5189:function(ce,Z,c){var a=c(25452),d=c(59691),b=c(48026),w=Math.max;function T(y,x,A){var m=y==null?0:y.length;if(!m)return-1;var L=A==null?0:b(A);return L<0&&(L=w(m+L,0)),a(y,d(x,3),L)}ce.exports=T},6926:function(ce,Z,c){var a=c(94541),d=c(6714),b=d(function(w,T,y){a(w,T,y)});ce.exports=b},62002:function(ce){function Z(){}ce.exports=Z},37700:function(ce,Z,c){var a=c(49913),d=a("round");ce.exports=d},64728:function(ce,Z,c){var a=c(926),d=1/0,b=17976931348623157e292;function w(T){if(!T)return T===0?T:0;if(T=a(T),T===d||T===-d){var y=T<0?-1:1;return y*b}return T===T?T:0}ce.exports=w},48026:function(ce,Z,c){var a=c(64728);function d(b){var w=a(b),T=w%1;return w===w?T?w-T:w:0}ce.exports=d},90469:function(ce,Z,c){var a=c(32667),d=c(87102);function b(w){return a(w,d(w))}ce.exports=b},47049:function(ce,Z,c){var a=c(40498);function d(b){return b&&b.length?a(b):[]}ce.exports=d},75985:function(ce,Z,c){(function(){var a=c(55983),d=c(97279).utf8,b=c(85884),w=c(97279).bin,T=function y(x,A){x.constructor==String?A&&A.encoding==="binary"?x=w.stringToBytes(x):x=d.stringToBytes(x):b(x)?x=Array.prototype.slice.call(x,0):!Array.isArray(x)&&x.constructor!==Uint8Array&&(x=x.toString());for(var m=a.bytesToWords(x),L=x.length*8,g=1732584193,E=-271733879,C=-1732584194,P=271733878,S=0;S<m.length;S++)m[S]=(m[S]<<8|m[S]>>>24)&16711935|(m[S]<<24|m[S]>>>8)&4278255360;m[L>>>5]|=128<<L%32,m[(L+64>>>9<<4)+14]=L;for(var D=y._ff,I=y._gg,f=y._hh,k=y._ii,S=0;S<m.length;S+=16){var u=g,H=E,O=C,F=P;g=D(g,E,C,P,m[S+0],7,-680876936),P=D(P,g,E,C,m[S+1],12,-389564586),C=D(C,P,g,E,m[S+2],17,606105819),E=D(E,C,P,g,m[S+3],22,-1044525330),g=D(g,E,C,P,m[S+4],7,-176418897),P=D(P,g,E,C,m[S+5],12,1200080426),C=D(C,P,g,E,m[S+6],17,-1473231341),E=D(E,C,P,g,m[S+7],22,-45705983),g=D(g,E,C,P,m[S+8],7,1770035416),P=D(P,g,E,C,m[S+9],12,-1958414417),C=D(C,P,g,E,m[S+10],17,-42063),E=D(E,C,P,g,m[S+11],22,-1990404162),g=D(g,E,C,P,m[S+12],7,1804603682),P=D(P,g,E,C,m[S+13],12,-40341101),C=D(C,P,g,E,m[S+14],17,-1502002290),E=D(E,C,P,g,m[S+15],22,1236535329),g=I(g,E,C,P,m[S+1],5,-165796510),P=I(P,g,E,C,m[S+6],9,-1069501632),C=I(C,P,g,E,m[S+11],14,643717713),E=I(E,C,P,g,m[S+0],20,-373897302),g=I(g,E,C,P,m[S+5],5,-701558691),P=I(P,g,E,C,m[S+10],9,38016083),C=I(C,P,g,E,m[S+15],14,-660478335),E=I(E,C,P,g,m[S+4],20,-405537848),g=I(g,E,C,P,m[S+9],5,568446438),P=I(P,g,E,C,m[S+14],9,-1019803690),C=I(C,P,g,E,m[S+3],14,-187363961),E=I(E,C,P,g,m[S+8],20,1163531501),g=I(g,E,C,P,m[S+13],5,-1444681467),P=I(P,g,E,C,m[S+2],9,-51403784),C=I(C,P,g,E,m[S+7],14,1735328473),E=I(E,C,P,g,m[S+12],20,-1926607734),g=f(g,E,C,P,m[S+5],4,-378558),P=f(P,g,E,C,m[S+8],11,-2022574463),C=f(C,P,g,E,m[S+11],16,1839030562),E=f(E,C,P,g,m[S+14],23,-35309556),g=f(g,E,C,P,m[S+1],4,-1530992060),P=f(P,g,E,C,m[S+4],11,1272893353),C=f(C,P,g,E,m[S+7],16,-155497632),E=f(E,C,P,g,m[S+10],23,-1094730640),g=f(g,E,C,P,m[S+13],4,681279174),P=f(P,g,E,C,m[S+0],11,-358537222),C=f(C,P,g,E,m[S+3],16,-722521979),E=f(E,C,P,g,m[S+6],23,76029189),g=f(g,E,C,P,m[S+9],4,-640364487),P=f(P,g,E,C,m[S+12],11,-421815835),C=f(C,P,g,E,m[S+15],16,530742520),E=f(E,C,P,g,m[S+2],23,-995338651),g=k(g,E,C,P,m[S+0],6,-198630844),P=k(P,g,E,C,m[S+7],10,1126891415),C=k(C,P,g,E,m[S+14],15,-1416354905),E=k(E,C,P,g,m[S+5],21,-57434055),g=k(g,E,C,P,m[S+12],6,1700485571),P=k(P,g,E,C,m[S+3],10,-1894986606),C=k(C,P,g,E,m[S+10],15,-1051523),E=k(E,C,P,g,m[S+1],21,-2054922799),g=k(g,E,C,P,m[S+8],6,1873313359),P=k(P,g,E,C,m[S+15],10,-30611744),C=k(C,P,g,E,m[S+6],15,-1560198380),E=k(E,C,P,g,m[S+13],21,1309151649),g=k(g,E,C,P,m[S+4],6,-145523070),P=k(P,g,E,C,m[S+11],10,-1120210379),C=k(C,P,g,E,m[S+2],15,718787259),E=k(E,C,P,g,m[S+9],21,-343485551),g=g+u>>>0,E=E+H>>>0,C=C+O>>>0,P=P+F>>>0}return a.endian([g,E,C,P])};T._ff=function(y,x,A,m,L,g,E){var C=y+(x&A|~x&m)+(L>>>0)+E;return(C<<g|C>>>32-g)+x},T._gg=function(y,x,A,m,L,g,E){var C=y+(x&m|A&~m)+(L>>>0)+E;return(C<<g|C>>>32-g)+x},T._hh=function(y,x,A,m,L,g,E){var C=y+(x^A^m)+(L>>>0)+E;return(C<<g|C>>>32-g)+x},T._ii=function(y,x,A,m,L,g,E){var C=y+(A^(x|~m))+(L>>>0)+E;return(C<<g|C>>>32-g)+x},T._blocksize=16,T._digestsize=16,ce.exports=function(y,x){if(y==null)throw new Error("Illegal argument "+y);var A=a.wordsToBytes(T(y,x));return x&&x.asBytes?A:x&&x.asString?w.bytesToString(A):a.bytesToHex(A)}})()},46198:function(ce,Z,c){"use strict";function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(d){console.error(d)}}a(),ce.exports=c(23801)},73117:function(ce,Z,c){"use strict";ce.exports=c(24014)},89870:function(ce,Z,c){"use strict";c.d(Z,{Provider:function(){return a.zt},connect:function(){return a.$j},shallowEqual:function(){return a.wU},useDispatch:function(){return a.I0},useSelector:function(){return a.v9}});var a=c(79973),d=c(86312),b=c(26521);(0,b.F)(d.m)},7485:function(ce,Z,c){"use strict";ce.exports=c(67887)},16193:function(ce,Z,c){"use strict";var a,d=c(70103).compose;a=!0,Z.Uo=function(){if(arguments.length!==0)return typeof arguments[0]=="object"?d:d.apply(null,arguments)},a=function(){return function(b){return b}}},24978:function(ce,Z){"use strict";var c;c={value:!0};var a=Object.assign||function(y){for(var x=1;x<arguments.length;x++){var A=arguments[x];for(var m in A)Object.prototype.hasOwnProperty.call(A,m)&&(y[m]=A[m])}return y},d=function(){var x=null,A={},m=function(P){var S=A[P.type];return S&&S(x,P)},L=function(P){if(typeof P.getState!="function"||typeof P.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(x!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return x=P,function(S){return function(D){return m(D)===!0||S(D)}}},g=function(P,S){if(typeof P!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+P);if(typeof S!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+P+", "+S);A[P]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+P),A[P]=S},E=function(P){return Object.keys(P).forEach(function(S){return g(S,P[S])})};return{middleware:L,setEntry:g,setEntryMap:E}},b=function(x){if(x===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return x},setState:function(m){return x=m},wrapEntry:function(m){return function(L,g){return m(x,L,g)}}}},w=function(x,A){var m=A.getState,L=A.setState;return function(g,E){var C=E.type,P=E.payload;return C===x&&L(P),m()}},T=function(x,A){var m=A.getState,L=A.setState;return function(g,E){var C=E.type,P=E.payload;return C===x&&L(a({},m(),P)),m()}};Z.gk=d,Z.Z7=b,Z.jA=w,c=T},70103:function(ce,Z,c){"use strict";c.d(Z,{applyMiddleware:function(){return H},combineReducers:function(){return I},compose:function(){return u},createStore:function(){return E}});var a=c(91520);function d(O){return"Minified Redux error #"+O+"; visit https://redux.js.org/Errors?code="+O+" for the full message or use the non-minified dev environment for full errors. "}var b=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),w=function(){return Math.random().toString(36).substring(7).split("").join(".")},T={INIT:"@@redux/INIT"+w(),REPLACE:"@@redux/REPLACE"+w(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+w()}};function y(O){if(typeof O!="object"||O===null)return!1;for(var F=O;Object.getPrototypeOf(F)!==null;)F=Object.getPrototypeOf(F);return Object.getPrototypeOf(O)===F}function x(O){if(O===void 0)return"undefined";if(O===null)return"null";var F=typeof O;switch(F){case"boolean":case"string":case"number":case"symbol":case"function":return F}if(Array.isArray(O))return"array";if(L(O))return"date";if(m(O))return"error";var j=A(O);switch(j){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return j}return F.slice(8,-1).toLowerCase().replace(/\s/g,"")}function A(O){return typeof O.constructor=="function"?O.constructor.name:null}function m(O){return O instanceof Error||typeof O.message=="string"&&O.constructor&&typeof O.constructor.stackTraceLimit=="number"}function L(O){return O instanceof Date?!0:typeof O.toDateString=="function"&&typeof O.getDate=="function"&&typeof O.setDate=="function"}function g(O){var F=typeof O;return F}function E(O,F,j){var W;if(typeof F=="function"&&typeof j=="function"||typeof j=="function"&&typeof arguments[3]=="function")throw new Error(d(0));if(typeof F=="function"&&typeof j>"u"&&(j=F,F=void 0),typeof j<"u"){if(typeof j!="function")throw new Error(d(1));return j(E)(O,F)}if(typeof O!="function")throw new Error(d(2));var V=O,G=F,R=[],z=R,Y=!1;function X(){z===R&&(z=R.slice())}function q(){if(Y)throw new Error(d(3));return G}function _(ve){if(typeof ve!="function")throw new Error(d(4));if(Y)throw new Error(d(5));var Pe=!0;return X(),z.push(ve),function(){if(Pe){if(Y)throw new Error(d(6));Pe=!1,X();var Ne=z.indexOf(ve);z.splice(Ne,1),R=null}}}function ee(ve){if(!y(ve))throw new Error(d(7));if(typeof ve.type>"u")throw new Error(d(8));if(Y)throw new Error(d(9));try{Y=!0,G=V(G,ve)}finally{Y=!1}for(var Pe=R=z,Re=0;Re<Pe.length;Re++){var Ne=Pe[Re];Ne()}return ve}function oe(ve){if(typeof ve!="function")throw new Error(d(10));V=ve,ee({type:T.REPLACE})}function pe(){var ve,Pe=_;return ve={subscribe:function(Ne){if(typeof Ne!="object"||Ne===null)throw new Error(d(11));function Be(){Ne.next&&Ne.next(q())}Be();var Ke=Pe(Be);return{unsubscribe:Ke}}},ve[b]=function(){return this},ve}return ee({type:T.INIT}),W={dispatch:ee,subscribe:_,getState:q,replaceReducer:oe},W[b]=pe,W}var C=null;function P(O){typeof console<"u"&&typeof console.error=="function"&&console.error(O);try{throw new Error(O)}catch(F){}}function S(O,F,j,W){var V=Object.keys(F),G=j&&j.type===T.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(V.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!y(O))return"The "+G+' has unexpected type of "'+g(O)+'". Expected argument to be an object with the following '+('keys: "'+V.join('", "')+'"');var R=Object.keys(O).filter(function(z){return!F.hasOwnProperty(z)&&!W[z]});if(R.forEach(function(z){W[z]=!0}),!(j&&j.type===T.REPLACE)&&R.length>0)return"Unexpected "+(R.length>1?"keys":"key")+" "+('"'+R.join('", "')+'" found in '+G+". ")+"Expected to find one of the known reducer keys instead: "+('"'+V.join('", "')+'". Unexpected keys will be ignored.')}function D(O){Object.keys(O).forEach(function(F){var j=O[F],W=j(void 0,{type:T.INIT});if(typeof W>"u")throw new Error(d(12));if(typeof j(void 0,{type:T.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(d(13))})}function I(O){for(var F=Object.keys(O),j={},W=0;W<F.length;W++){var V=F[W];typeof O[V]=="function"&&(j[V]=O[V])}var G=Object.keys(j),R,z;try{D(j)}catch(Y){z=Y}return function(X,q){if(X===void 0&&(X={}),z)throw z;if(!1)var _;for(var ee=!1,oe={},pe=0;pe<G.length;pe++){var ve=G[pe],Pe=j[ve],Re=X[ve],Ne=Pe(Re,q);if(typeof Ne>"u"){var Be=q&&q.type;throw new Error(d(14))}oe[ve]=Ne,ee=ee||Ne!==Re}return ee=ee||G.length!==Object.keys(X).length,ee?oe:X}}function f(O,F){return function(){return F(O.apply(this,arguments))}}function k(O,F){if(typeof O=="function")return f(O,F);if(typeof O!="object"||O===null)throw new Error(d(16));var j={};for(var W in O){var V=O[W];typeof V=="function"&&(j[W]=f(V,F))}return j}function u(){for(var O=arguments.length,F=new Array(O),j=0;j<O;j++)F[j]=arguments[j];return F.length===0?function(W){return W}:F.length===1?F[0]:F.reduce(function(W,V){return function(){return W(V.apply(void 0,arguments))}})}function H(){for(var O=arguments.length,F=new Array(O),j=0;j<O;j++)F[j]=arguments[j];return function(W){return function(){var V=W.apply(void 0,arguments),G=function(){throw new Error(d(15))},R={getState:V.getState,dispatch:function(){return G.apply(void 0,arguments)}},z=F.map(function(Y){return Y(R)});return G=u.apply(void 0,z)(V.dispatch),(0,a.Z)((0,a.Z)({},V),{},{dispatch:G})}}}},91045:function(ce){(function(){"use strict";var Z=typeof window<"u"&&typeof window.document<"u"?window.document:{},c=ce.exports,a=function(){for(var w,T=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],y=0,x=T.length,A={};y<x;y++)if(w=T[y],w&&w[1]in Z){for(y=0;y<w.length;y++)A[T[0][y]]=w[y];return A}return!1}(),d={change:a.fullscreenchange,error:a.fullscreenerror},b={request:function(T,y){return new Promise(function(x,A){var m=function(){this.off("change",m),x()}.bind(this);this.on("change",m),T=T||Z.documentElement;var L=T[a.requestFullscreen](y);L instanceof Promise&&L.then(m).catch(A)}.bind(this))},exit:function(){return new Promise(function(T,y){if(!this.isFullscreen){T();return}var x=function(){this.off("change",x),T()}.bind(this);this.on("change",x);var A=Z[a.exitFullscreen]();A instanceof Promise&&A.then(x).catch(y)}.bind(this))},toggle:function(T,y){return this.isFullscreen?this.exit():this.request(T,y)},onchange:function(T){this.on("change",T)},onerror:function(T){this.on("error",T)},on:function(T,y){var x=d[T];x&&Z.addEventListener(x,y,!1)},off:function(T,y){var x=d[T];x&&Z.removeEventListener(x,y,!1)},raw:a};if(!a){c?ce.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(b,{isFullscreen:{get:function(){return!!Z[a.fullscreenElement]}},element:{enumerable:!0,get:function(){return Z[a.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!Z[a.fullscreenEnabled]}}}),c?ce.exports=b:window.screenfull=b})()},10846:function(ce){(function(c,a){ce.exports=a()})(window,function(){return function(Z){var c={};function a(d){if(c[d])return c[d].exports;var b=c[d]={i:d,l:!1,exports:{}};return Z[d].call(b.exports,b,b.exports,a),b.l=!0,b.exports}return a.m=Z,a.c=c,a.d=function(d,b,w){a.o(d,b)||Object.defineProperty(d,b,{enumerable:!0,get:w})},a.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},a.t=function(d,b){if(b&1&&(d=a(d)),b&8||b&4&&typeof d=="object"&&d&&d.__esModule)return d;var w=Object.create(null);if(a.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:d}),b&2&&typeof d!="string")for(var T in d)a.d(w,T,function(y){return d[y]}.bind(null,T));return w},a.n=function(d){var b=d&&d.__esModule?function(){return d.default}:function(){return d};return a.d(b,"a",b),b},a.o=function(d,b){return Object.prototype.hasOwnProperty.call(d,b)},a.p="",a(a.s=141)}([function(Z,c){function a(d){return d&&d.__esModule?d:{default:d}}Z.exports=a},function(Z,c,a){Z.exports=a(142)},function(Z,c,a){"use strict";a.r(c),a.d(c,"__extends",function(){return b}),a.d(c,"__assign",function(){return w}),a.d(c,"__rest",function(){return T}),a.d(c,"__decorate",function(){return y}),a.d(c,"__param",function(){return x}),a.d(c,"__metadata",function(){return A}),a.d(c,"__awaiter",function(){return m}),a.d(c,"__generator",function(){return L}),a.d(c,"__createBinding",function(){return g}),a.d(c,"__exportStar",function(){return E}),a.d(c,"__values",function(){return C}),a.d(c,"__read",function(){return P}),a.d(c,"__spread",function(){return S}),a.d(c,"__spreadArrays",function(){return D}),a.d(c,"__spreadArray",function(){return I}),a.d(c,"__await",function(){return f}),a.d(c,"__asyncGenerator",function(){return k}),a.d(c,"__asyncDelegator",function(){return u}),a.d(c,"__asyncValues",function(){return H}),a.d(c,"__makeTemplateObject",function(){return O}),a.d(c,"__importStar",function(){return j}),a.d(c,"__importDefault",function(){return W}),a.d(c,"__classPrivateFieldGet",function(){return V}),a.d(c,"__classPrivateFieldSet",function(){return G});var d=function(z,Y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,q){X.__proto__=q}||function(X,q){for(var _ in q)Object.prototype.hasOwnProperty.call(q,_)&&(X[_]=q[_])},d(z,Y)};function b(R,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");d(R,z);function Y(){this.constructor=R}R.prototype=z===null?Object.create(z):(Y.prototype=z.prototype,new Y)}var w=function(){return w=Object.assign||function(Y){for(var X,q=1,_=arguments.length;q<_;q++){X=arguments[q];for(var ee in X)Object.prototype.hasOwnProperty.call(X,ee)&&(Y[ee]=X[ee])}return Y},w.apply(this,arguments)};function T(R,z){var Y={};for(var X in R)Object.prototype.hasOwnProperty.call(R,X)&&z.indexOf(X)<0&&(Y[X]=R[X]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,X=Object.getOwnPropertySymbols(R);q<X.length;q++)z.indexOf(X[q])<0&&Object.prototype.propertyIsEnumerable.call(R,X[q])&&(Y[X[q]]=R[X[q]]);return Y}function y(R,z,Y,X){var q=arguments.length,_=q<3?z:X===null?X=Object.getOwnPropertyDescriptor(z,Y):X,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(R,z,Y,X);else for(var oe=R.length-1;oe>=0;oe--)(ee=R[oe])&&(_=(q<3?ee(_):q>3?ee(z,Y,_):ee(z,Y))||_);return q>3&&_&&Object.defineProperty(z,Y,_),_}function x(R,z){return function(Y,X){z(Y,X,R)}}function A(R,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,z)}function m(R,z,Y,X){function q(_){return _ instanceof Y?_:new Y(function(ee){ee(_)})}return new(Y||(Y=Promise))(function(_,ee){function oe(Pe){try{ve(X.next(Pe))}catch(Re){ee(Re)}}function pe(Pe){try{ve(X.throw(Pe))}catch(Re){ee(Re)}}function ve(Pe){Pe.done?_(Pe.value):q(Pe.value).then(oe,pe)}ve((X=X.apply(R,z||[])).next())})}function L(R,z){var Y={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},X,q,_,ee;return ee={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function oe(ve){return function(Pe){return pe([ve,Pe])}}function pe(ve){if(X)throw new TypeError("Generator is already executing.");for(;Y;)try{if(X=1,q&&(_=ve[0]&2?q.return:ve[0]?q.throw||((_=q.return)&&_.call(q),0):q.next)&&!(_=_.call(q,ve[1])).done)return _;switch(q=0,_&&(ve=[ve[0]&2,_.value]),ve[0]){case 0:case 1:_=ve;break;case 4:return Y.label++,{value:ve[1],done:!1};case 5:Y.label++,q=ve[1],ve=[0];continue;case 7:ve=Y.ops.pop(),Y.trys.pop();continue;default:if(_=Y.trys,!(_=_.length>0&&_[_.length-1])&&(ve[0]===6||ve[0]===2)){Y=0;continue}if(ve[0]===3&&(!_||ve[1]>_[0]&&ve[1]<_[3])){Y.label=ve[1];break}if(ve[0]===6&&Y.label<_[1]){Y.label=_[1],_=ve;break}if(_&&Y.label<_[2]){Y.label=_[2],Y.ops.push(ve);break}_[2]&&Y.ops.pop(),Y.trys.pop();continue}ve=z.call(R,Y)}catch(Pe){ve=[6,Pe],q=0}finally{X=_=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}var g=Object.create?function(R,z,Y,X){X===void 0&&(X=Y),Object.defineProperty(R,X,{enumerable:!0,get:function(){return z[Y]}})}:function(R,z,Y,X){X===void 0&&(X=Y),R[X]=z[Y]};function E(R,z){for(var Y in R)Y!=="default"&&!Object.prototype.hasOwnProperty.call(z,Y)&&g(z,R,Y)}function C(R){var z=typeof Symbol=="function"&&Symbol.iterator,Y=z&&R[z],X=0;if(Y)return Y.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&X>=R.length&&(R=void 0),{value:R&&R[X++],done:!R}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(R,z){var Y=typeof Symbol=="function"&&R[Symbol.iterator];if(!Y)return R;var X=Y.call(R),q,_=[],ee;try{for(;(z===void 0||z-- >0)&&!(q=X.next()).done;)_.push(q.value)}catch(oe){ee={error:oe}}finally{try{q&&!q.done&&(Y=X.return)&&Y.call(X)}finally{if(ee)throw ee.error}}return _}function S(){for(var R=[],z=0;z<arguments.length;z++)R=R.concat(P(arguments[z]));return R}function D(){for(var R=0,z=0,Y=arguments.length;z<Y;z++)R+=arguments[z].length;for(var X=Array(R),q=0,z=0;z<Y;z++)for(var _=arguments[z],ee=0,oe=_.length;ee<oe;ee++,q++)X[q]=_[ee];return X}function I(R,z){for(var Y=0,X=z.length,q=R.length;Y<X;Y++,q++)R[q]=z[Y];return R}function f(R){return this instanceof f?(this.v=R,this):new f(R)}function k(R,z,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X=Y.apply(R,z||[]),q,_=[];return q={},ee("next"),ee("throw"),ee("return"),q[Symbol.asyncIterator]=function(){return this},q;function ee(Ne){X[Ne]&&(q[Ne]=function(Be){return new Promise(function(Ke,Ve){_.push([Ne,Be,Ke,Ve])>1||oe(Ne,Be)})})}function oe(Ne,Be){try{pe(X[Ne](Be))}catch(Ke){Re(_[0][3],Ke)}}function pe(Ne){Ne.value instanceof f?Promise.resolve(Ne.value.v).then(ve,Pe):Re(_[0][2],Ne)}function ve(Ne){oe("next",Ne)}function Pe(Ne){oe("throw",Ne)}function Re(Ne,Be){Ne(Be),_.shift(),_.length&&oe(_[0][0],_[0][1])}}function u(R){var z,Y;return z={},X("next"),X("throw",function(q){throw q}),X("return"),z[Symbol.iterator]=function(){return this},z;function X(q,_){z[q]=R[q]?function(ee){return(Y=!Y)?{value:f(R[q](ee)),done:q==="return"}:_?_(ee):ee}:_}}function H(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=R[Symbol.asyncIterator],Y;return z?z.call(R):(R=typeof C=="function"?C(R):R[Symbol.iterator](),Y={},X("next"),X("throw"),X("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function X(_){Y[_]=R[_]&&function(ee){return new Promise(function(oe,pe){ee=R[_](ee),q(oe,pe,ee.done,ee.value)})}}function q(_,ee,oe,pe){Promise.resolve(pe).then(function(ve){_({value:ve,done:oe})},ee)}}function O(R,z){return Object.defineProperty?Object.defineProperty(R,"raw",{value:z}):R.raw=z,R}var F=Object.create?function(R,z){Object.defineProperty(R,"default",{enumerable:!0,value:z})}:function(R,z){R.default=z};function j(R){if(R&&R.__esModule)return R;var z={};if(R!=null)for(var Y in R)Y!=="default"&&Object.prototype.hasOwnProperty.call(R,Y)&&g(z,R,Y);return F(z,R),z}function W(R){return R&&R.__esModule?R:{default:R}}function V(R,z){if(!z.has(R))throw new TypeError("attempted to get private field on non-instance");return z.get(R)}function G(R,z,Y){if(!z.has(R))throw new TypeError("attempted to set private field on non-instance");return z.set(R,Y),Y}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(89)),T=d(a(4)),y=d(a(26)),x=d(a(17)),A=d(a(120)),m=d(a(27)),L=d(a(91)),g=d(a(70)),E=d(a(44)),C=d(a(57));(0,b.default)(c,"__esModule",{value:!0}),c.DomElement=void 0;var P=a(2),S=a(6),D=[];function I(F){var j=document.createElement("div");j.innerHTML=F;var W=j.children;return S.toArray(W)}function f(F){return F?F instanceof HTMLCollection||F instanceof NodeList:!1}function k(F){var j=document.querySelectorAll(F);return S.toArray(j)}function u(F){var j=[],W=[];return(0,w.default)(F)?j=F:j=F.split(";"),(0,T.default)(j).call(j,function(V){var G,R=(0,y.default)(G=V.split(":")).call(G,function(z){return(0,x.default)(z).call(z)});R.length===2&&W.push(R[0]+":"+R[1])}),W}var H=function(){function F(j){if(this.elems=[],this.length=this.elems.length,this.dataSource=new A.default,!!j){if(j instanceof F)return j;var W=[],V=j instanceof Node?j.nodeType:-1;if(this.selector=j,V===1||V===9)W=[j];else if(f(j))W=S.toArray(j);else if(j instanceof Array)W=j;else if(typeof j=="string"){var G,R=(0,x.default)(G=j.replace("/\n/mg","")).call(G);(0,m.default)(R).call(R,"<")===0?W=I(R):W=k(R)}var z=W.length;if(!z)return this;for(var Y=0;Y<z;Y++)this.elems.push(W[Y]);this.length=z}}return(0,b.default)(F.prototype,"id",{get:function(){return this.elems[0].id},enumerable:!1,configurable:!0}),F.prototype.forEach=function(j){for(var W=0;W<this.length;W++){var V=this.elems[W],G=j.call(V,V,W);if(G===!1)break}return this},F.prototype.clone=function(j){var W;j===void 0&&(j=!1);var V=[];return(0,T.default)(W=this.elems).call(W,function(G){V.push(G.cloneNode(!!j))}),O(V)},F.prototype.get=function(j){j===void 0&&(j=0);var W=this.length;return j>=W&&(j=j%W),O(this.elems[j])},F.prototype.first=function(){return this.get(0)},F.prototype.last=function(){var j=this.length;return this.get(j-1)},F.prototype.on=function(j,W,V){var G;return j?(typeof W=="function"&&(V=W,W=""),(0,T.default)(G=this).call(G,function(R){if(!W){R.addEventListener(j,V);return}var z=function(X){var q=X.target;q.matches(W)&&V.call(q,X)};R.addEventListener(j,z),D.push({elem:R,selector:W,fn:V,agentFn:z})})):this},F.prototype.off=function(j,W,V){var G;return j?(typeof W=="function"&&(V=W,W=""),(0,T.default)(G=this).call(G,function(R){if(W){for(var z=-1,Y=0;Y<D.length;Y++){var X=D[Y];if(X.selector===W&&X.fn===V&&X.elem===R){z=Y;break}}if(z!==-1){var q=(0,L.default)(D).call(D,z,1)[0].agentFn;R.removeEventListener(j,q)}}else R.removeEventListener(j,V)})):this},F.prototype.attr=function(j,W){var V;return W==null?this.elems[0].getAttribute(j)||"":(0,T.default)(V=this).call(V,function(G){G.setAttribute(j,W)})},F.prototype.removeAttr=function(j){var W;(0,T.default)(W=this).call(W,function(V){V.removeAttribute(j)})},F.prototype.addClass=function(j){var W;return j?(0,T.default)(W=this).call(W,function(V){if(V.className){var G=V.className.split(/\s/);G=(0,g.default)(G).call(G,function(R){return!!(0,x.default)(R).call(R)}),(0,m.default)(G).call(G,j)<0&&G.push(j),V.className=G.join(" ")}else V.className=j}):this},F.prototype.removeClass=function(j){var W;return j?(0,T.default)(W=this).call(W,function(V){if(V.className){var G=V.className.split(/\s/);G=(0,g.default)(G).call(G,function(R){return R=(0,x.default)(R).call(R),!(!R||R===j)}),V.className=G.join(" ")}}):this},F.prototype.hasClass=function(j){if(!j)return!1;var W=this.elems[0];if(!W.className)return!1;var V=W.className.split(/\s/);return(0,E.default)(V).call(V,j)},F.prototype.css=function(j,W){var V,G;return W==""?G="":G=j+":"+W+";",(0,T.default)(V=this).call(V,function(R){var z,Y=(0,x.default)(z=R.getAttribute("style")||"").call(z);if(Y){var X=u(Y);X=(0,y.default)(X).call(X,function(q){return(0,m.default)(q).call(q,j)===0?G:q}),G!=""&&(0,m.default)(X).call(X,G)<0&&X.push(G),G==""&&(X=u(X)),R.setAttribute("style",X.join("; "))}else R.setAttribute("style",G)})},F.prototype.getBoundingClientRect=function(){var j=this.elems[0];return j.getBoundingClientRect()},F.prototype.show=function(){return this.css("display","block")},F.prototype.hide=function(){return this.css("display","none")},F.prototype.children=function(){var j=this.elems[0];return j?O(j.children):null},F.prototype.childNodes=function(){var j=this.elems[0];return j?O(j.childNodes):null},F.prototype.replaceChildAll=function(j){for(var W=this.getNode(),V=this.elems[0];V.hasChildNodes();)W.firstChild&&V.removeChild(W.firstChild);this.append(j)},F.prototype.append=function(j){var W;return(0,T.default)(W=this).call(W,function(V){(0,T.default)(j).call(j,function(G){V.appendChild(G)})})},F.prototype.remove=function(){var j;return(0,T.default)(j=this).call(j,function(W){if(W.remove)W.remove();else{var V=W.parentElement;V&&V.removeChild(W)}})},F.prototype.isContain=function(j){var W=this.elems[0],V=j.elems[0];return W.contains(V)},F.prototype.getNodeName=function(){var j=this.elems[0];return j.nodeName},F.prototype.getNode=function(j){j===void 0&&(j=0);var W;return W=this.elems[j],W},F.prototype.find=function(j){var W=this.elems[0];return O(W.querySelectorAll(j))},F.prototype.text=function(j){if(j){var V;return(0,T.default)(V=this).call(V,function(G){G.innerHTML=j})}else{var W=this.elems[0];return W.innerHTML.replace(/<[^>]+>/g,function(){return""})}},F.prototype.html=function(j){var W=this.elems[0];return j?(W.innerHTML=j,this):W.innerHTML},F.prototype.val=function(){var j,W=this.elems[0];return(0,x.default)(j=W.value).call(j)},F.prototype.focus=function(){var j;return(0,T.default)(j=this).call(j,function(W){W.focus()})},F.prototype.prev=function(){var j=this.elems[0];return O(j.previousElementSibling)},F.prototype.next=function(){var j=this.elems[0];return O(j.nextElementSibling)},F.prototype.getNextSibling=function(){var j=this.elems[0];return O(j.nextSibling)},F.prototype.parent=function(){var j=this.elems[0];return O(j.parentElement)},F.prototype.parentUntil=function(j,W){var V=W||this.elems[0];if(V.nodeName==="BODY")return null;var G=V.parentElement;return G===null?null:G.matches(j)?O(G):this.parentUntil(j,G)},F.prototype.parentUntilEditor=function(j,W,V){var G=V||this.elems[0];if(O(G).equal(W.$textContainerElem)||O(G).equal(W.$toolbarElem))return null;var R=G.parentElement;return R===null?null:R.matches(j)?O(R):this.parentUntilEditor(j,W,R)},F.prototype.equal=function(j){return j instanceof F?this.elems[0]===j.elems[0]:j instanceof HTMLElement?this.elems[0]===j:!1},F.prototype.insertBefore=function(j){var W,V=O(j),G=V.elems[0];return G?(0,T.default)(W=this).call(W,function(R){var z=G.parentNode;z==null||z.insertBefore(R,G)}):this},F.prototype.insertAfter=function(j){var W,V=O(j),G=V.elems[0],R=G&&G.nextSibling;return G?(0,T.default)(W=this).call(W,function(z){var Y=G.parentNode;R?Y.insertBefore(z,R):Y.appendChild(z)}):this},F.prototype.data=function(j,W){if(W!=null)this.dataSource.set(j,W);else return this.dataSource.get(j)},F.prototype.getNodeTop=function(j){if(this.length<1)return this;var W=this.parent();return j.$textElem.equal(this)||j.$textElem.equal(W)?this:(W.prior=this,W.getNodeTop(j))},F.prototype.getOffsetData=function(){var j=this.elems[0];return{top:j.offsetTop,left:j.offsetLeft,width:j.offsetWidth,height:j.offsetHeight,parent:j.offsetParent}},F.prototype.scrollTop=function(j){var W=this.elems[0];W.scrollTo({top:j})},F}();c.DomElement=H;function O(){for(var F=[],j=0;j<arguments.length;j++)F[j]=arguments[j];return new((0,C.default)(H).apply(H,P.__spreadArrays([void 0],F)))}c.default=O},function(Z,c,a){Z.exports=a(180)},function(Z,c,a){"use strict";var d=a(8),b=a(71).f,w=a(100),T=a(9),y=a(39),x=a(19),A=a(16),m=function(g){var E=function(P,S,D){if(this instanceof g){switch(arguments.length){case 0:return new g;case 1:return new g(P);case 2:return new g(P,S)}return new g(P,S,D)}return g.apply(this,arguments)};return E.prototype=g.prototype,E};Z.exports=function(L,g){var E=L.target,C=L.global,P=L.stat,S=L.proto,D=C?d:P?d[E]:(d[E]||{}).prototype,I=C?T:T[E]||(T[E]={}),f=I.prototype,k,u,H,O,F,j,W,V,G;for(O in g)k=w(C?O:E+(P?".":"#")+O,L.forced),u=!k&&D&&A(D,O),j=I[O],u&&(L.noTargetGet?(G=b(D,O),W=G&&G.value):W=D[O]),F=u&&W?W:g[O],!(u&&typeof j==typeof F)&&(L.bind&&u?V=y(F,d):L.wrap&&u?V=m(F):S&&typeof F=="function"?V=y(Function.call,F):V=F,(L.sham||F&&F.sham||j&&j.sham)&&x(V,"sham",!0),I[O]=V,S&&(H=E+"Prototype",A(T,H)||x(T,H,{}),T[H][O]=F,L.real&&f&&!f[O]&&x(f,O,F)))}},function(Z,c,a){"use strict";var d=a(0),b=d(a(92)),w=d(a(1)),T=d(a(256)),y=d(a(45)),x=d(a(46)),A=d(a(89)),m=d(a(26));(0,w.default)(c,"__esModule",{value:!0}),c.hexToRgb=c.getRandomCode=c.toArray=c.deepClone=c.isFunction=c.debounce=c.throttle=c.arrForEach=c.forEach=c.replaceSpecialSymbol=c.replaceHtmlSymbol=c.getRandom=c.UA=void 0;var L=a(2),g=function(){function j(){this._ua=navigator.userAgent;var W=this._ua.match(/(Edge?)\/(\d+)/);this.isOldEdge=!!(W&&W[1]=="Edge"&&(0,T.default)(W[2])<19),this.isFirefox=!!(/Firefox\/\d+/.test(this._ua)&&!/Seamonkey\/\d+/.test(this._ua))}return j.prototype.isIE=function(){return"ActiveXObject"in window},j.prototype.isWebkit=function(){return/webkit/i.test(this._ua)},j}();c.UA=new g;function E(j){var W;return j===void 0&&(j=""),j+(0,y.default)(W=Math.random().toString()).call(W,2)}c.getRandom=E;function C(j){return j.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}c.replaceHtmlSymbol=C;function P(j){return j.replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,'"')}c.replaceSpecialSymbol=P;function S(j,W){for(var V in j)if(Object.prototype.hasOwnProperty.call(j,V)){var G=W(V,j[V]);if(G===!1)break}}c.forEach=S;function D(j,W){var V,G,R,z=j.length||0;for(V=0;V<z&&(G=j[V],R=W.call(j,G,V),R!==!1);V++);}c.arrForEach=D;function I(j,W){W===void 0&&(W=200);var V=!1;return function(){for(var G=this,R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];V||(V=!0,(0,x.default)(function(){V=!1,j.call.apply(j,L.__spreadArrays([G],R))},W))}}c.throttle=I;function f(j,W){W===void 0&&(W=200);var V=0;return function(){for(var G=this,R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];V&&window.clearTimeout(V),V=(0,x.default)(function(){V=0,j.call.apply(j,L.__spreadArrays([G],R))},W)}}c.debounce=f;function k(j){return typeof j=="function"}c.isFunction=k;function u(j){if((0,b.default)(j)!=="object"||typeof j=="function"||j===null)return j;var W;(0,A.default)(j)&&(W=[]),(0,A.default)(j)||(W={});for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(W[V]=u(j[V]));return W}c.deepClone=u;function H(j){return(0,y.default)(Array.prototype).call(j)}c.toArray=H;function O(){var j;return(0,y.default)(j=Math.random().toString(36)).call(j,-5)}c.getRandomCode=O;function F(j){var W=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(j);if(W==null)return null;var V=(0,m.default)(W).call(W,function(Y){return(0,T.default)(Y,16)}),G=V[1],R=V[2],z=V[3];return"rgb("+G+", "+R+", "+z+")"}c.hexToRgb=F},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.EMPTY_P_REGEX=c.EMPTY_P_LAST_REGEX=c.EMPTY_P=c.urlRegex=c.EMPTY_FN=void 0;function w(){}c.EMPTY_FN=w,c.urlRegex=/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#])?/,c.EMPTY_P='<p data-we-empty-p=""><br></p>',c.EMPTY_P_LAST_REGEX=/<p data-we-empty-p=""><br\/?><\/p>$/gim,c.EMPTY_P_REGEX=/<p data-we-empty-p="">/gim},function(Z,c,a){(function(d){var b=function(T){return T&&T.Math==Math&&T};Z.exports=b(typeof globalThis=="object"&&globalThis)||b(typeof window=="object"&&window)||b(typeof self=="object"&&self)||b(typeof d=="object"&&d)||Function("return this")()}).call(this,a(145))},function(Z,c){Z.exports={}},function(Z,c,a){var d=a(8),b=a(74),w=a(16),T=a(64),y=a(76),x=a(105),A=b("wks"),m=d.Symbol,L=x?m:m&&m.withoutSetter||T;Z.exports=function(g){return w(A,g)||(y&&w(m,g)?A[g]=m[g]:A[g]=L("Symbol."+g)),A[g]}},function(Z,c){Z.exports=function(a){try{return!!a()}catch(d){return!0}}},function(Z,c,a){var d=a(9),b=a(16),w=a(93),T=a(18).f;Z.exports=function(y){var x=d.Symbol||(d.Symbol={});b(x,y)||T(x,y,{value:w.f(y)})}},function(Z,c){Z.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},function(Z,c,a){var d=a(11);Z.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(Z,c,a){var d=a(9);Z.exports=function(b){return d[b+"Prototype"]}},function(Z,c){var a={}.hasOwnProperty;Z.exports=function(d,b){return a.call(d,b)}},function(Z,c,a){Z.exports=a(192)},function(Z,c,a){var d=a(14),b=a(99),w=a(25),T=a(60),y=Object.defineProperty;c.f=d?y:function(A,m,L){if(w(A),m=T(m,!0),w(L),b)try{return y(A,m,L)}catch(g){}if("get"in L||"set"in L)throw TypeError("Accessors not supported");return"value"in L&&(A[m]=L.value),A}},function(Z,c,a){var d=a(14),b=a(18),w=a(48);Z.exports=d?function(T,y,x){return b.f(T,y,w(1,x))}:function(T,y,x){return T[y]=x,T}},function(Z,c,a){"use strict";var d=function(){var D;return function(){return typeof D>"u"&&(D=!!(window&&document&&document.all&&!window.atob)),D}}(),b=function(){var D={};return function(f){if(typeof D[f]>"u"){var k=document.querySelector(f);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch(u){k=null}D[f]=k}return D[f]}}(),w=[];function T(S){for(var D=-1,I=0;I<w.length;I++)if(w[I].identifier===S){D=I;break}return D}function y(S,D){for(var I={},f=[],k=0;k<S.length;k++){var u=S[k],H=D.base?u[0]+D.base:u[0],O=I[H]||0,F="".concat(H," ").concat(O);I[H]=O+1;var j=T(F),W={css:u[1],media:u[2],sourceMap:u[3]};j!==-1?(w[j].references++,w[j].updater(W)):w.push({identifier:F,updater:P(W,D),references:1}),f.push(F)}return f}function x(S){var D=document.createElement("style"),I=S.attributes||{};if(typeof I.nonce>"u"){var f=a.nc;f&&(I.nonce=f)}if(Object.keys(I).forEach(function(u){D.setAttribute(u,I[u])}),typeof S.insert=="function")S.insert(D);else{var k=b(S.insert||"head");if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");k.appendChild(D)}return D}function A(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)}var m=function(){var D=[];return function(f,k){return D[f]=k,D.filter(Boolean).join("\n")}}();function L(S,D,I,f){var k=I?"":f.media?"@media ".concat(f.media," {").concat(f.css,"}"):f.css;if(S.styleSheet)S.styleSheet.cssText=m(D,k);else{var u=document.createTextNode(k),H=S.childNodes;H[D]&&S.removeChild(H[D]),H.length?S.insertBefore(u,H[D]):S.appendChild(u)}}function g(S,D,I){var f=I.css,k=I.media,u=I.sourceMap;if(k?S.setAttribute("media",k):S.removeAttribute("media"),u&&typeof btoa<"u"&&(f+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(u))))," */")),S.styleSheet)S.styleSheet.cssText=f;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(f))}}var E=null,C=0;function P(S,D){var I,f,k;if(D.singleton){var u=C++;I=E||(E=x(D)),f=L.bind(null,I,u,!1),k=L.bind(null,I,u,!0)}else I=x(D),f=g.bind(null,I,D),k=function(){A(I)};return f(S),function(O){if(O){if(O.css===S.css&&O.media===S.media&&O.sourceMap===S.sourceMap)return;f(S=O)}else k()}}Z.exports=function(S,D){D=D||{},!D.singleton&&typeof D.singleton!="boolean"&&(D.singleton=d()),S=S||[];var I=y(S,D);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var u=0;u<I.length;u++){var H=I[u],O=T(H);w[O].references--}for(var F=y(k,D),j=0;j<I.length;j++){var W=I[j],V=T(W);w[V].references===0&&(w[V].updater(),w.splice(V,1))}I=F}}}},function(Z,c,a){"use strict";Z.exports=function(w){var T=[];return T.toString=function(){return this.map(function(x){var A=d(x,w);return x[2]?"@media ".concat(x[2]," {").concat(A,"}"):A}).join("")},T.i=function(y,x,A){typeof y=="string"&&(y=[[null,y,""]]);var m={};if(A)for(var L=0;L<this.length;L++){var g=this[L][0];g!=null&&(m[g]=!0)}for(var E=0;E<y.length;E++){var C=[].concat(y[E]);A&&m[C[0]]||(x&&(C[2]?C[2]="".concat(x," and ").concat(C[2]):C[2]=x),T.push(C))}},T};function d(w,T){var y=w[1]||"",x=w[3];if(!x)return y;if(T&&typeof btoa=="function"){var A=b(x),m=x.sources.map(function(L){return"/*# sourceURL=".concat(x.sourceRoot||"").concat(L," */")});return[y].concat(m).concat([A]).join("\n")}return[y].join("\n")}function b(w){var T=btoa(unescape(encodeURIComponent(JSON.stringify(w)))),y="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(T);return"/*# ".concat(y," */")}},function(Z,c,a){var d=a(14),b=a(11),w=a(16),T=Object.defineProperty,y={},x=function(m){throw m};Z.exports=function(A,m){if(w(y,A))return y[A];m||(m={});var L=[][A],g=w(m,"ACCESSORS")?m.ACCESSORS:!1,E=w(m,0)?m[0]:x,C=w(m,1)?m[1]:void 0;return y[A]=!!L&&!b(function(){if(g&&!d)return!0;var P={length:-1};g?T(P,1,{enumerable:!0,get:x}):P[1]=1,L.call(P,E,C)})}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(95)),y=function(x){w.__extends(A,x);function A(m,L){return x.call(this,m,L)||this}return A}(T.default);c.default=y},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(46));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(3)),A=y.__importDefault(a(95)),m=y.__importDefault(a(133)),L=function(g){y.__extends(E,g);function E(C,P,S){var D=g.call(this,C,P)||this;S.title=P.i18next.t("menus.dropListMenu."+S.title);var I=P.config.lang==="zh-CN"?"":"w-e-drop-list-tl";if(I!==""&&S.type==="list"){var f;(0,w.default)(f=S.list).call(f,function(u){var H=u.$elem,O=x.default(H.children());if(O.length>0){var F=O==null?void 0:O.getNodeName();F&&F==="I"&&H.addClass(I)}})}var k=new m.default(D,S);return D.dropList=k,C.on("click",function(){var u;P.selection.getRange()!=null&&(C.css("z-index",P.zIndex.get("menu")),(0,w.default)(u=P.txt.eventHooks.dropListMenuHoverEvents).call(u,function(H){return H()}),k.show())}).on("mouseleave",function(){C.css("z-index","auto"),k.hideTimeoutId=(0,T.default)(function(){k.hide()})}),D}return E}(A.default);c.default=L},function(Z,c,a){var d=a(13);Z.exports=function(b){if(!d(b))throw TypeError(String(b)+" is not an object");return b}},function(Z,c,a){Z.exports=a(188)},function(Z,c,a){Z.exports=a(201)},function(Z,c,a){var d=a(72),b=a(49);Z.exports=function(w){return d(b(w))}},function(Z,c,a){var d=a(49);Z.exports=function(b){return Object(d(b))}},function(Z,c,a){var d=a(39),b=a(72),w=a(29),T=a(34),y=a(88),x=[].push,A=function(L){var g=L==1,E=L==2,C=L==3,P=L==4,S=L==6,D=L==5||S;return function(I,f,k,u){for(var H=w(I),O=b(H),F=d(f,k,3),j=T(O.length),W=0,V=u||y,G=g?V(I,j):E?V(I,0):void 0,R,z;j>W;W++)if((D||W in O)&&(R=O[W],z=F(R,W,H),L)){if(g)G[W]=z;else if(z)switch(L){case 3:return!0;case 5:return R;case 6:return W;case 2:x.call(G,R)}else if(P)return!1}return S?-1:C||P?P:G}};Z.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6)}},function(Z,c,a){Z.exports=a(283)},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(31)),y=d(a(131));(0,b.default)(c,"__esModule",{value:!0});var x=a(2),A=x.__importDefault(a(3)),m=a(7),L=function(){function g(E,C){this.menu=E,this.conf=C,this.$container=A.default('<div class="w-e-panel-container"></div>');var P=E.editor;P.txt.eventHooks.clickEvents.push(g.hideCurAllPanels),P.txt.eventHooks.toolbarClickEvents.push(g.hideCurAllPanels),P.txt.eventHooks.dropListMenuHoverEvents.push(g.hideCurAllPanels)}return g.prototype.create=function(){var E=this,C=this.menu;if(!g.createdMenus.has(C)){var P=this.conf,S=this.$container,D=P.width||300,I=C.editor.$toolbarElem.getBoundingClientRect(),f=C.$elem.getBoundingClientRect(),k=I.height+I.top-f.top,u=(I.width-D)/2+I.left-f.left,H=300;Math.abs(u)>H&&(f.left<document.documentElement.clientWidth/2?u=-f.width/2:u=-D+f.width/2),S.css("width",D+"px").css("margin-top",k+"px").css("margin-left",u+"px").css("z-index",C.editor.zIndex.get("panel"));var O=A.default('<i class="w-e-icon-close w-e-panel-close"></i>');S.append(O),O.on("click",function(){E.remove()});var F=A.default('<ul class="w-e-panel-tab-title"></ul>'),j=A.default('<div class="w-e-panel-tab-content"></div>');S.append(F).append(j);var W=P.height;W&&j.css("height",W+"px").css("overflow-y","auto");var V=P.tabs||[],G=[],R=[];(0,w.default)(V).call(V,function(Y,X){if(Y){var q=Y.title||"",_=Y.tpl||"",ee=A.default('<li class="w-e-item">'+q+"</li>");F.append(ee);var oe=A.default(_);j.append(oe),G.push(ee),R.push(oe),X===0?(ee.data("active",!0),ee.addClass("w-e-active")):oe.hide(),ee.on("click",function(){ee.data("active")||((0,w.default)(G).call(G,function(pe){pe.data("active",!1),pe.removeClass("w-e-active")}),(0,w.default)(R).call(R,function(pe){pe.hide()}),ee.data("active",!0),ee.addClass("w-e-active"),oe.show())})}}),S.on("click",function(Y){Y.stopPropagation()}),C.$elem.append(S),(0,w.default)(V).call(V,function(Y,X){if(Y){var q=Y.events||[];(0,w.default)(q).call(q,function(_){var ee,oe=_.selector,pe=_.type,ve=_.fn||m.EMPTY_FN,Pe=R[X],Re=(ee=_.bindEnter)!==null&&ee!==void 0?ee:!1,Ne=function(Ke){return x.__awaiter(E,void 0,void 0,function(){var Ve;return x.__generator(this,function(ht){switch(ht.label){case 0:return Ke.stopPropagation(),[4,ve(Ke)];case 1:return Ve=ht.sent(),Ve&&this.remove(),[2]}})})};(0,T.default)(Pe).call(Pe,oe).on(pe,Ne),Re&&pe==="click"&&Pe.on("keyup",function(Be){Be.keyCode==13&&Ne(Be)})})}});var z=(0,T.default)(S).call(S,"input[type=text],textarea");z.length&&z.get(0).focus(),g.hideCurAllPanels(),C.setPanel(this),g.createdMenus.add(C)}},g.prototype.remove=function(){var E=this.menu,C=this.$container;C&&C.remove(),g.createdMenus.delete(E)},g.hideCurAllPanels=function(){var E;g.createdMenus.size!==0&&(0,w.default)(E=g.createdMenus).call(E,function(C){var P=C.panel;P&&P.remove()})},g.createdMenus=new y.default,g}();c.default=L},function(Z,c){var a={}.toString;Z.exports=function(d){return a.call(d).slice(8,-1)}},function(Z,c,a){var d=a(62),b=Math.min;Z.exports=function(w){return w>0?b(d(w),9007199254740991):0}},function(Z,c,a){var d=a(9),b=a(8),w=function(y){return typeof y=="function"?y:void 0};Z.exports=function(T,y){return arguments.length<2?w(d[T])||w(b[T]):d[T]&&d[T][y]||b[T]&&b[T][y]}},function(Z,c,a){var d=a(81),b=a(18).f,w=a(19),T=a(16),y=a(170),x=a(10),A=x("toStringTag");Z.exports=function(m,L,g,E){if(m){var C=g?m:m.prototype;T(C,A)||b(C,A,{configurable:!0,value:L}),E&&!d&&w(C,"toString",y)}}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(95)),y=function(x){w.__extends(A,x);function A(m,L){return x.call(this,m,L)||this}return A.prototype.setPanel=function(m){this.panel=m},A}(T.default);c.default=y},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(57));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(3)),A=function(){function m(L,g,E){this.editor=L,this.$targetElem=g,this.conf=E,this._show=!1,this._isInsertTextContainer=!1;var C=x.default("<div></div>");C.addClass("w-e-tooltip"),this.$container=C}return m.prototype.getPositionData=function(){var L=this.$container,g=0,E=0,C=20,P=document.documentElement.scrollTop,S=this.$targetElem.getBoundingClientRect(),D=this.editor.$textElem.getBoundingClientRect(),I=this.$targetElem.getOffsetData(),f=x.default(I.parent),k=this.editor.$textElem.elems[0].scrollTop;if(this._isInsertTextContainer=f.equal(this.editor.$textContainerElem),this._isInsertTextContainer){var u=f.getBoundingClientRect().height,H=I.top,O=I.left,F=I.height,j=H-k;j>C+5?(g=j-C-15,L.addClass("w-e-tooltip-up")):j+F+C<u?(g=j+F+10,L.addClass("w-e-tooltip-down")):(g=(j>0?j:0)+C+10,L.addClass("w-e-tooltip-down")),O<0?E=0:E=O}else S.top<C||S.top-D.top<C?(g=S.bottom+P+5,L.addClass("w-e-tooltip-down")):(g=S.top+P-C-15,L.addClass("w-e-tooltip-up")),S.left<0?E=0:E=S.left;return{top:g,left:E}},m.prototype.appendMenus=function(){var L=this,g=this.conf,E=this.editor,C=this.$targetElem,P=this.$container;(0,w.default)(g).call(g,function(S,D){var I=S.$elem,f=x.default("<div></div>");f.addClass("w-e-tooltip-item-wrapper "),f.append(I),P.append(f),I.on("click",function(k){k.preventDefault();var u=S.onClick(E,C);u&&L.remove()})})},m.prototype.create=function(){var L,g,E=this.editor,C=this.$container;this.appendMenus();var P=this.getPositionData(),S=P.top,D=P.left;C.css("top",S+"px"),C.css("left",D+"px"),C.css("z-index",E.zIndex.get("tooltip")),this._isInsertTextContainer?this.editor.$textContainerElem.append(C):x.default("body").append(C),this._show=!0,E.beforeDestroy((0,T.default)(L=this.remove).call(L,this)),E.txt.eventHooks.onBlurEvents.push((0,T.default)(g=this.remove).call(g,this))},m.prototype.remove=function(){this.$container.remove(),this._show=!1},(0,b.default)(m.prototype,"isShow",{get:function(){return this._show},enumerable:!1,configurable:!0}),m}();c.default=A},function(Z,c,a){var d=a(40);Z.exports=function(b,w,T){if(d(b),w===void 0)return b;switch(T){case 0:return function(){return b.call(w)};case 1:return function(y){return b.call(w,y)};case 2:return function(y,x){return b.call(w,y,x)};case 3:return function(y,x,A){return b.call(w,y,x,A)}}return function(){return b.apply(w,arguments)}}},function(Z,c){Z.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},function(Z,c,a){var d=a(165),b=a(8),w=a(13),T=a(19),y=a(16),x=a(63),A=a(51),m=b.WeakMap,L,g,E,C=function(H){return E(H)?g(H):L(H,{})},P=function(H){return function(O){var F;if(!w(O)||(F=g(O)).type!==H)throw TypeError("Incompatible receiver, "+H+" required");return F}};if(d){var S=new m,D=S.get,I=S.has,f=S.set;L=function(H,O){return f.call(S,H,O),O},g=function(H){return D.call(S,H)||{}},E=function(H){return I.call(S,H)}}else{var k=x("state");A[k]=!0,L=function(H,O){return T(H,k,O),O},g=function(H){return y(H,k)?H[k]:{}},E=function(H){return y(H,k)}}Z.exports={set:L,get:g,has:E,enforce:C,getterFor:P}},function(Z,c){Z.exports=!0},function(Z,c){Z.exports={}},function(Z,c,a){Z.exports=a(213)},function(Z,c,a){Z.exports=a(261)},function(Z,c,a){Z.exports=a(265)},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0}),c.createElementFragment=c.createDocumentFragment=c.createElement=c.insertBefore=c.getEndPoint=c.getStartPoint=c.updateRange=c.filterSelectionNodes=void 0;var T=a(2),y=a(137),x=T.__importDefault(a(3));function A(D){var I=[];return(0,w.default)(D).call(D,function(f){var k=f.getNodeName();if(k!==y.ListType.OrderedList&&k!==y.ListType.UnorderedList)I.push(f);else if(f.prior)I.push(f.prior);else{var u=f.children();u==null||(0,w.default)(u).call(u,function(H){I.push(x.default(H))})}}),I}c.filterSelectionNodes=A;function m(D,I,f){var k=D.selection,u=document.createRange();I.length>1?(u.setStart(I.elems[0],0),u.setEnd(I.elems[I.length-1],I.elems[I.length-1].childNodes.length)):u.selectNodeContents(I.elems[0]),f&&u.collapse(!1),k.saveRange(u),k.restoreSelection()}c.updateRange=m;function L(D){var I;return D.prior?D.prior:x.default((I=D.children())===null||I===void 0?void 0:I.elems[0])}c.getStartPoint=L;function g(D){var I;return D.prior?D.prior:x.default((I=D.children())===null||I===void 0?void 0:I.last().elems[0])}c.getEndPoint=g;function E(D,I,f){f===void 0&&(f=null),D.parent().elems[0].insertBefore(I,f)}c.insertBefore=E;function C(D){return document.createElement(D)}c.createElement=C;function P(){return document.createDocumentFragment()}c.createDocumentFragment=P;function S(D,I,f){return f===void 0&&(f="li"),(0,w.default)(D).call(D,function(k){var u=C(f);u.innerHTML=k.html(),I.appendChild(u),k.remove()}),I}c.createElementFragment=S},function(Z,c){Z.exports=function(a,d){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:d}}},function(Z,c){Z.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},function(Z,c,a){"use strict";var d=a(164).charAt,b=a(41),w=a(75),T="String Iterator",y=b.set,x=b.getterFor(T);w(String,"String",function(A){y(this,{type:T,string:String(A),index:0})},function(){var m=x(this),L=m.string,g=m.index,E;return g>=L.length?{value:void 0,done:!0}:(E=d(L,g),m.index+=E.length,{value:E,done:!1})})},function(Z,c){Z.exports={}},function(Z,c,a){var d=a(106),b=a(80);Z.exports=Object.keys||function(T){return d(T,b)}},function(Z,c,a){var d=a(19);Z.exports=function(b,w,T,y){y&&y.enumerable?b[w]=T:d(b,w,T)}},function(Z,c,a){a(173);var d=a(174),b=a(8),w=a(65),T=a(19),y=a(43),x=a(10),A=x("toStringTag");for(var m in d){var L=b[m],g=L&&L.prototype;g&&w(g)!==A&&T(g,A,m),y[m]=y.Array}},function(Z,c,a){var d=a(33);Z.exports=Array.isArray||function(w){return d(w)=="Array"}},function(Z,c,a){var d=a(11),b=a(10),w=a(86),T=b("species");Z.exports=function(y){return w>=51||!d(function(){var x=[],A=x.constructor={};return A[T]=function(){return{foo:1}},x[y](Boolean).foo!==1})}},function(Z,c,a){Z.exports=a(222)},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.ListHandle=void 0;var w=a(2),T=w.__importDefault(a(373)),y=function(){function x(A){this.options=A,this.selectionRangeElem=new T.default}return x}();c.ListHandle=y},function(Z,c,a){"use strict";var d={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,w=b&&!d.call({1:2},1);c.f=w?function(y){var x=b(this,y);return!!x&&x.enumerable}:d},function(Z,c,a){var d=a(13);Z.exports=function(b,w){if(!d(b))return b;var T,y;if(w&&typeof(T=b.toString)=="function"&&!d(y=T.call(b))||typeof(T=b.valueOf)=="function"&&!d(y=T.call(b))||!w&&typeof(T=b.toString)=="function"&&!d(y=T.call(b)))return y;throw TypeError("Can't convert object to primitive value")}},function(Z,c){},function(Z,c){var a=Math.ceil,d=Math.floor;Z.exports=function(b){return isNaN(b=+b)?0:(b>0?d:a)(b)}},function(Z,c,a){var d=a(74),b=a(64),w=d("keys");Z.exports=function(T){return w[T]||(w[T]=b(T))}},function(Z,c){var a=0,d=Math.random();Z.exports=function(b){return"Symbol("+String(b===void 0?"":b)+")_"+(++a+d).toString(36)}},function(Z,c,a){var d=a(81),b=a(33),w=a(10),T=w("toStringTag"),y=b(function(){return arguments}())=="Arguments",x=function(m,L){try{return m[L]}catch(g){}};Z.exports=d?b:function(A){var m,L,g;return A===void 0?"Undefined":A===null?"Null":typeof(L=x(m=Object(A),T))=="string"?L:y?b(m):(g=b(m))=="Object"&&typeof m.callee=="function"?"Arguments":g}},function(Z,c,a){var d=a(25),b=a(111),w=a(34),T=a(39),y=a(112),x=a(113),A=function(g,E){this.stopped=g,this.result=E},m=Z.exports=function(L,g,E,C,P){var S=T(g,E,C?2:1),D,I,f,k,u,H,O;if(P)D=L;else{if(I=y(L),typeof I!="function")throw TypeError("Target is not iterable");if(b(I)){for(f=0,k=w(L.length);k>f;f++)if(u=C?S(d(O=L[f])[0],O[1]):S(L[f]),u&&u instanceof A)return u;return new A(!1)}D=I.call(L)}for(H=D.next;!(O=H.call(D)).done;)if(u=x(D,S,O.value,C),typeof u=="object"&&u&&u instanceof A)return u;return new A(!1)};m.stop=function(L){return new A(!0,L)}},function(Z,c,a){"use strict";var d=a(11);Z.exports=function(b,w){var T=[][b];return!!T&&d(function(){T.call(null,w||function(){throw 1},1)})}},function(Z,c){Z.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"},function(Z,c,a){"use strict";var d=a(60),b=a(18),w=a(48);Z.exports=function(T,y,x){var A=d(y);A in T?b.f(T,A,w(0,x)):T[A]=x}},function(Z,c,a){Z.exports=a(209)},function(Z,c,a){var d=a(14),b=a(59),w=a(48),T=a(28),y=a(60),x=a(16),A=a(99),m=Object.getOwnPropertyDescriptor;c.f=d?m:function(g,E){if(g=T(g),E=y(E,!0),A)try{return m(g,E)}catch(C){}if(x(g,E))return w(!b.f.call(g,E),g[E])}},function(Z,c,a){var d=a(11),b=a(33),w="".split;Z.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(T){return b(T)=="String"?w.call(T,""):Object(T)}:Object},function(Z,c,a){var d=a(8),b=a(13),w=d.document,T=b(w)&&b(w.createElement);Z.exports=function(y){return T?w.createElement(y):{}}},function(Z,c,a){var d=a(42),b=a(102);(Z.exports=function(w,T){return b[w]||(b[w]=T!==void 0?T:{})})("versions",[]).push({version:"3.6.4",mode:d?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(Z,c,a){"use strict";var d=a(5),b=a(167),w=a(104),T=a(171),y=a(36),x=a(19),A=a(53),m=a(10),L=a(42),g=a(43),E=a(103),C=E.IteratorPrototype,P=E.BUGGY_SAFARI_ITERATORS,S=m("iterator"),D="keys",I="values",f="entries",k=function(){return this};Z.exports=function(u,H,O,F,j,W,V){b(O,H,F);var G=function(Pe){if(Pe===j&&q)return q;if(!P&&Pe in Y)return Y[Pe];switch(Pe){case D:return function(){return new O(this,Pe)};case I:return function(){return new O(this,Pe)};case f:return function(){return new O(this,Pe)}}return function(){return new O(this)}},R=H+" Iterator",z=!1,Y=u.prototype,X=Y[S]||Y["@@iterator"]||j&&Y[j],q=!P&&X||G(j),_=H=="Array"&&Y.entries||X,ee,oe,pe;if(_&&(ee=w(_.call(new u)),C!==Object.prototype&&ee.next&&(!L&&w(ee)!==C&&(T?T(ee,C):typeof ee[S]!="function"&&x(ee,S,k)),y(ee,R,!0,!0),L&&(g[R]=k))),j==I&&X&&X.name!==I&&(z=!0,q=function(){return X.call(this)}),(!L||V)&&Y[S]!==q&&x(Y,S,q),g[H]=q,j)if(oe={values:G(I),keys:W?q:G(D),entries:G(f)},V)for(pe in oe)(P||z||!(pe in Y))&&A(Y,pe,oe[pe]);else d({target:H,proto:!0,forced:P||z},oe);return oe}},function(Z,c,a){var d=a(11);Z.exports=!!Object.getOwnPropertySymbols&&!d(function(){return!String(Symbol())})},function(Z,c,a){var d=a(25),b=a(169),w=a(80),T=a(51),y=a(107),x=a(73),A=a(63),m=">",L="<",g="prototype",E="script",C=A("IE_PROTO"),P=function(){},S=function(H){return L+E+m+H+L+"/"+E+m},D=function(H){H.write(S("")),H.close();var O=H.parentWindow.Object;return H=null,O},I=function(){var H=x("iframe"),O="java"+E+":",F;return H.style.display="none",y.appendChild(H),H.src=String(O),F=H.contentWindow.document,F.open(),F.write(S("document.F=Object")),F.close(),F.F},f,k=function(){try{f=document.domain&&new ActiveXObject("htmlfile")}catch(O){}k=f?D(f):I();for(var H=w.length;H--;)delete k[g][w[H]];return k()};T[C]=!0,Z.exports=Object.create||function(H,O){var F;return H!==null?(P[g]=d(H),F=new P,P[g]=null,F[C]=H):F=k(),O===void 0?F:b(F,O)}},function(Z,c,a){var d=a(28),b=a(34),w=a(79),T=function(x){return function(A,m,L){var g=d(A),E=b(g.length),C=w(L,E),P;if(x&&m!=m){for(;E>C;)if(P=g[C++],P!=P)return!0}else for(;E>C;C++)if((x||C in g)&&g[C]===m)return x||C||0;return!x&&-1}};Z.exports={includes:T(!0),indexOf:T(!1)}},function(Z,c,a){var d=a(62),b=Math.max,w=Math.min;Z.exports=function(T,y){var x=d(T);return x<0?b(x+y,0):w(x,y)}},function(Z,c){Z.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(Z,c,a){var d=a(10),b=d("toStringTag"),w={};w[b]="z",Z.exports=String(w)==="[object z]"},function(Z,c){Z.exports=function(){}},function(Z,c){Z.exports=function(a,d,b){if(!(a instanceof d))throw TypeError("Incorrect "+(b?b+" ":"")+"invocation");return a}},function(Z,c,a){var d=a(35);Z.exports=d("navigator","userAgent")||""},function(Z,c,a){"use strict";var d=a(40),b=function(T){var y,x;this.promise=new T(function(A,m){if(y!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");y=A,x=m}),this.resolve=d(y),this.reject=d(x)};Z.exports.f=function(w){return new b(w)}},function(Z,c,a){var d=a(8),b=a(84),w=d.process,T=w&&w.versions,y=T&&T.v8,x,A;y?(x=y.split("."),A=x[0]+x[1]):b&&(x=b.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=b.match(/Chrome\/(\d+)/),x&&(A=x[1]))),Z.exports=A&&+A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=a(6),A=T.__importDefault(a(267)),m=T.__importDefault(a(280)),L=T.__importDefault(a(281)),g=T.__importDefault(a(282)),E=T.__importDefault(a(301)),C=T.__importStar(a(416)),P=T.__importDefault(a(417)),S=T.__importDefault(a(418)),D=T.__importDefault(a(419)),I=T.__importStar(a(420)),f=T.__importDefault(a(423)),k=T.__importDefault(a(424)),u=T.__importDefault(a(425)),H=T.__importDefault(a(427)),O=T.__importDefault(a(437)),F=T.__importDefault(a(440)),j=T.__importStar(a(441)),W=T.__importDefault(a(23)),V=T.__importDefault(a(133)),G=T.__importDefault(a(24)),R=T.__importDefault(a(32)),z=T.__importDefault(a(37)),Y=T.__importDefault(a(38)),X=1,q=function(){function _(ee,oe){this.pluginsFunctionList={},this.beforeDestroyHooks=[],this.id="wangEditor-"+X++,this.toolbarSelector=ee,this.textSelector=oe,C.selectorValidator(this),this.config=x.deepClone(A.default),this.$toolbarElem=y.default("<div></div>"),this.$textContainerElem=y.default("<div></div>"),this.$textElem=y.default("<div></div>"),this.toolbarElemId="",this.textElemId="",this.isFocus=!1,this.isComposing=!1,this.isCompatibleMode=!1,this.selection=new m.default(this),this.cmd=new L.default(this),this.txt=new g.default(this),this.menus=new E.default(this),this.zIndex=new k.default,this.change=new u.default(this),this.history=new H.default(this),this.onSelectionChange=new F.default(this);var pe=O.default(this),ve=pe.disable,Pe=pe.enable;this.disable=ve,this.enable=Pe,this.isEnable=!0}return _.prototype.initSelection=function(ee){P.default(this,ee)},_.prototype.create=function(){this.zIndex.init(this),this.isCompatibleMode=this.config.compatibleMode(),this.isCompatibleMode||(this.config.onchangeTimeout=30),D.default(this),C.default(this),this.txt.init(),this.menus.init(),I.default(this),this.initSelection(!0),S.default(this),this.change.observe(),this.history.observe(),j.default(this)},_.prototype.beforeDestroy=function(ee){return this.beforeDestroyHooks.push(ee),this},_.prototype.destroy=function(){var ee,oe=this;(0,w.default)(ee=this.beforeDestroyHooks).call(ee,function(pe){return pe.call(oe)}),this.$toolbarElem.remove(),this.$textContainerElem.remove()},_.prototype.fullScreen=function(){I.setFullScreen(this)},_.prototype.unFullScreen=function(){I.setUnFullScreen(this)},_.prototype.scrollToHead=function(ee){f.default(this,ee)},_.registerMenu=function(ee,oe){!oe||typeof oe!="function"||(_.globalCustomMenuConstructorList[ee]=oe)},_.prototype.registerPlugin=function(ee,oe){j.registerPlugin(ee,oe,this.pluginsFunctionList)},_.registerPlugin=function(ee,oe){j.registerPlugin(ee,oe,_.globalPluginsFunctionList)},_.$=y.default,_.BtnMenu=W.default,_.DropList=V.default,_.DropListMenu=G.default,_.Panel=R.default,_.PanelMenu=z.default,_.Tooltip=Y.default,_.globalCustomMenuConstructorList={},_.globalPluginsFunctionList={},_}();c.default=q},function(Z,c,a){var d=a(13),b=a(55),w=a(10),T=w("species");Z.exports=function(y,x){var A;return b(y)&&(A=y.constructor,typeof A=="function"&&(A===Array||b(A.prototype))?A=void 0:d(A)&&(A=A[T],A===null&&(A=void 0))),new(A===void 0?Array:A)(x===0?0:x)}},function(Z,c,a){Z.exports=a(185)},function(Z,c,a){var d=a(49),b=a(68),w="["+b+"]",T=RegExp("^"+w+w+"*"),y=RegExp(w+w+"*$"),x=function(m){return function(L){var g=String(d(L));return m&1&&(g=g.replace(T,"")),m&2&&(g=g.replace(y,"")),g}};Z.exports={start:x(1),end:x(2),trim:x(3)}},function(Z,c,a){Z.exports=a(205)},function(Z,c,a){var d=a(227),b=a(230);function w(T){return typeof b=="function"&&typeof d=="symbol"?Z.exports=w=function(x){return typeof x}:Z.exports=w=function(x){return x&&typeof b=="function"&&x.constructor===b&&x!==b.prototype?"symbol":typeof x},w(T)}Z.exports=w},function(Z,c,a){var d=a(10);c.f=d},function(Z,c,a){Z.exports=a(306)},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(32)),x=function(){function A(m,L){var g=this;this.$elem=m,this.editor=L,this._active=!1,m.on("click",function(E){var C;y.default.hideCurAllPanels(),(0,w.default)(C=L.txt.eventHooks.menuClickEvents).call(C,function(P){return P()}),E.stopPropagation(),L.selection.getRange()!=null&&g.clickHandler(E)})}return A.prototype.clickHandler=function(m){},A.prototype.active=function(){this._active=!0,this.$elem.addClass("w-e-active")},A.prototype.unActive=function(){this._active=!1,this.$elem.removeClass("w-e-active")},(0,b.default)(A.prototype,"isActive",{get:function(){return this._active},enumerable:!1,configurable:!0}),A}();c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(57)),T=d(a(4)),y=d(a(27));(0,b.default)(c,"__esModule",{value:!0});var x=a(2),A=a(6),m=x.__importDefault(a(135)),L=x.__importDefault(a(136)),g=function(){function E(C){this.editor=C}return E.prototype.insertImg=function(C,P,S){var D=this.editor,I=D.config,f="validate.",k=function(j,W){return W===void 0&&(W=f),D.i18next.t(W+j)},u=P?'alt="'+P+'" ':"",H=S?'data-href="'+encodeURIComponent(S)+'" ':"";D.cmd.do("insertHTML",'<img src="'+C+'" '+u+H+'style="max-width:100%;" contenteditable="false"/>'),I.linkImgCallback(C,P,S);var O=document.createElement("img");O.onload=function(){O=null},O.onerror=function(){I.customAlert(k("\u63D2\u5165\u56FE\u7247\u9519\u8BEF"),"error","wangEditor: "+k("\u63D2\u5165\u56FE\u7247\u9519\u8BEF")+"\uFF0C"+k("\u56FE\u7247\u94FE\u63A5")+' "'+C+'"\uFF0C'+k("\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25")),O=null},O.onabort=function(){return O=null},O.src=C},E.prototype.uploadImg=function(C){var P=this;if(C.length){var S=this.editor,D=S.config,I="validate.",f=function(Ne){return S.i18next.t(I+Ne)},k=D.uploadImgServer,u=D.uploadImgShowBase64,H=D.uploadImgMaxSize,O=H/1024/1024,F=D.uploadImgMaxLength,j=D.uploadFileName,W=D.uploadImgParams,V=D.uploadImgParamsWithUrl,G=D.uploadImgHeaders,R=D.uploadImgHooks,z=D.uploadImgTimeout,Y=D.withCredentials,X=D.customUploadImg;if(!(!X&&!k&&!u)){var q=[],_=[];if(A.arrForEach(C,function(Re){if(Re){var Ne=Re.name||Re.type.replace("/","."),Be=Re.size;if(!(!Ne||!Be)){var Ke=S.config.uploadImgAccept.join("|"),Ve=".("+Ke+")$",ht=new RegExp(Ve,"i");if(ht.test(Ne)===!1){_.push("\u3010"+Ne+"\u3011"+f("\u4E0D\u662F\u56FE\u7247"));return}if(H<Be){_.push("\u3010"+Ne+"\u3011"+f("\u5927\u4E8E")+" "+O+"M");return}q.push(Re)}}}),_.length){D.customAlert(f("\u56FE\u7247\u9A8C\u8BC1\u672A\u901A\u8FC7")+": \n"+_.join("\n"),"warning");return}if(q.length===0){D.customAlert(f("\u4F20\u5165\u7684\u6587\u4EF6\u4E0D\u5408\u6CD5"),"warning");return}if(q.length>F){D.customAlert(f("\u4E00\u6B21\u6700\u591A\u4E0A\u4F20")+F+f("\u5F20\u56FE\u7247"),"warning");return}if(X&&typeof X=="function"){var ee;X(q,(0,w.default)(ee=this.insertImg).call(ee,this));return}var oe=new FormData;if((0,T.default)(q).call(q,function(Re,Ne){var Be=j||Re.name;q.length>1&&(Be=Be+(Ne+1)),oe.append(Be,Re)}),k){var pe=k.split("#");k=pe[0];var ve=pe[1]||"";(0,T.default)(A).call(A,W,function(Re,Ne){V&&((0,y.default)(k).call(k,"?")>0?k+="&":k+="?",k=k+Re+"="+Ne),oe.append(Re,Ne)}),ve&&(k+="#"+ve);var Pe=m.default(k,{timeout:z,formData:oe,headers:G,withCredentials:!!Y,beforeSend:function(Ne){if(R.before)return R.before(Ne,S,q)},onTimeout:function(Ne){D.customAlert(f("\u4E0A\u4F20\u56FE\u7247\u8D85\u65F6"),"error"),R.timeout&&R.timeout(Ne,S)},onProgress:function(Ne,Be){var Ke=new L.default(S);Be.lengthComputable&&(Ne=Be.loaded/Be.total,Ke.show(Ne))},onError:function(Ne){D.customAlert(f("\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF"),"error",f("\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF")+"\uFF0C"+f("\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001")+": "+Ne.status),R.error&&R.error(Ne,S)},onFail:function(Ne,Be){D.customAlert(f("\u4E0A\u4F20\u56FE\u7247\u5931\u8D25"),"error",f("\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF")+("\uFF0C"+f("\u8FD4\u56DE\u7ED3\u679C")+": ")+Be),R.fail&&R.fail(Ne,S,Be)},onSuccess:function(Ne,Be){if(R.customInsert){var Ke;R.customInsert((0,w.default)(Ke=P.insertImg).call(Ke,P),Be,S);return}if(Be.errno!="0"){D.customAlert(f("\u4E0A\u4F20\u56FE\u7247\u5931\u8D25"),"error",f("\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF")+"\uFF0C"+f("\u8FD4\u56DE\u7ED3\u679C")+" errno="+Be.errno),R.fail&&R.fail(Ne,S,Be);return}var Ve=Be.data;(0,T.default)(Ve).call(Ve,function(ht){typeof ht=="string"?P.insertImg(ht):P.insertImg(ht.url,ht.alt,ht.href)}),R.success&&R.success(Ne,S,Be)}});typeof Pe=="string"&&D.customAlert(Pe,"error");return}u&&A.arrForEach(C,function(Re){var Ne=P,Be=new FileReader;Be.readAsDataURL(Re),Be.onload=function(){if(this.result){var Ke=this.result.toString();Ne.insertImg(Ke,Ke)}}})}}},E}();c.default=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(410)),T=d(a(4)),y=d(a(45));(0,b.default)(c,"__esModule",{value:!0}),c.dealTextNode=c.isAllTodo=c.isTodo=c.getCursorNextNode=void 0;function x(E){return E.length?E.attr("class")==="w-e-todo":!1}c.isTodo=x;function A(E){var C=E.selection.getSelectionRangeTopNodes();if(C.length!==0)return(0,w.default)(C).call(C,function(P){return x(P)})}c.isAllTodo=A;function m(E,C,P){var S;if(E.hasChildNodes()){var D=E.cloneNode(),I=!1;C.nodeValue===""&&(I=!0);var f=[];return(0,T.default)(S=E.childNodes).call(S,function(k){if(!L(k,C)&&I&&(D.appendChild(k.cloneNode(!0)),k.nodeName!=="BR"&&f.push(k)),L(k,C)){if(k.nodeType===1){var u=m(k,C,P);u&&u.textContent!==""&&(D==null||D.appendChild(u))}if(k.nodeType===3&&C.isEqualNode(k)){var H=g(k,P);D.textContent=H}I=!0}}),(0,T.default)(f).call(f,function(k){var u=k;u.remove()}),D}}c.getCursorNextNode=m;function L(E,C){return E.nodeType===3?E.nodeValue===C.nodeValue:E.contains(C)}function g(E,C,P){P===void 0&&(P=!0);var S=E.nodeValue,D=S==null?void 0:(0,y.default)(S).call(S,0,C);if(S=S==null?void 0:(0,y.default)(S).call(S,C),!P){var I=S;S=D,D=I}return E.nodeValue=D,S}c.dealTextNode=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(430),T=function(){function y(x){this.maxSize=x,this.isRe=!1,this.data=new w.CeilStack(x),this.revokeData=new w.CeilStack(x)}return(0,b.default)(y.prototype,"size",{get:function(){return[this.data.size,this.revokeData.size]},enumerable:!1,configurable:!0}),y.prototype.resetMaxSize=function(x){this.data.resetMax(x),this.revokeData.resetMax(x)},y.prototype.save=function(x){return this.isRe&&(this.revokeData.clear(),this.isRe=!1),this.data.instack(x),this},y.prototype.revoke=function(x){!this.isRe&&(this.isRe=!0);var A=this.data.outstack();return A?(this.revokeData.instack(A),x(A),!0):!1},y.prototype.restore=function(x){!this.isRe&&(this.isRe=!0);var A=this.revokeData.outstack();return A?(this.data.instack(A),x(A),!0):!1},y}();c.default=T},function(Z,c,a){var d=a(14),b=a(11),w=a(73);Z.exports=!d&&!b(function(){return Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a!=7})},function(Z,c,a){var d=a(11),b=/#|\.prototype\./,w=function(L,g){var E=y[T(L)];return E==A?!0:E==x?!1:typeof g=="function"?d(g):!!g},T=w.normalize=function(m){return String(m).replace(b,".").toLowerCase()},y=w.data={},x=w.NATIVE="N",A=w.POLYFILL="P";Z.exports=w},function(Z,c,a){var d=a(102),b=Function.toString;typeof d.inspectSource!="function"&&(d.inspectSource=function(w){return b.call(w)}),Z.exports=d.inspectSource},function(Z,c,a){var d=a(8),b=a(166),w="__core-js_shared__",T=d[w]||b(w,{});Z.exports=T},function(Z,c,a){"use strict";var d=a(104),b=a(19),w=a(16),T=a(10),y=a(42),x=T("iterator"),A=!1,m=function(){return this},L,g,E;[].keys&&(E=[].keys(),"next"in E?(g=d(d(E)),g!==Object.prototype&&(L=g)):A=!0),L==null&&(L={}),!y&&!w(L,x)&&b(L,x,m),Z.exports={IteratorPrototype:L,BUGGY_SAFARI_ITERATORS:A}},function(Z,c,a){var d=a(16),b=a(29),w=a(63),T=a(168),y=w("IE_PROTO"),x=Object.prototype;Z.exports=T?Object.getPrototypeOf:function(A){return A=b(A),d(A,y)?A[y]:typeof A.constructor=="function"&&A instanceof A.constructor?A.constructor.prototype:A instanceof Object?x:null}},function(Z,c,a){var d=a(76);Z.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(Z,c,a){var d=a(16),b=a(28),w=a(78).indexOf,T=a(51);Z.exports=function(y,x){var A=b(y),m=0,L=[],g;for(g in A)!d(T,g)&&d(A,g)&&L.push(g);for(;x.length>m;)d(A,g=x[m++])&&(~w(L,g)||L.push(g));return L}},function(Z,c,a){var d=a(35);Z.exports=d("document","documentElement")},function(Z,c,a){var d=a(8);Z.exports=d.Promise},function(Z,c,a){var d=a(53);Z.exports=function(b,w,T){for(var y in w)T&&T.unsafe&&b[y]?b[y]=w[y]:d(b,y,w[y],T);return b}},function(Z,c,a){"use strict";var d=a(35),b=a(18),w=a(10),T=a(14),y=w("species");Z.exports=function(x){var A=d(x),m=b.f;T&&A&&!A[y]&&m(A,y,{configurable:!0,get:function(){return this}})}},function(Z,c,a){var d=a(10),b=a(43),w=d("iterator"),T=Array.prototype;Z.exports=function(y){return y!==void 0&&(b.Array===y||T[w]===y)}},function(Z,c,a){var d=a(65),b=a(43),w=a(10),T=w("iterator");Z.exports=function(y){if(y!=null)return y[T]||y["@@iterator"]||b[d(y)]}},function(Z,c,a){var d=a(25);Z.exports=function(b,w,T,y){try{return y?w(d(T)[0],T[1]):w(T)}catch(A){var x=b.return;throw x!==void 0&&d(x.call(b)),A}}},function(Z,c,a){var d=a(10),b=d("iterator"),w=!1;try{var T=0,y={next:function(){return{done:!!T++}},return:function(){w=!0}};y[b]=function(){return this},Array.from(y,function(){throw 2})}catch(x){}Z.exports=function(x,A){if(!A&&!w)return!1;var m=!1;try{var L={};L[b]=function(){return{next:function(){return{done:m=!0}}}},x(L)}catch(g){}return m}},function(Z,c,a){var d=a(25),b=a(40),w=a(10),T=w("species");Z.exports=function(y,x){var A=d(y).constructor,m;return A===void 0||(m=d(A)[T])==null?x:b(m)}},function(Z,c,a){var d=a(8),b=a(11),w=a(33),T=a(39),y=a(107),x=a(73),A=a(117),m=d.location,L=d.setImmediate,g=d.clearImmediate,E=d.process,C=d.MessageChannel,P=d.Dispatch,S=0,D={},I="onreadystatechange",f,k,u,H=function(V){if(D.hasOwnProperty(V)){var G=D[V];delete D[V],G()}},O=function(V){return function(){H(V)}},F=function(V){H(V.data)},j=function(V){d.postMessage(V+"",m.protocol+"//"+m.host)};(!L||!g)&&(L=function(V){for(var G=[],R=1;arguments.length>R;)G.push(arguments[R++]);return D[++S]=function(){(typeof V=="function"?V:Function(V)).apply(void 0,G)},f(S),S},g=function(V){delete D[V]},w(E)=="process"?f=function(V){E.nextTick(O(V))}:P&&P.now?f=function(V){P.now(O(V))}:C&&!A?(k=new C,u=k.port2,k.port1.onmessage=F,f=T(u.postMessage,u,1)):d.addEventListener&&typeof postMessage=="function"&&!d.importScripts&&!b(j)&&m.protocol!=="file:"?(f=j,d.addEventListener("message",F,!1)):I in x("script")?f=function(V){y.appendChild(x("script"))[I]=function(){y.removeChild(this),H(V)}}:f=function(V){setTimeout(O(V),0)}),Z.exports={set:L,clear:g}},function(Z,c,a){var d=a(84);Z.exports=/(iphone|ipod|ipad).*applewebkit/i.test(d)},function(Z,c,a){var d=a(25),b=a(13),w=a(85);Z.exports=function(T,y){if(d(T),b(y)&&y.constructor===T)return y;var x=w.f(T),A=x.resolve;return A(y),x.promise}},function(Z,c){Z.exports=function(a){try{return{error:!1,value:a()}}catch(d){return{error:!0,value:d}}}},function(Z,c,a){Z.exports=a(197)},function(Z,c,a){"use strict";var d=a(5),b=a(8),w=a(122),T=a(11),y=a(19),x=a(66),A=a(83),m=a(13),L=a(36),g=a(18).f,E=a(30).forEach,C=a(14),P=a(41),S=P.set,D=P.getterFor;Z.exports=function(I,f,k){var u=I.indexOf("Map")!==-1,H=I.indexOf("Weak")!==-1,O=u?"set":"add",F=b[I],j=F&&F.prototype,W={},V;if(!C||typeof F!="function"||!(H||j.forEach&&!T(function(){new F().entries().next()})))V=k.getConstructor(f,I,u,O),w.REQUIRED=!0;else{V=f(function(R,z){S(A(R,V,I),{type:I,collection:new F}),z!=null&&x(z,R[O],R,u)});var G=D(I);E(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var z=R=="add"||R=="set";R in j&&!(H&&R=="clear")&&y(V.prototype,R,function(Y,X){var q=G(this).collection;if(!z&&H&&!m(Y))return R=="get"?void 0:!1;var _=q[R](Y===0?0:Y,X);return z?this:_})}),H||g(V.prototype,"size",{configurable:!0,get:function(){return G(this).collection.size}})}return L(V,I,!1,!0),W[I]=V,d({global:!0,forced:!0},W),H||k.setStrong(V,I,u),V}},function(Z,c,a){var d=a(51),b=a(13),w=a(16),T=a(18).f,y=a(64),x=a(200),A=y("meta"),m=0,L=Object.isExtensible||function(){return!0},g=function(I){T(I,A,{value:{objectID:"O"+ ++m,weakData:{}}})},E=function(I,f){if(!b(I))return typeof I=="symbol"?I:(typeof I=="string"?"S":"P")+I;if(!w(I,A)){if(!L(I))return"F";if(!f)return"E";g(I)}return I[A].objectID},C=function(I,f){if(!w(I,A)){if(!L(I))return!0;if(!f)return!1;g(I)}return I[A].weakData},P=function(I){return x&&S.REQUIRED&&L(I)&&!w(I,A)&&g(I),I},S=Z.exports={REQUIRED:!1,fastKey:E,getWeakData:C,onFreeze:P};d[A]=!0},function(Z,c,a){"use strict";var d=a(18).f,b=a(77),w=a(109),T=a(39),y=a(83),x=a(66),A=a(75),m=a(110),L=a(14),g=a(122).fastKey,E=a(41),C=E.set,P=E.getterFor;Z.exports={getConstructor:function(D,I,f,k){var u=D(function(j,W){y(j,u,I),C(j,{type:I,index:b(null),first:void 0,last:void 0,size:0}),L||(j.size=0),W!=null&&x(W,j[k],j,f)}),H=P(I),O=function(W,V,G){var R=H(W),z=F(W,V),Y,X;return z?z.value=G:(R.last=z={index:X=g(V,!0),key:V,value:G,previous:Y=R.last,next:void 0,removed:!1},R.first||(R.first=z),Y&&(Y.next=z),L?R.size++:W.size++,X!=="F"&&(R.index[X]=z)),W},F=function(W,V){var G=H(W),R=g(V),z;if(R!=="F")return G.index[R];for(z=G.first;z;z=z.next)if(z.key==V)return z};return w(u.prototype,{clear:function(){for(var W=this,V=H(W),G=V.index,R=V.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete G[R.index],R=R.next;V.first=V.last=void 0,L?V.size=0:W.size=0},delete:function(W){var V=this,G=H(V),R=F(V,W);if(R){var z=R.next,Y=R.previous;delete G.index[R.index],R.removed=!0,Y&&(Y.next=z),z&&(z.previous=Y),G.first==R&&(G.first=z),G.last==R&&(G.last=Y),L?G.size--:V.size--}return!!R},forEach:function(W){for(var V=H(this),G=T(W,arguments.length>1?arguments[1]:void 0,3),R;R=R?R.next:V.first;)for(G(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(W){return!!F(this,W)}}),w(u.prototype,f?{get:function(W){var V=F(this,W);return V&&V.value},set:function(W,V){return O(this,W===0?0:W,V)}}:{add:function(W){return O(this,W=W===0?0:W,W)}}),L&&d(u.prototype,"size",{get:function(){return H(this).size}}),u},setStrong:function(D,I,f){var k=I+" Iterator",u=P(I),H=P(k);A(D,I,function(O,F){C(this,{type:k,target:O,state:u(O),kind:F,last:void 0})},function(){for(var O=H(this),F=O.kind,j=O.last;j&&j.removed;)j=j.previous;return!O.target||!(O.last=j=j?j.next:O.state.first)?(O.target=void 0,{value:void 0,done:!0}):F=="keys"?{value:j.key,done:!1}:F=="values"?{value:j.value,done:!1}:{value:[j.key,j.value],done:!1}},f?"entries":"values",!f,!0),m(I)}}},function(Z,c,a){var d=a(12);d("iterator")},function(Z,c,a){var d=a(106),b=a(80),w=b.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(y){return d(y,w)}},function(Z,c){c.f=Object.getOwnPropertySymbols},function(Z,c,a){Z.exports=a(268)},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={zIndex:1e4}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={focus:!0,height:300,placeholder:"\u8BF7\u8F93\u5165\u6B63\u6587",zIndexFullScreen:10002,showFullScreen:!0}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0}),c.getPasteImgs=c.getPasteHtml=c.getPasteText=void 0;var T=a(2),y=a(6),x=T.__importDefault(a(292));function A(g){var E=g.clipboardData,C="";return E==null?C=window.clipboardData&&window.clipboardData.getData("text"):C=E.getData("text/plain"),y.replaceHtmlSymbol(C)}c.getPasteText=A;function m(g,E,C){E===void 0&&(E=!0),C===void 0&&(C=!1);var P=g.clipboardData,S="";if(P&&(S=P.getData("text/html")),!S){var D=A(g);if(!D)return"";S="<p>"+D+"</p>"}return S=S.replace(/<(\d)/gm,function(I,f){return"&lt;"+f}),S=S.replace(/<(\/?meta.*?)>/gim,""),S=x.default(S,E,C),S}c.getPasteHtml=m;function L(g){var E,C=[],P=A(g);if(P)return C;var S=(E=g.clipboardData)===null||E===void 0?void 0:E.items;return S&&(0,w.default)(y).call(y,S,function(D,I){var f=I.type;/image/i.test(f)&&C.push(I.getAsFile())}),C}c.getPasteImgs=L},function(Z,c,a){Z.exports=a(294)},function(Z,c,a){Z.exports=a(310)},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(46));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(3)),A=a(7),m=function(){function L(g,E){var C=this;this.hideTimeoutId=0,this.menu=g,this.conf=E;var P=x.default('<div class="w-e-droplist"></div>'),S=x.default("<p>"+E.title+"</p>");S.addClass("w-e-dp-title"),P.append(S);var D=E.list||[],I=E.type||"list",f=E.clickHandler||A.EMPTY_FN,k=x.default('<ul class="'+(I==="list"?"w-e-list":"w-e-block")+'"></ul>');(0,w.default)(D).call(D,function(u){var H=u.$elem,O=u.value,F=x.default('<li class="w-e-item"></li>');H&&(F.append(H),k.append(F),F.on("click",function(j){f(O),j.stopPropagation(),C.hideTimeoutId=(0,T.default)(function(){C.hide()})}))}),P.append(k),P.on("mouseleave",function(){C.hideTimeoutId=(0,T.default)(function(){C.hide()})}),this.$container=P,this.rendered=!1,this._show=!1}return L.prototype.show=function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var g=this.menu,E=g.$elem,C=this.$container;if(!this._show){if(this.rendered)C.show();else{var P=E.getBoundingClientRect().height||0,S=this.conf.width||100;C.css("margin-top",P+"px").css("width",S+"px"),E.append(C),this.rendered=!0}this._show=!0}},L.prototype.hide=function(){var g=this.$container;this._show&&(g.hide(),this._show=!1)},(0,b.default)(L.prototype,"isShow",{get:function(){return this._show},enumerable:!1,configurable:!0}),L}();c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});function w(T){var y=T.selection.getSelectionContainerElem();return y!=null&&y.length?y.getNodeName()==="A":!1}c.default=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(92)),w=d(a(1)),T=d(a(4));(0,w.default)(c,"__esModule",{value:!0});var y=a(6);function x(A,m){var L=new XMLHttpRequest;if(L.open("POST",A),L.timeout=m.timeout||1e4,L.ontimeout=function(){console.error("wangEditor - \u8BF7\u6C42\u8D85\u65F6"),m.onTimeout&&m.onTimeout(L)},L.upload&&(L.upload.onprogress=function(E){var C=E.loaded/E.total;m.onProgress&&m.onProgress(C,E)}),m.headers&&(0,T.default)(y).call(y,m.headers,function(E,C){L.setRequestHeader(E,C)}),L.withCredentials=!!m.withCredentials,m.beforeSend){var g=m.beforeSend(L);if(g&&(0,b.default)(g)==="object"&&g.prevent)return g.msg}return L.onreadystatechange=function(){if(L.readyState===4){var E=L.status;if(!(E<200)&&!(E>=300&&E<400)){if(E>=400){console.error("wangEditor - XHR \u62A5\u9519\uFF0C\u72B6\u6001\u7801 "+E),m.onError&&m.onError(L);return}var C=L.responseText,P;if((0,b.default)(C)!=="object")try{P=JSON.parse(C)}catch(S){console.error("wangEditor - \u8FD4\u56DE\u7ED3\u679C\u4E0D\u662F JSON \u683C\u5F0F",C),m.onFail&&m.onFail(L,C);return}else P=C;m.onSuccess(L,P)}}},L.send(m.formData||null),L}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(342)),T=d(a(46));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(3)),A=function(){function m(L){this.editor=L,this.$textContainer=L.$textContainerElem,this.$bar=x.default('<div class="w-e-progress"></div>'),this.isShow=!1,this.time=0,this.timeoutId=0}return m.prototype.show=function(L){var g=this;if(!this.isShow){this.isShow=!0;var E=this.$bar,C=this.$textContainer;C.append(E),(0,w.default)()-this.time>100&&L<=1&&(E.css("width",L*100+"%"),this.time=(0,w.default)());var P=this.timeoutId;P&&clearTimeout(P),this.timeoutId=(0,T.default)(function(){g.hide()},500)}},m.prototype.hide=function(){var L=this.$bar;L.remove(),this.isShow=!1,this.time=0,this.timeoutId=0},m}();c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.ListType=void 0;var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(24)),x=a(47),A=w.__importStar(a(371)),m;(function(g){g.OrderedList="OL",g.UnorderedList="UL"})(m=c.ListType||(c.ListType={}));var L=function(g){w.__extends(E,g);function E(C){var P=this,S=T.default('<div class="w-e-menu" data-title="\u5E8F\u5217">\n                <i class="w-e-icon-list2"></i>\n            </div>'),D={width:130,title:"\u5E8F\u5217",type:"list",list:[{$elem:T.default('\n                        <p>\n                            <i class="w-e-icon-list2 w-e-drop-list-item"></i>\n                            '+C.i18next.t("menus.dropListMenu.list.\u65E0\u5E8F\u5217\u8868")+"\n                        <p>"),value:m.UnorderedList},{$elem:T.default('<p>\n                            <i class="w-e-icon-list-numbered w-e-drop-list-item"></i>\n                            '+C.i18next.t("menus.dropListMenu.list.\u6709\u5E8F\u5217\u8868")+"\n                        <p>"),value:m.OrderedList}],clickHandler:function(f){P.command(f)}};return P=g.call(this,S,C,D)||this,P}return E.prototype.command=function(C){var P=this.editor,S=P.selection.getSelectionContainerElem();S!==void 0&&(this.handleSelectionRangeNodes(C),this.tryChangeActive())},E.prototype.validator=function(C,P,S){return!(!C.length||!P.length||S.equal(C)||S.equal(P))},E.prototype.handleSelectionRangeNodes=function(C){var P=this.editor,S=P.selection,D=C.toLowerCase(),I=S.getSelectionContainerElem(),f=S.getSelectionStartElem().getNodeTop(P),k=S.getSelectionEndElem().getNodeTop(P);if(this.validator(f,k,P.$textElem)){var u=S.getRange(),H=u==null?void 0:u.collapsed;P.$textElem.equal(I)||(I=I.getNodeTop(P));var O={editor:P,listType:C,listTarget:D,$selectionElem:I,$startElem:f,$endElem:k},F;this.isOrderElem(I)?F=A.ClassType.Wrap:this.isOrderElem(f)&&this.isOrderElem(k)?F=A.ClassType.Join:this.isOrderElem(f)?F=A.ClassType.StartJoin:this.isOrderElem(k)?F=A.ClassType.EndJoin:F=A.ClassType.Other;var j=new A.default(A.createListHandle(F,O,u));x.updateRange(P,j.getSelectionRangeElem(),!!H)}},E.prototype.isOrderElem=function(C){var P=C.getNodeName();return P===m.OrderedList||P===m.UnorderedList},E.prototype.tryChangeActive=function(){},E}(y.default);c.default=L},function(Z,c,a){Z.exports=a(395)},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});function w(T){var y=T.selection.getSelectionContainerElem();return y!=null&&y.length?!!(y.getNodeName()=="CODE"||y.getNodeName()=="PRE"||y.parent().getNodeName()=="CODE"||y.parent().getNodeName()=="PRE"||/hljs/.test(y.parent().attr("class"))):!1}c.default=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(31));(0,b.default)(c,"__esModule",{value:!0}),c.todo=void 0;var T=a(2),y=T.__importDefault(a(3)),x=function(){function m(L){var g;this.template='<ul class="w-e-todo"><li><span contenteditable="false"><input type="checkbox"></span></li></ul>',this.checked=!1,this.$todo=y.default(this.template),this.$child=(g=L==null?void 0:L.childNodes())===null||g===void 0?void 0:g.clone(!0)}return m.prototype.init=function(){var L=this.$child,g=this.getInputContainer();L&&L.insertAfter(g)},m.prototype.getInput=function(){var L=this.$todo,g=(0,w.default)(L).call(L,"input");return g},m.prototype.getInputContainer=function(){var L=this.getInput().parent();return L},m.prototype.getTodo=function(){return this.$todo},m}();c.todo=x;function A(m){var L=new x(m);return L.init(),L}c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2);a(146),a(148),a(152),a(154),a(156),a(158),a(160);var T=w.__importDefault(a(87));w.__exportStar(a(442),c);try{}catch(y){throw new Error("\u8BF7\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E0B\u8FD0\u884C")}c.default=T.default},function(Z,c,a){var d=a(143);Z.exports=d},function(Z,c,a){a(144);var d=a(9),b=d.Object,w=Z.exports=function(y,x,A){return b.defineProperty(y,x,A)};b.defineProperty.sham&&(w.sham=!0)},function(Z,c,a){var d=a(5),b=a(14),w=a(18);d({target:"Object",stat:!0,forced:!b,sham:!b},{defineProperty:w.f})},function(Z,c){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(d){typeof window=="object"&&(a=window)}Z.exports=a},function(Z,c,a){var d=a(20),b=a(147);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,'.w-e-toolbar,\n.w-e-text-container,\n.w-e-menu-panel {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  background-color: #fff;\n  /*\u8868\u60C5\u83DC\u5355\u6837\u5F0F*/\n  /*\u5206\u5272\u7EBF\u6837\u5F0F*/\n}\n.w-e-toolbar h1,\n.w-e-text-container h1,\n.w-e-menu-panel h1 {\n  font-size: 32px !important;\n}\n.w-e-toolbar h2,\n.w-e-text-container h2,\n.w-e-menu-panel h2 {\n  font-size: 24px !important;\n}\n.w-e-toolbar h3,\n.w-e-text-container h3,\n.w-e-menu-panel h3 {\n  font-size: 18.72px !important;\n}\n.w-e-toolbar h4,\n.w-e-text-container h4,\n.w-e-menu-panel h4 {\n  font-size: 16px !important;\n}\n.w-e-toolbar h5,\n.w-e-text-container h5,\n.w-e-menu-panel h5 {\n  font-size: 13.28px !important;\n}\n.w-e-toolbar p,\n.w-e-text-container p,\n.w-e-menu-panel p {\n  font-size: 16px !important;\n}\n.w-e-toolbar .eleImg,\n.w-e-text-container .eleImg,\n.w-e-menu-panel .eleImg {\n  cursor: pointer;\n  display: inline-block;\n  font-size: 18px;\n  padding: 0 3px;\n}\n.w-e-toolbar *,\n.w-e-text-container *,\n.w-e-menu-panel * {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n.w-e-toolbar hr,\n.w-e-text-container hr,\n.w-e-menu-panel hr {\n  cursor: pointer;\n  display: block;\n  height: 0px;\n  border: 0;\n  border-top: 3px solid #ccc;\n  margin: 20px 0;\n}\n.w-e-clear-fix:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.w-e-drop-list-item {\n  position: relative;\n  top: 1px;\n  padding-right: 7px;\n  color: #333 !important;\n}\n.w-e-drop-list-tl {\n  padding-left: 10px;\n  text-align: left;\n}\n',""]),Z.exports=c},function(Z,c,a){var d=a(20),b=a(149);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21),b=a(150),w=a(151);c=d(!1);var T=b(w);c.push([Z.i,"@font-face {\n  font-family: 'w-e-icon';\n  src: url("+T+') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n[class^="w-e-icon-"],\n[class*=" w-e-icon-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'w-e-icon\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.w-e-icon-close:before {\n  content: "\\f00d";\n}\n.w-e-icon-upload2:before {\n  content: "\\e9c6";\n}\n.w-e-icon-trash-o:before {\n  content: "\\f014";\n}\n.w-e-icon-header:before {\n  content: "\\f1dc";\n}\n.w-e-icon-pencil2:before {\n  content: "\\e906";\n}\n.w-e-icon-paint-brush:before {\n  content: "\\f1fc";\n}\n.w-e-icon-image:before {\n  content: "\\e90d";\n}\n.w-e-icon-play:before {\n  content: "\\e912";\n}\n.w-e-icon-location:before {\n  content: "\\e947";\n}\n.w-e-icon-undo:before {\n  content: "\\e965";\n}\n.w-e-icon-redo:before {\n  content: "\\e966";\n}\n.w-e-icon-quotes-left:before {\n  content: "\\e977";\n}\n.w-e-icon-list-numbered:before {\n  content: "\\e9b9";\n}\n.w-e-icon-list2:before {\n  content: "\\e9bb";\n}\n.w-e-icon-link:before {\n  content: "\\e9cb";\n}\n.w-e-icon-happy:before {\n  content: "\\e9df";\n}\n.w-e-icon-bold:before {\n  content: "\\ea62";\n}\n.w-e-icon-underline:before {\n  content: "\\ea63";\n}\n.w-e-icon-italic:before {\n  content: "\\ea64";\n}\n.w-e-icon-strikethrough:before {\n  content: "\\ea65";\n}\n.w-e-icon-table2:before {\n  content: "\\ea71";\n}\n.w-e-icon-paragraph-left:before {\n  content: "\\ea77";\n}\n.w-e-icon-paragraph-center:before {\n  content: "\\ea78";\n}\n.w-e-icon-paragraph-right:before {\n  content: "\\ea79";\n}\n.w-e-icon-paragraph-justify:before {\n  content: "\\ea7a";\n}\n.w-e-icon-terminal:before {\n  content: "\\f120";\n}\n.w-e-icon-page-break:before {\n  content: "\\ea68";\n}\n.w-e-icon-cancel-circle:before {\n  content: "\\ea0d";\n}\n.w-e-icon-font:before {\n  content: "\\ea5c";\n}\n.w-e-icon-text-heigh:before {\n  content: "\\ea5f";\n}\n.w-e-icon-paint-format:before {\n  content: "\\e90c";\n}\n.w-e-icon-indent-increase:before {\n  content: "\\ea7b";\n}\n.w-e-icon-indent-decrease:before {\n  content: "\\ea7c";\n}\n.w-e-icon-row-height:before {\n  content: "\\e9be";\n}\n.w-e-icon-fullscreen_exit:before {\n  content: "\\e900";\n}\n.w-e-icon-fullscreen:before {\n  content: "\\e901";\n}\n.w-e-icon-split-line:before {\n  content: "\\ea0b";\n}\n.w-e-icon-checkbox-checked:before {\n  content: "\\ea52";\n}\n',""]),Z.exports=c},function(Z,c,a){"use strict";Z.exports=function(d,b){return b||(b={}),d=d&&d.__esModule?d.default:d,typeof d!="string"?d:(/^['"].*['"]$/.test(d)&&(d=d.slice(1,-1)),b.hash&&(d+=b.hash),/["'() \t\n]/.test(d)||b.needQuotes?'"'.concat(d.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):d)}},function(Z,c,a){"use strict";a.r(c),c.default="data:font/woff;base64,d09GRgABAAAAABskAAsAAAAAGtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPFWNtYXAAAAFoAAABHAAAARz2mfAgZ2FzcAAAAoQAAAAIAAAACAAAABBnbHlmAAACjAAAFXwAABV8IH7+mGhlYWQAABgIAAAANgAAADYb6gumaGhlYQAAGEAAAAAkAAAAJAkjBWlobXR4AAAYZAAAAKQAAACkmYcEbmxvY2EAABkIAAAAVAAAAFReAmKYbWF4cAAAGVwAAAAgAAAAIAA0ALZuYW1lAAAZfAAAAYYAAAGGmUoJ+3Bvc3QAABsEAAAAIAAAACAAAwAAAAMD7wGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAQAAAAA8ACAABAAcAAEAIOkB6QbpDekS6UfpZul36bnpu+m+6cbpy+nf6gvqDepS6lzqX+pl6nHqfPAN8BTxIPHc8fz//f//AAAAAAAg6QDpBukM6RLpR+ll6Xfpuem76b7pxunL6d/qC+oN6lLqXOpf6mLqcep38A3wFPEg8dzx/P/9//8AAf/jFwQXABb7FvcWwxamFpYWVRZUFlIWSxZHFjQWCRYIFcQVuxW5FbcVrBWnEBcQEQ8GDksOLAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAEEAAQO/A38ABQALABEAFwAAATMVIREzAxEhFSMVATUzESE1ETUhESM1Av/A/sJ+fgE+wP4Cfv7CAT5+Ar9+AT78ggE+fsACvsD+wn7+An7+wsAAAAAABABBAAEDvwN/AAUACwARABcAAAEhESM1IxM1MxEhNQERIRUjFREVMxUhEQKBAT5+wMB+/sL9wAE+wMD+wgN//sLA/X7A/sJ+AcIBPn7A/v7AfgE+AAAAAAIAAP/ABAADwAAEABMAAAE3AScBAy4BJxM3ASMBAyUBNQEHAYCAAcBA/kCfFzsyY4ABgMD+gMACgAGA/oBOAUBAAcBA/kD+nTI7FwERTgGA/oD9gMABgMD+gIAAAgAA/8AEAAOAACkALQAAAREjNTQmIyEiBh0BFBYzITI2PQEzESEVIyIGFREUFjsBMjY1ETQmKwE1ASE1IQQAwCYa/UAaJiYaAsAaJoD9wCANExMNgA0TEw0gAUD9QALAAYABgEAaJiYawBomJhpA/wCAEw3+wA0TEw0BQA0TQAGAQAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAAAgAAAEAEAANAADgAPAAAASYnLgEnJiMiBw4BBwYHBgcOAQcGFRQXHgEXFhcWFx4BFxYzMjc+ATc2NzY3PgE3NjU0Jy4BJyYnARENAQPVNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBws2ODl2PD0/Pz08djk4NgsHCAsDAwMDCwgHC/2rAUD+wAMgCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKikIBgYIAgICAggGBggpKipZLS4vLy4tWSoqKf3gAYDAwAAAAAACAMD/wANAA8AAGwAnAAABIgcOAQcGFRQXHgEXFjEwNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGAgBCOzpXGRkyMngyMjIyeDIyGRlXOjtCUHBwUFBwcAPAGRlXOjtCeH19zEFBQUHMfX14Qjs6VxkZ/gBwUFBwcFBQcAAAAQAAAAAEAAOAACsAAAEiBw4BBwYHJxEhJz4BMzIXHgEXFhUUBw4BBwYHFzY3PgE3NjU0Jy4BJyYjAgA1MjJcKSkjlgGAkDWLUFBFRmkeHgkJIhgYHlUoICAtDAwoKIteXWoDgAoLJxscI5b+gJA0PB4eaUZFUCsoKUkgIRpgIysrYjY2OWpdXosoKAABAAAAAAQAA4AAKgAAExQXHgEXFhc3JicuAScmNTQ3PgE3NjMyFhcHIREHJicuAScmIyIHDgEHBgAMDC0gIChVHhgYIgkJHh5pRkVQUIs1kAGAliMpKVwyMjVqXV6LKCgBgDk2NmIrKyNgGiEgSSkoK1BFRmkeHjw0kAGAliMcGycLCigoi15dAAAAAAIAAABABAEDAAAmAE0AABMyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+ASEyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+AeEuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICSS4pKT0REhIRPSkpLi4pKT0REgEjI3pSUV1AdS0JEAcIEgIAEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBAAAGAED/wAQAA8AAAwAHAAsAEQAdACkAACUhFSERIRUhESEVIScRIzUjNRMVMxUjNTc1IzUzFRURIzUzNSM1MzUjNQGAAoD9gAKA/YACgP2AwEBAQIDAgIDAwICAgICAgAIAgAIAgMD/AMBA/fIyQJI8MkCS7v7AQEBAQEAABgAA/8AEAAPAAAMABwALABcAIwAvAAABIRUhESEVIREhFSEBNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYBgAKA/YACgP2AAoD9gP6ASzU1S0s1NUtLNTVLSzU1S0s1NUtLNTVLA4CA/wCA/wCAA0A1S0s1NUtL/rU1S0s1NUtL/rU1S0s1NUtLAAUAAABABWADAAADAAcACwAOABEAABMhFSEVIRUhFSEVIQEXNzUnBwADgPyAA4D8gAOA/IAD4MDAwMADAMBAwEDAAUDAwEDAwAAAAAADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAEAAAFABAACQAAPAAATFRQWMyEyNj0BNCYjISIGABMNA8ANExMN/EANEwIgwA0TEw3ADRMTAAAAAwAA/8AEAAPAABsANwBDAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBhMHJwcXBxc3FzcnNwIAal1eiygoKCiLXl1qal1eiygoKCiLXl1qVkxMcSAhISBxTExWVkxMcSAhISBxTExKoKBgoKBgoKBgoKADwCgoi15dampdXosoKCgoi15dampdXosoKPxgISBxTExWVkxMcSAhISBxTExWVkxMcSAhAqCgoGCgoGCgoGCgoAACAAD/wAQAA8AADwAVAAABISIGFREUFjMhMjY1ETQmASc3FwEXA4D9ADVLSzUDADVLS/4L7VqTATNaA8BLNf0ANUtLNQMANUv85e5akgEyWgAAAAABAGX/wAObA8AAKQAAASImIyIHDgEHBhUUFjMuATU0NjcwBwYCBwYHFSETMzcjNx4BMzI2Nw4BAyBEaEZxU1RtGhtJSAYNZUoQEEs8PFkBPWzGLNc0LVUmLlAYHT0DsBAeHWE+P0FNOwsmN5lvA31+/sWPkCMZAgCA9gkPN2sJBwAAAAACAAAAAAQAA4AACQAXAAAlMwcnMxEjNxcjJREnIxEzFSE1MxEjBxEDgICgoICAoKCA/wBAwID+gIDAQMDAwAIAwMDA/wCA/UBAQALAgAEAAAMAwAAAA0ADgAAWAB8AKAAAAT4BNTQnLgEnJiMhESEyNz4BNzY1NCYBMzIWFRQGKwETIxEzMhYVFAYCxBwgFBRGLi81/sABgDUvLkYUFET+hGUqPDwpZp+fnyw+PgHbIlQvNS8uRhQU/IAUFEYuLzVGdAFGSzU1S/6AAQBLNTVLAAAAAAIAwAAAA0ADgAAfACMAAAEzERQHDgEHBiMiJy4BJyY1ETMRFBYXHgEzMjY3PgE1ASEVIQLAgBkZVzo7QkI7OlcZGYAbGBxJKChJHBgb/gACgP2AA4D+YDw0NU4WFxcWTjU0PAGg/mAeOBcYGxsYFzge/qCAAAAAAAEAgAAAA4ADgAALAAABFSMBMxUhNTMBIzUDgID+wID+QIABQIADgED9AEBAAwBAAAEAAAAABAADgAA9AAABFSMeARUUBgcOASMiJicuATUzFBYzMjY1NCYjITUhLgEnLgE1NDY3PgEzMhYXHgEVIzQmIyIGFRQWMzIWFwQA6xUWNTAscT4+cSwwNYByTk5yck7+AAEsAgQBMDU1MCxxPj5xLDA1gHJOTnJyTjtuKwHAQB1BIjViJCEkJCEkYjU0TEw0NExAAQMBJGI1NWIkISQkISRiNTRMTDQ0TCEfAAAACgAAAAAEAAOAAAMABwALAA8AEwAXABsAHwAjACcAABMRIREBNSEVHQEhNQEVITUjFSE1ESEVISUhFSERNSEVASEVISE1IRUABAD9gAEA/wABAP8AQP8AAQD/AAKAAQD/AAEA/IABAP8AAoABAAOA/IADgP3AwMBAwMACAMDAwMD/AMDAwAEAwMD+wMDAwAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRUhFSERIRUhESEVIREhFSEABAD8AAKA/YACgP2ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhFyEVIREhFSEDIRUhESEVIQAEAPwAwAKA/YACgP2AwAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEFIRUhESEVIQEhFSERIRUhAAQA/AABgAKA/YACgP2A/oAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhFSEVIRUhFSEVIRUhAAQA/AAEAPwABAD8AAQA/AAEAPwAA4CAQIBAgECAQIAAAAAGAAAAAAQAA4AAAwAHAAsADwATABYAABMhFSEFIRUhFSEVIRUhFSEFIRUhGQEFAAQA/AABgAKA/YACgP2AAoD9gP6ABAD8AAEAA4CAQIBAgECAQIABAAGAwAAAAAYAAAAABAADgAADAAcACwAPABMAFgAAEyEVIQUhFSEVIRUhFSEVIQUhFSEBESUABAD8AAGAAoD9gAKA/YACgP2A/oAEAPwAAQD/AAOAgECAQIBAgECAAoD+gMAAAQA/AD8C5gLmACwAACUUDwEGIyIvAQcGIyIvASY1ND8BJyY1ND8BNjMyHwE3NjMyHwEWFRQPARcWFQLmEE4QFxcQqKgQFxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQwxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQEE4QFxcQqKgQFwAAAAYAAAAAAyUDbgAUACgAPABNAFUAggAAAREUBwYrASInJjURNDc2OwEyFxYVMxEUBwYrASInJjURNDc2OwEyFxYXERQHBisBIicmNRE0NzY7ATIXFhMRIREUFxYXFjMhMjc2NzY1ASEnJicjBgcFFRQHBisBERQHBiMhIicmNREjIicmPQE0NzY7ATc2NzY7ATIXFh8BMzIXFhUBJQYFCCQIBQYGBQgkCAUGkgUFCCUIBQUFBQglCAUFkgUFCCUIBQUFBQglCAUFSf4ABAQFBAIB2wIEBAQE/oABABsEBrUGBAH3BgUINxobJv4lJhsbNwgFBQUFCLEoCBcWF7cXFhYJKLAIBQYCEv63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgUI/rcIBQUFBQgBSQgFBgYF/lsCHf3jDQsKBQUFBQoLDQJmQwUCAgVVJAgGBf3jMCIjISIvAiAFBggkCAUFYBUPDw8PFWAFBQgAAgAHAEkDtwKvABoALgAACQEGIyIvASY1ND8BJyY1ND8BNjMyFwEWFRQHARUUBwYjISInJj0BNDc2MyEyFxYBTv72BgcIBR0GBuHhBgYdBQgHBgEKBgYCaQUFCP3bCAUFBQUIAiUIBQUBhf72BgYcBggHBuDhBgcHBh0FBf71BQgHBv77JQgFBQUFCCUIBQUFBQAAAAEAIwAAA90DbgCzAAAlIicmIyIHBiMiJyY1NDc2NzY3Njc2PQE0JyYjISIHBh0BFBcWFxYzFhcWFRQHBiMiJyYjIgcGIyInJjU0NzY3Njc2NzY9ARE0NTQ1NCc0JyYnJicmJyYnJiMiJyY1NDc2MzIXFjMyNzYzMhcWFRQHBiMGBwYHBh0BFBcWMyEyNzY9ATQnJicmJyY1NDc2MzIXFjMyNzYzMhcWFRQHBgciBwYHBhURFBcWFxYXMhcWFRQHBiMDwRkzMhoZMjMZDQgHCQoNDBEQChIBBxX+fhYHARUJEhMODgwLBwcOGzU1GhgxMRgNBwcJCQsMEA8JEgECAQIDBAQFCBIRDQ0KCwcHDho1NRoYMDEYDgcHCQoMDRAQCBQBBw8BkA4HARQKFxcPDgcHDhkzMhkZMTEZDgcHCgoNDRARCBQUCRERDg0KCwcHDgACAgICDAsPEQkJAQEDAwUMROAMBQMDBQzUUQ0GAQIBCAgSDwwNAgICAgwMDhEICQECAwMFDUUhAdACDQ0ICA4OCgoLCwcHAwYBAQgIEg8MDQICAgINDA8RCAgBAgEGDFC2DAcBAQcMtlAMBgEBBgcWDwwNAgICAg0MDxEICAEBAgYNT/3mRAwGAgIBCQgRDwwNAAACAAD/twP/A7cAEwA5AAABMhcWFRQHAgcGIyInJjU0NwE2MwEWFxYfARYHBiMiJyYnJicmNRYXFhcWFxYzMjc2NzY3Njc2NzY3A5soHh4avkw3RUg0NDUBbSEp/fgXJicvAQJMTHtHNjYhIRARBBMUEBASEQkXCA8SExUVHR0eHikDtxsaKCQz/plGNDU0SUkwAUsf/bErHx8NKHpNTBobLi86OkQDDw4LCwoKFiUbGhERCgsEBAIAAQAAAAAAAIWwaoFfDzz1AAsEAAAAAADbteOZAAAAANu145kAAP+3BWADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAFgAAA//8FYAABAAAAAAAAAAAAAAAAAAAAKQQAAAAAAAAAAAAAAAIAAAAEAABBBAAAQQQAAAAEAAAABAAAAAQAAAAEAADABAAAAAQAAAAEAAAABAAAQAQAAAAFgAAABAAAAAQAAB4EAAAABAAAAAQAAAAEAAAABAAAZQQAAAAEAADABAAAwAQAAIAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBKAHYApADmAS4BkgHQAhYCXALQAw4DWAN+A6gEPgTeBPoFZAWOBdAF+AY6BnYGjgbmBy4HVgd+B6gHzgf8CCoIbgkmCXAKYgq+AAEAAAApALQACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(Z,c,a){var d=a(20),b=a(153);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,'.w-e-toolbar {\n  display: flex;\n  padding: 0 6px;\n  flex-wrap: wrap;\n  position: relative;\n  /* \u5355\u4E2A\u83DC\u5355 */\n}\n.w-e-toolbar .w-e-menu {\n  position: relative;\n  display: flex;\n  width: 40px;\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  cursor: pointer;\n}\n.w-e-toolbar .w-e-menu i {\n  color: #999;\n}\n.w-e-toolbar .w-e-menu:hover {\n  background-color: #F6F6F6;\n}\n.w-e-toolbar .w-e-menu:hover i {\n  color: #333;\n}\n.w-e-toolbar .w-e-active i {\n  color: #1e88e5;\n}\n.w-e-toolbar .w-e-active:hover i {\n  color: #1e88e5;\n}\n.w-e-menu-tooltip {\n  position: absolute;\n  display: flex;\n  color: #f1f1f1;\n  background-color: rgba(0, 0, 0, 0.75);\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\n  border-radius: 4px;\n  padding: 4px 5px 6px;\n  justify-content: center;\n  align-items: center;\n}\n.w-e-menu-tooltip-up::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border: 5px solid rgba(0, 0, 0, 0);\n  border-top-color: rgba(0, 0, 0, 0.73);\n}\n.w-e-menu-tooltip-down::after {\n  content: "";\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border: 5px solid rgba(0, 0, 0, 0);\n  border-bottom-color: rgba(0, 0, 0, 0.73);\n}\n.w-e-menu-tooltip-item-wrapper {\n  font-size: 14px;\n  margin: 0 5px;\n}\n',""]),Z.exports=c},function(Z,c,a){var d=a(20),b=a(155);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,'.w-e-text-container {\n  position: relative;\n  height: 100%;\n}\n.w-e-text-container .w-e-progress {\n  position: absolute;\n  background-color: #1e88e5;\n  top: 0;\n  left: 0;\n  height: 1px;\n}\n.w-e-text-container .placeholder {\n  color: #D4D4D4;\n  position: absolute;\n  font-size: 11pt;\n  line-height: 22px;\n  left: 10px;\n  top: 10px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  z-index: -1;\n}\n.w-e-text {\n  padding: 0 10px;\n  overflow-y: auto;\n}\n.w-e-text p,\n.w-e-text h1,\n.w-e-text h2,\n.w-e-text h3,\n.w-e-text h4,\n.w-e-text h5,\n.w-e-text table,\n.w-e-text pre {\n  margin: 10px 0;\n  line-height: 1.5;\n}\n.w-e-text ul,\n.w-e-text ol {\n  margin: 10px 0 10px 20px;\n}\n.w-e-text blockquote {\n  display: block;\n  border-left: 8px solid #d0e5f2;\n  padding: 5px 10px;\n  margin: 10px 0;\n  line-height: 1.4;\n  font-size: 100%;\n  background-color: #f1f1f1;\n}\n.w-e-text code {\n  display: inline-block;\n  background-color: #f1f1f1;\n  border-radius: 3px;\n  padding: 3px 5px;\n  margin: 0 3px;\n}\n.w-e-text pre code {\n  display: block;\n}\n.w-e-text table {\n  border-top: 1px solid #ccc;\n  border-left: 1px solid #ccc;\n}\n.w-e-text table td,\n.w-e-text table th {\n  border-bottom: 1px solid #ccc;\n  border-right: 1px solid #ccc;\n  padding: 3px 5px;\n  min-height: 30px;\n  height: 30px;\n}\n.w-e-text table th {\n  border-bottom: 2px solid #ccc;\n  text-align: center;\n  background-color: #f1f1f1;\n}\n.w-e-text:focus {\n  outline: none;\n}\n.w-e-text img {\n  cursor: pointer;\n}\n.w-e-text img:hover {\n  box-shadow: 0 0 5px #333;\n}\n.w-e-text .w-e-todo {\n  margin: 0 0 0 20px;\n}\n.w-e-text .w-e-todo li {\n  list-style: none;\n  font-size: 1em;\n}\n.w-e-text .w-e-todo li span:nth-child(1) {\n  position: relative;\n  left: -18px;\n}\n.w-e-text .w-e-todo li span:nth-child(1) input {\n  position: absolute;\n  margin-right: 3px;\n}\n.w-e-text .w-e-todo li span:nth-child(1) input[type=checkbox] {\n  top: 50%;\n  margin-top: -6px;\n}\n.w-e-tooltip {\n  position: absolute;\n  display: flex;\n  color: #f1f1f1;\n  background-color: rgba(0, 0, 0, 0.75);\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\n  border-radius: 4px;\n  padding: 4px 5px 6px;\n  justify-content: center;\n  align-items: center;\n}\n.w-e-tooltip-up::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border: 5px solid rgba(0, 0, 0, 0);\n  border-top-color: rgba(0, 0, 0, 0.73);\n}\n.w-e-tooltip-down::after {\n  content: "";\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border: 5px solid rgba(0, 0, 0, 0);\n  border-bottom-color: rgba(0, 0, 0, 0.73);\n}\n.w-e-tooltip-item-wrapper {\n  cursor: pointer;\n  font-size: 14px;\n  margin: 0 5px;\n}\n.w-e-tooltip-item-wrapper:hover {\n  color: #ccc;\n  text-decoration: underline;\n}\n',""]),Z.exports=c},function(Z,c,a){var d=a(20),b=a(157);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,'.w-e-menu .w-e-panel-container {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  border: 1px solid #ccc;\n  border-top: 0;\n  box-shadow: 1px 1px 2px #ccc;\n  color: #333;\n  background-color: #fff;\n  text-align: left;\n  /* \u4E3A emotion panel \u5B9A\u5236\u7684\u6837\u5F0F */\n  /* \u4E0A\u4F20\u56FE\u7247\u3001\u4E0A\u4F20\u89C6\u9891\u7684 panel \u5B9A\u5236\u6837\u5F0F */\n}\n.w-e-menu .w-e-panel-container .w-e-panel-close {\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 5px;\n  margin: 2px 5px 0 0;\n  cursor: pointer;\n  color: #999;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-close:hover {\n  color: #333;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title {\n  list-style: none;\n  display: flex;\n  font-size: 14px;\n  margin: 2px 10px 0 10px;\n  border-bottom: 1px solid #f1f1f1;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {\n  padding: 3px 5px;\n  color: #999;\n  cursor: pointer;\n  margin: 0 3px;\n  position: relative;\n  top: 1px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {\n  color: #333;\n  border-bottom: 1px solid #333;\n  cursor: default;\n  font-weight: 700;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content {\n  padding: 10px 15px 10px 15px;\n  font-size: 16px;\n  /* \u8F93\u5165\u6846\u7684\u6837\u5F0F */\n  /* \u6309\u94AE\u7684\u6837\u5F0F */\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {\n  outline: none;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {\n  width: 100%;\n  border: 1px solid #ccc;\n  padding: 5px;\n  margin-top: 10px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {\n  border-color: #1e88e5;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {\n  border: none;\n  border-bottom: 1px solid #ccc;\n  font-size: 14px;\n  height: 20px;\n  color: #333;\n  text-align: left;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {\n  width: 30px;\n  text-align: center;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {\n  display: block;\n  width: 100%;\n  margin: 10px 0;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {\n  border-bottom: 2px solid #1e88e5;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {\n  font-size: 14px;\n  color: #1e88e5;\n  border: none;\n  padding: 5px 10px;\n  background-color: #fff;\n  cursor: pointer;\n  border-radius: 3px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {\n  float: left;\n  margin-right: 10px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {\n  float: right;\n  margin-left: 10px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {\n  color: #999;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {\n  color: #c24f4a;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {\n  background-color: #f1f1f1;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {\n  cursor: pointer;\n  font-size: 18px;\n  padding: 0 3px;\n  display: inline-block;\n}\n.w-e-menu .w-e-panel-container .w-e-up-img-container,\n.w-e-menu .w-e-panel-container .w-e-up-video-container {\n  text-align: center;\n}\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn,\n.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn {\n  display: inline-block;\n  color: #999;\n  cursor: pointer;\n  font-size: 60px;\n  line-height: 1;\n}\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover,\n.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn:hover {\n  color: #333;\n}\n',""]),Z.exports=c},function(Z,c,a){var d=a(20),b=a(159);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,".w-e-toolbar .w-e-droplist {\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: #fff;\n  border: 1px solid #f1f1f1;\n  border-right-color: #ccc;\n  border-bottom-color: #ccc;\n}\n.w-e-toolbar .w-e-droplist .w-e-dp-title {\n  text-align: center;\n  color: #999;\n  line-height: 2;\n  border-bottom: 1px solid #f1f1f1;\n  font-size: 13px;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-list {\n  list-style: none;\n  line-height: 1;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {\n  color: #333;\n  padding: 5px 0;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {\n  background-color: #f1f1f1;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-block {\n  list-style: none;\n  text-align: left;\n  padding: 5px;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {\n  display: inline-block;\n  padding: 3px 5px;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {\n  background-color: #f1f1f1;\n}\n",""]),Z.exports=c},function(Z,c,a){"use strict";var d=a(0),b=d(a(161));Element.prototype.matches||(Element.prototype.matches=function(w){var T=this.ownerDocument.querySelectorAll(w),y=T.length;for(y;y>=0&&T.item(y)!==this;y--);return y>-1}),b.default||(window.Promise=b.default)},function(Z,c,a){Z.exports=a(162)},function(Z,c,a){var d=a(163);Z.exports=d},function(Z,c,a){a(61),a(50),a(54),a(175),a(178),a(179);var d=a(9);Z.exports=d.Promise},function(Z,c,a){var d=a(62),b=a(49),w=function(y){return function(x,A){var m=String(b(x)),L=d(A),g=m.length,E,C;return L<0||L>=g?y?"":void 0:(E=m.charCodeAt(L),E<55296||E>56319||L+1===g||(C=m.charCodeAt(L+1))<56320||C>57343?y?m.charAt(L):E:y?m.slice(L,L+2):(E-55296<<10)+(C-56320)+65536)}};Z.exports={codeAt:w(!1),charAt:w(!0)}},function(Z,c,a){var d=a(8),b=a(101),w=d.WeakMap;Z.exports=typeof w=="function"&&/native code/.test(b(w))},function(Z,c,a){var d=a(8),b=a(19);Z.exports=function(w,T){try{b(d,w,T)}catch(y){d[w]=T}return T}},function(Z,c,a){"use strict";var d=a(103).IteratorPrototype,b=a(77),w=a(48),T=a(36),y=a(43),x=function(){return this};Z.exports=function(A,m,L){var g=m+" Iterator";return A.prototype=b(d,{next:w(1,L)}),T(A,g,!1,!0),y[g]=x,A}},function(Z,c,a){var d=a(11);Z.exports=!d(function(){function b(){}return b.prototype.constructor=null,Object.getPrototypeOf(new b)!==b.prototype})},function(Z,c,a){var d=a(14),b=a(18),w=a(25),T=a(52);Z.exports=d?Object.defineProperties:function(x,A){w(x);for(var m=T(A),L=m.length,g=0,E;L>g;)b.f(x,E=m[g++],A[E]);return x}},function(Z,c,a){"use strict";var d=a(81),b=a(65);Z.exports=d?{}.toString:function(){return"[object "+b(this)+"]"}},function(Z,c,a){var d=a(25),b=a(172);Z.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var w=!1,T={},y;try{y=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,y.call(T,[]),w=T instanceof Array}catch(x){}return function(A,m){return d(A),b(m),w?y.call(A,m):A.__proto__=m,A}}():void 0)},function(Z,c,a){var d=a(13);Z.exports=function(b){if(!d(b)&&b!==null)throw TypeError("Can't set "+String(b)+" as a prototype");return b}},function(Z,c,a){"use strict";var d=a(28),b=a(82),w=a(43),T=a(41),y=a(75),x="Array Iterator",A=T.set,m=T.getterFor(x);Z.exports=y(Array,"Array",function(L,g){A(this,{type:x,target:d(L),index:0,kind:g})},function(){var L=m(this),g=L.target,E=L.kind,C=L.index++;return!g||C>=g.length?(L.target=void 0,{value:void 0,done:!0}):E=="keys"?{value:C,done:!1}:E=="values"?{value:g[C],done:!1}:{value:[C,g[C]],done:!1}},"values"),w.Arguments=w.Array,b("keys"),b("values"),b("entries")},function(Z,c){Z.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(Z,c,a){"use strict";var d=a(5),b=a(42),w=a(8),T=a(35),y=a(108),x=a(53),A=a(109),m=a(36),L=a(110),g=a(13),E=a(40),C=a(83),P=a(33),S=a(101),D=a(66),I=a(114),f=a(115),k=a(116).set,u=a(176),H=a(118),O=a(177),F=a(85),j=a(119),W=a(41),V=a(100),G=a(10),R=a(86),z=G("species"),Y="Promise",X=W.get,q=W.set,_=W.getterFor(Y),ee=y,oe=w.TypeError,pe=w.document,ve=w.process,Pe=T("fetch"),Re=F.f,Ne=Re,Be=P(ve)=="process",Ke=!!(pe&&pe.createEvent&&w.dispatchEvent),Ve="unhandledrejection",ht="rejectionhandled",Ge=0,vt=1,St=2,wt=1,zt=2,Wt,Lt,Nt,Gt,Kt=V(Y,function(){var Oe=S(ee)!==String(ee);if(!Oe&&(R===66||!Be&&typeof PromiseRejectionEvent!="function")||b&&!ee.prototype.finally)return!0;if(R>=51&&/native code/.test(ee))return!1;var ye=ee.resolve(1),be=function(xe){xe(function(){},function(){})},ke=ye.constructor={};return ke[z]=be,!(ye.then(function(){})instanceof be)}),vr=Kt||!I(function(Oe){ee.all(Oe).catch(function(){})}),xt=function(ye){var be;return g(ye)&&typeof(be=ye.then)=="function"?be:!1},Ee=function(ye,be,ke){if(!be.notified){be.notified=!0;var le=be.reactions;u(function(){for(var xe=be.value,je=be.state==vt,We=0;le.length>We;){var he=le[We++],de=je?he.ok:he.fail,_e=he.resolve,Qe=he.reject,et=he.domain,qe,at,Je;try{de?(je||(be.rejection===zt&&Ce(ye,be),be.rejection=wt),de===!0?qe=xe:(et&&et.enter(),qe=de(xe),et&&(et.exit(),Je=!0)),qe===he.promise?Qe(oe("Promise-chain cycle")):(at=xt(qe))?at.call(qe,_e,Qe):_e(qe)):Qe(xe)}catch(rt){et&&!Je&&et.exit(),Qe(rt)}}be.reactions=[],be.notified=!1,ke&&!be.rejection&&Ae(ye,be)})}},Le=function(ye,be,ke){var le,xe;Ke?(le=pe.createEvent("Event"),le.promise=be,le.reason=ke,le.initEvent(ye,!1,!0),w.dispatchEvent(le)):le={promise:be,reason:ke},(xe=w["on"+ye])?xe(le):ye===Ve&&O("Unhandled promise rejection",ke)},Ae=function(ye,be){k.call(w,function(){var ke=be.value,le=we(be),xe;if(le&&(xe=j(function(){Be?ve.emit("unhandledRejection",ke,ye):Le(Ve,ye,ke)}),be.rejection=Be||we(be)?zt:wt,xe.error))throw xe.value})},we=function(ye){return ye.rejection!==wt&&!ye.parent},Ce=function(ye,be){k.call(w,function(){Be?ve.emit("rejectionHandled",ye):Le(ht,ye,be.value)})},Te=function(ye,be,ke,le){return function(xe){ye(be,ke,xe,le)}},Ie=function(ye,be,ke,le){be.done||(be.done=!0,le&&(be=le),be.value=ke,be.state=St,Ee(ye,be,!0))},Ue=function Oe(ye,be,ke,le){if(!be.done){be.done=!0,le&&(be=le);try{if(ye===ke)throw oe("Promise can't be resolved itself");var xe=xt(ke);xe?u(function(){var je={done:!1};try{xe.call(ke,Te(Oe,ye,je,be),Te(Ie,ye,je,be))}catch(We){Ie(ye,je,We,be)}}):(be.value=ke,be.state=vt,Ee(ye,be,!1))}catch(je){Ie(ye,{done:!1},je,be)}}};Kt&&(ee=function(ye){C(this,ee,Y),E(ye),Wt.call(this);var be=X(this);try{ye(Te(Ue,this,be),Te(Ie,this,be))}catch(ke){Ie(this,be,ke)}},Wt=function(ye){q(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ge,value:void 0})},Wt.prototype=A(ee.prototype,{then:function(ye,be){var ke=_(this),le=Re(f(this,ee));return le.ok=typeof ye=="function"?ye:!0,le.fail=typeof be=="function"&&be,le.domain=Be?ve.domain:void 0,ke.parent=!0,ke.reactions.push(le),ke.state!=Ge&&Ee(this,ke,!1),le.promise},catch:function(ye){return this.then(void 0,ye)}}),Lt=function(){var ye=new Wt,be=X(ye);this.promise=ye,this.resolve=Te(Ue,ye,be),this.reject=Te(Ie,ye,be)},F.f=Re=function(ye){return ye===ee||ye===Nt?new Lt(ye):Ne(ye)},!b&&typeof y=="function"&&(Gt=y.prototype.then,x(y.prototype,"then",function(ye,be){var ke=this;return new ee(function(le,xe){Gt.call(ke,le,xe)}).then(ye,be)},{unsafe:!0}),typeof Pe=="function"&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(ye){return H(ee,Pe.apply(w,arguments))}}))),d({global:!0,wrap:!0,forced:Kt},{Promise:ee}),m(ee,Y,!1,!0),L(Y),Nt=T(Y),d({target:Y,stat:!0,forced:Kt},{reject:function(ye){var be=Re(this);return be.reject.call(void 0,ye),be.promise}}),d({target:Y,stat:!0,forced:b||Kt},{resolve:function(ye){return H(b&&this===Nt?ee:this,ye)}}),d({target:Y,stat:!0,forced:vr},{all:function(ye){var be=this,ke=Re(be),le=ke.resolve,xe=ke.reject,je=j(function(){var We=E(be.resolve),he=[],de=0,_e=1;D(ye,function(Qe){var et=de++,qe=!1;he.push(void 0),_e++,We.call(be,Qe).then(function(at){qe||(qe=!0,he[et]=at,--_e||le(he))},xe)}),--_e||le(he)});return je.error&&xe(je.value),ke.promise},race:function(ye){var be=this,ke=Re(be),le=ke.reject,xe=j(function(){var je=E(be.resolve);D(ye,function(We){je.call(be,We).then(ke.resolve,le)})});return xe.error&&le(xe.value),ke.promise}})},function(Z,c,a){var d=a(8),b=a(71).f,w=a(33),T=a(116).set,y=a(117),x=d.MutationObserver||d.WebKitMutationObserver,A=d.process,m=d.Promise,L=w(A)=="process",g=b(d,"queueMicrotask"),E=g&&g.value,C,P,S,D,I,f,k,u;E||(C=function(){var O,F;for(L&&(O=A.domain)&&O.exit();P;){F=P.fn,P=P.next;try{F()}catch(j){throw P?D():S=void 0,j}}S=void 0,O&&O.enter()},L?D=function(){A.nextTick(C)}:x&&!y?(I=!0,f=document.createTextNode(""),new x(C).observe(f,{characterData:!0}),D=function(){f.data=I=!I}):m&&m.resolve?(k=m.resolve(void 0),u=k.then,D=function(){u.call(k,C)}):D=function(){T.call(d,C)}),Z.exports=E||function(H){var O={fn:H,next:void 0};S&&(S.next=O),P||(P=O,D()),S=O}},function(Z,c,a){var d=a(8);Z.exports=function(b,w){var T=d.console;T&&T.error&&(arguments.length===1?T.error(b):T.error(b,w))}},function(Z,c,a){"use strict";var d=a(5),b=a(40),w=a(85),T=a(119),y=a(66);d({target:"Promise",stat:!0},{allSettled:function(A){var m=this,L=w.f(m),g=L.resolve,E=L.reject,C=T(function(){var P=b(m.resolve),S=[],D=0,I=1;y(A,function(f){var k=D++,u=!1;S.push(void 0),I++,P.call(m,f).then(function(H){u||(u=!0,S[k]={status:"fulfilled",value:H},--I||g(S))},function(H){u||(u=!0,S[k]={status:"rejected",reason:H},--I||g(S))})}),--I||g(S)});return C.error&&E(C.value),L.promise}})},function(Z,c,a){"use strict";var d=a(5),b=a(42),w=a(108),T=a(11),y=a(35),x=a(115),A=a(118),m=a(53),L=!!w&&T(function(){w.prototype.finally.call({then:function(){}},function(){})});d({target:"Promise",proto:!0,real:!0,forced:L},{finally:function(E){var C=x(this,y("Promise")),P=typeof E=="function";return this.then(P?function(S){return A(C,E()).then(function(){return S})}:E,P?function(S){return A(C,E()).then(function(){throw S})}:E)}}),!b&&typeof w=="function"&&!w.prototype.finally&&m(w.prototype,"finally",y("Promise").prototype.finally)},function(Z,c,a){a(54);var d=a(181),b=a(65),w=Array.prototype,T={DOMTokenList:!0,NodeList:!0};Z.exports=function(y){var x=y.forEach;return y===w||y instanceof Array&&x===w.forEach||T.hasOwnProperty(b(y))?d:x}},function(Z,c,a){var d=a(182);Z.exports=d},function(Z,c,a){a(183);var d=a(15);Z.exports=d("Array").forEach},function(Z,c,a){"use strict";var d=a(5),b=a(184);d({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},function(Z,c,a){"use strict";var d=a(30).forEach,b=a(67),w=a(22),T=b("forEach"),y=w("forEach");Z.exports=!T||!y?function(A){return d(this,A,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(Z,c,a){var d=a(186);Z.exports=d},function(Z,c,a){a(187);var d=a(9);Z.exports=d.Array.isArray},function(Z,c,a){var d=a(5),b=a(55);d({target:"Array",stat:!0},{isArray:b})},function(Z,c,a){var d=a(189);Z.exports=d},function(Z,c,a){var d=a(190),b=Array.prototype;Z.exports=function(w){var T=w.map;return w===b||w instanceof Array&&T===b.map?d:T}},function(Z,c,a){a(191);var d=a(15);Z.exports=d("Array").map},function(Z,c,a){"use strict";var d=a(5),b=a(30).map,w=a(56),T=a(22),y=w("map"),x=T("map");d({target:"Array",proto:!0,forced:!y||!x},{map:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}})},function(Z,c,a){var d=a(193);Z.exports=d},function(Z,c,a){var d=a(194),b=String.prototype;Z.exports=function(w){var T=w.trim;return typeof w=="string"||w===b||w instanceof String&&T===b.trim?d:T}},function(Z,c,a){a(195);var d=a(15);Z.exports=d("String").trim},function(Z,c,a){"use strict";var d=a(5),b=a(90).trim,w=a(196);d({target:"String",proto:!0,forced:w("trim")},{trim:function(){return b(this)}})},function(Z,c,a){var d=a(11),b=a(68),w="\u200B\x85\u180E";Z.exports=function(T){return d(function(){return!!b[T]()||w[T]()!=w||b[T].name!==T})}},function(Z,c,a){var d=a(198);Z.exports=d},function(Z,c,a){a(199),a(61),a(50),a(54);var d=a(9);Z.exports=d.Map},function(Z,c,a){"use strict";var d=a(121),b=a(123);Z.exports=d("Map",function(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}},b)},function(Z,c,a){var d=a(11);Z.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(Z,c,a){var d=a(202);Z.exports=d},function(Z,c,a){var d=a(203),b=Array.prototype;Z.exports=function(w){var T=w.indexOf;return w===b||w instanceof Array&&T===b.indexOf?d:T}},function(Z,c,a){a(204);var d=a(15);Z.exports=d("Array").indexOf},function(Z,c,a){"use strict";var d=a(5),b=a(78).indexOf,w=a(67),T=a(22),y=[].indexOf,x=!!y&&1/[1].indexOf(1,-0)<0,A=w("indexOf"),m=T("indexOf",{ACCESSORS:!0,1:0});d({target:"Array",proto:!0,forced:x||!A||!m},{indexOf:function(g){return x?y.apply(this,arguments)||0:b(this,g,arguments.length>1?arguments[1]:void 0)}})},function(Z,c,a){var d=a(206);Z.exports=d},function(Z,c,a){var d=a(207),b=Array.prototype;Z.exports=function(w){var T=w.splice;return w===b||w instanceof Array&&T===b.splice?d:T}},function(Z,c,a){a(208);var d=a(15);Z.exports=d("Array").splice},function(Z,c,a){"use strict";var d=a(5),b=a(79),w=a(62),T=a(34),y=a(29),x=a(88),A=a(69),m=a(56),L=a(22),g=m("splice"),E=L("splice",{ACCESSORS:!0,0:0,1:2}),C=Math.max,P=Math.min,S=9007199254740991,D="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!g||!E},{splice:function(f,k){var u=y(this),H=T(u.length),O=b(f,H),F=arguments.length,j,W,V,G,R,z;if(F===0?j=W=0:F===1?(j=0,W=H-O):(j=F-2,W=P(C(w(k),0),H-O)),H+j-W>S)throw TypeError(D);for(V=x(u,W),G=0;G<W;G++)R=O+G,R in u&&A(V,G,u[R]);if(V.length=W,j<W){for(G=O;G<H-W;G++)R=G+W,z=G+j,R in u?u[z]=u[R]:delete u[z];for(G=H;G>H-W+j;G--)delete u[G-1]}else if(j>W)for(G=H-W;G>O;G--)R=G+W-1,z=G+j-1,R in u?u[z]=u[R]:delete u[z];for(G=0;G<j;G++)u[G+O]=arguments[G+2];return u.length=H-W+j,V}})},function(Z,c,a){var d=a(210);Z.exports=d},function(Z,c,a){var d=a(211),b=Array.prototype;Z.exports=function(w){var T=w.filter;return w===b||w instanceof Array&&T===b.filter?d:T}},function(Z,c,a){a(212);var d=a(15);Z.exports=d("Array").filter},function(Z,c,a){"use strict";var d=a(5),b=a(30).filter,w=a(56),T=a(22),y=w("filter"),x=T("filter");d({target:"Array",proto:!0,forced:!y||!x},{filter:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}})},function(Z,c,a){var d=a(214);Z.exports=d},function(Z,c,a){var d=a(215),b=a(217),w=Array.prototype,T=String.prototype;Z.exports=function(y){var x=y.includes;return y===w||y instanceof Array&&x===w.includes?d:typeof y=="string"||y===T||y instanceof String&&x===T.includes?b:x}},function(Z,c,a){a(216);var d=a(15);Z.exports=d("Array").includes},function(Z,c,a){"use strict";var d=a(5),b=a(78).includes,w=a(82),T=a(22),y=T("indexOf",{ACCESSORS:!0,1:0});d({target:"Array",proto:!0,forced:!y},{includes:function(A){return b(this,A,arguments.length>1?arguments[1]:void 0)}}),w("includes")},function(Z,c,a){a(218);var d=a(15);Z.exports=d("String").includes},function(Z,c,a){"use strict";var d=a(5),b=a(219),w=a(49),T=a(221);d({target:"String",proto:!0,forced:!T("includes")},{includes:function(x){return!!~String(w(this)).indexOf(b(x),arguments.length>1?arguments[1]:void 0)}})},function(Z,c,a){var d=a(220);Z.exports=function(b){if(d(b))throw TypeError("The method doesn't accept regular expressions");return b}},function(Z,c,a){var d=a(13),b=a(33),w=a(10),T=w("match");Z.exports=function(y){var x;return d(y)&&((x=y[T])!==void 0?!!x:b(y)=="RegExp")}},function(Z,c,a){var d=a(10),b=d("match");Z.exports=function(w){var T=/./;try{"/./"[w](T)}catch(y){try{return T[b]=!1,"/./"[w](T)}catch(x){}}return!1}},function(Z,c,a){var d=a(223);Z.exports=d},function(Z,c,a){var d=a(224),b=Function.prototype;Z.exports=function(w){var T=w.bind;return w===b||w instanceof Function&&T===b.bind?d:T}},function(Z,c,a){a(225);var d=a(15);Z.exports=d("Function").bind},function(Z,c,a){var d=a(5),b=a(226);d({target:"Function",proto:!0},{bind:b})},function(Z,c,a){"use strict";var d=a(40),b=a(13),w=[].slice,T={},y=function(A,m,L){if(!(m in T)){for(var g=[],E=0;E<m;E++)g[E]="a["+E+"]";T[m]=Function("C,a","return new C("+g.join(",")+")")}return T[m](A,L)};Z.exports=Function.bind||function(A){var m=d(this),L=w.call(arguments,1),g=function(){var C=L.concat(w.call(arguments));return this instanceof g?y(m,C.length,C):m.apply(A,C)};return b(m.prototype)&&(g.prototype=m.prototype),g}},function(Z,c,a){Z.exports=a(228)},function(Z,c,a){var d=a(229);Z.exports=d},function(Z,c,a){a(124),a(50),a(54);var d=a(93);Z.exports=d.f("iterator")},function(Z,c,a){Z.exports=a(231)},function(Z,c,a){var d=a(232);a(251),a(252),a(253),a(254),a(255),Z.exports=d},function(Z,c,a){a(233),a(61),a(234),a(236),a(237),a(238),a(239),a(124),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250);var d=a(9);Z.exports=d.Symbol},function(Z,c,a){"use strict";var d=a(5),b=a(11),w=a(55),T=a(13),y=a(29),x=a(34),A=a(69),m=a(88),L=a(56),g=a(10),E=a(86),C=g("isConcatSpreadable"),P=9007199254740991,S="Maximum allowed index exceeded",D=E>=51||!b(function(){var u=[];return u[C]=!1,u.concat()[0]!==u}),I=L("concat"),f=function(H){if(!T(H))return!1;var O=H[C];return O!==void 0?!!O:w(H)},k=!D||!I;d({target:"Array",proto:!0,forced:k},{concat:function(H){var O=y(this),F=m(O,0),j=0,W,V,G,R,z;for(W=-1,G=arguments.length;W<G;W++)if(z=W===-1?O:arguments[W],f(z)){if(R=x(z.length),j+R>P)throw TypeError(S);for(V=0;V<R;V++,j++)V in z&&A(F,j,z[V])}else{if(j>=P)throw TypeError(S);A(F,j++,z)}return F.length=j,F}})},function(Z,c,a){"use strict";var d=a(5),b=a(8),w=a(35),T=a(42),y=a(14),x=a(76),A=a(105),m=a(11),L=a(16),g=a(55),E=a(13),C=a(25),P=a(29),S=a(28),D=a(60),I=a(48),f=a(77),k=a(52),u=a(125),H=a(235),O=a(126),F=a(71),j=a(18),W=a(59),V=a(19),G=a(53),R=a(74),z=a(63),Y=a(51),X=a(64),q=a(10),_=a(93),ee=a(12),oe=a(36),pe=a(41),ve=a(30).forEach,Pe=z("hidden"),Re="Symbol",Ne="prototype",Be=q("toPrimitive"),Ke=pe.set,Ve=pe.getterFor(Re),ht=Object[Ne],Ge=b.Symbol,vt=w("JSON","stringify"),St=F.f,wt=j.f,zt=H.f,Wt=W.f,Lt=R("symbols"),Nt=R("op-symbols"),Gt=R("string-to-symbol-registry"),Kt=R("symbol-to-string-registry"),vr=R("wks"),xt=b.QObject,Ee=!xt||!xt[Ne]||!xt[Ne].findChild,Le=y&&m(function(){return f(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a!=7})?function(le,xe,je){var We=St(ht,xe);We&&delete ht[xe],wt(le,xe,je),We&&le!==ht&&wt(ht,xe,We)}:wt,Ae=function(xe,je){var We=Lt[xe]=f(Ge[Ne]);return Ke(We,{type:Re,tag:xe,description:je}),y||(We.description=je),We},we=A?function(le){return typeof le=="symbol"}:function(le){return Object(le)instanceof Ge},Ce=function(xe,je,We){xe===ht&&Ce(Nt,je,We),C(xe);var he=D(je,!0);return C(We),L(Lt,he)?(We.enumerable?(L(xe,Pe)&&xe[Pe][he]&&(xe[Pe][he]=!1),We=f(We,{enumerable:I(0,!1)})):(L(xe,Pe)||wt(xe,Pe,I(1,{})),xe[Pe][he]=!0),Le(xe,he,We)):wt(xe,he,We)},Te=function(xe,je){C(xe);var We=S(je),he=k(We).concat(be(We));return ve(he,function(de){(!y||Ue.call(We,de))&&Ce(xe,de,We[de])}),xe},Ie=function(xe,je){return je===void 0?f(xe):Te(f(xe),je)},Ue=function(xe){var je=D(xe,!0),We=Wt.call(this,je);return this===ht&&L(Lt,je)&&!L(Nt,je)?!1:We||!L(this,je)||!L(Lt,je)||L(this,Pe)&&this[Pe][je]?We:!0},Oe=function(xe,je){var We=S(xe),he=D(je,!0);if(!(We===ht&&L(Lt,he)&&!L(Nt,he))){var de=St(We,he);return de&&L(Lt,he)&&!(L(We,Pe)&&We[Pe][he])&&(de.enumerable=!0),de}},ye=function(xe){var je=zt(S(xe)),We=[];return ve(je,function(he){!L(Lt,he)&&!L(Y,he)&&We.push(he)}),We},be=function(xe){var je=xe===ht,We=zt(je?Nt:S(xe)),he=[];return ve(We,function(de){L(Lt,de)&&(!je||L(ht,de))&&he.push(Lt[de])}),he};if(x||(Ge=function(){if(this instanceof Ge)throw TypeError("Symbol is not a constructor");var xe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),je=X(xe),We=function he(de){this===ht&&he.call(Nt,de),L(this,Pe)&&L(this[Pe],je)&&(this[Pe][je]=!1),Le(this,je,I(1,de))};return y&&Ee&&Le(ht,je,{configurable:!0,set:We}),Ae(je,xe)},G(Ge[Ne],"toString",function(){return Ve(this).tag}),G(Ge,"withoutSetter",function(le){return Ae(X(le),le)}),W.f=Ue,j.f=Ce,F.f=Oe,u.f=H.f=ye,O.f=be,_.f=function(le){return Ae(q(le),le)},y&&(wt(Ge[Ne],"description",{configurable:!0,get:function(){return Ve(this).description}}),T||G(ht,"propertyIsEnumerable",Ue,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Ge}),ve(k(vr),function(le){ee(le)}),d({target:Re,stat:!0,forced:!x},{for:function(xe){var je=String(xe);if(L(Gt,je))return Gt[je];var We=Ge(je);return Gt[je]=We,Kt[We]=je,We},keyFor:function(xe){if(!we(xe))throw TypeError(xe+" is not a symbol");if(L(Kt,xe))return Kt[xe]},useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),d({target:"Object",stat:!0,forced:!x,sham:!y},{create:Ie,defineProperty:Ce,defineProperties:Te,getOwnPropertyDescriptor:Oe}),d({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:ye,getOwnPropertySymbols:be}),d({target:"Object",stat:!0,forced:m(function(){O.f(1)})},{getOwnPropertySymbols:function(xe){return O.f(P(xe))}}),vt){var ke=!x||m(function(){var le=Ge();return vt([le])!="[null]"||vt({a:le})!="{}"||vt(Object(le))!="{}"});d({target:"JSON",stat:!0,forced:ke},{stringify:function(xe,je,We){for(var he=[xe],de=1,_e;arguments.length>de;)he.push(arguments[de++]);if(_e=je,!(!E(je)&&xe===void 0||we(xe)))return g(je)||(je=function(et,qe){if(typeof _e=="function"&&(qe=_e.call(this,et,qe)),!we(qe))return qe}),he[1]=je,vt.apply(null,he)}})}Ge[Ne][Be]||V(Ge[Ne],Be,Ge[Ne].valueOf),oe(Ge,Re),Y[Pe]=!0},function(Z,c,a){var d=a(28),b=a(125).f,w={}.toString,T=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],y=function(A){try{return b(A)}catch(m){return T.slice()}};Z.exports.f=function(A){return T&&w.call(A)=="[object Window]"?y(A):b(d(A))}},function(Z,c,a){var d=a(12);d("asyncIterator")},function(Z,c){},function(Z,c,a){var d=a(12);d("hasInstance")},function(Z,c,a){var d=a(12);d("isConcatSpreadable")},function(Z,c,a){var d=a(12);d("match")},function(Z,c,a){var d=a(12);d("matchAll")},function(Z,c,a){var d=a(12);d("replace")},function(Z,c,a){var d=a(12);d("search")},function(Z,c,a){var d=a(12);d("species")},function(Z,c,a){var d=a(12);d("split")},function(Z,c,a){var d=a(12);d("toPrimitive")},function(Z,c,a){var d=a(12);d("toStringTag")},function(Z,c,a){var d=a(12);d("unscopables")},function(Z,c,a){var d=a(36);d(Math,"Math",!0)},function(Z,c,a){var d=a(8),b=a(36);b(d.JSON,"JSON",!0)},function(Z,c,a){var d=a(12);d("asyncDispose")},function(Z,c,a){var d=a(12);d("dispose")},function(Z,c,a){var d=a(12);d("observable")},function(Z,c,a){var d=a(12);d("patternMatch")},function(Z,c,a){var d=a(12);d("replaceAll")},function(Z,c,a){Z.exports=a(257)},function(Z,c,a){var d=a(258);Z.exports=d},function(Z,c,a){a(259);var d=a(9);Z.exports=d.parseInt},function(Z,c,a){var d=a(5),b=a(260);d({global:!0,forced:parseInt!=b},{parseInt:b})},function(Z,c,a){var d=a(8),b=a(90).trim,w=a(68),T=d.parseInt,y=/^[+-]?0[Xx]/,x=T(w+"08")!==8||T(w+"0x16")!==22;Z.exports=x?function(m,L){var g=b(String(m));return T(g,L>>>0||(y.test(g)?16:10))}:T},function(Z,c,a){var d=a(262);Z.exports=d},function(Z,c,a){var d=a(263),b=Array.prototype;Z.exports=function(w){var T=w.slice;return w===b||w instanceof Array&&T===b.slice?d:T}},function(Z,c,a){a(264);var d=a(15);Z.exports=d("Array").slice},function(Z,c,a){"use strict";var d=a(5),b=a(13),w=a(55),T=a(79),y=a(34),x=a(28),A=a(69),m=a(10),L=a(56),g=a(22),E=L("slice"),C=g("slice",{ACCESSORS:!0,0:0,1:2}),P=m("species"),S=[].slice,D=Math.max;d({target:"Array",proto:!0,forced:!E||!C},{slice:function(f,k){var u=x(this),H=y(u.length),O=T(f,H),F=T(k===void 0?H:k,H),j,W,V;if(w(u)&&(j=u.constructor,typeof j=="function"&&(j===Array||w(j.prototype))?j=void 0:b(j)&&(j=j[P],j===null&&(j=void 0)),j===Array||j===void 0))return S.call(u,O,F);for(W=new(j===void 0?Array:j)(D(F-O,0)),V=0;O<F;O++,V++)O in u&&A(W,V,u[O]);return W.length=V,W}})},function(Z,c,a){a(266);var d=a(9);Z.exports=d.setTimeout},function(Z,c,a){var d=a(5),b=a(8),w=a(84),T=[].slice,y=/MSIE .\./.test(w),x=function(m){return function(L,g){var E=arguments.length>2,C=E?T.call(arguments,2):void 0;return m(E?function(){(typeof L=="function"?L:Function(L)).apply(this,C)}:L,g)}};d({global:!0,bind:!0,forced:y},{setTimeout:x(b.setTimeout),setInterval:x(b.setInterval)})},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(127));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(272)),x=T.__importDefault(a(273)),A=T.__importDefault(a(128)),m=T.__importDefault(a(274)),L=T.__importDefault(a(275)),g=T.__importDefault(a(276)),E=T.__importDefault(a(129)),C=T.__importDefault(a(277)),P=T.__importDefault(a(278)),S=T.__importDefault(a(279)),D=(0,w.default)({},y.default,x.default,A.default,L.default,m.default,g.default,E.default,C.default,P.default,S.default,{linkCheck:function(f,k){return!0}});c.default=D},function(Z,c,a){var d=a(269);Z.exports=d},function(Z,c,a){a(270);var d=a(9);Z.exports=d.Object.assign},function(Z,c,a){var d=a(5),b=a(271);d({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},function(Z,c,a){"use strict";var d=a(14),b=a(11),w=a(52),T=a(126),y=a(59),x=a(29),A=a(72),m=Object.assign,L=Object.defineProperty;Z.exports=!m||b(function(){if(d&&m({b:1},m(L({},"a",{enumerable:!0,get:function(){L(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},E={},C=Symbol(),P="abcdefghijklmnopqrst";return g[C]=7,P.split("").forEach(function(S){E[S]=S}),m({},g)[C]!=7||w(m({},E)).join("")!=P})?function(E,C){for(var P=x(E),S=arguments.length,D=1,I=T.f,f=y.f;S>D;)for(var k=A(arguments[D++]),u=I?w(k).concat(I(k)):w(k),H=u.length,O=0,F;H>O;)F=u[O++],(!d||f.call(k,F))&&(P[F]=k[F]);return P}:m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","emoticon","image","video","table","code","splitLine","undo","redo"],fontNames:["\u9ED1\u4F53","\u4EFF\u5B8B","\u6977\u4F53","\u6807\u6977\u4F53","\u534E\u6587\u4EFF\u5B8B","\u534E\u6587\u6977\u4F53","\u5B8B\u4F53","\u5FAE\u8F6F\u96C5\u9ED1","Arial","Tahoma","Verdana","Times New Roman","Courier New"],fontSizes:{"x-small":{name:"10px",value:"1"},small:{name:"13px",value:"2"},normal:{name:"16px",value:"3"},large:{name:"18px",value:"4"},"x-large":{name:"24px",value:"5"},"xx-large":{name:"32px",value:"6"},"xxx-large":{name:"48px",value:"7"}},colors:["#000000","#ffffff","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b"],languageType:["Bash","C","C#","C++","CSS","Java","JavaScript","JSON","TypeScript","Plain text","Html","XML","SQL","Go","Kotlin","Lua","Markdown","PHP","Python","Shell Session","Ruby"],languageTab:"\u3000\u3000\u3000\u3000",emotions:[{title:"\u8868\u60C5",type:"emoji",content:"\uD83D\uDE00 \uD83D\uDE03 \uD83D\uDE04 \uD83D\uDE01 \uD83D\uDE06 \uD83D\uDE05 \uD83D\uDE02 \uD83E\uDD23 \uD83D\uDE0A \uD83D\uDE07 \uD83D\uDE42 \uD83D\uDE43 \uD83D\uDE09 \uD83D\uDE0C \uD83D\uDE0D \uD83D\uDE18 \uD83D\uDE17 \uD83D\uDE19 \uD83D\uDE1A \uD83D\uDE0B \uD83D\uDE1B \uD83D\uDE1D \uD83D\uDE1C \uD83E\uDD13 \uD83D\uDE0E \uD83D\uDE0F \uD83D\uDE12 \uD83D\uDE1E \uD83D\uDE14 \uD83D\uDE1F \uD83D\uDE15 \uD83D\uDE41 \uD83D\uDE23 \uD83D\uDE16 \uD83D\uDE2B \uD83D\uDE29 \uD83D\uDE22 \uD83D\uDE2D \uD83D\uDE24 \uD83D\uDE20 \uD83D\uDE21 \uD83D\uDE33 \uD83D\uDE31 \uD83D\uDE28 \uD83E\uDD17 \uD83E\uDD14 \uD83D\uDE36 \uD83D\uDE11 \uD83D\uDE2C \uD83D\uDE44 \uD83D\uDE2F \uD83D\uDE34 \uD83D\uDE37 \uD83E\uDD11 \uD83D\uDE08 \uD83E\uDD21 \uD83D\uDCA9 \uD83D\uDC7B \uD83D\uDC80 \uD83D\uDC40 \uD83D\uDC63".split(/\s/)},{title:"\u624B\u52BF",type:"emoji",content:"\uD83D\uDC50 \uD83D\uDE4C \uD83D\uDC4F \uD83E\uDD1D \uD83D\uDC4D \uD83D\uDC4E \uD83D\uDC4A \u270A \uD83E\uDD1B \uD83E\uDD1C \uD83E\uDD1E \u270C\uFE0F \uD83E\uDD18 \uD83D\uDC4C \uD83D\uDC48 \uD83D\uDC49 \uD83D\uDC46 \uD83D\uDC47 \u261D\uFE0F \u270B \uD83E\uDD1A \uD83D\uDD90 \uD83D\uDD96 \uD83D\uDC4B \uD83E\uDD19 \uD83D\uDCAA \uD83D\uDD95 \u270D\uFE0F \uD83D\uDE4F".split(/\s/)}],lineHeights:["1","1.15","1.6","2","2.5","3"],undoLimit:20,indentation:"2em",showMenuTooltips:!0,menuTooltipPosition:"up"}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(7);function T(y,x,A){window.alert(y),A&&console.error("wangEditor: "+A)}c.default={onchangeTimeout:200,onchange:null,onfocus:w.EMPTY_FN,onblur:w.EMPTY_FN,onCatalogChange:null,customAlert:T}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(T){return T}}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={styleWithCSS:!1}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(7);c.default={linkImgCheck:function(y,x,A){return!0},showLinkImg:!0,showLinkImgAlt:!0,showLinkImgHref:!0,linkImgCallback:w.EMPTY_FN,uploadImgAccept:["jpg","jpeg","png","gif","bmp"],uploadImgServer:"",uploadImgShowBase64:!1,uploadImgMaxSize:5242880,uploadImgMaxLength:100,uploadFileName:"",uploadImgParams:{},uploadImgParamsWithUrl:!1,uploadImgHeaders:{},uploadImgHooks:{},uploadImgTimeout:1e4,withCredentials:!1,customUploadImg:null,uploadImgFromMedia:null}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={lang:"zh-CN",languages:{"zh-CN":{wangEditor:{\u91CD\u7F6E:"\u91CD\u7F6E",\u63D2\u5165:"\u63D2\u5165",\u9ED8\u8BA4:"\u9ED8\u8BA4",\u521B\u5EFA:"\u521B\u5EFA",\u4FEE\u6539:"\u4FEE\u6539",\u5982:"\u5982",\u8BF7\u8F93\u5165\u6B63\u6587:"\u8BF7\u8F93\u5165\u6B63\u6587",menus:{title:{\u6807\u9898:"\u6807\u9898",\u52A0\u7C97:"\u52A0\u7C97",\u5B57\u53F7:"\u5B57\u53F7",\u5B57\u4F53:"\u5B57\u4F53",\u659C\u4F53:"\u659C\u4F53",\u4E0B\u5212\u7EBF:"\u4E0B\u5212\u7EBF",\u5220\u9664\u7EBF:"\u5220\u9664\u7EBF",\u7F29\u8FDB:"\u7F29\u8FDB",\u884C\u9AD8:"\u884C\u9AD8",\u6587\u5B57\u989C\u8272:"\u6587\u5B57\u989C\u8272",\u80CC\u666F\u8272:"\u80CC\u666F\u8272",\u94FE\u63A5:"\u94FE\u63A5",\u5E8F\u5217:"\u5E8F\u5217",\u5BF9\u9F50:"\u5BF9\u9F50",\u5F15\u7528:"\u5F15\u7528",\u8868\u60C5:"\u8868\u60C5",\u56FE\u7247:"\u56FE\u7247",\u89C6\u9891:"\u89C6\u9891",\u8868\u683C:"\u8868\u683C",\u4EE3\u7801:"\u4EE3\u7801",\u5206\u5272\u7EBF:"\u5206\u5272\u7EBF",\u6062\u590D:"\u6062\u590D",\u64A4\u9500:"\u64A4\u9500",\u5168\u5C4F:"\u5168\u5C4F",\u53D6\u6D88\u5168\u5C4F:"\u53D6\u6D88\u5168\u5C4F",\u5F85\u529E\u4E8B\u9879:"\u5F85\u529E\u4E8B\u9879"},dropListMenu:{\u8BBE\u7F6E\u6807\u9898:"\u8BBE\u7F6E\u6807\u9898",\u80CC\u666F\u989C\u8272:"\u80CC\u666F\u989C\u8272",\u6587\u5B57\u989C\u8272:"\u6587\u5B57\u989C\u8272",\u8BBE\u7F6E\u5B57\u53F7:"\u8BBE\u7F6E\u5B57\u53F7",\u8BBE\u7F6E\u5B57\u4F53:"\u8BBE\u7F6E\u5B57\u4F53",\u8BBE\u7F6E\u7F29\u8FDB:"\u8BBE\u7F6E\u7F29\u8FDB",\u5BF9\u9F50\u65B9\u5F0F:"\u5BF9\u9F50\u65B9\u5F0F",\u8BBE\u7F6E\u884C\u9AD8:"\u8BBE\u7F6E\u884C\u9AD8",\u5E8F\u5217:"\u5E8F\u5217",head:{\u6B63\u6587:"\u6B63\u6587"},indent:{\u589E\u52A0\u7F29\u8FDB:"\u589E\u52A0\u7F29\u8FDB",\u51CF\u5C11\u7F29\u8FDB:"\u51CF\u5C11\u7F29\u8FDB"},justify:{\u9760\u5DE6:"\u9760\u5DE6",\u5C45\u4E2D:"\u5C45\u4E2D",\u9760\u53F3:"\u9760\u53F3",\u4E24\u7AEF:"\u4E24\u7AEF"},list:{\u65E0\u5E8F\u5217\u8868:"\u65E0\u5E8F\u5217\u8868",\u6709\u5E8F\u5217\u8868:"\u6709\u5E8F\u5217\u8868"}},panelMenus:{emoticon:{\u9ED8\u8BA4:"\u9ED8\u8BA4",\u65B0\u6D6A:"\u65B0\u6D6A",emoji:"emoji",\u624B\u52BF:"\u624B\u52BF"},image:{\u4E0A\u4F20\u56FE\u7247:"\u4E0A\u4F20\u56FE\u7247",\u7F51\u7EDC\u56FE\u7247:"\u7F51\u7EDC\u56FE\u7247",\u56FE\u7247\u5730\u5740:"\u56FE\u7247\u5730\u5740",\u56FE\u7247\u6587\u5B57\u8BF4\u660E:"\u56FE\u7247\u6587\u5B57\u8BF4\u660E",\u8DF3\u8F6C\u94FE\u63A5:"\u8DF3\u8F6C\u94FE\u63A5"},link:{\u94FE\u63A5:"\u94FE\u63A5",\u94FE\u63A5\u6587\u5B57:"\u94FE\u63A5\u6587\u5B57",\u53D6\u6D88\u94FE\u63A5:"\u53D6\u6D88\u94FE\u63A5",\u67E5\u770B\u94FE\u63A5:"\u67E5\u770B\u94FE\u63A5"},video:{\u63D2\u5165\u89C6\u9891:"\u63D2\u5165\u89C6\u9891",\u4E0A\u4F20\u89C6\u9891:"\u4E0A\u4F20\u89C6\u9891"},table:{\u884C:"\u884C",\u5217:"\u5217",\u7684:"\u7684",\u8868\u683C:"\u8868\u683C",\u6DFB\u52A0\u884C:"\u6DFB\u52A0\u884C",\u5220\u9664\u884C:"\u5220\u9664\u884C",\u6DFB\u52A0\u5217:"\u6DFB\u52A0\u5217",\u5220\u9664\u5217:"\u5220\u9664\u5217",\u8BBE\u7F6E\u8868\u5934:"\u8BBE\u7F6E\u8868\u5934",\u53D6\u6D88\u8868\u5934:"\u53D6\u6D88\u8868\u5934",\u63D2\u5165\u8868\u683C:"\u63D2\u5165\u8868\u683C",\u5220\u9664\u8868\u683C:"\u5220\u9664\u8868\u683C"},code:{\u5220\u9664\u4EE3\u7801:"\u5220\u9664\u4EE3\u7801",\u4FEE\u6539\u4EE3\u7801:"\u4FEE\u6539\u4EE3\u7801",\u63D2\u5165\u4EE3\u7801:"\u63D2\u5165\u4EE3\u7801"}}},validate:{\u5F20\u56FE\u7247:"\u5F20\u56FE\u7247",\u5927\u4E8E:"\u5927\u4E8E",\u56FE\u7247\u94FE\u63A5:"\u56FE\u7247\u94FE\u63A5",\u4E0D\u662F\u56FE\u7247:"\u4E0D\u662F\u56FE\u7247",\u8FD4\u56DE\u7ED3\u679C:"\u8FD4\u56DE\u7ED3\u679C",\u4E0A\u4F20\u56FE\u7247\u8D85\u65F6:"\u4E0A\u4F20\u56FE\u7247\u8D85\u65F6",\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF:"\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF",\u4E0A\u4F20\u56FE\u7247\u5931\u8D25:"\u4E0A\u4F20\u56FE\u7247\u5931\u8D25",\u63D2\u5165\u56FE\u7247\u9519\u8BEF:"\u63D2\u5165\u56FE\u7247\u9519\u8BEF",\u4E00\u6B21\u6700\u591A\u4E0A\u4F20:"\u4E00\u6B21\u6700\u591A\u4E0A\u4F20",\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25:"\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25",\u56FE\u7247\u9A8C\u8BC1\u672A\u901A\u8FC7:"\u56FE\u7247\u9A8C\u8BC1\u672A\u901A\u8FC7",\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001:"\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001",\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF:"\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF",\u8BF7\u66FF\u6362\u4E3A\u652F\u6301\u7684\u56FE\u7247\u7C7B\u578B:"\u8BF7\u66FF\u6362\u4E3A\u652F\u6301\u7684\u56FE\u7247\u7C7B\u578B",\u60A8\u63D2\u5165\u7684\u7F51\u7EDC\u56FE\u7247\u65E0\u6CD5\u8BC6\u522B:"\u60A8\u63D2\u5165\u7684\u7F51\u7EDC\u56FE\u7247\u65E0\u6CD5\u8BC6\u522B",\u60A8\u521A\u624D\u63D2\u5165\u7684\u56FE\u7247\u94FE\u63A5\u672A\u901A\u8FC7\u7F16\u8F91\u5668\u6821\u9A8C:"\u60A8\u521A\u624D\u63D2\u5165\u7684\u56FE\u7247\u94FE\u63A5\u672A\u901A\u8FC7\u7F16\u8F91\u5668\u6821\u9A8C",\u63D2\u5165\u89C6\u9891\u9519\u8BEF:"\u63D2\u5165\u89C6\u9891\u9519\u8BEF",\u89C6\u9891\u94FE\u63A5:"\u89C6\u9891\u94FE\u63A5",\u4E0D\u662F\u89C6\u9891:"\u4E0D\u662F\u89C6\u9891",\u89C6\u9891\u9A8C\u8BC1\u672A\u901A\u8FC7:"\u89C6\u9891\u9A8C\u8BC1\u672A\u901A\u8FC7",\u4E2A\u89C6\u9891:"\u4E2A\u89C6\u9891",\u4E0A\u4F20\u89C6\u9891\u8D85\u65F6:"\u4E0A\u4F20\u89C6\u9891\u8D85\u65F6",\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF:"\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF",\u4E0A\u4F20\u89C6\u9891\u5931\u8D25:"\u4E0A\u4F20\u89C6\u9891\u5931\u8D25",\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF:"\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF"}}},en:{wangEditor:{\u91CD\u7F6E:"reset",\u63D2\u5165:"insert",\u9ED8\u8BA4:"default",\u521B\u5EFA:"create",\u4FEE\u6539:"edit",\u5982:"like",\u8BF7\u8F93\u5165\u6B63\u6587:"please enter the text",menus:{title:{\u6807\u9898:"head",\u52A0\u7C97:"bold",\u5B57\u53F7:"font size",\u5B57\u4F53:"font family",\u659C\u4F53:"italic",\u4E0B\u5212\u7EBF:"underline",\u5220\u9664\u7EBF:"strikethrough",\u7F29\u8FDB:"indent",\u884C\u9AD8:"line heihgt",\u6587\u5B57\u989C\u8272:"font color",\u80CC\u666F\u8272:"background",\u94FE\u63A5:"link",\u5E8F\u5217:"numbered list",\u5BF9\u9F50:"align",\u5F15\u7528:"quote",\u8868\u60C5:"emoticons",\u56FE\u7247:"image",\u89C6\u9891:"media",\u8868\u683C:"table",\u4EE3\u7801:"code",\u5206\u5272\u7EBF:"split line",\u6062\u590D:"undo",\u64A4\u9500:"redo",\u5168\u5C4F:"fullscreen",\u53D6\u6D88\u5168\u5C4F:"cancel fullscreen",\u5F85\u529E\u4E8B\u9879:"todo"},dropListMenu:{\u8BBE\u7F6E\u6807\u9898:"title",\u80CC\u666F\u989C\u8272:"background",\u6587\u5B57\u989C\u8272:"font color",\u8BBE\u7F6E\u5B57\u53F7:"font size",\u8BBE\u7F6E\u5B57\u4F53:"font family",\u8BBE\u7F6E\u7F29\u8FDB:"indent",\u5BF9\u9F50\u65B9\u5F0F:"align",\u8BBE\u7F6E\u884C\u9AD8:"line heihgt",\u5E8F\u5217:"list",head:{\u6B63\u6587:"text"},indent:{\u589E\u52A0\u7F29\u8FDB:"indent",\u51CF\u5C11\u7F29\u8FDB:"outdent"},justify:{\u9760\u5DE6:"left",\u5C45\u4E2D:"center",\u9760\u53F3:"right",\u4E24\u7AEF:"justify"},list:{\u65E0\u5E8F\u5217\u8868:"unordered",\u6709\u5E8F\u5217\u8868:"ordered"}},panelMenus:{emoticon:{\u8868\u60C5:"emoji",\u624B\u52BF:"gesture"},image:{\u4E0A\u4F20\u56FE\u7247:"upload image",\u7F51\u7EDC\u56FE\u7247:"network image",\u56FE\u7247\u5730\u5740:"image link",\u56FE\u7247\u6587\u5B57\u8BF4\u660E:"image alt",\u8DF3\u8F6C\u94FE\u63A5:"hyperlink"},link:{\u94FE\u63A5:"link",\u94FE\u63A5\u6587\u5B57:"link text",\u53D6\u6D88\u94FE\u63A5:"unlink",\u67E5\u770B\u94FE\u63A5:"view links"},video:{\u63D2\u5165\u89C6\u9891:"insert video",\u4E0A\u4F20\u89C6\u9891:"upload local video"},table:{\u884C:"rows",\u5217:"columns",\u7684:" ",\u8868\u683C:"table",\u6DFB\u52A0\u884C:"insert row",\u5220\u9664\u884C:"delete row",\u6DFB\u52A0\u5217:"insert column",\u5220\u9664\u5217:"delete column",\u8BBE\u7F6E\u8868\u5934:"set header",\u53D6\u6D88\u8868\u5934:"cancel header",\u63D2\u5165\u8868\u683C:"insert table",\u5220\u9664\u8868\u683C:"delete table"},code:{\u5220\u9664\u4EE3\u7801:"delete code",\u4FEE\u6539\u4EE3\u7801:"edit code",\u63D2\u5165\u4EE3\u7801:"insert code"}}},validate:{\u5F20\u56FE\u7247:"images",\u5927\u4E8E:"greater than",\u56FE\u7247\u94FE\u63A5:"image link",\u4E0D\u662F\u56FE\u7247:"is not image",\u8FD4\u56DE\u7ED3\u679C:"return results",\u4E0A\u4F20\u56FE\u7247\u8D85\u65F6:"upload image timeout",\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF:"upload image error",\u4E0A\u4F20\u56FE\u7247\u5931\u8D25:"upload image failed",\u63D2\u5165\u56FE\u7247\u9519\u8BEF:"insert image error",\u4E00\u6B21\u6700\u591A\u4E0A\u4F20:"once most at upload",\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25:"download link failed",\u56FE\u7247\u9A8C\u8BC1\u672A\u901A\u8FC7:"image validate failed",\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001:"server return status",\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF:"upload image return results error",\u8BF7\u66FF\u6362\u4E3A\u652F\u6301\u7684\u56FE\u7247\u7C7B\u578B:"please replace with a supported image type",\u60A8\u63D2\u5165\u7684\u7F51\u7EDC\u56FE\u7247\u65E0\u6CD5\u8BC6\u522B:"the network picture you inserted is not recognized",\u60A8\u521A\u624D\u63D2\u5165\u7684\u56FE\u7247\u94FE\u63A5\u672A\u901A\u8FC7\u7F16\u8F91\u5668\u6821\u9A8C:"the image link you just inserted did not pass the editor verification",\u63D2\u5165\u89C6\u9891\u9519\u8BEF:"insert video error",\u89C6\u9891\u94FE\u63A5:"video link",\u4E0D\u662F\u89C6\u9891:"is not video",\u89C6\u9891\u9A8C\u8BC1\u672A\u901A\u8FC7:"video validate failed",\u4E2A\u89C6\u9891:"videos",\u4E0A\u4F20\u89C6\u9891\u8D85\u65F6:"upload video timeout",\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF:"upload video error",\u4E0A\u4F20\u89C6\u9891\u5931\u8D25:"upload video failed",\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF:"upload video return results error"}}}}}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(6);function T(){return!!(w.UA.isIE()||w.UA.isOldEdge)}c.default={compatibleMode:T,historyMaxSize:30}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(7);c.default={onlineVideoCheck:function(y){return!0},onlineVideoCallback:w.EMPTY_FN,showLinkVideo:!0,uploadVideoAccept:["mp4"],uploadVideoServer:"",uploadVideoMaxSize:1073741824,uploadVideoName:"",uploadVideoParams:{},uploadVideoParamsWithUrl:!1,uploadVideoHeaders:{},uploadVideoHooks:{},uploadVideoTimeout:72e5,withVideoCredentials:!1,customUploadVideo:null,customInsertVideo:null}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(17));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=a(6),A=a(7),m=function(){function L(g){this._currentRange=null,this.editor=g}return L.prototype.getRange=function(){return this._currentRange},L.prototype.saveRange=function(g){if(g){this._currentRange=g;return}var E=window.getSelection();if(E.rangeCount!==0){var C=E.getRangeAt(0),P=this.getSelectionContainerElem(C);if(P!=null&&P.length&&!(P.attr("contenteditable")==="false"||P.parentUntil("[contenteditable=false]"))){var S=this.editor,D=S.$textElem;if(D.isContain(P)){if(D.elems[0]===P.elems[0]){var I;if((0,w.default)(I=D.html()).call(I)===A.EMPTY_P){var f=D.children(),k=f==null?void 0:f.last();S.selection.createRangeByElem(k,!0,!0),S.selection.restoreSelection()}}this._currentRange=C}}}},L.prototype.collapseRange=function(g){g===void 0&&(g=!1);var E=this._currentRange;E&&E.collapse(g)},L.prototype.getSelectionText=function(){var g=this._currentRange;return g?g.toString():""},L.prototype.getSelectionContainerElem=function(g){var E;E=g||this._currentRange;var C;if(E)return C=E.commonAncestorContainer,y.default(C.nodeType===1?C:C.parentNode)},L.prototype.getSelectionStartElem=function(g){var E;E=g||this._currentRange;var C;if(E)return C=E.startContainer,y.default(C.nodeType===1?C:C.parentNode)},L.prototype.getSelectionEndElem=function(g){var E;E=g||this._currentRange;var C;if(E)return C=E.endContainer,y.default(C.nodeType===1?C:C.parentNode)},L.prototype.isSelectionEmpty=function(){var g=this._currentRange;return!!(g&&g.startContainer&&g.startContainer===g.endContainer&&g.startOffset===g.endOffset)},L.prototype.restoreSelection=function(){var g=window.getSelection(),E=this._currentRange;g&&E&&(g.removeAllRanges(),g.addRange(E))},L.prototype.createEmptyRange=function(){var g=this.editor,E=this.getRange(),C;if(E&&this.isSelectionEmpty())try{x.UA.isWebkit()?(g.cmd.do("insertHTML","&#8203;"),E.setEnd(E.endContainer,E.endOffset+1),this.saveRange(E)):(C=y.default("<strong>&#8203;</strong>"),g.cmd.do("insertElem",C),this.createRangeByElem(C,!0))}catch(P){}},L.prototype.createRangeByElems=function(g,E){var C=window.getSelection?window.getSelection():document.getSelection();C==null||C.removeAllRanges();var P=document.createRange();P.setStart(g,0),P.setEnd(E,E.childNodes.length||1),this.saveRange(P),this.restoreSelection()},L.prototype.createRangeByElem=function(g,E,C){if(g.length){var P=g.elems[0],S=document.createRange();C?S.selectNodeContents(P):S.selectNode(P),E!=null&&(S.collapse(E),E||(this.saveRange(S),this.editor.selection.moveCursor(P))),this.saveRange(S)}},L.prototype.getSelectionRangeTopNodes=function(){var g,E,C,P=(g=this.getSelectionStartElem())===null||g===void 0?void 0:g.getNodeTop(this.editor),S=(E=this.getSelectionEndElem())===null||E===void 0?void 0:E.getNodeTop(this.editor);return C=this.recordSelectionNodes(y.default(P),y.default(S)),C},L.prototype.moveCursor=function(g,E){var C,P=this.getRange(),S=g.nodeType===3?(C=g.nodeValue)===null||C===void 0?void 0:C.length:g.childNodes.length;(x.UA.isFirefox||x.UA.isIE())&&S!==0&&(g.nodeType===3||g.childNodes[S-1].nodeName==="BR")&&(S=S-1);var D=E!=null?E:S;P&&g&&(P.setStart(g,D),P.setEnd(g,D),this.restoreSelection())},L.prototype.getCursorPos=function(){var g=window.getSelection();return g==null?void 0:g.anchorOffset},L.prototype.clearWindowSelectionRange=function(){var g=window.getSelection();g&&g.removeAllRanges()},L.prototype.recordSelectionNodes=function(g,E){var C=[],P=!0;try{for(var S=g,D=this.editor.$textElem;P;){var I=S==null?void 0:S.getNodeTop(this.editor);I.getNodeName()==="BODY"&&(P=!1),I.length>0&&(C.push(y.default(S)),E!=null&&E.equal(I)||D.equal(I)?P=!1:S=I.getNextSibling())}}catch(f){P=!1}return C},L.prototype.setRangeToElem=function(g){var E=this.getRange();E==null||E.setStart(g,0),E==null||E.setEnd(g,0)},L}();c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=function(){function x(A){this.editor=A}return x.prototype.do=function(A,m){var L=this.editor;L.config.styleWithCSS&&document.execCommand("styleWithCSS",!1,"true");var g=L.selection;if(g.getRange()){switch(g.restoreSelection(),A){case"insertHTML":this.insertHTML(m);break;case"insertElem":this.insertElem(m);break;default:this.execCommand(A,m);break}L.menus.changeActive(),g.saveRange(),g.restoreSelection()}},x.prototype.insertHTML=function(A){var m=this.editor,L=m.selection.getRange();if(L!=null){if(this.queryCommandSupported("insertHTML"))this.execCommand("insertHTML",A);else if(L.insertNode){if(L.deleteContents(),T.default(A).elems.length>0)L.insertNode(T.default(A).elems[0]);else{var g=document.createElement("p");g.appendChild(document.createTextNode(A)),L.insertNode(g)}m.selection.collapseRange()}}},x.prototype.insertElem=function(A){var m=this.editor,L=m.selection.getRange();L!=null&&L.insertNode&&(L.deleteContents(),L.insertNode(A.elems[0]))},x.prototype.execCommand=function(A,m){document.execCommand(A,!1,m)},x.prototype.queryCommandValue=function(A){return document.queryCommandValue(A)},x.prototype.queryCommandState=function(A){return document.queryCommandState(A)},x.prototype.queryCommandSupported=function(A){return document.queryCommandSupported(A)},x}();c.default=y},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(31)),T=d(a(4)),y=d(a(17)),x=d(a(27)),A=d(a(46));(0,b.default)(c,"__esModule",{value:!0});var m=a(2),L=m.__importDefault(a(3)),g=m.__importDefault(a(287)),E=a(6),C=m.__importDefault(a(299)),P=m.__importDefault(a(300)),S=a(7),D=function(){function I(f){this.editor=f,this.eventHooks={onBlurEvents:[],changeEvents:[],dropEvents:[],clickEvents:[],keydownEvents:[],keyupEvents:[],tabUpEvents:[],tabDownEvents:[],enterUpEvents:[],enterDownEvents:[],deleteUpEvents:[],deleteDownEvents:[],pasteEvents:[],linkClickEvents:[],codeClickEvents:[],textScrollEvents:[],toolbarClickEvents:[],imgClickEvents:[],imgDragBarMouseDownEvents:[],tableClickEvents:[],menuClickEvents:[],dropListMenuHoverEvents:[],splitLineEvents:[],videoClickEvents:[]}}return I.prototype.init=function(){this._saveRange(),this._bindEventHooks(),g.default(this)},I.prototype.togglePlaceholder=function(){var f,k=this.html(),u=(0,w.default)(f=this.editor.$textContainerElem).call(f,".placeholder");u.hide(),!this.editor.isComposing&&(!k||k===" ")&&u.show()},I.prototype.clear=function(){this.html(S.EMPTY_P)},I.prototype.html=function(f){var k=this.editor,u=k.$textElem;if(f==null){var H=u.html();H=H.replace(/\u200b/gm,""),H=H.replace(/<p><\/p>/gim,""),H=H.replace(S.EMPTY_P_LAST_REGEX,""),H=H.replace(S.EMPTY_P_REGEX,"<p>");var O=H.match(/<(img|br|hr|input)[^>]*>/gi);return O!==null&&(0,T.default)(O).call(O,function(F){F.match(/\/>/)||(H=H.replace(F,F.substring(0,F.length-1)+"/>"))}),H}f=(0,y.default)(f).call(f),f===""&&(f=S.EMPTY_P),(0,x.default)(f).call(f,"<")!==0&&(f="<p>"+f+"</p>"),u.html(f),k.initSelection()},I.prototype.setJSON=function(f){var k=P.default(f).children(),u=this.editor,H=u.$textElem;k&&H.replaceChildAll(k)},I.prototype.getJSON=function(){var f=this.editor,k=f.$textElem;return C.default(k)},I.prototype.text=function(f){var k=this.editor,u=k.$textElem;if(f==null){var H=u.text();return H=H.replace(/\u200b/gm,""),H}u.text("<p>"+f+"</p>"),k.initSelection()},I.prototype.append=function(f){var k=this.editor;(0,x.default)(f).call(f,"<")!==0&&(f="<p>"+f+"</p>"),this.html(this.html()+f),k.initSelection()},I.prototype._saveRange=function(){var f=this.editor,k=f.$textElem,u=L.default(document);function H(){f.selection.saveRange(),f.menus.changeActive()}k.on("keyup",H);function O(){H(),k.off("click",O)}k.on("click",O);function F(){H(),u.off("mouseup",F)}function j(){u.on("mouseup",F),k.off("mouseleave",j)}k.on("mousedown",function(){k.on("mouseleave",j)}),k.on("mouseup",function(W){k.off("mouseleave",j),(0,A.default)(function(){var V=f.selection,G=V.getRange();G!==null&&H()},0)})},I.prototype._bindEventHooks=function(){var f=this.editor,k=f.$textElem,u=this.eventHooks;k.on("click",function(O){var F=u.clickEvents;(0,T.default)(F).call(F,function(j){return j(O)})}),k.on("keyup",function(O){if(O.keyCode===13){var F=u.enterUpEvents;(0,T.default)(F).call(F,function(j){return j(O)})}}),k.on("keyup",function(O){var F=u.keyupEvents;(0,T.default)(F).call(F,function(j){return j(O)})}),k.on("keydown",function(O){var F=u.keydownEvents;(0,A.default)(function(){(0,T.default)(F).call(F,function(j){return j(O)})})}),k.on("keyup",function(O){if(!(O.keyCode!==8&&O.keyCode!==46)){var F=u.deleteUpEvents;(0,T.default)(F).call(F,function(j){return j(O)})}}),k.on("keydown",function(O){if(!(O.keyCode!==8&&O.keyCode!==46)){var F=u.deleteDownEvents;(0,T.default)(F).call(F,function(j){return j(O)})}}),k.on("paste",function(O){if(!E.UA.isIE()){O.preventDefault();var F=u.pasteEvents;(0,T.default)(F).call(F,function(j){return j(O)})}}),k.on("keydown",function(O){(f.isFocus||f.isCompatibleMode)&&(O.ctrlKey||O.metaKey)&&O.keyCode===90&&(O.preventDefault(),O.shiftKey?f.history.restore():f.history.revoke())}),k.on("keyup",function(O){if(O.keyCode===9){O.preventDefault();var F=u.tabUpEvents;(0,T.default)(F).call(F,function(j){return j(O)})}}),k.on("keydown",function(O){if(O.keyCode===9){O.preventDefault();var F=u.tabDownEvents;(0,T.default)(F).call(F,function(j){return j(O)})}}),k.on("scroll",E.throttle(function(O){var F=u.textScrollEvents;(0,T.default)(F).call(F,function(j){return j(O)})},100));function H(O){O.preventDefault()}L.default(document).on("dragleave",H).on("drop",H).on("dragenter",H).on("dragover",H),f.beforeDestroy(function(){L.default(document).off("dragleave",H).off("drop",H).off("dragenter",H).off("dragover",H)}),k.on("drop",function(O){O.preventDefault();var F=u.dropEvents;(0,T.default)(F).call(F,function(j){return j(O)})}),k.on("click",function(O){var F=null,j=O.target,W=L.default(j);if(W.getNodeName()==="A")F=W;else{var V=W.parentUntil("a");V!=null&&(F=V)}if(F){var G=u.linkClickEvents;(0,T.default)(G).call(G,function(R){return R(F)})}}),k.on("click",function(O){var F=null,j=O.target,W=L.default(j);if(W.getNodeName()==="IMG"&&!W.elems[0].getAttribute("data-emoji")&&(O.stopPropagation(),F=W),!!F){var V=u.imgClickEvents;(0,T.default)(V).call(V,function(G){return G(F)})}}),k.on("click",function(O){var F=null,j=O.target,W=L.default(j);if(W.getNodeName()==="PRE")F=W;else{var V=W.parentUntil("pre");V!==null&&(F=V)}if(F){var G=u.codeClickEvents;(0,T.default)(G).call(G,function(R){return R(F)})}}),k.on("click",function(O){var F=null,j=O.target,W=L.default(j);if(W.getNodeName()==="HR"?F=W:W==null,!!F){f.selection.createRangeByElem(F),f.selection.restoreSelection();var V=u.splitLineEvents;(0,T.default)(V).call(V,function(G){return G(F)})}}),f.$toolbarElem.on("click",function(O){var F=u.toolbarClickEvents;(0,T.default)(F).call(F,function(j){return j(O)})}),f.$textContainerElem.on("mousedown",function(O){var F=O.target,j=L.default(F);if(j.hasClass("w-e-img-drag-rb")){var W=u.imgDragBarMouseDownEvents;(0,T.default)(W).call(W,function(V){return V()})}}),k.on("click",function(O){var F=null,j=O.target;if(F=L.default(j).parentUntilEditor("TABLE",f,j),!!F){var W=u.tableClickEvents;(0,T.default)(W).call(W,function(V){return V(F,O)})}}),k.on("keydown",function(O){if(O.keyCode===13){var F=u.enterDownEvents;(0,T.default)(F).call(F,function(j){return j(O)})}}),k.on("click",function(O){var F=null,j=O.target,W=L.default(j);if(W.getNodeName()==="VIDEO"&&(O.stopPropagation(),F=W),!!F){var V=u.videoClickEvents;(0,T.default)(V).call(V,function(G){return G(F)})}})},I}();c.default=D},function(Z,c,a){var d=a(284);Z.exports=d},function(Z,c,a){var d=a(285),b=Array.prototype;Z.exports=function(w){var T=w.find;return w===b||w instanceof Array&&T===b.find?d:T}},function(Z,c,a){a(286);var d=a(15);Z.exports=d("Array").find},function(Z,c,a){"use strict";var d=a(5),b=a(30).find,w=a(82),T=a(22),y="find",x=!0,A=T(y);y in[]&&Array(1)[y](function(){x=!1}),d({target:"Array",proto:!0,forced:x||!A},{find:function(L){return b(this,L,arguments.length>1?arguments[1]:void 0)}}),w(y)},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(288)),y=w.__importStar(a(289)),x=w.__importDefault(a(290)),A=w.__importDefault(a(291)),m=w.__importDefault(a(298));function L(g){var E=g.editor,C=g.eventHooks;T.default(E,C.enterUpEvents,C.enterDownEvents),y.default(E,C.deleteUpEvents,C.deleteDownEvents),y.cutToKeepP(E,C.keyupEvents),x.default(E,C.tabDownEvents),A.default(E,C.pasteEvents),m.default(E,C.imgClickEvents)}c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(27));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=a(7),x=T.__importDefault(a(3));function A(m,L,g){function E(S){var D,I=x.default(y.EMPTY_P);if(I.insertBefore(S),(0,w.default)(D=S.html()).call(D,"<img")>=0){I.remove();return}m.selection.createRangeByElem(I,!0,!0),m.selection.restoreSelection(),S.remove()}function C(){var S=m.$textElem,D=m.selection.getSelectionContainerElem(),I=D.parent();if(I.html()==="<code><br></code>"){E(I);return}if(D.getNodeName()==="FONT"&&D.text()===""&&D.attr("face")==="monospace"){E(I);return}if(I.equal(S)){var f=D.getNodeName();f==="P"&&D.attr("data-we-empty-p")===null||D.text()||E(D)}}L.push(C);function P(S){var D;m.selection.saveRange((D=getSelection())===null||D===void 0?void 0:D.getRangeAt(0));var I=m.selection.getSelectionContainerElem();I.id===m.textElemId&&(S.preventDefault(),m.cmd.do("insertHTML","<p><br></p>"))}g.push(P)}c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(17)),T=d(a(44));(0,b.default)(c,"__esModule",{value:!0}),c.cutToKeepP=void 0;var y=a(2),x=a(7),A=y.__importDefault(a(3));function m(g,E,C){function P(){var D=g.$textElem,I=g.$textElem.html(),f=g.$textElem.text(),k=(0,w.default)(I).call(I),u=["<p><br></p>","<br>",'<p data-we-empty-p=""></p>',x.EMPTY_P];if(/^\s*$/.test(f)&&(!k||(0,T.default)(u).call(u,k))){D.html(x.EMPTY_P);var H=D.getNode();g.selection.createRangeByElems(H.childNodes[0],H.childNodes[0]);var O=g.selection.getSelectionContainerElem();g.selection.restoreSelection(),g.selection.moveCursor(O.getNode(),0)}}E.push(P);function S(D){var I,f=g.$textElem,k=(0,w.default)(I=f.html().toLowerCase()).call(I);if(k===x.EMPTY_P){D.preventDefault();return}}C.push(S)}function L(g,E){function C(P){var S;if(P.keyCode===88){var D=g.$textElem,I=(0,w.default)(S=D.html().toLowerCase()).call(S);if(!I||I==="<br>"){var f=A.default(x.EMPTY_P);D.html(" "),D.append(f),g.selection.createRangeByElem(f,!1,!0),g.selection.restoreSelection(),g.selection.moveCursor(f.getNode(),0)}}}E.push(C)}c.cutToKeepP=L,c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});function w(T,y){function x(){if(T.cmd.queryCommandSupported("insertHTML")){var A=T.selection.getSelectionContainerElem();if(A){var m=A.parent(),L=A.getNodeName(),g=m.getNodeName();L=="CODE"||g==="CODE"||g==="PRE"||/hljs/.test(g)?T.cmd.do("insertHTML",T.config.languageTab):T.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;")}}}y.push(x)}c.default=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(17));(0,b.default)(c,"__esModule",{value:!0});var T=a(130),y=a(6),x=a(7);function A(C){var P,S=(0,w.default)(P=C.replace(/<div>/gim,"<p>").replace(/<\/div>/gim,"</p>")).call(P),D=document.createElement("div");return D.innerHTML=S,D.innerHTML.replace(/<p><\/p>/gim,"")}function m(C){var P=C.replace(/<br>|<br\/>/gm,"\n").replace(/<[^>]+>/gm,"");return P}function L(C){var P;if(C==="")return!1;var S=document.createElement("div");return S.innerHTML=C,((P=S.firstChild)===null||P===void 0?void 0:P.nodeName)==="P"}function g(C){if(!(C!=null&&C.length))return!1;var P=C.elems[0];return P.nodeName==="P"&&P.innerHTML==="<br>"}function E(C,P){function S(D){var I=C.config,f=I.pasteFilterStyle,k=I.pasteIgnoreImg,u=I.pasteTextHandle,H=T.getPasteHtml(D,f,k),O=T.getPasteText(D);O=O.replace(/\n/gm,"<br>");var F=C.selection.getSelectionContainerElem();if(F){var j=F==null?void 0:F.getNodeName(),W=F==null?void 0:F.getNodeTop(C),V="";if(W.elems[0]&&(V=W==null?void 0:W.getNodeName()),j==="CODE"||V==="PRE"){u&&y.isFunction(u)&&(O=""+(u(O)||"")),C.cmd.do("insertHTML",m(O));return}if(x.urlRegex.test(O)&&f){u&&y.isFunction(u)&&(O=""+(u(O)||""));var G=x.urlRegex.exec(O)[0],R=O.replace(x.urlRegex,"");return C.cmd.do("insertHTML",'<a href="'+G+'" target="_blank">'+G+"</a>"+R)}if(H)try{u&&y.isFunction(u)&&(H=""+(u(H)||""));var z=/[\.\#\@]?\w+[ ]+\{[^}]*\}/.test(H);if(z&&f)C.cmd.do("insertHTML",""+A(O));else{var Y=A(H);if(L(Y)){var X=C.$textElem;if(C.cmd.do("insertHTML",Y),X.equal(F)){C.selection.createEmptyRange();return}g(W)&&W.remove()}else{var q=/^<img [^>]*src=['"]([^'"]+)[^>]*>$/g;q.test(Y)||C.cmd.do("insertHTML",Y)}}}catch(_){u&&y.isFunction(u)&&(O=""+(u(O)||"")),C.cmd.do("insertHTML",""+A(O))}}}P.push(S)}c.default=E},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(17)),T=d(a(4)),y=d(a(44));(0,b.default)(c,"__esModule",{value:!0});var x=a(2),A=a(293),m=x.__importDefault(a(297));function L(S){var D=/<span>.*?<\/span>/gi,I=/<span>(.*?)<\/span>/;return S.replace(D,function(f){var k=f.match(I);return k==null?"":k[1]})}function g(S,D){var I;return S=(0,w.default)(I=S.toLowerCase()).call(I),!!(A.IGNORE_TAGS.has(S)||D&&S==="img")}function E(S,D){var I="";I="<"+S;var f=[];(0,T.default)(D).call(D,function(u){f.push(u.name+'="'+u.value+'"')}),f.length>0&&(I=I+" "+f.join(" "));var k=A.EMPTY_TAGS.has(S);return I=I+(k?"/":"")+">",I}function C(S){return"</"+S+">"}function P(S,D,I){D===void 0&&(D=!0),I===void 0&&(I=!1);var f=[],k="";function u(j){j=(0,w.default)(j).call(j),j&&(A.EMPTY_TAGS.has(j)||(k=j))}function H(){k=""}var O=new m.default;O.parse(S,{startElement:function(W,V){if(u(W),!g(W,I)){var G=A.NECESSARY_ATTRS.get(W)||[],R=[];(0,T.default)(V).call(V,function(Y){var X=Y.name;if(X==="style"){D||R.push(Y);return}(0,y.default)(G).call(G,X)!==!1&&R.push(Y)});var z=E(W,R);f.push(z)}},characters:function(W){W&&(g(k,I)||f.push(W))},endElement:function(W){if(!g(W,I)){var V=C(W);f.push(V),H()}},comment:function(W){u(W)}});var F=f.join("");return F=L(F),F}c.default=P},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(131)),T=d(a(120));(0,b.default)(c,"__esModule",{value:!0}),c.TOP_LEVEL_TAGS=c.EMPTY_TAGS=c.NECESSARY_ATTRS=c.IGNORE_TAGS=void 0,c.IGNORE_TAGS=new w.default(["doctype","!doctype","html","head","meta","body","script","style","link","frame","iframe","title","svg","center","o:p"]),c.NECESSARY_ATTRS=new T.default([["img",["src","alt"]],["a",["href","target"]],["td",["colspan","rowspan"]],["th",["colspan","rowspan"]]]),c.EMPTY_TAGS=new w.default(["area","base","basefont","br","col","hr","img","input","isindex","embed"]),c.TOP_LEVEL_TAGS=new w.default(["h1","h2","h3","h4","h5","p","ul","ol","table","blockquote","pre","hr","form"])},function(Z,c,a){var d=a(295);Z.exports=d},function(Z,c,a){a(296),a(61),a(50),a(54);var d=a(9);Z.exports=d.Set},function(Z,c,a){"use strict";var d=a(121),b=a(123);Z.exports=d("Set",function(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}},b)},function(Z,c){function a(){}a.prototype={handler:null,startTagRe:/^<([^>\s\/]+)((\s+[^=>\s]+(\s*=\s*((\"[^"]*\")|(\'[^']*\')|[^>\s]+))?)*)\s*\/?\s*>/m,endTagRe:/^<\/([^>\s]+)[^>]*>/m,attrRe:/([^=\s]+)(\s*=\s*((\"([^"]*)\")|(\'([^']*)\')|[^>\s]+))?/gm,parse:function(b,w){w&&(this.contentHandler=w);for(var T=0,y,x,A,m,L,g=!1,E=this;b.length>0;)b.substring(0,4)=="<!--"?(L=b.indexOf("-->"),L!=-1?(this.contentHandler.comment(b.substring(4,L)),b=b.substring(L+3),g=!1):g=!0):b.substring(0,2)=="</"?this.endTagRe.test(b)?(x=RegExp.leftContext,A=RegExp.lastMatch,m=RegExp.rightContext,A.replace(this.endTagRe,function(){return E.parseEndTag.apply(E,arguments)}),b=m,g=!1):g=!0:b.charAt(0)=="<"&&(this.startTagRe.test(b)?(x=RegExp.leftContext,A=RegExp.lastMatch,m=RegExp.rightContext,A.replace(this.startTagRe,function(){return E.parseStartTag.apply(E,arguments)}),b=m,g=!1):g=!0),g&&(L=b.indexOf("<"),L==-1?(this.contentHandler.characters(b),b=""):(this.contentHandler.characters(b.substring(0,L)),b=b.substring(L))),g=!0},parseStartTag:function(b,w,T){var y=this.parseAttributes(w,T);this.contentHandler.startElement(w,y)},parseEndTag:function(b,w){this.contentHandler.endElement(w)},parseAttributes:function(b,w){var T=this,y=[];return w.replace(this.attrRe,function(x,A,m,L,g,E,C,P){y.push(T.parseAttribute(b,x,A,m,L,g,E,C,P))}),y},parseAttribute:function(b,w,T){var y="";arguments[7]?y=arguments[8]:arguments[5]?y=arguments[6]:arguments[3]&&(y=arguments[4]);var x=!y&&!arguments[3];return{name:T,value:x?null:y}}},Z.exports=a},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});function w(T,y){function x(A){T.selection.createRangeByElem(A),T.selection.restoreSelection()}y.push(x)}c.default=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=a(6),x=T.__importDefault(a(3));function A(m){var L=[],g=m.childNodes()||[];return(0,w.default)(g).call(g,function(E){var C,P=E.nodeType;if(P===3&&(C=E.textContent||"",C=y.replaceHtmlSymbol(C)),P===1){C={},C=C,C.tag=E.nodeName.toLowerCase();for(var S=[],D=E.attributes,I=D.length||0,f=0;f<I;f++){var k=D[f];S.push({name:k.name,value:k.value})}C.attrs=S,C.children=A(x.default(E))}C&&L.push(C)}),L}c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(92)),w=d(a(1)),T=d(a(4));(0,w.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(3));function A(m,L){L===void 0&&(L=document.createElement("div"));var g=L;return(0,T.default)(m).call(m,function(E){var C;if(typeof E=="string"&&(C=document.createTextNode(E)),(0,b.default)(E)==="object"){var P;C=document.createElement(E.tag),(0,T.default)(P=E.attrs).call(P,function(S){x.default(C).attr(S.name,S.value)}),E.children&&E.children.length>0&&A(E.children,C.getRootNode())}C&&g.appendChild(C)}),x.default(g)}c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(89)),T=d(a(70)),y=d(a(44)),x=d(a(302)),A=d(a(4)),m=d(a(94)),L=d(a(132)),g=d(a(46)),E=d(a(57));(0,b.default)(c,"__esModule",{value:!0});var C=a(2),P=C.__importDefault(a(87)),S=C.__importDefault(a(314)),D=C.__importDefault(a(3)),I=function(){function f(k){this.editor=k,this.menuList=[],this.constructorList=S.default}return f.prototype.extend=function(k,u){!u||typeof u!="function"||(this.constructorList[k]=u)},f.prototype.init=function(){var k,u,H=this,O=this.editor.config,F=O.excludeMenus;(0,w.default)(F)===!1&&(F=[]),O.menus=(0,T.default)(k=O.menus).call(k,function(X){return(0,y.default)(F).call(F,X)===!1});var j=(0,x.default)(P.default.globalCustomMenuConstructorList);j=(0,T.default)(j).call(j,function(X){return(0,y.default)(F).call(F,X)}),(0,A.default)(j).call(j,function(X){delete P.default.globalCustomMenuConstructorList[X]}),(0,A.default)(u=O.menus).call(u,function(X){var q=H.constructorList[X];H._initMenuList(X,q)});for(var W=0,V=(0,m.default)(P.default.globalCustomMenuConstructorList);W<V.length;W++){var G=V[W],R=G[0],z=G[1],Y=z;this._initMenuList(R,Y)}this._addToToolbar(),O.showMenuTooltips&&this._bindMenuTooltips()},f.prototype._initMenuList=function(k,u){var H;if(!(u==null||typeof u!="function"))if((0,L.default)(H=this.menuList).call(H,function(F){return F.key===k}))console.warn("\u83DC\u5355\u540D\u79F0\u91CD\u590D:"+k);else{var O=new u(this.editor);O.key=k,this.menuList.push(O)}},f.prototype._bindMenuTooltips=function(){var k=this.editor,u=k.$toolbarElem,H=k.config,O=H.menuTooltipPosition,F=D.default('<div class="w-e-menu-tooltip w-e-menu-tooltip-'+O+'">\n            <div class="w-e-menu-tooltip-item-wrapper">\n              <div></div>\n            </div>\n          </div>');F.css("visibility","hidden"),u.append(F),F.css("z-index",k.zIndex.get("tooltip"));var j=0;function W(){j&&clearTimeout(j)}function V(){W(),F.css("visibility","hidden")}u.on("mouseover",function(G){var R=G.target,z=D.default(R),Y,X;if(z.isContain(u)){V();return}if(z.parentUntil(".w-e-droplist")!=null)V();else if(z.attr("data-title"))Y=z.attr("data-title"),X=z;else{var q=z.parentUntil(".w-e-menu");q!=null&&(Y=q.attr("data-title"),X=q)}if(Y&&X){W();var _=X.getOffsetData();F.text(k.i18next.t("menus.title."+Y));var ee=F.getOffsetData(),oe=_.left+_.width/2-ee.width/2;F.css("left",oe+"px"),O==="up"?F.css("top",_.top-ee.height-8+"px"):O==="down"&&F.css("top",_.top+_.height+8+"px"),j=(0,g.default)(function(){F.css("visibility","visible")},200)}else V()}).on("mouseleave",function(){V()})},f.prototype._addToToolbar=function(){var k,u=this.editor,H=u.$toolbarElem;(0,A.default)(k=this.menuList).call(k,function(O){var F=O.$elem;F&&H.append(F)})},f.prototype.menuFind=function(k){for(var u=this.menuList,H=0,O=u.length;H<O;H++)if(u[H].key===k)return u[H];return u[0]},f.prototype.changeActive=function(){var k;(0,A.default)(k=this.menuList).call(k,function(u){var H;(0,g.default)((0,E.default)(H=u.tryChangeActive).call(H,u),100)})},f}();c.default=I},function(Z,c,a){Z.exports=a(303)},function(Z,c,a){var d=a(304);Z.exports=d},function(Z,c,a){a(305);var d=a(9);Z.exports=d.Object.keys},function(Z,c,a){var d=a(5),b=a(29),w=a(52),T=a(11),y=T(function(){w(1)});d({target:"Object",stat:!0,forced:y},{keys:function(A){return w(b(A))}})},function(Z,c,a){var d=a(307);Z.exports=d},function(Z,c,a){a(308);var d=a(9);Z.exports=d.Object.entries},function(Z,c,a){var d=a(5),b=a(309).entries;d({target:"Object",stat:!0},{entries:function(T){return b(T)}})},function(Z,c,a){var d=a(14),b=a(52),w=a(28),T=a(59).f,y=function(A){return function(m){for(var L=w(m),g=b(L),E=g.length,C=0,P=[],S;E>C;)S=g[C++],(!d||T.call(L,S))&&P.push(A?[S,L[S]]:L[S]);return P}};Z.exports={entries:y(!0),values:y(!1)}},function(Z,c,a){var d=a(311);Z.exports=d},function(Z,c,a){var d=a(312),b=Array.prototype;Z.exports=function(w){var T=w.some;return w===b||w instanceof Array&&T===b.some?d:T}},function(Z,c,a){a(313);var d=a(15);Z.exports=d("Array").some},function(Z,c,a){"use strict";var d=a(5),b=a(30).some,w=a(67),T=a(22),y=w("some"),x=T("some");d({target:"Array",proto:!0,forced:!y||!x},{some:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}})},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(315)),y=w.__importDefault(a(316)),x=w.__importDefault(a(321)),A=w.__importDefault(a(326)),m=w.__importDefault(a(327)),L=w.__importDefault(a(328)),g=w.__importDefault(a(329)),E=w.__importDefault(a(331)),C=w.__importDefault(a(333)),P=w.__importDefault(a(334)),S=w.__importDefault(a(337)),D=w.__importDefault(a(338)),I=w.__importDefault(a(339)),f=w.__importDefault(a(350)),k=w.__importDefault(a(365)),u=w.__importDefault(a(369)),H=w.__importDefault(a(137)),O=w.__importDefault(a(378)),F=w.__importDefault(a(380)),j=w.__importDefault(a(381)),W=w.__importDefault(a(382)),V=w.__importDefault(a(401)),G=w.__importDefault(a(406)),R=w.__importDefault(a(409));c.default={bold:T.default,head:y.default,italic:A.default,link:x.default,underline:m.default,strikeThrough:L.default,fontName:g.default,fontSize:E.default,justify:C.default,quote:P.default,backColor:S.default,foreColor:D.default,video:I.default,image:f.default,indent:k.default,emoticon:u.default,list:H.default,lineHeight:O.default,undo:F.default,redo:j.default,table:W.default,code:V.default,splitLine:G.default,todo:R.default}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(23)),y=w.__importDefault(a(3)),x=function(A){w.__extends(m,A);function m(L){var g=this,E=y.default('<div class="w-e-menu" data-title="\u52A0\u7C97">\n                <i class="w-e-icon-bold"></i>\n            </div>');return g=A.call(this,E,L)||this,g}return m.prototype.clickHandler=function(){var L=this.editor,g=L.selection.isSelectionEmpty();g&&L.selection.createEmptyRange(),L.cmd.do("bold"),g&&(L.selection.collapseRange(),L.selection.restoreSelection())},m.prototype.tryChangeActive=function(){var L=this.editor;L.cmd.queryCommandState("bold")?this.active():this.unActive()},m}(T.default);c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(27)),T=d(a(31)),y=d(a(4)),x=d(a(317)),A=d(a(44));(0,b.default)(c,"__esModule",{value:!0});var m=a(2),L=m.__importDefault(a(24)),g=m.__importDefault(a(3)),E=a(6),C=a(7),P=function(S){m.__extends(D,S);function D(I){var f=this,k=g.default('<div class="w-e-menu" data-title="\u6807\u9898"><i class="w-e-icon-header"></i></div>'),u={width:100,title:"\u8BBE\u7F6E\u6807\u9898",type:"list",list:[{$elem:g.default("<h1>H1</h1>"),value:"<h1>"},{$elem:g.default("<h2>H2</h2>"),value:"<h2>"},{$elem:g.default("<h3>H3</h3>"),value:"<h3>"},{$elem:g.default("<h4>H4</h4>"),value:"<h4>"},{$elem:g.default("<h5>H5</h5>"),value:"<h5>"},{$elem:g.default("<p>"+I.i18next.t("menus.dropListMenu.head.\u6B63\u6587")+"</p>"),value:"<p>"}],clickHandler:function(F){f.command(F)}};f=S.call(this,k,I,u)||this;var H=I.config.onCatalogChange;return H&&(f.oldCatalogs=[],f.addListenerCatalog(),f.getCatalogs()),f}return D.prototype.command=function(I){var f=this.editor,k=f.selection.getSelectionContainerElem();if(k&&f.$textElem.equal(k))this.setMultilineHead(I);else{var u;if((0,w.default)(u=["OL","UL","LI","TABLE","TH","TR","CODE","HR"]).call(u,g.default(k).getNodeName())>-1)return;f.cmd.do("formatBlock",I)}I!=="<p>"&&this.addUidForSelectionElem()},D.prototype.addUidForSelectionElem=function(){var I=this.editor,f=I.selection.getSelectionContainerElem(),k=E.getRandomCode();g.default(f).attr("id",k)},D.prototype.addListenerCatalog=function(){var I=this,f=this.editor;f.txt.eventHooks.changeEvents.push(function(){I.getCatalogs()})},D.prototype.getCatalogs=function(){var I=this.editor,f=this.editor.$textElem,k=I.config.onCatalogChange,u=(0,T.default)(f).call(f,"h1,h2,h3,h4,h5"),H=[];(0,y.default)(u).call(u,function(O,F){var j=g.default(O),W=j.attr("id"),V=j.getNodeName(),G=j.text();W||(W=E.getRandomCode(),j.attr("id",W)),G&&H.push({tag:V,id:W,text:G})}),(0,x.default)(this.oldCatalogs)!==(0,x.default)(H)&&(this.oldCatalogs=H,k&&k(H))},D.prototype.setMultilineHead=function(I){var f=this,k,u,H=this.editor,O=H.selection,F=(k=O.getSelectionContainerElem())===null||k===void 0?void 0:k.elems[0],j=["IMG","VIDEO","TABLE","TH","TR","UL","OL","PRE","HR","BLOCKQUOTE"],W=g.default(O.getSelectionStartElem()),V=g.default(O.getSelectionEndElem());V.elems[0].outerHTML===g.default(C.EMPTY_P).elems[0].outerHTML&&!V.elems[0].nextSibling&&(V=V.prev());var G=[];G.push(W.getNodeTop(H));var R=[],z=(u=O.getRange())===null||u===void 0?void 0:u.commonAncestorContainer.childNodes;z==null||(0,y.default)(z).call(z,function(q,_){q===G[0].getNode()&&R.push(_),q===V.getNodeTop(H).getNode()&&R.push(_)});for(var Y=0;G[Y].getNode()!==V.getNodeTop(H).getNode();){if(!G[Y].elems[0])return;var X=g.default(G[Y].next().getNode());G.push(X),Y++}G==null||(0,y.default)(G).call(G,function(q,_){if(!f.hasTag(q,j)){var ee=g.default(I),oe=q.parent().getNode();ee.html(""+q.html()),oe.insertBefore(ee.getNode(),q.getNode()),q.remove()}}),O.createRangeByElems(F.children[R[0]],F.children[R[1]])},D.prototype.hasTag=function(I,f){var k=this,u;if(!I)return!1;if((0,A.default)(f).call(f,I==null?void 0:I.getNodeName()))return!0;var H=!1;return(u=I.children())===null||u===void 0||(0,y.default)(u).call(u,function(O){H=k.hasTag(g.default(O),f)}),H},D.prototype.tryChangeActive=function(){var I=this.editor,f=/^h/i,k=I.cmd.queryCommandValue("formatBlock");f.test(k)?this.active():this.unActive()},D}(L.default);c.default=P},function(Z,c,a){Z.exports=a(318)},function(Z,c,a){var d=a(319);Z.exports=d},function(Z,c,a){a(320);var d=a(9);d.JSON||(d.JSON={stringify:JSON.stringify}),Z.exports=function(w,T,y){return d.JSON.stringify.apply(null,arguments)}},function(Z,c,a){var d=a(5),b=a(35),w=a(11),T=b("JSON","stringify"),y=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,m=function(E,C,P){var S=P.charAt(C-1),D=P.charAt(C+1);return x.test(E)&&!A.test(D)||A.test(E)&&!x.test(S)?"\\u"+E.charCodeAt(0).toString(16):E},L=w(function(){return T("\uDF06\uD834")!=='"\\udf06\\ud834"'||T("\uDEAD")!=='"\\udead"'});T&&d({target:"JSON",stat:!0,forced:L},{stringify:function(E,C,P){var S=T.apply(null,arguments);return typeof S=="string"?S.replace(y,m):S}})},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(17));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(37)),x=T.__importDefault(a(3)),A=T.__importDefault(a(322)),m=T.__importDefault(a(134)),L=T.__importDefault(a(32)),g=T.__importDefault(a(324)),E=a(7),C=function(P){T.__extends(S,P);function S(D){var I=this,f=x.default('<div class="w-e-menu" data-title="\u94FE\u63A5"><i class="w-e-icon-link"></i></div>');return I=P.call(this,f,D)||this,g.default(D),I}return S.prototype.clickHandler=function(){var D=this.editor,I,f=D.selection.getSelectionContainerElem(),k=D.$textElem,u=k.html(),H=(0,w.default)(u).call(u);if(H===E.EMPTY_P){var O=k.children();D.selection.createRangeByElem(O,!0,!0),f=D.selection.getSelectionContainerElem()}if(!(f&&D.$textElem.equal(f)))if(this.isActive){if(I=D.selection.getSelectionContainerElem(),!I)return;this.createPanel(I.text(),I.attr("href"))}else D.selection.isSelectionEmpty()?this.createPanel("",""):this.createPanel(D.selection.getSelectionText(),"")},S.prototype.createPanel=function(D,I){var f=A.default(this.editor,D,I),k=new L.default(this,f);k.create()},S.prototype.tryChangeActive=function(){var D=this.editor;m.default(D)?this.active():this.unActive()},S}(y.default);c.default=C},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(17));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=a(6),x=T.__importDefault(a(3)),A=T.__importDefault(a(134)),m=a(323);function L(g,E,C){var P=y.getRandom("input-link"),S=y.getRandom("input-text"),D=y.getRandom("btn-ok"),I=y.getRandom("btn-del"),f=A.default(g)?"inline-block":"none",k;function u(){if(A.default(g)){var W=g.selection.getSelectionContainerElem();W&&(g.selection.createRangeByElem(W),g.selection.restoreSelection(),k=W)}}function H(W,V){var G=new RegExp(/(<\/*ul>)|(<\/*li>)|(<\/*ol>)/g);W=W.replace(G,""),A.default(g)&&u(),g.cmd.do("insertHTML",'<a href="'+V+'" target="_blank">'+W+"</a>")}function O(){if(A.default(g)){u();var W=k.text();g.cmd.do("insertHTML","<span>"+W+"</span>")}}function F(W,V){var G=g.config.linkCheck(W,V);if(G!==void 0){if(G===!0)return!0;g.config.customAlert(G,"warning")}return!1}var j={width:300,height:0,tabs:[{title:g.i18next.t("menus.panelMenus.link.\u94FE\u63A5"),tpl:'<div>\n                        <input\n                            id="'+S+'"\n                            type="text"\n                            class="block"\n                            value="'+E+'"\n                            placeholder="'+g.i18next.t("menus.panelMenus.link.\u94FE\u63A5\u6587\u5B57")+'"/>\n                        </td>\n                        <input\n                            id="'+P+'"\n                            type="text"\n                            class="block"\n                            value="'+C+'"\n                            placeholder="'+g.i18next.t("\u5982")+' https://..."/>\n                        </td>\n                        <div class="w-e-button-container">\n                            <button type="button" id="'+D+'" class="right">\n                                '+g.i18next.t("\u63D2\u5165")+'\n                            </button>\n                            <button type="button" id="'+I+'" class="gray right" style="display:'+f+'">\n                                '+g.i18next.t("menus.panelMenus.link.\u53D6\u6D88\u94FE\u63A5")+"\n                            </button>\n                        </div>\n                    </div>",events:[{selector:"#"+D,type:"click",fn:function(){var V,G,R,z;g.selection.restoreSelection();var Y=g.selection.getSelectionRangeTopNodes()[0].getNode(),X=window.getSelection(),q=x.default("#"+P),_=x.default("#"+S),ee=(0,w.default)(V=q.val()).call(V),oe=(0,w.default)(G=_.val()).call(G),pe="";X&&!(X!=null&&X.isCollapsed)&&(pe=(R=m.insertHtml(X,Y))===null||R===void 0?void 0:(0,w.default)(R).call(R));var ve=pe==null?void 0:pe.replace(/<.*?>/g,""),Pe=(z=ve==null?void 0:ve.length)!==null&&z!==void 0?z:0;if(Pe<=oe.length){var Re=oe.substring(0,Pe),Ne=oe.substring(Pe);ve===Re&&(oe=pe+Ne)}if(ee&&(oe||(oe=ee),!!F(oe,ee)))return H(oe,ee),!0},bindEnter:!0},{selector:"#"+I,type:"click",fn:function(){return O(),!0}}]}]};return j}c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0}),c.insertHtml=c.createPartHtml=c.makeHtmlString=c.getTopNode=void 0;function T(g,E){var C=g,P=g;do{if(C.textContent===E)break;P=C,C.parentNode&&(C=C==null?void 0:C.parentNode)}while((C==null?void 0:C.nodeName)!=="P");return P}c.getTopNode=T;function y(g,E){var C=g.nodeName,P="";if(g.nodeType===3||/^(h|H)[1-6]$/.test(C))return E;if(g.nodeType===1){var S=g.getAttribute("style"),D=g.getAttribute("face"),I=g.getAttribute("color");S&&(P=P+(' style="'+S+'"')),D&&(P=P+(' face="'+D+'"')),I&&(P=P+(' color="'+I+'"'))}return C=C.toLowerCase(),"<"+C+P+">"+E+"</"+C+">"}c.makeHtmlString=y;function x(g,E,C,P){var S,D=(S=E.textContent)===null||S===void 0?void 0:S.substring(C,P),I=E,f="";do f=y(I,D!=null?D:""),D=f,I=I==null?void 0:I.parentElement;while(I&&I.textContent!==g);return f}c.createPartHtml=x;function A(g,E){var C,P,S,D,I,f=g.anchorNode,k=g.focusNode,u=g.anchorOffset,H=g.focusOffset,O=(C=E.textContent)!==null&&C!==void 0?C:"",F=m(E),j="",W="",V="",G="",R=f,z=k,Y=f;if(f!=null&&f.isEqualNode(k!=null?k:null)){var X=x(O,f,u,H);return X=L(F,X),X}for(f&&(W=x(O,f,u!=null?u:0)),k&&(G=x(O,k,0,H)),f&&(R=T(f,O)),k&&(z=T(k,O)),Y=(P=R==null?void 0:R.nextSibling)!==null&&P!==void 0?P:f;!(Y!=null&&Y.isEqualNode(z!=null?z:null));){var q=Y==null?void 0:Y.nodeName;if(q==="#text")V=V+(Y==null?void 0:Y.textContent);else{var _=(D=(S=Y==null?void 0:Y.firstChild)===null||S===void 0?void 0:S.parentElement)===null||D===void 0?void 0:D.innerHTML;Y&&(V=V+y(Y,_!=null?_:""))}var ee=(I=Y==null?void 0:Y.nextSibling)!==null&&I!==void 0?I:Y;if(ee===Y)break;Y=ee}return j=""+W+V+G,j=L(F,j),j}c.insertHtml=A;function m(g){for(var E,C=(E=g.textContent)!==null&&E!==void 0?E:"",P=[];(g==null?void 0:g.textContent)===C;)g.nodeName!=="P"&&g.nodeName!=="TABLE"&&P.push(g),g=g.childNodes[0];return P}function L(g,E){return(0,w.default)(g).call(g,function(C){E=y(C,E)}),E}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(325));function y(x){T.default(x)}c.default=y},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(38));function x(m){var L;function g(C){var P=[{$elem:T.default("<span>"+m.i18next.t("menus.panelMenus.link.\u67E5\u770B\u94FE\u63A5")+"</span>"),onClick:function(D,I){var f=I.attr("href");return window.open(f,"_target"),!0}},{$elem:T.default("<span>"+m.i18next.t("menus.panelMenus.link.\u53D6\u6D88\u94FE\u63A5")+"</span>"),onClick:function(D,I){var f,k;D.selection.createRangeByElem(I),D.selection.restoreSelection();var u=I.childNodes();if((u==null?void 0:u.getNodeName())==="IMG"){var H=(k=(f=D.selection.getSelectionContainerElem())===null||f===void 0?void 0:f.children())===null||k===void 0?void 0:k.elems[0].children[0];D.cmd.do("insertHTML","<img \n                                src="+(H==null?void 0:H.getAttribute("src"))+" \n                                style="+(H==null?void 0:H.getAttribute("style"))+">")}else{var O=I.text();D.cmd.do("insertHTML","<span>"+O+"</span>")}return!0}}];L=new y.default(m,C,P),L.create()}function E(){L&&(L.remove(),L=null)}return{showLinkTooltip:g,hideLinkTooltip:E}}function A(m){var L=x(m),g=L.showLinkTooltip,E=L.hideLinkTooltip;m.txt.eventHooks.linkClickEvents.push(g),m.txt.eventHooks.clickEvents.push(E),m.txt.eventHooks.keyupEvents.push(E),m.txt.eventHooks.toolbarClickEvents.push(E),m.txt.eventHooks.menuClickEvents.push(E),m.txt.eventHooks.textScrollEvents.push(E)}c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(23)),y=w.__importDefault(a(3)),x=function(A){w.__extends(m,A);function m(L){var g=this,E=y.default('<div class="w-e-menu" data-title="\u659C\u4F53">\n                <i class="w-e-icon-italic"></i>\n            </div>');return g=A.call(this,E,L)||this,g}return m.prototype.clickHandler=function(){var L=this.editor,g=L.selection.isSelectionEmpty();g&&L.selection.createEmptyRange(),L.cmd.do("italic"),g&&(L.selection.collapseRange(),L.selection.restoreSelection())},m.prototype.tryChangeActive=function(){var L=this.editor;L.cmd.queryCommandState("italic")?this.active():this.unActive()},m}(T.default);c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(23)),y=w.__importDefault(a(3)),x=function(A){w.__extends(m,A);function m(L){var g=this,E=y.default('<div class="w-e-menu" data-title="\u4E0B\u5212\u7EBF">\n                <i class="w-e-icon-underline"></i>\n            </div>');return g=A.call(this,E,L)||this,g}return m.prototype.clickHandler=function(){var L=this.editor,g=L.selection.isSelectionEmpty();g&&L.selection.createEmptyRange(),L.cmd.do("underline"),g&&(L.selection.collapseRange(),L.selection.restoreSelection())},m.prototype.tryChangeActive=function(){var L=this.editor;L.cmd.queryCommandState("underline")?this.active():this.unActive()},m}(T.default);c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(23)),y=w.__importDefault(a(3)),x=function(A){w.__extends(m,A);function m(L){var g=this,E=y.default('<div class="w-e-menu" data-title="\u5220\u9664\u7EBF">\n                <i class="w-e-icon-strikethrough"></i>\n            </div>');return g=A.call(this,E,L)||this,g}return m.prototype.clickHandler=function(){var L=this.editor,g=L.selection.isSelectionEmpty();g&&L.selection.createEmptyRange(),L.cmd.do("strikeThrough"),g&&(L.selection.collapseRange(),L.selection.restoreSelection())},m.prototype.tryChangeActive=function(){var L=this.editor;L.cmd.queryCommandState("strikeThrough")?this.active():this.unActive()},m}(T.default);c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(24)),y=w.__importDefault(a(3)),x=w.__importDefault(a(330)),A=function(m){w.__extends(L,m);function L(g){var E=this,C=y.default('<div class="w-e-menu" data-title="\u5B57\u4F53">\n                <i class="w-e-icon-font"></i>\n            </div>'),P=new x.default(g.config.fontNames),S={width:100,title:"\u8BBE\u7F6E\u5B57\u4F53",type:"list",list:P.getItemList(),clickHandler:function(I){E.command(I)}};return E=m.call(this,C,g,S)||this,E}return L.prototype.command=function(g){var E,C=this.editor,P=C.selection.isSelectionEmpty(),S=(E=C.selection.getSelectionContainerElem())===null||E===void 0?void 0:E.elems[0];if(S!=null){var D=(S==null?void 0:S.nodeName.toLowerCase())!=="p",I=(S==null?void 0:S.getAttribute("face"))===g;if(P){if(D&&!I){var f=C.selection.getSelectionRangeTopNodes();C.selection.createRangeByElem(f[0]),C.selection.moveCursor(f[0].elems[0])}C.selection.setRangeToElem(S),C.selection.createEmptyRange()}C.cmd.do("fontName",g),P&&(C.selection.collapseRange(),C.selection.restoreSelection())}},L.prototype.tryChangeActive=function(){},L}(T.default);c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=function(){function A(m){var L=this;this.itemList=[],(0,w.default)(m).call(m,function(g){var E=typeof g=="string"?g:g.value,C=typeof g=="string"?g:g.name;L.itemList.push({$elem:y.default("<p style=\"font-family:'"+E+"'\">"+C+"</p>"),value:C})})}return A.prototype.getItemList=function(){return this.itemList},A}();c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(24)),y=w.__importDefault(a(3)),x=w.__importDefault(a(332)),A=function(m){w.__extends(L,m);function L(g){var E=this,C=y.default('<div class="w-e-menu" data-title="\u5B57\u53F7">\n                <i class="w-e-icon-text-heigh"></i>\n            </div>'),P=new x.default(g.config.fontSizes),S={width:160,title:"\u8BBE\u7F6E\u5B57\u53F7",type:"list",list:P.getItemList(),clickHandler:function(I){E.command(I)}};return E=m.call(this,C,g,S)||this,E}return L.prototype.command=function(g){var E,C=this.editor,P=C.selection.isSelectionEmpty(),S=(E=C.selection.getSelectionContainerElem())===null||E===void 0?void 0:E.elems[0];S!=null&&(C.cmd.do("fontSize",g),P&&(C.selection.collapseRange(),C.selection.restoreSelection()))},L.prototype.tryChangeActive=function(){},L}(T.default);c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=function(){function x(A){this.itemList=[];for(var m in A){var L=A[m];this.itemList.push({$elem:T.default('<p style="font-size:'+m+'">'+L.name+"</p>"),value:L.value})}}return x.prototype.getItemList=function(){return this.itemList},x}();c.default=y},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(27));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(24)),A=y.__importDefault(a(3)),m=["LI"],L=["UL","BLOCKQUOTE"],g=function(E){y.__extends(C,E);function C(P){var S=this,D=A.default('<div class="w-e-menu" data-title="\u5BF9\u9F50"><i class="w-e-icon-paragraph-left"></i></div>'),I={width:100,title:"\u5BF9\u9F50\u65B9\u5F0F",type:"list",list:[{$elem:A.default('<p>\n                            <i class="w-e-icon-paragraph-left w-e-drop-list-item"></i>\n                            '+P.i18next.t("menus.dropListMenu.justify.\u9760\u5DE6")+"\n                        </p>"),value:"left"},{$elem:A.default('<p>\n                            <i class="w-e-icon-paragraph-center w-e-drop-list-item"></i>\n                            '+P.i18next.t("menus.dropListMenu.justify.\u5C45\u4E2D")+"\n                        </p>"),value:"center"},{$elem:A.default('<p>\n                            <i class="w-e-icon-paragraph-right w-e-drop-list-item"></i>\n                            '+P.i18next.t("menus.dropListMenu.justify.\u9760\u53F3")+"\n                        </p>"),value:"right"},{$elem:A.default('<p>\n                            <i class="w-e-icon-paragraph-justify w-e-drop-list-item"></i>\n                            '+P.i18next.t("menus.dropListMenu.justify.\u4E24\u7AEF")+"\n                        </p>"),value:"justify"}],clickHandler:function(k){S.command(k)}};return S=E.call(this,D,P,I)||this,S}return C.prototype.command=function(P){var S=this.editor,D=S.selection,I=D.getSelectionContainerElem();D.saveRange();var f=S.selection.getSelectionRangeTopNodes();if(I!=null&&I.length)if(this.isSpecialNode(I,f[0])||this.isSpecialTopNode(f[0])){var k=this.getSpecialNodeUntilTop(I,f[0]);if(k==null)return;A.default(k).css("text-align",P)}else(0,w.default)(f).call(f,function(u){u.css("text-align",P)});D.restoreSelection()},C.prototype.getSpecialNodeUntilTop=function(P,S){for(var D=P.elems[0],I=S.elems[0];D!=null;){if((0,T.default)(m).call(m,D==null?void 0:D.nodeName)!==-1||D.parentNode===I)return D;D=D.parentNode}return D},C.prototype.isSpecialNode=function(P,S){var D=this.getSpecialNodeUntilTop(P,S);return D==null?!1:(0,T.default)(m).call(m,D.nodeName)!==-1},C.prototype.isSpecialTopNode=function(P){var S;return P==null?!1:(0,T.default)(L).call(L,(S=P.elems[0])===null||S===void 0?void 0:S.nodeName)!==-1},C.prototype.tryChangeActive=function(){},C}(x.default);c.default=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=T.__importDefault(a(23)),A=T.__importDefault(a(335)),m=T.__importDefault(a(336)),L=a(7),g=function(E){T.__extends(C,E);function C(P){var S=this,D=y.default('<div class="w-e-menu" data-title="\u5F15\u7528">\n                <i class="w-e-icon-quotes-left"></i>\n            </div>');return S=E.call(this,D,P)||this,A.default(P),S}return C.prototype.clickHandler=function(){var P,S,D=this.editor,I=D.selection.isSelectionEmpty(),f=D.selection.getSelectionRangeTopNodes(),k=f[f.length-1],u=this.getTopNodeName();if(u==="BLOCKQUOTE"){var H=y.default(k.childNodes()),O=H.length,F=k;(0,w.default)(H).call(H,function(G){var R=y.default(G);R.insertAfter(F),F=R}),k.remove(),D.selection.moveCursor(H.elems[O-1]),this.tryChangeActive()}else{var j=m.default(f);if(D.$textElem.equal(k)){var W=(P=D.selection.getSelectionContainerElem())===null||P===void 0?void 0:P.elems[0];D.selection.createRangeByElems(W.children[0],W.children[0]),f=D.selection.getSelectionRangeTopNodes(),j=m.default(f),k.append(j)}else j.insertAfter(k);this.delSelectNode(f);var V=(S=j.childNodes())===null||S===void 0?void 0:S.last().getNode();if(V==null)return;V.textContent?D.selection.moveCursor(V):D.selection.moveCursor(V,0),this.tryChangeActive(),y.default(L.EMPTY_P).insertAfter(j);return}I&&(D.selection.collapseRange(),D.selection.restoreSelection())},C.prototype.tryChangeActive=function(){var P,S=this.editor,D=(P=S.selection.getSelectionRangeTopNodes()[0])===null||P===void 0?void 0:P.getNodeName();D==="BLOCKQUOTE"?this.active():this.unActive()},C.prototype.getTopNodeName=function(){var P=this.editor,S=P.selection.getSelectionRangeTopNodes()[0],D=S==null?void 0:S.getNodeName();return D},C.prototype.delSelectNode=function(P){(0,w.default)(P).call(P,function(S){S.remove()})},C}(x.default);c.default=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=a(7),y=w.__importDefault(a(3));function x(A){function m(L){var g,E=A.selection.getSelectionContainerElem(),C=A.selection.getSelectionRangeTopNodes()[0];if((C==null?void 0:C.getNodeName())==="BLOCKQUOTE"){if(E.getNodeName()==="BLOCKQUOTE"){var P=(g=E.childNodes())===null||g===void 0?void 0:g.getNode();A.selection.moveCursor(P)}if(E.text()===""){L.preventDefault(),E.remove();var S=y.default(T.EMPTY_P);S.insertAfter(C),A.selection.moveCursor(S.getNode(),0)}C.text()===""&&C.remove()}}A.txt.eventHooks.enterDownEvents.push(m)}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3));function x(A){var m=y.default("<blockquote></blockquote>");return(0,w.default)(A).call(A,function(L){m.append(L.clone(!0))}),m}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(26));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(24)),x=T.__importDefault(a(3)),A=a(6),m=function(L){T.__extends(g,L);function g(E){var C,P=this,S=x.default('<div class="w-e-menu" data-title="\u80CC\u666F\u8272">\n                <i class="w-e-icon-paint-brush"></i>\n            </div>'),D={width:120,title:"\u80CC\u666F\u989C\u8272",type:"inline-block",list:(0,w.default)(C=E.config.colors).call(C,function(I){return{$elem:x.default('<i style="color:'+I+';" class="w-e-icon-paint-brush"></i>'),value:I}}),clickHandler:function(f){P.command(f)}};return P=L.call(this,S,E,D)||this,P}return g.prototype.command=function(E){var C,P=this.editor,S=P.selection.isSelectionEmpty(),D=(C=P.selection.getSelectionContainerElem())===null||C===void 0?void 0:C.elems[0];if(D!=null){var I=(D==null?void 0:D.nodeName.toLowerCase())!=="p",f=D==null?void 0:D.style.backgroundColor,k=A.hexToRgb(E)===f;if(S){if(I&&!k){var u=P.selection.getSelectionRangeTopNodes();P.selection.createRangeByElem(u[0]),P.selection.moveCursor(u[0].elems[0])}P.selection.createEmptyRange()}P.cmd.do("backColor",E),S&&(P.selection.collapseRange(),P.selection.restoreSelection())}},g.prototype.tryChangeActive=function(){},g}(y.default);c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(26));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(24)),x=T.__importDefault(a(3)),A=function(m){T.__extends(L,m);function L(g){var E,C=this,P=x.default('<div class="w-e-menu" data-title="\u6587\u5B57\u989C\u8272">\n                <i class="w-e-icon-pencil2"></i>\n            </div>'),S={width:120,title:"\u6587\u5B57\u989C\u8272",type:"inline-block",list:(0,w.default)(E=g.config.colors).call(E,function(D){return{$elem:x.default('<i style="color:'+D+';" class="w-e-icon-pencil2"></i>'),value:D}}),clickHandler:function(I){C.command(I)}};return C=m.call(this,P,g,S)||this,C}return L.prototype.command=function(g){var E,C=this.editor,P=C.selection.isSelectionEmpty(),S=(E=C.selection.getSelectionContainerElem())===null||E===void 0?void 0:E.elems[0];if(S!=null){var D=C.selection.getSelectionText();if(S.nodeName==="A"&&S.textContent===D){var I=x.default("<span>&#8203;</span>").getNode();S.appendChild(I)}C.cmd.do("foreColor",g),P&&(C.selection.collapseRange(),C.selection.restoreSelection())}},L.prototype.tryChangeActive=function(){},L}(y.default);c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(32)),x=w.__importDefault(a(37)),A=w.__importDefault(a(340)),m=w.__importDefault(a(346)),L=function(g){w.__extends(E,g);function E(C){var P=this,S=T.default('<div class="w-e-menu" data-title="\u89C6\u9891">\n                <i class="w-e-icon-play"></i>\n            </div>');return P=g.call(this,S,C)||this,m.default(C),P}return E.prototype.clickHandler=function(){this.createPanel("")},E.prototype.createPanel=function(C){var P=A.default(this.editor,C),S=new y.default(this,P);S.create()},E.prototype.tryChangeActive=function(){},E}(x.default);c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(17));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=a(6),x=T.__importDefault(a(3)),A=T.__importDefault(a(341)),m=a(7);function L(g,E){var C=g.config,P=new A.default(g),S=y.getRandom("input-iframe"),D=y.getRandom("btn-ok"),I=y.getRandom("input-upload"),f=y.getRandom("btn-local-ok");function k(F){g.cmd.do("insertHTML",F+m.EMPTY_P),g.config.onlineVideoCallback(F)}function u(F){var j=g.config.onlineVideoCheck(F);return j===!0?!0:(typeof j=="string"&&g.config.customAlert(j,"error"),!1)}var H=[{title:g.i18next.t("menus.panelMenus.video.\u4E0A\u4F20\u89C6\u9891"),tpl:'<div class="w-e-up-video-container">\n                    <div id="'+f+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+I+'" type="file" accept="video/*"/>\n                    </div>\n                 </div>',events:[{selector:"#"+f,type:"click",fn:function(){var j=x.default("#"+I),W=j.elems[0];if(W)W.click();else return!0}},{selector:"#"+I,type:"change",fn:function(){var j=x.default("#"+I),W=j.elems[0];if(!W)return!0;var V=W.files;return V.length&&P.uploadVideo(V),!0}}]},{title:g.i18next.t("menus.panelMenus.video.\u63D2\u5165\u89C6\u9891"),tpl:'<div>\n                    <input \n                        id="'+S+'" \n                        type="text" \n                        class="block" \n                        placeholder="'+g.i18next.t("\u5982")+'\uFF1A<iframe src=... ></iframe>"/>\n                    </td>\n                    <div class="w-e-button-container">\n                        <button type="button" id="'+D+'" class="right">\n                            '+g.i18next.t("\u63D2\u5165")+"\n                        </button>\n                    </div>\n                </div>",events:[{selector:"#"+D,type:"click",fn:function(){var j,W=x.default("#"+S),V=(0,w.default)(j=W.val()).call(j);if(V&&u(V))return k(V),!0},bindEnter:!0}]}],O={width:300,height:0,tabs:[]};return window.FileReader&&(C.uploadVideoServer||C.customUploadVideo)&&O.tabs.push(H[0]),C.showLinkVideo&&O.tabs.push(H[1]),O}c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(132)),T=d(a(57)),y=d(a(4)),x=d(a(27));(0,b.default)(c,"__esModule",{value:!0});var A=a(2),m=a(6),L=A.__importDefault(a(135)),g=A.__importDefault(a(136)),E=a(7),C=a(6),P=function(){function S(D){this.editor=D}return S.prototype.uploadVideo=function(D){var I=this;if(D.length){var f=this.editor,k=f.config,u="validate.",H=function(Ke){return f.i18next.t(u+Ke)},O=k.uploadVideoServer,F=k.uploadVideoMaxSize,j=F/1024,W=k.uploadVideoName,V=k.uploadVideoParams,G=k.uploadVideoParamsWithUrl,R=k.uploadVideoHeaders,z=k.uploadVideoHooks,Y=k.uploadVideoTimeout,X=k.withVideoCredentials,q=k.customUploadVideo,_=k.uploadVideoAccept,ee=[],oe=[];if(m.arrForEach(D,function(Be){var Ke=Be.name,Ve=Be.size/1024/1024;if(!(!Ke||!Ve)){if(!(_ instanceof Array)){oe.push("\u3010"+_+"\u3011"+H("uploadVideoAccept \u4E0D\u662FArray"));return}if(!(0,w.default)(_).call(_,function(ht){return ht===Ke.split(".")[Ke.split(".").length-1]})){oe.push("\u3010"+Ke+"\u3011"+H("\u4E0D\u662F\u89C6\u9891"));return}if(j<Ve){oe.push("\u3010"+Ke+"\u3011"+H("\u5927\u4E8E")+" "+j+"M");return}ee.push(Be)}}),oe.length){k.customAlert(H("\u89C6\u9891\u9A8C\u8BC1\u672A\u901A\u8FC7")+": \n"+oe.join("\n"),"warning");return}if(ee.length===0){k.customAlert(H("\u4F20\u5165\u7684\u6587\u4EF6\u4E0D\u5408\u6CD5"),"warning");return}if(q&&typeof q=="function"){var pe;q(ee,(0,T.default)(pe=this.insertVideo).call(pe,this));return}var ve=new FormData;if((0,y.default)(ee).call(ee,function(Be,Ke){var Ve=W||Be.name;ee.length>1&&(Ve=Ve+(Ke+1)),ve.append(Ve,Be)}),O){var Pe=O.split("#");O=Pe[0];var Re=Pe[1]||"";(0,y.default)(m).call(m,V,function(Be,Ke){G&&((0,x.default)(O).call(O,"?")>0?O+="&":O+="?",O=O+Be+"="+Ke),ve.append(Be,Ke)}),Re&&(O+="#"+Re);var Ne=L.default(O,{timeout:Y,formData:ve,headers:R,withCredentials:!!X,beforeSend:function(Ke){if(z.before)return z.before(Ke,f,ee)},onTimeout:function(Ke){k.customAlert(H("\u4E0A\u4F20\u89C6\u9891\u8D85\u65F6"),"error"),z.timeout&&z.timeout(Ke,f)},onProgress:function(Ke,Ve){var ht=new g.default(f);Ve.lengthComputable&&(Ke=Ve.loaded/Ve.total,ht.show(Ke))},onError:function(Ke){k.customAlert(H("\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF"),"error",H("\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF")+"\uFF0C"+H("\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001")+": "+Ke.status),z.error&&z.error(Ke,f)},onFail:function(Ke,Ve){k.customAlert(H("\u4E0A\u4F20\u89C6\u9891\u5931\u8D25"),"error",H("\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF")+("\uFF0C"+H("\u8FD4\u56DE\u7ED3\u679C")+": ")+Ve),z.fail&&z.fail(Ke,f,Ve)},onSuccess:function(Ke,Ve){if(z.customInsert){var ht;z.customInsert((0,T.default)(ht=I.insertVideo).call(ht,I),Ve,f);return}if(Ve.errno!="0"){k.customAlert(H("\u4E0A\u4F20\u89C6\u9891\u5931\u8D25"),"error",H("\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF")+"\uFF0C"+H("\u8FD4\u56DE\u7ED3\u679C")+" errno="+Ve.errno),z.fail&&z.fail(Ke,f,Ve);return}var Ge=Ve.data;I.insertVideo(Ge.url),z.success&&z.success(Ke,f,Ve)}});typeof Ne=="string"&&k.customAlert(Ne,"error")}}},S.prototype.insertVideo=function(D){var I=this.editor,f=I.config,k="validate.",u=function(F,j){return j===void 0&&(j=k),I.i18next.t(j+F)};if(!f.customInsertVideo)C.UA.isFirefox?I.cmd.do("insertHTML",'<p data-we-video-p="true"><video src="'+D+'" controls="controls" style="max-width:100%"></video></p><p>&#8203</p>'):I.cmd.do("insertHTML",'<video src="'+D+'" controls="controls" style="max-width:100%"></video>'+E.EMPTY_P);else{f.customInsertVideo(D);return}var H=document.createElement("video");H.onload=function(){H=null},H.onerror=function(){f.customAlert(u("\u63D2\u5165\u89C6\u9891\u9519\u8BEF"),"error","wangEditor: "+u("\u63D2\u5165\u89C6\u9891\u9519\u8BEF")+"\uFF0C"+u("\u89C6\u9891\u94FE\u63A5")+' "'+D+'"\uFF0C'+u("\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25")),H=null},H.onabort=function(){return H=null},H.src=D},S}();c.default=P},function(Z,c,a){Z.exports=a(343)},function(Z,c,a){var d=a(344);Z.exports=d},function(Z,c,a){a(345);var d=a(9);Z.exports=d.Date.now},function(Z,c,a){var d=a(5);d({target:"Date",stat:!0},{now:function(){return new Date().getTime()}})},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(347)),y=w.__importDefault(a(349));function x(A){T.default(A),y.default(A)}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.createShowHideFn=void 0;var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(38)),x=w.__importDefault(a(348));function A(L){var g,E=function(D,I){return I===void 0&&(I=""),L.i18next.t(I+D)};function C(S){var D=[{$elem:T.default("<span class='w-e-icon-trash-o'></span>"),onClick:function(f,k){return k.remove(),!0}},{$elem:T.default("<span>100%</span>"),onClick:function(f,k){return k.attr("width","100%"),k.removeAttr("height"),!0}},{$elem:T.default("<span>50%</span>"),onClick:function(f,k){return k.attr("width","50%"),k.removeAttr("height"),!0}},{$elem:T.default("<span>30%</span>"),onClick:function(f,k){return k.attr("width","30%"),k.removeAttr("height"),!0}},{$elem:T.default("<span>"+E("\u91CD\u7F6E")+"</span>"),onClick:function(f,k){return k.removeAttr("width"),k.removeAttr("height"),!0}},{$elem:T.default("<span>"+E("menus.justify.\u9760\u5DE6")+"</span>"),onClick:function(f,k){return x.default(k,"left"),!0}},{$elem:T.default("<span>"+E("menus.justify.\u5C45\u4E2D")+"</span>"),onClick:function(f,k){return x.default(k,"center"),!0}},{$elem:T.default("<span>"+E("menus.justify.\u9760\u53F3")+"</span>"),onClick:function(f,k){return x.default(k,"right"),!0}}];g=new y.default(L,S,D),g.create()}function P(){g&&(g.remove(),g=null)}return{showVideoTooltip:C,hideVideoTooltip:P}}c.createShowHideFn=A;function m(L){var g=A(L),E=g.showVideoTooltip,C=g.hideVideoTooltip;L.txt.eventHooks.videoClickEvents.push(E),L.txt.eventHooks.clickEvents.push(C),L.txt.eventHooks.keyupEvents.push(C),L.txt.eventHooks.toolbarClickEvents.push(C),L.txt.eventHooks.menuClickEvents.push(C),L.txt.eventHooks.textScrollEvents.push(C),L.txt.eventHooks.changeEvents.push(C)}c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(44));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3));function x(m,L){var g=["P"],E=A(m,g);E&&y.default(E).css("text-align",L)}c.default=x;function A(m,L){for(var g,E=m.elems[0];E!=null;){if((0,w.default)(L).call(L,E==null?void 0:E.nodeName))return E;if(((g=E==null?void 0:E.parentNode)===null||g===void 0?void 0:g.nodeName)==="BODY")return null;E=E.parentNode}return E}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(6);function T(y){if(w.UA.isFirefox){var x=y.txt,A=y.selection,m=x.eventHooks.keydownEvents;m.push(function(L){var g=A.getSelectionContainerElem();if(g){var E=g.getNodeTop(y),C=E.length&&E.prev().length?E.prev():null;C&&C.attr("data-we-video-p")&&A.getCursorPos()===0&&L.keyCode===8&&C.remove()}})}}c.default=T},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(26));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=a(7),x=T.__importDefault(a(3)),A=T.__importDefault(a(32)),m=T.__importDefault(a(37)),L=T.__importDefault(a(351)),g=T.__importDefault(a(364)),E=function(C){T.__extends(P,C);function P(S){var D=this,I=x.default('<div class="w-e-menu" data-title="\u56FE\u7247"><i class="w-e-icon-image"></i></div>'),f=g.default(S);if(f.onlyUploadConf){var k;I=f.onlyUploadConf.$elem,(0,w.default)(k=f.onlyUploadConf.events).call(k,function(u){var H=u.type,O=u.fn||y.EMPTY_FN;I.on(H,function(F){F.stopPropagation(),O(F)})})}return D=C.call(this,I,S)||this,D.imgPanelConfig=f,L.default(S),D}return P.prototype.clickHandler=function(){this.imgPanelConfig.onlyUploadConf||this.createPanel()},P.prototype.createPanel=function(){var S=this.imgPanelConfig,D=new A.default(this,S);this.setPanel(D),D.create()},P.prototype.tryChangeActive=function(){},P}(m.default);c.default=E},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(352)),y=w.__importDefault(a(353)),x=w.__importDefault(a(354)),A=w.__importDefault(a(362)),m=w.__importDefault(a(363));function L(g){T.default(g),y.default(g),x.default(g),A.default(g),m.default(g)}c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=a(130),y=w.__importDefault(a(96));function x(g,E){var C=g.config,P=C.pasteFilterStyle,S=C.pasteIgnoreImg,D=T.getPasteHtml(E,P,S);if(D)return!0;var I=T.getPasteText(E);return!!I}function A(g,E){for(var C,P=((C=E.clipboardData)===null||C===void 0?void 0:C.types)||[],S=0;S<P.length;S++){var D=P[S];if(D==="Files")return!0}return!1}function m(g,E){if(!(!A(E,g)&&x(E,g))){var C=T.getPasteImgs(g);if(C.length){var P=new y.default(E);P.uploadImg(C)}}}function L(g){g.txt.eventHooks.pasteEvents.unshift(function(E){m(E,g)})}c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(96));function y(x){function A(m){var L=m.dataTransfer&&m.dataTransfer.files;if(!(!L||!L.length)){var g=new T.default(x);g.uploadImg(L)}}x.txt.eventHooks.dropEvents.push(A)}c.default=y},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(31)),T=d(a(355));(0,b.default)(c,"__esModule",{value:!0}),c.createShowHideFn=void 0;var y=a(2),x=y.__importDefault(a(3));a(360);var A=a(6);function m(P,S,D,I,f){P.attr("style","width:"+S+"px; height:"+D+"px; left:"+I+"px; top:"+f+"px;")}function L(P,S){var D=x.default('<div class="w-e-img-drag-mask">\n            <div class="w-e-img-drag-show-size"></div>\n            <div class="w-e-img-drag-rb"></div>\n         </div>');return D.hide(),S.append(D),D}function g(P,S,D){var I=P.getBoundingClientRect(),f=D.getBoundingClientRect(),k=f.width.toFixed(2),u=f.height.toFixed(2);(0,w.default)(S).call(S,".w-e-img-drag-show-size").text(k+"px * "+u+"px"),m(S,(0,T.default)(k),(0,T.default)(u),f.left-I.left,f.top-I.top),S.show()}function E(P){var S=P.$textContainerElem,D,I=L(P,S);function f(H,O){H.on("click",function(F){F.stopPropagation()}),H.on("mousedown",".w-e-img-drag-rb",function(F){if(F.preventDefault(),!D)return;var j=F.clientX,W=F.clientY,V=O.getBoundingClientRect(),G=D.getBoundingClientRect(),R=G.width,z=G.height,Y=G.left-V.left,X=G.top-V.top,q=R/z,_=R,ee=z,oe=x.default(document);function pe(){oe.off("mousemove",ve),oe.off("mouseup",Pe)}function ve(Re){Re.stopPropagation(),Re.preventDefault(),_=R+(Re.clientX-j),ee=z+(Re.clientY-W),_/ee!=q&&(ee=_/q),_=(0,T.default)(_.toFixed(2)),ee=(0,T.default)(ee.toFixed(2)),(0,w.default)(H).call(H,".w-e-img-drag-show-size").text(_.toFixed(2).replace(".00","")+"px * "+ee.toFixed(2).replace(".00","")+"px"),m(H,_,ee,Y,X)}oe.on("mousemove",ve);function Pe(){D.attr("width",_+""),D.attr("height",ee+"");var Re=D.getBoundingClientRect();m(H,_,ee,Re.left-V.left,Re.top-V.top),pe()}oe.on("mouseup",Pe),oe.on("mouseleave",pe)})}function k(H){if(A.UA.isIE())return!1;H&&(D=H,g(S,I,D))}function u(){(0,w.default)(S).call(S,".w-e-img-drag-mask").hide()}return f(I,S),x.default(document).on("click",u),P.beforeDestroy(function(){x.default(document).off("click",u)}),{showDrag:k,hideDrag:u}}c.createShowHideFn=E;function C(P){var S=E(P),D=S.showDrag,I=S.hideDrag;P.txt.eventHooks.imgClickEvents.push(D),P.txt.eventHooks.textScrollEvents.push(I),P.txt.eventHooks.keyupEvents.push(I),P.txt.eventHooks.toolbarClickEvents.push(I),P.txt.eventHooks.menuClickEvents.push(I),P.txt.eventHooks.changeEvents.push(I)}c.default=C},function(Z,c,a){Z.exports=a(356)},function(Z,c,a){var d=a(357);Z.exports=d},function(Z,c,a){a(358);var d=a(9);Z.exports=d.parseFloat},function(Z,c,a){var d=a(5),b=a(359);d({global:!0,forced:parseFloat!=b},{parseFloat:b})},function(Z,c,a){var d=a(8),b=a(90).trim,w=a(68),T=d.parseFloat,y=1/T(w+"-0")!==-1/0;Z.exports=y?function(A){var m=b(String(A)),L=T(m);return L===0&&m.charAt(0)=="-"?-0:L}:T},function(Z,c,a){var d=a(20),b=a(361);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,".w-e-text-container {\n  overflow: hidden;\n}\n.w-e-img-drag-mask {\n  position: absolute;\n  z-index: 1;\n  border: 1px dashed #ccc;\n  box-sizing: border-box;\n}\n.w-e-img-drag-mask .w-e-img-drag-rb {\n  position: absolute;\n  right: -5px;\n  bottom: -5px;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: #ccc;\n  cursor: se-resize;\n}\n.w-e-img-drag-mask .w-e-img-drag-show-size {\n  min-width: 110px;\n  height: 22px;\n  line-height: 22px;\n  font-size: 14px;\n  color: #999;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: #999;\n  color: #fff;\n  border-radius: 2px;\n  padding: 0 5px;\n}\n",""]),Z.exports=c},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.createShowHideFn=void 0;var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(38));function x(m){var L,g=function(S,D){return D===void 0&&(D=""),m.i18next.t(D+S)};function E(P){var S=[{$elem:T.default("<span class='w-e-icon-trash-o'></span>"),onClick:function(I,f){return I.selection.createRangeByElem(f),I.selection.restoreSelection(),I.cmd.do("delete"),!0}},{$elem:T.default("<span>30%</span>"),onClick:function(I,f){return f.attr("width","30%"),f.removeAttr("height"),!0}},{$elem:T.default("<span>50%</span>"),onClick:function(I,f){return f.attr("width","50%"),f.removeAttr("height"),!0}},{$elem:T.default("<span>100%</span>"),onClick:function(I,f){return f.attr("width","100%"),f.removeAttr("height"),!0}}];S.push({$elem:T.default("<span>"+g("\u91CD\u7F6E")+"</span>"),onClick:function(I,f){return f.removeAttr("width"),f.removeAttr("height"),!0}}),P.attr("data-href")&&S.push({$elem:T.default("<span>"+g("\u67E5\u770B\u94FE\u63A5")+"</span>"),onClick:function(I,f){var k=f.attr("data-href");return k&&(k=decodeURIComponent(k),window.open(k,"_target")),!0}}),L=new y.default(m,P,S),L.create()}function C(){L&&(L.remove(),L=null)}return{showImgTooltip:E,hideImgTooltip:C}}c.createShowHideFn=x;function A(m){var L=x(m),g=L.showImgTooltip,E=L.hideImgTooltip;m.txt.eventHooks.imgClickEvents.push(g),m.txt.eventHooks.clickEvents.push(E),m.txt.eventHooks.keyupEvents.push(E),m.txt.eventHooks.toolbarClickEvents.push(E),m.txt.eventHooks.menuClickEvents.push(E),m.txt.eventHooks.textScrollEvents.push(E),m.txt.eventHooks.imgDragBarMouseDownEvents.push(E),m.txt.eventHooks.changeEvents.push(E)}c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});function w(T){var y=T.txt,x=T.selection,A=y.eventHooks.keydownEvents;A.push(function(m){var L=x.getSelectionContainerElem(),g=x.getRange();if(!(!g||!L||m.keyCode!==8||!x.isSelectionEmpty())){var E=g.startContainer,C=g.startOffset,P=null;if(C===0)for(;E!==L.elems[0]&&L.elems[0].contains(E)&&E.parentNode&&!P;){if(E.previousSibling){P=E.previousSibling;break}E=E.parentNode}else E.nodeType!==3&&(P=E.childNodes[C-1]);if(P){for(var S=P;S.childNodes.length;)S=S.childNodes[S.childNodes.length-1];S instanceof HTMLElement&&S.tagName==="IMG"&&(S.remove(),m.preventDefault())}}})}c.default=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(26)),T=d(a(17));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(3)),A=a(6),m=y.__importDefault(a(96));function L(g){var E,C=g.config,P=new m.default(g),S=A.getRandom("up-trigger-id"),D=A.getRandom("up-file-id"),I=A.getRandom("input-link-url"),f=A.getRandom("input-link-url-alt"),k=A.getRandom("input-link-url-href"),u=A.getRandom("btn-link"),H="menus.panelMenus.image.",O=function(q,_){return _===void 0&&(_=H),g.i18next.t(_+q)};function F(X,q,_){var ee=C.linkImgCheck(X);return ee===!0?!0:(typeof ee=="string"&&C.customAlert(ee,"error"),!1)}var j=C.uploadImgMaxLength===1?"":'multiple="multiple"',W=(0,w.default)(E=C.uploadImgAccept).call(E,function(X){return"image/"+X}).join(","),V=function(q,_,ee){return'<div class="'+q+'" data-title="'+ee+'">\n            <div id="'+S+'" class="w-e-up-btn">\n                <i class="'+_+'"></i>\n            </div>\n            <div style="display:none;">\n                <input id="'+D+'" type="file" '+j+' accept="'+W+'"/>\n            </div>\n        </div>'},G=[{selector:"#"+S,type:"click",fn:function(){var q=C.uploadImgFromMedia;if(q&&typeof q=="function")return q(),!0;var _=x.default("#"+D),ee=_.elems[0];if(ee)ee.click();else return!0}},{selector:"#"+D,type:"change",fn:function(){var q=x.default("#"+D),_=q.elems[0];if(!_)return!0;var ee=_.files;return ee!=null&&ee.length&&P.uploadImg(ee),_&&(_.value=""),!0}}],R=['<input\n            id="'+I+'"\n            type="text"\n            class="block"\n            placeholder="'+O("\u56FE\u7247\u5730\u5740")+'"/>'];C.showLinkImgAlt&&R.push('\n        <input\n            id="'+f+'"\n            type="text"\n            class="block"\n            placeholder="'+O("\u56FE\u7247\u6587\u5B57\u8BF4\u660E")+'"/>'),C.showLinkImgHref&&R.push('\n        <input\n            id="'+k+'"\n            type="text"\n            class="block"\n            placeholder="'+O("\u8DF3\u8F6C\u94FE\u63A5")+'"/>');var z=[{title:O("\u4E0A\u4F20\u56FE\u7247"),tpl:V("w-e-up-img-container","w-e-icon-upload2",""),events:G},{title:O("\u7F51\u7EDC\u56FE\u7247"),tpl:"<div>\n                    "+R.join("")+'\n                    <div class="w-e-button-container">\n                        <button type="button" id="'+u+'" class="right">'+O("\u63D2\u5165","")+"</button>\n                    </div>\n                </div>",events:[{selector:"#"+u,type:"click",fn:function(){var q,_=x.default("#"+I),ee=(0,T.default)(q=_.val()).call(q);if(ee){var oe;if(C.showLinkImgAlt){var pe;oe=(0,T.default)(pe=x.default("#"+f).val()).call(pe)}var ve;if(C.showLinkImgHref){var Pe;ve=(0,T.default)(Pe=x.default("#"+k).val()).call(Pe)}if(F(ee,oe,ve))return P.insertImg(ee,oe,ve),!0}},bindEnter:!0}]}],Y={width:300,height:0,tabs:[],onlyUploadConf:{$elem:x.default(V("w-e-menu","w-e-icon-image","\u56FE\u7247")),events:G}};return window.FileReader&&(C.uploadImgShowBase64||C.uploadImgServer||C.customUploadImg||C.uploadImgFromMedia)&&Y.tabs.push(z[0]),C.showLinkImg&&(Y.tabs.push(z[1]),Y.onlyUploadConf=void 0),Y}c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=T.__importDefault(a(24)),A=T.__importDefault(a(366)),m=function(L){T.__extends(g,L);function g(E){var C=this,P=y.default('<div class="w-e-menu" data-title="\u7F29\u8FDB">\n                <i class="w-e-icon-indent-increase"></i>\n            </div>'),S={width:130,title:"\u8BBE\u7F6E\u7F29\u8FDB",type:"list",list:[{$elem:y.default('<p>\n                            <i class="w-e-icon-indent-increase w-e-drop-list-item"></i>\n                            '+E.i18next.t("menus.dropListMenu.indent.\u589E\u52A0\u7F29\u8FDB")+"\n                        <p>"),value:"increase"},{$elem:y.default('<p>\n                            <i class="w-e-icon-indent-decrease w-e-drop-list-item"></i>\n                            '+E.i18next.t("menus.dropListMenu.indent.\u51CF\u5C11\u7F29\u8FDB")+"\n                        <p>"),value:"decrease"}],clickHandler:function(I){C.command(I)}};return C=L.call(this,P,E,S)||this,C}return g.prototype.command=function(E){var C=this.editor,P=C.selection.getSelectionContainerElem();if(P&&C.$textElem.equal(P)){var S=C.selection.getSelectionRangeTopNodes();S.length>0&&(0,w.default)(S).call(S,function(D){A.default(y.default(D),E,C)})}else P&&P.length>0&&(0,w.default)(P).call(P,function(D){A.default(y.default(D),E,C)});C.selection.restoreSelection(),this.tryChangeActive()},g.prototype.tryChangeActive=function(){var E=this.editor,C=E.selection.getSelectionStartElem(),P=y.default(C).getNodeTop(E);P.length<=0||(P.elems[0].style.paddingLeft!=""?this.active():this.unActive())},g}(x.default);c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(45)),T=d(a(17));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(367)),A=y.__importDefault(a(368)),m=/^(\d+)(\w+)$/,L=/^(\d+)%$/;function g(C){var P=C.config.indentation;if(typeof P=="string"){if(m.test(P)){var S,D=(0,w.default)(S=(0,T.default)(P).call(P).match(m)).call(S,1,3),I=D[0],f=D[1];return{value:Number(I),unit:f}}else if(L.test(P))return{value:Number((0,T.default)(P).call(P).match(L)[1]),unit:"%"}}else if(P.value!==void 0&&P.unit)return P;return{value:2,unit:"em"}}function E(C,P,S){var D=C.getNodeTop(S),I=/^(P|H[0-9]*)$/;I.test(D.getNodeName())&&(P==="increase"?x.default(D,g(S)):P==="decrease"&&A.default(D,g(S)))}c.default=E},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(45));(0,b.default)(c,"__esModule",{value:!0});function T(y,x){var A=y.elems[0];if(A.style.paddingLeft==="")y.css("padding-left",x.value+x.unit);else{var m=A.style.paddingLeft,L=(0,w.default)(m).call(m,0,m.length-x.unit.length),g=Number(L)+x.value;y.css("padding-left",""+g+x.unit)}}c.default=T},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(45));(0,b.default)(c,"__esModule",{value:!0});function T(y,x){var A=y.elems[0];if(A.style.paddingLeft!==""){var m=A.style.paddingLeft,L=(0,w.default)(m).call(m,0,m.length-x.unit.length),g=Number(L)-x.value;g>0?y.css("padding-left",""+g+x.unit):y.css("padding-left","")}}c.default=T},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(37)),x=w.__importDefault(a(32)),A=w.__importDefault(a(370)),m=function(L){w.__extends(g,L);function g(E){var C=this,P=T.default('<div class="w-e-menu" data-title="\u8868\u60C5">\n                <i class="w-e-icon-happy"></i>\n            </div>');return C=L.call(this,P,E)||this,C}return g.prototype.createPanel=function(){var E=A.default(this.editor),C=new x.default(this,E);C.create()},g.prototype.clickHandler=function(){this.createPanel()},g.prototype.tryChangeActive=function(){},g}(y.default);c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(26)),T=d(a(70)),y=d(a(17));(0,b.default)(c,"__esModule",{value:!0});var x=a(2),A=x.__importDefault(a(3));function m(L){var g=L.config.emotions;function E(S){var D=[];if(S.type=="image"){var I;D=(0,w.default)(I=S.content).call(I,function(k){return typeof k=="string"?"":'<span  title="'+k.alt+'">\n                    <img class="eleImg" data-emoji="'+k.alt+'" style src="'+k.src+'" alt="['+k.alt+']">\n                </span>'}),D=(0,T.default)(D).call(D,function(k){return k!==""})}else{var f;D=(0,w.default)(f=S.content).call(f,function(k){return'<span class="eleImg" title="'+k+'">'+k+"</span>"})}return D.join("").replace(/&nbsp;/g,"")}var C=(0,w.default)(g).call(g,function(S){return{title:L.i18next.t("menus.panelMenus.emoticon."+S.title),tpl:"<div>"+E(S)+"</div>",events:[{selector:".eleImg",type:"click",fn:function(I){var f=A.default(I.target),k=f.getNodeName(),u;if(k==="IMG"){var H;u=(0,y.default)(H=f.parent().html()).call(H)}else u="<span>"+f.html()+"</span>";return L.cmd.do("insertHTML",u),!0}}]}}),P={width:300,height:230,tabs:C};return P}c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.createListHandle=c.ClassType=void 0;var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(372)),x=w.__importDefault(a(374)),A=w.__importDefault(a(375)),m=w.__importDefault(a(376)),L=w.__importDefault(a(377)),g;(function(S){S.Wrap="WrapListHandle",S.Join="JoinListHandle",S.StartJoin="StartJoinListHandle",S.EndJoin="EndJoinListHandle",S.Other="OtherListHandle"})(g=c.ClassType||(c.ClassType={}));var E={WrapListHandle:y.default,JoinListHandle:x.default,StartJoinListHandle:A.default,EndJoinListHandle:m.default,OtherListHandle:L.default};function C(S,D,I){if(S===g.Other&&I===void 0)throw new Error("other \u7C7B\u9700\u8981\u4F20\u5165 range");return S!==g.Other?new E[S](D):new E[S](D,I)}c.createListHandle=C;var P=function(){function S(D){this.handle=D,this.handle.exec()}return S.prototype.getSelectionRangeElem=function(){return T.default(this.handle.selectionRangeElem.get())},S}();c.default=P},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=a(58),A=a(47),m=function(L){T.__extends(g,L);function g(E){return L.call(this,E)||this}return g.prototype.exec=function(){var E=this.options,C=E.listType,P=E.listTarget,S=E.$selectionElem,D=E.$startElem,I=E.$endElem,f,k=[],u=S==null?void 0:S.getNodeName(),H=D.prior,O=I.prior;if(!D.prior&&!I.prior||!(H!=null&&H.prev().length)&&!(O!=null&&O.next().length)){var F;(0,w.default)(F=S==null?void 0:S.children()).call(F,function(Y){k.push(y.default(Y))}),u===C?f=A.createElementFragment(k,A.createDocumentFragment(),"p"):(f=A.createElement(P),(0,w.default)(k).call(k,function(Y){f.appendChild(Y.elems[0])})),this.selectionRangeElem.set(f),A.insertBefore(S,f,S.elems[0]),S.remove()}else{for(var j=H;j.length;)k.push(j),O!=null&&O.equal(j)?j=y.default(void 0):j=j.next();var W=H.prev(),V=O.next();if(u===C?f=A.createElementFragment(k,A.createDocumentFragment(),"p"):(f=A.createElement(P),(0,w.default)(k).call(k,function(Y){f.append(Y.elems[0])})),W.length&&V.length){for(var G=[];V.length;)G.push(V),V=V.next();var R=A.createElement(u);(0,w.default)(G).call(G,function(Y){R.append(Y.elems[0])}),y.default(R).insertAfter(S),this.selectionRangeElem.set(f);var z=S.next();z.length?A.insertBefore(S,f,z.elems[0]):S.parent().elems[0].append(f)}else if(!W.length)this.selectionRangeElem.set(f),A.insertBefore(S,f,S.elems[0]);else{this.selectionRangeElem.set(f);var z=S.next();z.length?A.insertBefore(S,f,z.elems[0]):S.parent().elems[0].append(f)}}},g}(x.ListHandle);c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=function(){function y(){this._element=null}return y.prototype.set=function(x){if(x instanceof DocumentFragment){var A,m=[];(0,w.default)(A=x.childNodes).call(A,function(L){m.push(L)}),x=m}this._element=x},y.prototype.get=function(){return this._element},y.prototype.clear=function(){this._element=null},y}();c.default=T},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=a(58),A=a(47),m=function(L){T.__extends(g,L);function g(E){return L.call(this,E)||this}return g.prototype.exec=function(){var E,C,P,S,D,I,f,k=this.options,u=k.editor,H=k.listType,O=k.listTarget,F=k.$startElem,j=k.$endElem,W,V=u.selection.getSelectionRangeTopNodes(),G=F==null?void 0:F.getNodeName(),R=j==null?void 0:j.getNodeName();if(G===R)if(V.length>2)if(V.shift(),V.pop(),W=A.createElementFragment(A.filterSelectionNodes(V),A.createDocumentFragment()),G===H)(E=j.children())===null||E===void 0||(0,w.default)(E).call(E,function(Re){W.append(Re)}),j.remove(),this.selectionRangeElem.set(W),F.elems[0].append(W);else{for(var z=document.createDocumentFragment(),Y=document.createDocumentFragment(),X=A.getStartPoint(F);X.length;){var q=X.elems[0];X=X.next(),z.append(q)}for(var _=A.getEndPoint(j),ee=[];_.length;)ee.unshift(_.elems[0]),_=_.prev();(0,w.default)(ee).call(ee,function(Re){Y.append(Re)});var oe=A.createElement(O);oe.append(z),oe.append(W),oe.append(Y),W=oe,this.selectionRangeElem.set(W),y.default(oe).insertAfter(F),!(!((C=F.children())===null||C===void 0)&&C.length)&&F.remove(),!(!((P=j.children())===null||P===void 0)&&P.length)&&j.remove()}else{V.length=0;for(var X=A.getStartPoint(F);X.length;)V.push(X),X=X.next();for(var _=A.getEndPoint(j),ee=[];_.length;)ee.unshift(_),_=_.prev();V.push.apply(V,ee),G===H?(W=A.createElementFragment(V,A.createDocumentFragment(),"p"),this.selectionRangeElem.set(W),A.insertBefore(F,W,j.elems[0])):(W=A.createElement(O),(0,w.default)(V).call(V,function(Ke){W.append(Ke.elems[0])}),this.selectionRangeElem.set(W),y.default(W).insertAfter(F)),!(!((S=F.children())===null||S===void 0)&&S.length)&&j.remove(),!(!((D=j.children())===null||D===void 0)&&D.length)&&j.remove()}else{for(var pe=[],_=A.getEndPoint(j);_.length;)pe.unshift(_),_=_.prev();for(var ve=[],X=A.getStartPoint(F);X.length;)ve.push(X),X=X.next();if(W=A.createDocumentFragment(),V.shift(),V.pop(),(0,w.default)(ve).call(ve,function(Be){return W.append(Be.elems[0])}),W=A.createElementFragment(A.filterSelectionNodes(V),W),(0,w.default)(pe).call(pe,function(Be){return W.append(Be.elems[0])}),this.selectionRangeElem.set(W),G===H)F.elems[0].append(W),!(!((I=j.children())===null||I===void 0)&&I.length)&&j.remove();else if(!((f=j.children())===null||f===void 0)&&f.length){var Pe=j.children();A.insertBefore(Pe,W,Pe.elems[0])}else j.elems[0].append(W)}},g}(x.ListHandle);c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=a(58),A=a(47),m=function(L){T.__extends(g,L);function g(E){return L.call(this,E)||this}return g.prototype.exec=function(){var E,C=this.options,P=C.editor,S=C.listType,D=C.listTarget,I=C.$startElem,f,k=P.selection.getSelectionRangeTopNodes(),u=I==null?void 0:I.getNodeName();k.shift();for(var H=[],O=A.getStartPoint(I);O.length;)H.push(O),O=O.next();u===S?(f=A.createDocumentFragment(),(0,w.default)(H).call(H,function(F){return f.append(F.elems[0])}),f=A.createElementFragment(A.filterSelectionNodes(k),f),this.selectionRangeElem.set(f),I.elems[0].append(f)):(f=A.createElement(D),(0,w.default)(H).call(H,function(F){return f.append(F.elems[0])}),f=A.createElementFragment(A.filterSelectionNodes(k),f),this.selectionRangeElem.set(f),y.default(f).insertAfter(I),!(!((E=I.children())===null||E===void 0)&&E.length)&&I.remove())},g}(x.ListHandle);c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=a(58),A=a(47),m=function(L){T.__extends(g,L);function g(E){return L.call(this,E)||this}return g.prototype.exec=function(){var E,C,P=this.options,S=P.editor,D=P.listType,I=P.listTarget,f=P.$endElem,k,u=S.selection.getSelectionRangeTopNodes(),H=f==null?void 0:f.getNodeName();u.pop();for(var O=[],F=A.getEndPoint(f);F.length;)O.unshift(F),F=F.prev();if(H===D)if(k=A.createElementFragment(A.filterSelectionNodes(u),A.createDocumentFragment()),(0,w.default)(O).call(O,function(V){return k.append(V.elems[0])}),this.selectionRangeElem.set(k),!((E=f.children())===null||E===void 0)&&E.length){var j=f.children();A.insertBefore(j,k,j.elems[0])}else f.elems[0].append(k);else{var W=A.filterSelectionNodes(u);W.push.apply(W,O),k=A.createElementFragment(W,A.createElement(I)),this.selectionRangeElem.set(k),y.default(k).insertBefore(f),!(!((C=f.children())===null||C===void 0)&&C.length)&&f.remove()}},g}(x.ListHandle);c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=a(58),y=a(47),x=function(A){w.__extends(m,A);function m(L,g){var E=A.call(this,L)||this;return E.range=g,E}return m.prototype.exec=function(){var L=this.options,g=L.editor,E=L.listTarget,C=g.selection.getSelectionRangeTopNodes(),P=y.createElementFragment(y.filterSelectionNodes(C),y.createElement(E));this.selectionRangeElem.set(P),this.range.insertNode(P)},m}(T.ListHandle);c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(27));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(24)),A=y.__importDefault(a(3)),m=y.__importDefault(a(379)),L=a(6),g=function(E){y.__extends(C,E);function C(P){var S=this,D=A.default('<div class="w-e-menu" data-title="\u884C\u9AD8">\n                    <i class="w-e-icon-row-height"></i>\n                </div>'),I=new m.default(P,P.config.lineHeights),f={width:100,title:"\u8BBE\u7F6E\u884C\u9AD8",type:"list",list:I.getItemList(),clickHandler:function(u){P.selection.saveRange(),S.command(u)}};return S=E.call(this,D,P,f)||this,S}return C.prototype.command=function(P){var S=this,D,I=window.getSelection?window.getSelection():document.getSelection(),f=["P"],k=this.editor,u="";k.selection.restoreSelection();var H=A.default(k.selection.getSelectionContainerElem());if(H!=null&&H.length){var O=A.default(k.selection.getSelectionContainerElem()),F=A.default(k.selection.getSelectionStartElem()).elems[0],j="",W=[],V="";if(H&&k.$textElem.equal(H)){var G=L.UA.isIE(),R=[],z=[],Y=[],X=A.default(k.selection.getSelectionStartElem()),q=A.default(k.selection.getSelectionEndElem()),_=(D=k.selection.getRange())===null||D===void 0?void 0:D.commonAncestorContainer.childNodes;z.push(this.getDom(X.elems[0])),_==null||(0,w.default)(_).call(_,function(Pe,Re){Pe===S.getDom(X.elems[0])&&R.push(Re),Pe===S.getDom(q.elems[0])&&R.push(Re)});var ee=0,oe=void 0;for(Y.push(this.getDom(X.elems[0]));z[ee]!==this.getDom(q.elems[0]);)oe=A.default(z[ee].nextElementSibling).elems[0],(0,T.default)(f).call(f,A.default(oe).getNodeName())!==-1&&Y.push(oe),z.push(oe),ee++;if(A.default(z[0]).getNodeName()!=="P"){ee=0;for(var pe=0;pe<z.length;pe++)if(A.default(z[pe]).getNodeName()==="P"){ee=pe;break}if(ee===0)return;for(var ve=0;ve!==ee;)z.shift(),ve++}this.setRange(z[0],z[z.length-1]),(0,w.default)(z).call(z,function(Pe){j=Pe.getAttribute("style"),W=j?j.split(";"):[],V=S.styleProcessing(W),A.default(Pe).getNodeName()==="P"&&P&&(V+=P?"line-height:"+P+";":""),G?A.default(Pe).css("line-height",P):u+="<"+A.default(Pe).getNodeName().toLowerCase()+' style="'+V+'">'+Pe.innerHTML+"</"+A.default(Pe).getNodeName().toLowerCase()+">"}),u&&this.action(u,k),F=O.elems[0],this.setRange(F.children[R[0]],F.children[R[1]]);return}if(F=this.getDom(F),(0,T.default)(f).call(f,A.default(F).getNodeName())!==-1){if(j=F.getAttribute("style"),W=j?j.split(";"):[],I==null||I.selectAllChildren(F),k.selection.saveRange(),!P){j&&(V=this.styleProcessing(W),V===""?u="<"+A.default(F).getNodeName().toLowerCase()+">"+F.innerHTML+"</"+A.default(F).getNodeName().toLowerCase()+">":u="<"+A.default(F).getNodeName().toLowerCase()+' style="'+V+'">'+F.innerHTML+"</"+A.default(F).getNodeName().toLowerCase()+">",this.action(u,k));return}j?V=this.styleProcessing(W)+("line-height:"+P+";"):V="line-height:"+P+";",u="<"+A.default(F).getNodeName().toLowerCase()+' style="'+V+'">'+F.innerHTML+"</"+A.default(F).getNodeName().toLowerCase()+">",A.default(F).getNodeName()==="BLOCKQUOTE"||L.UA.isIE()?A.default(F).css("line-height",P):this.action(u,k)}}},C.prototype.getDom=function(P){var S=A.default(P).elems[0];if(!S.parentNode)return S;function D(I,f){var k=A.default(I.parentNode);return f.$textElem.equal(k)?I:D(k.elems[0],f)}return S=D(S,this.editor),S},C.prototype.action=function(P,S){S.cmd.do("insertHTML",P)},C.prototype.styleProcessing=function(P){var S="";return(0,w.default)(P).call(P,function(D){D!==""&&(0,T.default)(D).call(D,"line-height")===-1&&(S=S+D+";")}),S},C.prototype.setRange=function(P,S){var D=this.editor,I=window.getSelection?window.getSelection():document.getSelection();I==null||I.removeAllRanges();var f=document.createRange(),k=P,u=S;f.setStart(k,0),f.setEnd(u,1),I==null||I.addRange(f),D.selection.saveRange(),I==null||I.removeAllRanges(),D.selection.restoreSelection()},C.prototype.tryChangeActive=function(){var P=this.editor,S=P.selection.getSelectionContainerElem();if(!(S&&P.$textElem.equal(S))){var D=A.default(P.selection.getSelectionStartElem());if(D.length!==0){D=this.getDom(D.elems[0]);var I=D.getAttribute("style")?D.getAttribute("style"):"";I&&(0,T.default)(I).call(I,"line-height")!==-1?this.active():this.unActive()}}},C}(x.default);c.default=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=function(){function A(m,L){var g=this;this.itemList=[{$elem:y.default("<span>"+m.i18next.t("\u9ED8\u8BA4")+"</span>"),value:""}],(0,w.default)(L).call(L,function(E){g.itemList.push({$elem:y.default("<span>"+E+"</span>"),value:E})})}return A.prototype.getItemList=function(){return this.itemList},A}();c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(23)),x=function(A){w.__extends(m,A);function m(L){var g=this,E=T.default('<div class="w-e-menu" data-title="\u64A4\u9500">\n                <i class="w-e-icon-undo"></i>\n            </div>');return g=A.call(this,E,L)||this,g}return m.prototype.clickHandler=function(){var L=this.editor;L.history.revoke();var g=L.$textElem.children();if(g!=null&&g.length){var E=g.last();L.selection.createRangeByElem(E,!1,!0),L.selection.restoreSelection()}},m.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[0]?this.active():this.unActive())},m}(y.default);c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(23)),x=function(A){w.__extends(m,A);function m(L){var g=this,E=T.default('<div class="w-e-menu" data-title="\u6062\u590D">\n                <i class="w-e-icon-redo"></i>\n            </div>');return g=A.call(this,E,L)||this,g}return m.prototype.clickHandler=function(){var L=this.editor;L.history.restore();var g=L.$textElem.children();if(g!=null&&g.length){var E=g.last();L.selection.createRangeByElem(E,!1,!0),L.selection.restoreSelection()}},m.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[1]?this.active():this.unActive())},m}(y.default);c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(37)),y=w.__importDefault(a(3)),x=w.__importDefault(a(383)),A=w.__importDefault(a(32)),m=w.__importDefault(a(392)),L=function(g){w.__extends(E,g);function E(C){var P=this,S=y.default('<div class="w-e-menu" data-title="\u8868\u683C"><i class="w-e-icon-table2"></i></div>');return P=g.call(this,S,C)||this,m.default(C),P}return E.prototype.clickHandler=function(){this.createPanel()},E.prototype.createPanel=function(){var C=x.default(this.editor),P=new A.default(this,C);P.create()},E.prototype.tryChangeActive=function(){},E}(T.default);c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(384));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=a(6),x=T.__importDefault(a(3));a(389);var A=T.__importDefault(a(391));function m(g){return g>0&&(0,w.default)(g)}function L(g){var E=new A.default(g),C=y.getRandom("w-col-id"),P=y.getRandom("w-row-id"),S=y.getRandom("btn-link"),D="menus.panelMenus.table.",I=function(H){return g.i18next.t(H)},f=[{title:I(D+"\u63D2\u5165\u8868\u683C"),tpl:'<div>\n                    <div class="w-e-table">\n                        <span>'+I("\u521B\u5EFA")+'</span>\n                        <input id="'+P+'"  type="text" class="w-e-table-input" value="5"/></td>\n                        <span>'+I(D+"\u884C")+'</span>\n                        <input id="'+C+'" type="text" class="w-e-table-input" value="5"/></td>\n                        <span>'+(I(D+"\u5217")+I(D+"\u7684")+I(D+"\u8868\u683C"))+'</span>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button type="button" id="'+S+'" class="right">'+I("\u63D2\u5165")+"</button>\n                    </div>\n                </div>",events:[{selector:"#"+S,type:"click",fn:function(){var H=Number(x.default("#"+C).val()),O=Number(x.default("#"+P).val());return m(O)&&m(H)?(E.createAction(O,H),!0):(g.config.customAlert("\u8868\u683C\u884C\u5217\u8BF7\u8F93\u5165\u6B63\u6574\u6570","warning"),!1)},bindEnter:!0}]}],k={width:330,height:0,tabs:[]};return k.tabs.push(f[0]),k}c.default=L},function(Z,c,a){Z.exports=a(385)},function(Z,c,a){var d=a(386);Z.exports=d},function(Z,c,a){a(387);var d=a(9);Z.exports=d.Number.isInteger},function(Z,c,a){var d=a(5),b=a(388);d({target:"Number",stat:!0},{isInteger:b})},function(Z,c,a){var d=a(13),b=Math.floor;Z.exports=function(T){return!d(T)&&isFinite(T)&&b(T)===T}},function(Z,c,a){var d=a(20),b=a(390);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,".w-e-table {\n  display: flex;\n}\n.w-e-table .w-e-table-input {\n  width: 40px;\n  text-align: center!important;\n  margin: 0 5px;\n}\n",""]),Z.exports=c},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=a(7),y=w.__importDefault(a(3)),x=function(){function A(m){this.editor=m}return A.prototype.createAction=function(m,L){var g=this.editor,E=y.default(g.selection.getSelectionContainerElem()),C=y.default(E.elems[0]).parentUntilEditor("UL",g),P=y.default(E.elems[0]).parentUntilEditor("OL",g);if(!(C||P)){var S=this.createTableHtml(m,L);g.cmd.do("insertHTML",S)}},A.prototype.createTableHtml=function(m,L){for(var g="",E="",C=0;C<m;C++){E="";for(var P=0;P<L;P++)C===0?E=E+"<th></th>":E=E+"<td></td>";g=g+"<tr>"+E+"</tr>"}var S='<table border="0" width="100%" cellpadding="0" cellspacing="0"><tbody>'+g+("</tbody></table>"+T.EMPTY_P);return S},A}();c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(393)),y=a(400);function x(A){T.default(A),y.bindEventKeyboardEvent(A),y.bindClickEvent(A)}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(38)),x=w.__importDefault(a(394)),A=w.__importDefault(a(399)),m=a(7);function L(P){var S;function D(f){var k=new A.default(P),u="menus.panelMenus.table.",H=function(j,W){return W===void 0&&(W=u),P.i18next.t(W+j)},O=[{$elem:T.default("<span>"+H("\u5220\u9664\u8868\u683C")+"</span>"),onClick:function(j,W){return j.selection.createRangeByElem(W),j.selection.restoreSelection(),j.cmd.do("insertHTML",m.EMPTY_P),!0}},{$elem:T.default("<span>"+H("\u6DFB\u52A0\u884C")+"</span>"),onClick:function(j,W){var V=g(j);if(V)return!0;var G=T.default(j.selection.getSelectionStartElem()),R=k.getRowNode(G.elems[0]);if(!R)return!0;var z=Number(k.getCurrentRowIndex(W.elems[0],R)),Y=k.getTableHtml(W.elems[0]),X=k.getTableHtml(x.default.ProcessingRow(T.default(Y),z).elems[0]);return X=C(W,X),j.selection.createRangeByElem(W),j.selection.restoreSelection(),j.cmd.do("insertHTML",X),!0}},{$elem:T.default("<span>"+H("\u5220\u9664\u884C")+"</span>"),onClick:function(j,W){var V=g(j);if(V)return!0;var G=T.default(j.selection.getSelectionStartElem()),R=k.getRowNode(G.elems[0]);if(!R)return!0;var z=Number(k.getCurrentRowIndex(W.elems[0],R)),Y=k.getTableHtml(W.elems[0]),X=x.default.DeleteRow(T.default(Y),z).elems[0].children[0].children.length,q="";return j.selection.createRangeByElem(W),j.selection.restoreSelection(),X===0?q=m.EMPTY_P:q=k.getTableHtml(x.default.DeleteRow(T.default(Y),z).elems[0]),q=C(W,q),j.cmd.do("insertHTML",q),!0}},{$elem:T.default("<span>"+H("\u6DFB\u52A0\u5217")+"</span>"),onClick:function(j,W){var V=g(j);if(V)return!0;var G=T.default(j.selection.getSelectionStartElem()),R=k.getCurrentColIndex(G.elems[0]),z=k.getTableHtml(W.elems[0]),Y=k.getTableHtml(x.default.ProcessingCol(T.default(z),R).elems[0]);return Y=C(W,Y),j.selection.createRangeByElem(W),j.selection.restoreSelection(),j.cmd.do("insertHTML",Y),!0}},{$elem:T.default("<span>"+H("\u5220\u9664\u5217")+"</span>"),onClick:function(j,W){var V=g(j);if(V)return!0;var G=T.default(j.selection.getSelectionStartElem()),R=k.getCurrentColIndex(G.elems[0]),z=k.getTableHtml(W.elems[0]),Y=x.default.DeleteCol(T.default(z),R),X=Y.elems[0].children[0].children[0].children.length,q="";return j.selection.createRangeByElem(W),j.selection.restoreSelection(),X===0?q=m.EMPTY_P:q=k.getTableHtml(Y.elems[0]),q=C(W,q),j.cmd.do("insertHTML",q),!0}},{$elem:T.default("<span>"+H("\u8BBE\u7F6E\u8868\u5934")+"</span>"),onClick:function(j,W){var V=g(j);if(V)return!0;var G=T.default(j.selection.getSelectionStartElem()),R=k.getRowNode(G.elems[0]);if(!R)return!0;var z=Number(k.getCurrentRowIndex(W.elems[0],R));z!==0&&(z=0);var Y=k.getTableHtml(W.elems[0]),X=k.getTableHtml(x.default.setTheHeader(T.default(Y),z,"th").elems[0]);return X=C(W,X),j.selection.createRangeByElem(W),j.selection.restoreSelection(),j.cmd.do("insertHTML",X),!0}},{$elem:T.default("<span>"+H("\u53D6\u6D88\u8868\u5934")+"</span>"),onClick:function(j,W){var V=T.default(j.selection.getSelectionStartElem()),G=k.getRowNode(V.elems[0]);if(!G)return!0;var R=Number(k.getCurrentRowIndex(W.elems[0],G));R!==0&&(R=0);var z=k.getTableHtml(W.elems[0]),Y=k.getTableHtml(x.default.setTheHeader(T.default(z),R,"td").elems[0]);return Y=C(W,Y),j.selection.createRangeByElem(W),j.selection.restoreSelection(),j.cmd.do("insertHTML",Y),!0}}];S=new y.default(P,f,O),S.create()}function I(){S&&(S.remove(),S=null)}return{showTableTooltip:D,hideTableTooltip:I}}function g(P){var S=P.selection.getSelectionStartElem(),D=P.selection.getSelectionEndElem();return(S==null?void 0:S.elems[0])!==(D==null?void 0:D.elems[0])}function E(P){var S=L(P),D=S.showTableTooltip,I=S.hideTableTooltip;P.txt.eventHooks.tableClickEvents.push(D),P.txt.eventHooks.clickEvents.push(I),P.txt.eventHooks.keyupEvents.push(I),P.txt.eventHooks.toolbarClickEvents.push(I),P.txt.eventHooks.menuClickEvents.push(I),P.txt.eventHooks.textScrollEvents.push(I)}c.default=E;function C(P,S){var D=P.elems[0].nextSibling;return(!D||D.innerHTML==="<br>")&&(S+=""+m.EMPTY_P),S}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(45)),T=d(a(91)),y=d(a(4)),x=d(a(138));(0,b.default)(c,"__esModule",{value:!0});var A=a(2),m=A.__importDefault(a(3));function L(I,f){for(var k=D(I),u=(0,w.default)(Array.prototype).apply(k.children),H=u[0].children.length,O=document.createElement("tr"),F=0;F<H;F++){var j=document.createElement("td");O.appendChild(j)}return(0,T.default)(u).call(u,f+1,0,O),S(k,u),m.default(k.parentNode)}function g(I,f){for(var k=D(I),u=(0,w.default)(Array.prototype).apply(k.children),H=function(j){var W,V=[];for((0,y.default)(W=(0,x.default)(u[j].children)).call(W,function(z){V.push(z)});u[j].children.length!==0;)u[j].removeChild(u[j].children[0]);var G=m.default(V[0]).getNodeName()!=="TH"?document.createElement("td"):document.createElement("th");(0,T.default)(V).call(V,f+1,0,G);for(var R=0;R<V.length;R++)u[j].appendChild(V[R])},O=0;O<u.length;O++)H(O);return S(k,u),m.default(k.parentNode)}function E(I,f){var k=D(I),u=(0,w.default)(Array.prototype).apply(k.children);return(0,T.default)(u).call(u,f,1),S(k,u),m.default(k.parentNode)}function C(I,f){for(var k=D(I),u=(0,w.default)(Array.prototype).apply(k.children),H=function(j){var W,V=[];for((0,y.default)(W=(0,x.default)(u[j].children)).call(W,function(R){V.push(R)});u[j].children.length!==0;)u[j].removeChild(u[j].children[0]);(0,T.default)(V).call(V,f,1);for(var G=0;G<V.length;G++)u[j].appendChild(V[G])},O=0;O<u.length;O++)H(O);return S(k,u),m.default(k.parentNode)}function P(I,f,k){for(var u=D(I),H=(0,w.default)(Array.prototype).apply(u.children),O=H[f].children,F=document.createElement("tr"),j=function(G){var R,z=document.createElement(k),Y=O[G];(0,y.default)(R=(0,x.default)(Y.childNodes)).call(R,function(X){z.appendChild(X)}),F.appendChild(z)},W=0;W<O.length;W++)j(W);return(0,T.default)(H).call(H,f,1,F),S(u,H),m.default(u.parentNode)}function S(I,f){for(;I.children.length!==0;)I.removeChild(I.children[0]);for(var k=0;k<f.length;k++)I.appendChild(f[k])}function D(I){var f=I.elems[0].children[0];return f.nodeName==="COLGROUP"&&(f=I.elems[0].children[I.elems[0].children.length-1]),f}c.default={ProcessingRow:L,ProcessingCol:g,DeleteRow:E,DeleteCol:C,setTheHeader:P}},function(Z,c,a){var d=a(396);Z.exports=d},function(Z,c,a){a(50),a(397);var d=a(9);Z.exports=d.Array.from},function(Z,c,a){var d=a(5),b=a(398),w=a(114),T=!w(function(y){Array.from(y)});d({target:"Array",stat:!0,forced:T},{from:b})},function(Z,c,a){"use strict";var d=a(39),b=a(29),w=a(113),T=a(111),y=a(34),x=a(69),A=a(112);Z.exports=function(L){var g=b(L),E=typeof this=="function"?this:Array,C=arguments.length,P=C>1?arguments[1]:void 0,S=P!==void 0,D=A(g),I=0,f,k,u,H,O,F;if(S&&(P=d(P,C>2?arguments[2]:void 0,2)),D!=null&&!(E==Array&&T(D)))for(H=D.call(g),O=H.next,k=new E;!(u=O.call(H)).done;I++)F=S?w(H,P,[u.value,I],!0):u.value,x(k,I,F);else for(f=y(g.length),k=new E(f);f>I;I++)F=S?P(g[I],I):g[I],x(k,I,F);return k.length=I,k}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(138));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(3)),A=function(){function m(L){this.editor=L}return m.prototype.getRowNode=function(L){var g,E=x.default(L).elems[0];return E.parentNode&&(E=(g=x.default(E).parentUntil("TR",E))===null||g===void 0?void 0:g.elems[0]),E},m.prototype.getCurrentRowIndex=function(L,g){var E,C=0,P=L.children[0];return P.nodeName==="COLGROUP"&&(P=L.children[L.children.length-1]),(0,w.default)(E=(0,T.default)(P.children)).call(E,function(S,D){S===g&&(C=D)}),C},m.prototype.getCurrentColIndex=function(L){var g,E,C=0,P=x.default(L).getNodeName()==="TD"||x.default(L).getNodeName()==="TH"?L:(E=x.default(L).parentUntil("TD",L))===null||E===void 0?void 0:E.elems[0],S=x.default(P).parent();return(0,w.default)(g=(0,T.default)(S.elems[0].children)).call(g,function(D,I){D===P&&(C=I)}),C},m.prototype.getTableHtml=function(L){var g='<table border="0" width="100%" cellpadding="0" cellspacing="0">'+x.default(L).html()+"</table>";return g},m}();c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.bindEventKeyboardEvent=c.bindClickEvent=void 0;var w=a(2),T=w.__importDefault(a(3));function y(m){if(!m.length)return!1;var L=m.elems[0];return L.nodeName==="P"&&L.innerHTML==="<br>"}function x(m){function L(g,E){if(E.detail>=3){var C=window.getSelection();if(C){var P=C.focusNode,S=C.anchorNode,D=T.default(S==null?void 0:S.parentElement);if(!g.isContain(T.default(P))){var I=D.elems[0].tagName==="TD"?D:D.parentUntilEditor("td",m);if(I){var f=m.selection.getRange();f==null||f.setEnd(I.elems[0],I.elems[0].childNodes.length),m.selection.restoreSelection()}}}}}m.txt.eventHooks.tableClickEvents.push(L)}c.bindClickEvent=x;function A(m){var L=m.txt,g=m.selection,E=L.eventHooks.keydownEvents;E.push(function(C){m.selection.saveRange();var P=g.getSelectionContainerElem();if(P){var S=P.getNodeTop(m),D=S.length&&S.prev().length?S.prev():null;if(D&&D.getNodeName()==="TABLE"&&g.isSelectionEmpty()&&g.getCursorPos()===0&&C.keyCode===8){var I=S.next(),f=!!I.length;f&&y(S)&&(S.remove(),m.selection.setRangeToElem(I.elems[0])),C.preventDefault()}}})}c.bindEventKeyboardEvent=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(26));(0,b.default)(c,"__esModule",{value:!0}),c.formatCodeHtml=void 0;var T=a(2),y=T.__importDefault(a(37)),x=T.__importDefault(a(3)),A=a(6),m=T.__importDefault(a(402)),L=T.__importDefault(a(139)),g=T.__importDefault(a(32)),E=T.__importDefault(a(403));function C(S,D){if(!D)return D;return D=f(D),D=I(D),D=A.replaceSpecialSymbol(D),D;function I(k){var u=k.match(/<pre[\s|\S]+?\/pre>/g);return u===null||(0,w.default)(u).call(u,function(H){k=k.replace(H,H.replace(/<\/code><code>/g,"\n").replace(/<br>/g,""))}),k}function f(k){var u,H=k.match(/<span\sclass="hljs[\s|\S]+?\/span>/gm);if(!H||!H.length)return k;for(var O=(0,w.default)(u=A.deepClone(H)).call(u,function(j){return j=j.replace(/<span\sclass="hljs[^>]+>/,""),j.replace(/<\/span>/,"")}),F=0;F<H.length;F++)k=k.replace(H[F],O[F]);return f(k)}}c.formatCodeHtml=C;var P=function(S){T.__extends(D,S);function D(I){var f=this,k=x.default('<div class="w-e-menu" data-title="\u4EE3\u7801"><i class="w-e-icon-terminal"></i></div>');return f=S.call(this,k,I)||this,E.default(I),f}return D.prototype.insertLineCode=function(I){var f=this.editor,k=x.default("<code>"+I+"</code>");f.cmd.do("insertElem",k),f.selection.createRangeByElem(k,!1),f.selection.restoreSelection()},D.prototype.clickHandler=function(){var I=this.editor,f=I.selection.getSelectionText();this.isActive||(I.selection.isSelectionEmpty()?this.createPanel("",""):this.insertLineCode(f))},D.prototype.createPanel=function(I,f){var k=m.default(this.editor,I,f),u=new g.default(this,k);u.create()},D.prototype.tryChangeActive=function(){var I=this.editor;L.default(I)?this.active():this.unActive()},D}(y.default);c.default=P},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(26));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=a(6),x=T.__importDefault(a(3)),A=T.__importDefault(a(139)),m=a(7);function L(g,E,C){var P,S=y.getRandom("input-iframe"),D=y.getRandom("select"),I=y.getRandom("btn-ok");function f(O){var F,j=A.default(g);j&&k();var W=(F=g.selection.getSelectionStartElem())===null||F===void 0?void 0:F.elems[0].innerHTML;W&&g.cmd.do("insertHTML",m.EMPTY_P),g.cmd.do("insertHTML",O);var V=g.selection.getSelectionStartElem(),G=V==null?void 0:V.getNodeTop(g);(G==null?void 0:G.getNextSibling().elems.length)===0&&x.default(m.EMPTY_P).insertAfter(G)}function k(){if(A.default(g)){var O,F=g.selection.getSelectionStartElem(),j=F==null?void 0:F.getNodeTop(g);j&&(g.selection.createRangeByElem(j),g.selection.restoreSelection(),O=j)}}var u=function(F){return g.i18next.t(F)},H={width:500,height:0,tabs:[{title:u("menus.panelMenus.code.\u63D2\u5165\u4EE3\u7801"),tpl:'<div>\n                        <select name="" id="'+D+'">\n                            '+(0,w.default)(P=g.config.languageType).call(P,function(O){return"<option "+(C==O?"selected":"")+' value ="'+O+'">'+O+"</option>"})+'\n                        </select>\n                        <textarea id="'+S+'" type="text" class="wang-code-textarea" placeholder="" style="height: 160px">'+E.replace(/&quot;/g,'"')+'</textarea>\n                        <div class="w-e-button-container">\n                            <button type="button" id="'+I+'" class="right">'+(A.default(g)?u("\u4FEE\u6539"):u("\u63D2\u5165"))+"</button>\n                        </div>\n                    </div>",events:[{selector:"#"+I,type:"click",fn:function(){var F,j,W=document.getElementById(S),V=x.default("#"+D),G=V.val(),R=W.value;if(g.highlight?F=g.highlight.highlightAuto(R).value:F="<xmp>"+R+"</xmp>",!!R)return A.default(g)?!1:(j='<pre><code class="'+G+'">'+F+"</code></pre>",f(j),!0)}}]}]};return H}c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(404)),y=w.__importDefault(a(405));function x(A){T.default(A),y.default(A)}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.createShowHideFn=void 0;var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(38));function x(L){var g;function E(P){var S="menus.panelMenus.code.",D=function(k,u){return u===void 0&&(u=S),L.i18next.t(u+k)},I=[{$elem:T.default("<span>"+D("\u5220\u9664\u4EE3\u7801")+"</span>"),onClick:function(k,u){return u.remove(),!0}}];g=new y.default(L,P,I),g.create()}function C(){g&&(g.remove(),g=null)}return{showCodeTooltip:E,hideCodeTooltip:C}}c.createShowHideFn=x;function A(L,g){var E=g.selection.getSelectionContainerElem(),C=E==null?void 0:E.getNodeTop(g),P=C==null?void 0:C.getNodeName();P==="PRE"&&(L.preventDefault(),g.cmd.do("insertHTML","\n\r"))}function m(L){var g=x(L),E=g.showCodeTooltip,C=g.hideCodeTooltip;L.txt.eventHooks.codeClickEvents.push(E),L.txt.eventHooks.clickEvents.push(C),L.txt.eventHooks.toolbarClickEvents.push(C),L.txt.eventHooks.menuClickEvents.push(C),L.txt.eventHooks.textScrollEvents.push(C)}c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=a(7),y=w.__importDefault(a(3));function x(A){var m=A.$textElem,L=A.selection,g=A.txt,E=g.eventHooks.keydownEvents;E.push(function(C){var P;if(C.keyCode===40){var S=L.getSelectionContainerElem(),D=(P=m.children())===null||P===void 0?void 0:P.last();if((S==null?void 0:S.elems[0].tagName)==="XMP"&&(D==null?void 0:D.elems[0].tagName)==="PRE"){var I=y.default(T.EMPTY_P);m.append(I)}}}),E.push(function(C){A.selection.saveRange();var P=L.getSelectionContainerElem();if(P){var S=P.getNodeTop(A),D=S==null?void 0:S.prev(),I=S==null?void 0:S.getNextSibling();if(D.length&&(D==null?void 0:D.getNodeName())==="PRE"&&I.length===0&&L.getCursorPos()===0&&C.keyCode===8){var f=y.default(T.EMPTY_P);m.append(f)}}})}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(23)),y=w.__importDefault(a(3)),x=w.__importDefault(a(407)),A=a(6),m=a(7),L=function(g){w.__extends(E,g);function E(C){var P=this,S=y.default('<div class="w-e-menu" data-title="\u5206\u5272\u7EBF"><i class="w-e-icon-split-line"></i></div>');return P=g.call(this,S,C)||this,x.default(C),P}return E.prototype.clickHandler=function(){var C=this.editor,P=C.selection.getRange(),S=C.selection.getSelectionContainerElem();if(S!=null&&S.length){var D=y.default(S.elems[0]),I=D.parentUntil("TABLE",S.elems[0]),f=D.children();D.getNodeName()!=="CODE"&&(I&&y.default(I.elems[0]).getNodeName()==="TABLE"||f&&f.length!==0&&y.default(f.elems[0]).getNodeName()==="IMG"&&!(P!=null&&P.collapsed)||this.createSplitLine())}},E.prototype.createSplitLine=function(){var C="<hr/>"+m.EMPTY_P;A.UA.isFirefox&&(C="<hr/><p></p>"),this.editor.cmd.do("insertHTML",C)},E.prototype.tryChangeActive=function(){},E}(T.default);c.default=L},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(408));function y(x){T.default(x)}c.default=y},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=w.__importDefault(a(38));function x(m){var L;function g(C){var P=[{$elem:T.default("<span>"+m.i18next.t("menus.panelMenus.\u5220\u9664")+"</span>"),onClick:function(D,I){return D.selection.createRangeByElem(I),D.selection.restoreSelection(),D.cmd.do("delete"),!0}}];L=new y.default(m,C,P),L.create()}function E(){L&&(L.remove(),L=null)}return{showSplitLineTooltip:g,hideSplitLineTooltip:E}}function A(m){var L=x(m),g=L.showSplitLineTooltip,E=L.hideSplitLineTooltip;m.txt.eventHooks.splitLineEvents.push(g),m.txt.eventHooks.clickEvents.push(E),m.txt.eventHooks.keyupEvents.push(E),m.txt.eventHooks.toolbarClickEvents.push(E),m.txt.eventHooks.menuClickEvents.push(E),m.txt.eventHooks.textScrollEvents.push(E)}c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=T.__importDefault(a(23)),A=a(97),m=T.__importDefault(a(415)),L=T.__importDefault(a(140)),g=function(E){T.__extends(C,E);function C(P){var S=this,D=y.default('<div class="w-e-menu" data-title="\u5F85\u529E\u4E8B\u9879">\n                    <i class="w-e-icon-checkbox-checked"></i>\n                </div>');return S=E.call(this,D,P)||this,m.default(P),S}return C.prototype.clickHandler=function(){var P=this.editor;A.isAllTodo(P)?(this.cancelTodo(),this.tryChangeActive()):this.setTodo()},C.prototype.tryChangeActive=function(){A.isAllTodo(this.editor)?this.active():this.unActive()},C.prototype.setTodo=function(){var P=this.editor,S=P.selection.getSelectionRangeTopNodes();(0,w.default)(S).call(S,function(D){var I,f=D==null?void 0:D.getNodeName();if(f==="P"){var k=L.default(D),u=k.getTodo(),H=(I=u.children())===null||I===void 0?void 0:I.getNode();u.insertAfter(D),P.selection.moveCursor(H),D.remove()}}),this.tryChangeActive()},C.prototype.cancelTodo=function(){var P=this.editor,S=P.selection.getSelectionRangeTopNodes();(0,w.default)(S).call(S,function(D){var I,f,k,u=(f=(I=D.childNodes())===null||I===void 0?void 0:I.childNodes())===null||f===void 0?void 0:f.clone(!0),H=y.default("<p></p>");H.append(u),H.insertAfter(D),(k=H.childNodes())===null||k===void 0||k.get(0).remove(),P.selection.moveCursor(H.getNode()),D.remove()})},C}(x.default);c.default=g},function(Z,c,a){Z.exports=a(411)},function(Z,c,a){var d=a(412);Z.exports=d},function(Z,c,a){var d=a(413),b=Array.prototype;Z.exports=function(w){var T=w.every;return w===b||w instanceof Array&&T===b.every?d:T}},function(Z,c,a){a(414);var d=a(15);Z.exports=d("Array").every},function(Z,c,a){"use strict";var d=a(5),b=a(30).every,w=a(67),T=a(22),y=w("every"),x=T("every");d({target:"Array",proto:!0,forced:!y||!x},{every:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}})},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3)),x=a(97),A=T.__importDefault(a(140)),m=a(97),L=a(7);function g(E){function C(I){var f,k;if(x.isAllTodo(E)){I.preventDefault();var u=E.selection,H=u.getSelectionRangeTopNodes()[0],O=(f=H.childNodes())===null||f===void 0?void 0:f.get(0),F=(k=window.getSelection())===null||k===void 0?void 0:k.anchorNode,j=u.getRange();if(!(j!=null&&j.collapsed)){var W=j==null?void 0:j.commonAncestorContainer.childNodes,V=j==null?void 0:j.startContainer,G=j==null?void 0:j.endContainer,R=j==null?void 0:j.startOffset,z=j==null?void 0:j.endOffset,Y=0,X=0,q=[];W==null||(0,w.default)(W).call(W,function(Ke,Ve){Ke.contains(V)&&(Y=Ve),Ke.contains(G)&&(X=Ve)}),X-Y>1&&(W==null||(0,w.default)(W).call(W,function(Ke,Ve){Ve<=Y||Ve>=X||q.push(Ke)}),(0,w.default)(q).call(q,function(Ke){Ke.remove()})),m.dealTextNode(V,R),m.dealTextNode(G,z,!1),E.selection.moveCursor(G,0)}if(H.text()===""){var _=y.default(L.EMPTY_P);_.insertAfter(H),u.moveCursor(_.getNode()),H.remove();return}var ee=u.getCursorPos(),oe=x.getCursorNextNode(O==null?void 0:O.getNode(),F,ee),pe=A.default(y.default(oe)),ve=pe.getInputContainer(),Pe=ve.parent().getNode(),Re=pe.getTodo(),Ne=ve.getNode().nextSibling;if((O==null?void 0:O.text())===""&&(O==null||O.append(y.default("<br>"))),Re.insertAfter(H),!Ne||(Ne==null?void 0:Ne.textContent)===""){if((Ne==null?void 0:Ne.nodeName)!=="BR"){var Be=y.default("<br>");Be.insertAfter(ve)}u.moveCursor(Pe,1)}else u.moveCursor(Pe)}}function P(I){var f,k;if(x.isAllTodo(E)){var u=E.selection,H=u.getSelectionRangeTopNodes()[0],O=(f=H.childNodes())===null||f===void 0?void 0:f.getNode(),F=y.default("<p></p>"),j=F.getNode(),W=(k=window.getSelection())===null||k===void 0?void 0:k.anchorNode,V=u.getCursorPos(),G=W.previousSibling;if(H.text()===""){I.preventDefault();var R=y.default(L.EMPTY_P);R.insertAfter(H),H.remove(),u.moveCursor(R.getNode(),0);return}if((G==null?void 0:G.nodeName)==="SPAN"&&G.childNodes[0].nodeName==="INPUT"&&V===0){var z;I.preventDefault(),O==null||(0,w.default)(z=O.childNodes).call(z,function(Y,X){X!==0&&j.appendChild(Y.cloneNode(!0))}),F.insertAfter(H),H.remove()}}}function S(){var I=E.selection,f=I.getSelectionRangeTopNodes()[0];f&&m.isTodo(f)&&f.text()===""&&(y.default(L.EMPTY_P).insertAfter(f),f.remove())}function D(I){I&&I.target instanceof HTMLInputElement&&I.target.type==="checkbox"&&(I.target.checked?I.target.setAttribute("checked","true"):I.target.removeAttribute("checked"))}E.txt.eventHooks.enterDownEvents.push(C),E.txt.eventHooks.deleteUpEvents.push(S),E.txt.eventHooks.deleteDownEvents.push(P),E.txt.eventHooks.clickEvents.push(D)}c.default=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.selectorValidator=void 0;var w=a(2),T=w.__importDefault(a(3)),y=a(6),x=a(7),A=w.__importDefault(a(129)),m={border:"1px solid #c9d8db",toolbarBgColor:"#FFF",toolbarBottomBorder:"1px solid #EEE"};function L(E){var C=E.toolbarSelector,P=T.default(C),S=E.textSelector,D=E.config,I=D.height,f=E.i18next,k=T.default("<div></div>"),u=T.default("<div></div>"),H,O,F=null;S==null?(O=P.children(),P.append(k).append(u),k.css("background-color",m.toolbarBgColor).css("border",m.border).css("border-bottom",m.toolbarBottomBorder),u.css("border",m.border).css("border-top","none").css("height",I+"px")):(P.append(k),F=T.default(S).children(),T.default(S).append(u),O=u.children()),H=T.default("<div></div>"),H.attr("contenteditable","true").css("width","100%").css("height","100%");var j,W=E.config.placeholder;W!==A.default.placeholder?j=T.default("<div>"+W+"</div>"):j=T.default("<div>"+f.t(W)+"</div>"),j.addClass("placeholder"),O&&O.length?(H.append(O),j.hide()):H.append(T.default(x.EMPTY_P)),F&&F.length&&(H.append(F),j.hide()),u.append(H),u.append(j),k.addClass("w-e-toolbar").css("z-index",E.zIndex.get("toolbar")),u.addClass("w-e-text-container"),u.css("z-index",E.zIndex.get()),H.addClass("w-e-text");var V=y.getRandom("toolbar-elem");k.attr("id",V);var G=y.getRandom("text-elem");H.attr("id",G);var R=u.getBoundingClientRect().height,z=H.getBoundingClientRect().height;R!==z&&H.css("min-height",R+"px"),E.$toolbarElem=k,E.$textContainerElem=u,E.$textElem=H,E.toolbarElemId=V,E.textElemId=G}c.default=L;function g(E){var C="data-we-id",P=/^wangEditor-\d+$/,S=E.textSelector,D=E.toolbarSelector,I={bar:T.default("<div></div>"),text:T.default("<div></div>")};if(D==null)throw new Error("\u9519\u8BEF\uFF1A\u521D\u59CB\u5316\u7F16\u8F91\u5668\u65F6\u5019\u672A\u4F20\u5165\u4EFB\u4F55\u53C2\u6570\uFF0C\u8BF7\u67E5\u9605\u6587\u6863");if(I.bar=T.default(D),!I.bar.elems.length)throw new Error("\u65E0\u6548\u7684\u8282\u70B9\u9009\u62E9\u5668\uFF1A"+D);if(P.test(I.bar.attr(C)))throw new Error("\u521D\u59CB\u5316\u8282\u70B9\u5DF2\u5B58\u5728\u7F16\u8F91\u5668\u5B9E\u4F8B\uFF0C\u65E0\u6CD5\u91CD\u590D\u521B\u5EFA\u7F16\u8F91\u5668");if(S){if(I.text=T.default(S),!I.text.elems.length)throw new Error("\u65E0\u6548\u7684\u8282\u70B9\u9009\u62E9\u5668\uFF1A"+S);if(P.test(I.text.attr(C)))throw new Error("\u521D\u59CB\u5316\u8282\u70B9\u5DF2\u5B58\u5728\u7F16\u8F91\u5668\u5B9E\u4F8B\uFF0C\u65E0\u6CD5\u91CD\u590D\u521B\u5EFA\u7F16\u8F91\u5668")}I.bar.attr(C,E.id),I.text.attr(C,E.id),E.beforeDestroy(function(){I.bar.removeAttr(C),I.text.removeAttr(C)})}c.selectorValidator=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(3)),y=a(7);function x(A,m){var L=A.$textElem,g=L.children();if(!g||!g.length){L.append(T.default(y.EMPTY_P)),x(A);return}var E=g.last();if(m){var C=E.html().toLowerCase(),P=E.getNodeName();if(C!=="<br>"&&C!=="<br/>"||P!=="P"){L.append(T.default(y.EMPTY_P)),x(A);return}}A.selection.createRangeByElem(E,!1,!0),A.config.focus?A.selection.restoreSelection():A.selection.clearWindowSelectionRange()}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3));function x(C){A(C),m(C),L(C)}function A(C){C.txt.eventHooks.changeEvents.push(function(){var P=C.config.onchange;if(P){var S=C.txt.html()||"";C.isFocus=!0,P(S)}C.txt.togglePlaceholder()})}function m(C){C.isFocus=!1;function P(S){var D=S.target,I=y.default(D),f=C.$textElem,k=C.$toolbarElem,u=f.isContain(I),H=k.isContain(I),O=k.elems[0]==S.target;if(u)C.isFocus||E(C),C.isFocus=!0;else{if(H&&!O||!C.isFocus)return;g(C),C.isFocus=!1}}document.activeElement===C.$textElem.elems[0]&&C.config.focus&&(E(C),C.isFocus=!0),y.default(document).on("click",P),C.beforeDestroy(function(){y.default(document).off("click",P)})}function L(C){C.$textElem.on("compositionstart",function(){C.isComposing=!0,C.txt.togglePlaceholder()}).on("compositionend",function(){C.isComposing=!1,C.txt.togglePlaceholder()})}function g(C){var P,S=C.config,D=S.onblur,I=C.txt.html()||"";(0,w.default)(P=C.txt.eventHooks.onBlurEvents).call(P,function(f){return f()}),D(I)}function E(C){var P=C.config,S=P.onfocus,D=C.txt.html()||"";S(D)}c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});function w(T){var y=T.config,x=y.lang,A=y.languages;if(T.i18next!=null){try{T.i18next.init({ns:"wangEditor",lng:x,defaultNS:"wangEditor",resources:A})}catch(m){throw new Error("i18next:"+m)}return}T.i18next={t:function(L){var g=L.split(".");return g[g.length-1]}}}c.default=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(31));(0,b.default)(c,"__esModule",{value:!0}),c.setUnFullScreen=c.setFullScreen=void 0;var T=a(2),y=T.__importDefault(a(3));a(421);var x="w-e-icon-fullscreen",A="w-e-icon-fullscreen_exit",m="w-e-full-screen-editor";c.setFullScreen=function(g){var E=y.default(g.toolbarSelector),C=g.$textContainerElem,P=g.$toolbarElem,S=(0,w.default)(P).call(P,"i."+x),D=g.config;S.removeClass(x),S.addClass(A),E.addClass(m),E.css("z-index",D.zIndexFullScreen);var I=P.getBoundingClientRect();C.css("height","calc(100% - "+I.height+"px)")},c.setUnFullScreen=function(g){var E=y.default(g.toolbarSelector),C=g.$textContainerElem,P=g.$toolbarElem,S=(0,w.default)(P).call(P,"i."+A),D=g.config;S.removeClass(A),S.addClass(x),E.removeClass(m),E.css("z-index","auto"),C.css("height",D.height+"px")};var L=function(E){if(!E.textSelector&&E.config.showFullScreen){var C=E.$toolbarElem,P=y.default('<div class="w-e-menu" data-title="\u5168\u5C4F">\n            <i class="'+x+'"></i>\n        </div>');P.on("click",function(S){var D,I=(0,w.default)(D=y.default(S.currentTarget)).call(D,"i");I.hasClass(x)?(P.attr("data-title","\u53D6\u6D88\u5168\u5C4F"),c.setFullScreen(E)):(P.attr("data-title","\u5168\u5C4F"),c.setUnFullScreen(E))}),C.append(P)}};c.default=L},function(Z,c,a){var d=a(20),b=a(422);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,".w-e-full-screen-editor {\n  position: fixed;\n  width: 100%!important;\n  height: 100%!important;\n  left: 0;\n  top: 0;\n}\n",""]),Z.exports=c},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(31));(0,b.default)(c,"__esModule",{value:!0});var T=function(x,A){var m,L=x.isEnable?x.$textElem:(0,w.default)(m=x.$textContainerElem).call(m,".w-e-content-mantle"),g=(0,w.default)(L).call(L,"[id='"+A+"']"),E=g.getOffsetData().top;L.scrollTop(E)};c.default=T},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(128)),y={menu:2,panel:2,toolbar:1,tooltip:1,textContainer:1},x=function(){function A(){this.tier=y,this.baseZIndex=T.default.zIndex}return A.prototype.get=function(m){return m&&this.tier[m]?this.baseZIndex+this.tier[m]:this.baseZIndex},A.prototype.init=function(m){this.baseZIndex==T.default.zIndex&&(this.baseZIndex=m.config.zIndex)},A}();c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(70)),T=d(a(4));(0,b.default)(c,"__esModule",{value:!0});var y=a(2),x=y.__importDefault(a(426)),A=a(6),m=a(7);function L(E,C){return(0,w.default)(E).call(E,function(P){var S=P.type,D=P.target,I=P.attributeName;return S!="attributes"||S=="attributes"&&(I=="contenteditable"||D!=C)})}var g=function(E){y.__extends(C,E);function C(P){var S=E.call(this,function(D,I){var f;if(D=L(D,I.target),(f=S.data).push.apply(f,D),P.isCompatibleMode)S.asyncSave();else if(!P.isComposing)return S.asyncSave()})||this;return S.editor=P,S.data=[],S.asyncSave=m.EMPTY_FN,S}return C.prototype.save=function(){this.data.length&&(this.editor.history.save(this.data),this.data.length=0,this.emit())},C.prototype.emit=function(){var P;(0,T.default)(P=this.editor.txt.eventHooks.changeEvents).call(P,function(S){return S()})},C.prototype.observe=function(){var P=this;E.prototype.observe.call(this,this.editor.$textElem.elems[0]);var S=this.editor.config.onchangeTimeout;this.asyncSave=A.debounce(function(){P.save()},S),this.editor.isCompatibleMode||this.editor.$textElem.on("compositionend",function(){P.asyncSave()})},C}(x.default);c.default=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=function(){function T(y,x){var A=this;this.options={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0},this.callback=function(m){y(m,A)},this.observer=new MutationObserver(this.callback),x&&(this.options=x)}return(0,b.default)(T.prototype,"target",{get:function(){return this.node},enumerable:!1,configurable:!0}),T.prototype.observe=function(y){this.node instanceof Node||(this.node=y,this.connect())},T.prototype.connect=function(){if(this.node)return this.observer.observe(this.node,this.options),this;throw new Error("\u8FD8\u672A\u521D\u59CB\u5316\u7ED1\u5B9A\uFF0C\u8BF7\u60A8\u5148\u7ED1\u5B9A\u6709\u6548\u7684 Node \u8282\u70B9")},T.prototype.disconnect=function(){var y=this.observer.takeRecords();y.length&&this.callback(y),this.observer.disconnect()},T}();c.default=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(428)),y=w.__importDefault(a(435)),x=w.__importDefault(a(436)),A=function(){function m(L){this.editor=L,this.content=new T.default(L),this.scroll=new y.default(L),this.range=new x.default(L)}return(0,b.default)(m.prototype,"size",{get:function(){return this.scroll.size},enumerable:!1,configurable:!0}),m.prototype.observe=function(){this.content.observe(),this.scroll.observe(),!this.editor.isCompatibleMode&&this.range.observe()},m.prototype.save=function(L){L.length&&(this.content.save(L),this.scroll.save(),!this.editor.isCompatibleMode&&this.range.save())},m.prototype.revoke=function(){this.editor.change.disconnect();var L=this.content.revoke();L&&(this.scroll.revoke(),this.editor.isCompatibleMode||(this.range.revoke(),this.editor.$textElem.focus())),this.editor.change.connect(),L&&this.editor.change.emit()},m.prototype.restore=function(){this.editor.change.disconnect();var L=this.content.restore();L&&(this.scroll.restore(),this.editor.isCompatibleMode||(this.range.restore(),this.editor.$textElem.focus())),this.editor.change.connect(),L&&this.editor.change.emit()},m}();c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(429)),y=w.__importDefault(a(433)),x=function(){function A(m){this.editor=m}return A.prototype.observe=function(){this.editor.isCompatibleMode?this.cache=new y.default(this.editor):this.cache=new T.default(this.editor),this.cache.observe()},A.prototype.save=function(m){this.editor.isCompatibleMode?this.cache.save():this.cache.compile(m)},A.prototype.revoke=function(){var m;return(m=this.cache)===null||m===void 0?void 0:m.revoke()},A.prototype.restore=function(){var m;return(m=this.cache)===null||m===void 0?void 0:m.restore()},A}();c.default=x},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(98)),y=w.__importDefault(a(431)),x=a(432),A=function(m){w.__extends(L,m);function L(g){var E=m.call(this,g.config.historyMaxSize)||this;return E.editor=g,E}return L.prototype.observe=function(){this.resetMaxSize(this.editor.config.historyMaxSize)},L.prototype.compile=function(g){return this.save(y.default(g)),this},L.prototype.revoke=function(){return m.prototype.revoke.call(this,function(g){x.revoke(g)})},L.prototype.restore=function(){return m.prototype.restore.call(this,function(g){x.restore(g)})},L}(T.default);c.default=A},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0}),c.CeilStack=void 0;var w=function(){function T(y){y===void 0&&(y=0),this.data=[],this.max=0,this.reset=!1,y=Math.abs(y),y&&(this.max=y)}return T.prototype.resetMax=function(y){y=Math.abs(y),!this.reset&&!isNaN(y)&&(this.max=y,this.reset=!0)},(0,b.default)(T.prototype,"size",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),T.prototype.instack=function(y){return this.data.unshift(y),this.max&&this.size>this.max&&(this.data.length=this.max),this},T.prototype.outstack=function(){return this.data.shift()},T.prototype.clear=function(){return this.data.length=0,this},T}();c.CeilStack=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(27));(0,b.default)(c,"__esModule",{value:!0}),c.compliePosition=c.complieNodes=c.compileValue=c.compileType=void 0;var y=a(6);function x(P){switch(P){case"childList":return"node";case"attributes":return"attr";default:return"text"}}c.compileType=x;function A(P){switch(P.type){case"attributes":return P.target.getAttribute(P.attributeName)||"";case"characterData":return P.target.textContent;default:return""}}c.compileValue=A;function m(P){var S={};return P.addedNodes.length&&(S.add=y.toArray(P.addedNodes)),P.removedNodes.length&&(S.remove=y.toArray(P.removedNodes)),S}c.complieNodes=m;function L(P){var S;return P.previousSibling?S={type:"before",target:P.previousSibling}:P.nextSibling?S={type:"after",target:P.nextSibling}:S={type:"parent",target:P.target},S}c.compliePosition=L;var g=["UL","OL","H1","H2","H3","H4","H5","H6"];function E(P){var S=[],D=!1,I=[];return(0,w.default)(P).call(P,function(f,k){var u={type:x(f.type),target:f.target,attr:f.attributeName||"",value:A(f)||"",oldValue:f.oldValue||"",nodes:m(f),position:L(f)};if(S.push(u),!!y.UA.isFirefox){if(D&&f.addedNodes.length&&f.addedNodes[0].nodeType==1){var H=f.addedNodes[0],O={type:"node",target:H,attr:"",value:"",oldValue:"",nodes:{add:[D]},position:{type:"parent",target:H}};(0,T.default)(g).call(g,H.nodeName)!=-1?(O.nodes.add=y.toArray(H.childNodes),S.push(O)):D.nodeType==3?(C(H,I)&&(O.nodes.add=y.toArray(H.childNodes)),S.push(O)):(0,T.default)(g).call(g,f.target.nodeName)==-1&&C(H,I)&&(O.nodes.add=y.toArray(H.childNodes),S.push(O))}u.type=="node"&&f.removedNodes.length==1?(D=f.removedNodes[0],I.push(D)):(D=!1,I.length=0)}}),S}c.default=E;function C(P,S){for(var D=0,I=S.length-1;I>0&&P.contains(S[I]);I--)D++;return D}},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(4)),T=d(a(94));(0,b.default)(c,"__esModule",{value:!0}),c.restore=c.revoke=void 0;function y(I,f){var k=I.position.target;switch(I.position.type){case"before":k.nextSibling?(k=k.nextSibling,(0,w.default)(f).call(f,function(u){I.target.insertBefore(u,k)})):(0,w.default)(f).call(f,function(u){I.target.appendChild(u)});break;case"after":(0,w.default)(f).call(f,function(u){I.target.insertBefore(u,k)});break;default:(0,w.default)(f).call(f,function(u){k.appendChild(u)});break}}function x(I){for(var f=0,k=(0,T.default)(I.nodes);f<k.length;f++){var u=k[f],H=u[0],O=u[1];switch(H){case"add":(0,w.default)(O).call(O,function(F){I.target.removeChild(F)});break;default:{y(I,O);break}}}}function A(I){var f=I.target;I.oldValue==null?f.removeAttribute(I.attr):f.setAttribute(I.attr,I.oldValue)}function m(I){I.target.textContent=I.oldValue}var L={node:x,text:m,attr:A};function g(I){for(var f=I.length-1;f>-1;f--){var k=I[f];L[k.type](k)}}c.revoke=g;function E(I){for(var f=0,k=(0,T.default)(I.nodes);f<k.length;f++){var u=k[f],H=u[0],O=u[1];switch(H){case"add":{y(I,O);break}default:{(0,w.default)(O).call(O,function(F){F.parentNode.removeChild(F)});break}}}}function C(I){I.target.textContent=I.value}function P(I){I.target.setAttribute(I.attr,I.value)}var S={node:E,text:C,attr:P};function D(I){for(var f=0,k=I;f<k.length;f++){var u=k[f];S[u.type](u)}}c.restore=D},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(434),T=function(){function y(x){this.editor=x,this.data=new w.TailChain}return y.prototype.observe=function(){this.data.resetMax(this.editor.config.historyMaxSize),this.data.insertLast(this.editor.$textElem.html())},y.prototype.save=function(){return this.data.insertLast(this.editor.$textElem.html()),this},y.prototype.revoke=function(){var x=this.data.prev();return x?(this.editor.$textElem.html(x),!0):!1},y.prototype.restore=function(){var x=this.data.next();return x?(this.editor.$textElem.html(x),!0):!1},y}();c.default=T},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(91));(0,b.default)(c,"__esModule",{value:!0}),c.TailChain=void 0;var T=function(){function y(){this.data=[],this.max=0,this.point=0,this.isRe=!1}return y.prototype.resetMax=function(x){x=Math.abs(x),x&&(this.max=x)},(0,b.default)(y.prototype,"size",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),y.prototype.insertLast=function(x){if(this.isRe){var A;(0,w.default)(A=this.data).call(A,this.point+1),this.isRe=!1}for(this.data.push(x);this.max&&this.size>this.max;)this.data.shift();return this.point=this.size-1,this},y.prototype.current=function(){return this.data[this.point]},y.prototype.prev=function(){if(!this.isRe&&(this.isRe=!0),this.point--,this.point<0){this.point=0;return}return this.current()},y.prototype.next=function(){if(!this.isRe&&(this.isRe=!0),this.point++,this.point>=this.size){this.point=this.size-1;return}return this.current()},y}();c.TailChain=T},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(98)),y=function(x){w.__extends(A,x);function A(m){var L=x.call(this,m.config.historyMaxSize)||this;return L.editor=m,L.last=0,L.target=m.$textElem.elems[0],L}return A.prototype.observe=function(){var m=this;this.target=this.editor.$textElem.elems[0],this.editor.$textElem.on("scroll",function(){m.last=m.target.scrollTop}),this.resetMaxSize(this.editor.config.historyMaxSize)},A.prototype.save=function(){return x.prototype.save.call(this,[this.last,this.target.scrollTop]),this},A.prototype.revoke=function(){var m=this;return x.prototype.revoke.call(this,function(L){m.target.scrollTop=L[0]})},A.prototype.restore=function(){var m=this;return x.prototype.restore.call(this,function(L){m.target.scrollTop=L[1]})},A}(T.default);c.default=y},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=a(2),T=w.__importDefault(a(98)),y=w.__importDefault(a(3)),x=a(6);function A(L){return{start:[L.startContainer,L.startOffset],end:[L.endContainer,L.endOffset],root:L.commonAncestorContainer,collapsed:L.collapsed}}var m=function(L){w.__extends(g,L);function g(E){var C=L.call(this,E.config.historyMaxSize)||this;return C.editor=E,C.lastRange=A(document.createRange()),C.root=E.$textElem.elems[0],C.updateLastRange=x.debounce(function(){C.lastRange=A(C.rangeHandle)},E.config.onchangeTimeout),C}return(0,b.default)(g.prototype,"rangeHandle",{get:function(){var C=document.getSelection();return C&&C.rangeCount?C.getRangeAt(0):document.createRange()},enumerable:!1,configurable:!0}),g.prototype.observe=function(){var E=this;this.root=this.editor.$textElem.elems[0],this.resetMaxSize(this.editor.config.historyMaxSize);function C(){var S=E.rangeHandle;(E.root===S.commonAncestorContainer||E.root.contains(S.commonAncestorContainer))&&(E.editor.isComposing||E.updateLastRange())}function P(S){(S.key=="Backspace"||S.key=="Delete")&&E.updateLastRange()}y.default(document).on("selectionchange",C),this.editor.beforeDestroy(function(){y.default(document).off("selectionchange",C)}),E.editor.$textElem.on("keydown",P)},g.prototype.save=function(){var E=A(this.rangeHandle);return L.prototype.save.call(this,[this.lastRange,E]),this.lastRange=E,this},g.prototype.set=function(E){try{if(E){var C=this.rangeHandle;return C.setStart.apply(C,E.start),C.setEnd.apply(C,E.end),this.editor.menus.changeActive(),!0}}catch(P){return!1}return!1},g.prototype.revoke=function(){var E=this;return L.prototype.revoke.call(this,function(C){E.set(C[0])})},g.prototype.restore=function(){var E=this;return L.prototype.restore.call(this,function(C){E.set(C[1])})},g}(T.default);c.default=m},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(31));(0,b.default)(c,"__esModule",{value:!0});var T=a(2),y=T.__importDefault(a(3));a(438);function x(A){var m=!1,L,g;A.txt.eventHooks.changeEvents.push(function(){m&&(0,w.default)(L).call(L,".w-e-content-preview").html(A.$textElem.html())});function E(){if(!m){A.$textElem.hide();var P=A.zIndex.get("textContainer"),S=A.txt.html();L=y.default('<div class="w-e-content-mantle" style="z-index:'+P+'">\n                <div class="w-e-content-preview w-e-text">'+S+"</div>\n            </div>"),A.$textContainerElem.append(L);var D=A.zIndex.get("menu");g=y.default('<div class="w-e-menue-mantle" style="z-index:'+D+'"></div>'),A.$toolbarElem.append(g),m=!0,A.isEnable=!1}}function C(){m&&(L.remove(),g.remove(),A.$textElem.show(),m=!1,A.isEnable=!0)}return{disable:E,enable:C}}c.default=x},function(Z,c,a){var d=a(20),b=a(439);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[Z.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var T=d(b,w);Z.exports=b.locals||{}},function(Z,c,a){var d=a(21);c=d(!1),c.push([Z.i,".w-e-content-mantle {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n}\n.w-e-content-mantle .w-e-content-preview {\n  width: 100%;\n  min-height: 100%;\n  padding: 0 10px;\n  line-height: 1.5;\n}\n.w-e-content-mantle .w-e-content-preview img {\n  cursor: default;\n}\n.w-e-content-mantle .w-e-content-preview img:hover {\n  box-shadow: none;\n}\n.w-e-menue-mantle {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n}\n",""]),Z.exports=c},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0});var w=function(){function T(y){var x=this;this.editor=y;var A=function(){var L=document.activeElement;L===y.$textElem.elems[0]&&x.emit()};window.document.addEventListener("selectionchange",A),this.editor.beforeDestroy(function(){window.document.removeEventListener("selectionchange",A)})}return T.prototype.emit=function(){var y,x=this.editor.config.onSelectionChange;if(x){var A=this.editor.selection;A.saveRange(),A.isSelectionEmpty()||x({text:A.getSelectionText(),html:(y=A.getSelectionContainerElem())===null||y===void 0?void 0:y.elems[0].innerHTML,selection:A})}},T}();c.default=w},function(Z,c,a){"use strict";var d=a(0),b=d(a(1)),w=d(a(127)),T=d(a(94)),y=d(a(4));(0,b.default)(c,"__esModule",{value:!0}),c.registerPlugin=void 0;var x=a(2),A=x.__importDefault(a(87)),m=a(6);function L(E,C,P){if(!E)throw new TypeError("name is not define");if(!C)throw new TypeError("options is not define");if(!C.intention)throw new TypeError("options.intention is not define");if(C.intention&&typeof C.intention!="function")throw new TypeError("options.intention is not function");P[E]&&console.warn("plugin "+E+" \u5DF2\u5B58\u5728\uFF0C\u5DF2\u8986\u76D6\u3002"),P[E]=C}c.registerPlugin=L;function g(E){var C=(0,w.default)({},m.deepClone(A.default.globalPluginsFunctionList),m.deepClone(E.pluginsFunctionList)),P=(0,T.default)(C);(0,y.default)(P).call(P,function(S){var D=S[0],I=S[1];console.info("plugin "+D+" initializing");var f=I.intention,k=I.config;f(E,k),console.info("plugin "+D+" initialization complete")})}c.default=g},function(Z,c,a){"use strict";var d=a(0),b=d(a(1));(0,b.default)(c,"__esModule",{value:!0})}]).default})},7145:function(ce,Z,c){var a=c(66266),d=c(42584),b=c(62681);function w(y,x){var A=new b(x);return A.process(y)}Z=ce.exports=w,Z.filterXSS=w,Z.FilterXSS=b,function(){for(var y in a)Z[y]=a[y];for(var x in d)Z[x]=d[x]}(),typeof window<"u"&&(window.filterXSS=ce.exports);function T(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}T()&&(self.filterXSS=ce.exports)},84515:function(ce){"use strict";ce.exports=canvg},29750:function(ce){"use strict";ce.exports=dompurify},75177:function(ce){"use strict";ce.exports=html2canvas}},Zl={};function Dt(ce){var Z=Zl[ce];if(Z!==void 0)return Z.exports;var c=Zl[ce]={id:ce,loaded:!1,exports:{}};return kl[ce].call(c.exports,c,c.exports,Dt),c.loaded=!0,c.exports}Dt.m=kl,function(){Dt.amdO={}}(),function(){var ce=[];Dt.O=function(Z,c,a,d){if(c){d=d||0;for(var b=ce.length;b>0&&ce[b-1][2]>d;b--)ce[b]=ce[b-1];ce[b]=[c,a,d];return}for(var w=1/0,b=0;b<ce.length;b++){for(var c=ce[b][0],a=ce[b][1],d=ce[b][2],T=!0,y=0;y<c.length;y++)(d&!1||w>=d)&&Object.keys(Dt.O).every(function(E){return Dt.O[E](c[y])})?c.splice(y--,1):(T=!1,d<w&&(w=d));if(T){ce.splice(b--,1);var x=a();x!==void 0&&(Z=x)}}return Z}}(),function(){Dt.n=function(ce){var Z=ce&&ce.__esModule?function(){return ce.default}:function(){return ce};return Dt.d(Z,{a:Z}),Z}}(),function(){var ce=Object.getPrototypeOf?function(c){return Object.getPrototypeOf(c)}:function(c){return c.__proto__},Z;Dt.t=function(c,a){if(a&1&&(c=this(c)),a&8||typeof c=="object"&&c&&(a&4&&c.__esModule||a&16&&typeof c.then=="function"))return c;var d=Object.create(null);Dt.r(d);var b={};Z=Z||[null,ce({}),ce([]),ce(ce)];for(var w=a&2&&c;typeof w=="object"&&!~Z.indexOf(w);w=ce(w))Object.getOwnPropertyNames(w).forEach(function(T){return b[T]=function(){return c[T]}});return b.default=function(){return c},Dt.d(d,b),d}}(),function(){Dt.d=function(ce,Z){for(var c in Z)Dt.o(Z,c)&&!Dt.o(ce,c)&&Object.defineProperty(ce,c,{enumerable:!0,get:Z[c]})}}(),function(){Dt.f={},Dt.e=function(ce){return Promise.all(Object.keys(Dt.f).reduce(function(Z,c){return Dt.f[c](ce,Z),Z},[]))}}(),function(){Dt.u=function(ce){return""+ce+"-"+{164:"b758c9154cb1d1544aa8",848:"08c744ca7585264bdf89",856:"b6e97cf7b3eb6c00dc83"}[ce]+".js"}}(),function(){Dt.miniCssF=function(ce){}}(),function(){Dt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(ce){if(typeof window=="object")return window}}()}(),function(){Dt.hmd=function(ce){return ce=Object.create(ce),ce.children||(ce.children=[]),Object.defineProperty(ce,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+ce.id)}}),ce}}(),function(){Dt.o=function(ce,Z){return Object.prototype.hasOwnProperty.call(ce,Z)}}(),function(){var ce={},Z="@mb2023/mb-workspace:";Dt.l=function(c,a,d,b){if(ce[c]){ce[c].push(a);return}var w,T;if(d!==void 0)for(var y=document.getElementsByTagName("script"),x=0;x<y.length;x++){var A=y[x];if(A.getAttribute("src")==c||A.getAttribute("data-webpack")==Z+d){w=A;break}}w||(T=!0,w=document.createElement("script"),w.charset="utf-8",w.timeout=120,Dt.nc&&w.setAttribute("nonce",Dt.nc),w.setAttribute("data-webpack",Z+d),w.src=c),ce[c]=[a];var m=function(g,E){w.onerror=w.onload=null,clearTimeout(L);var C=ce[c];if(delete ce[c],w.parentNode&&w.parentNode.removeChild(w),C&&C.forEach(function(P){return P(E)}),g)return g(E)},L=setTimeout(m.bind(null,void 0,{type:"timeout",target:w}),12e4);w.onerror=m.bind(null,w.onerror),w.onload=m.bind(null,w.onload),T&&document.head.appendChild(w)}}(),function(){Dt.r=function(ce){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ce,"__esModule",{value:!0})}}(),function(){Dt.nmd=function(ce){return ce.paths=[],ce.children||(ce.children=[]),ce}}(),function(){Dt.j=96}(),function(){Dt.p="/mb-workspace/"}(),function(){var ce={96:0};Dt.f.j=function(a,d){var b=Dt.o(ce,a)?ce[a]:void 0;if(b!==0)if(b)d.push(b[2]);else{var w=new Promise(function(A,m){return b=ce[a]=[A,m]});d.push(b[2]=w);var T=Dt.p+Dt.u(a),y=new Error,x=function(A){if(Dt.o(ce,a)&&(b=ce[a],b!==0&&(ce[a]=void 0),b)){var m=A&&(A.type==="load"?"missing":A.type),L=A&&A.target&&A.target.src;y.message="Loading chunk "+a+" failed.\n("+m+": "+L+")",y.name="ChunkLoadError",y.type=m,y.request=L,b[1](y)}};Dt.l(T,x,"chunk-"+a,a)}},Dt.O.j=function(a){return ce[a]===0};var Z=function(a,d){var b=d[0],w=d[1],T=d[2],y,x,A=0;if(b.some(function(L){return ce[L]!==0})){for(y in w)Dt.o(w,y)&&(Dt.m[y]=w[y]);if(T)var m=T(Dt)}for(a&&a(d);A<b.length;A++)x=b[A],Dt.o(ce,x)&&ce[x]&&ce[x][0](),ce[x]=0;return Dt.O(m)},c=self.webpackChunk_mb2023_mb_workspace=self.webpackChunk_mb2023_mb_workspace||[];c.forEach(Z.bind(null,0)),c.push=Z.bind(null,c.push.bind(c))}(),function(){Dt.nc=void 0}(),Dt.O(void 0,[736],function(){return Dt(76557)}),Dt.O(void 0,[736],function(){return Dt(10477)}),Dt.O(void 0,[736],function(){return Dt(62669)}),Dt.O(void 0,[736],function(){return Dt(12403)});var Bl=Dt.O(void 0,[736],function(){return Dt(72413)});Bl=Dt.O(Bl)})();

//# sourceMappingURL=preview-html-zip-f97593419cae4c4e6e6d.js.map